!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=Z.type(e);return"function"!==n&&!Z.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return V.call(t,e)>=0!==n})}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=fe[e]={};return Z.each(e.match(me)||[],function(e,n){t[n]=!0}),t}function r(){J.removeEventListener("DOMContentLoaded",r,!1),e.removeEventListener("load",r,!1),Z.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+s.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(we,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ye.test(n)?Z.parseJSON(n):n)}catch(e){}be.set(e,t,n)}else n=void 0;return n}function c(){return!0}function d(){return!1}function u(){try{return J.activeElement}catch(e){}}function p(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function f(e){var t=Ne.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function h(e,t){for(var n=0,i=e.length;i>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,i,a,o,r,s,l,c;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),r=ve.set(t,o),c=o.events)){delete r.handle,r.events={};for(a in c)for(n=0,i=c[a].length;i>n;n++)Z.event.add(t,a,c[a][n])}be.hasData(e)&&(s=be.access(e),l=Z.extend({},s),be.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function b(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(t,n){var i,a=Z(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(a[0]))?i.display:Z.css(a[0],"display");return a.detach(),o}function w(e){var t=J,n=je[e];return n||(n=y(e,t),"none"!==n&&n||(Be=(Be||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Be[0].contentDocument,t.write(),t.close(),n=y(e,t),Be.detach()),je[e]=n),n}function x(e,t,n){var i,a,o,r,s=e.style;return n=n||He(e),n&&(r=n.getPropertyValue(t)||n[t]),n&&(""!==r||Z.contains(e.ownerDocument,e)||(r=Z.style(e,t)),Ue.test(r)&&ze.test(t)&&(i=s.width,a=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=i,s.minWidth=a,s.maxWidth=o)),void 0!==r?r+"":r}function _(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function $(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,a=Ke.length;a--;)if(t=Ke[a]+n,t in e)return t;return i}function k(e,t,n){var i=qe.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function S(e,t,n,i,a){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,r=0;4>o;o+=2)"margin"===n&&(r+=Z.css(e,n+_e[o],!0,a)),i?("content"===n&&(r-=Z.css(e,"padding"+_e[o],!0,a)),"margin"!==n&&(r-=Z.css(e,"border"+_e[o]+"Width",!0,a))):(r+=Z.css(e,"padding"+_e[o],!0,a),"padding"!==n&&(r+=Z.css(e,"border"+_e[o]+"Width",!0,a)));return r}function C(e,t,n){var i=!0,a="width"===t?e.offsetWidth:e.offsetHeight,o=He(e),r="border-box"===Z.css(e,"boxSizing",!1,o);if(0>=a||null==a){if(a=x(e,t,o),(0>a||null==a)&&(a=e.style[t]),Ue.test(a))return a;i=r&&(X.boxSizingReliable()||a===e.style[t]),a=parseFloat(a)||0}return a+S(e,t,n||(r?"border":"content"),i,o)+"px"}function D(e,t){for(var n,i,a,o=[],r=0,s=e.length;s>r;r++)i=e[r],i.style&&(o[r]=ve.get(i,"olddisplay"),n=i.style.display,t?(o[r]||"none"!==n||(i.style.display=""),""===i.style.display&&$e(i)&&(o[r]=ve.access(i,"olddisplay",w(i.nodeName)))):(a=$e(i),"none"===n&&a||ve.set(i,"olddisplay",a?n:Z.css(i,"display"))));for(r=0;s>r;r++)i=e[r],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[r]||"":"none"));return e}function T(e,t,n,i,a){return new T.prototype.init(e,t,n,i,a)}function E(){return setTimeout(function(){Xe=void 0}),Xe=Z.now()}function I(e,t){var n,i=0,a={height:e};for(t=t?1:0;4>i;i+=2-t)n=_e[i],a["margin"+n]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function M(e,t,n){for(var i,a=(nt[t]||[]).concat(nt["*"]),o=0,r=a.length;r>o;o++)if(i=a[o].call(n,t,e))return i}function A(e,t,n){var i,a,o,r,s,l,c,d,u=this,p={},m=e.style,f=e.nodeType&&$e(e),h=ve.get(e,"fxshow");n.queue||(s=Z._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,Z.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],c=Z.css(e,"display"),d="none"===c?ve.get(e,"olddisplay")||w(e.nodeName):c,"inline"===d&&"none"===Z.css(e,"float")&&(m.display="inline-block")),n.overflow&&(m.overflow="hidden",u.always(function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Qe.exec(a)){if(delete t[i],o=o||"toggle"===a,a===(f?"hide":"show")){if("show"!==a||!h||void 0===h[i])continue;f=!0}p[i]=h&&h[i]||Z.style(e,i)}else c=void 0;if(Z.isEmptyObject(p))"inline"===("none"===c?w(e.nodeName):c)&&(m.display=c);else{h?"hidden"in h&&(f=h.hidden):h=ve.access(e,"fxshow",{}),o&&(h.hidden=!f),f?Z(e).show():u.done(function(){Z(e).hide()}),u.done(function(){var t;ve.remove(e,"fxshow");for(t in p)Z.style(e,t,p[t])});for(i in p)r=M(f?h[i]:0,i,u),i in h||(h[i]=r.start,f&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}}function O(e,t){var n,i,a,o,r;for(n in e)if(i=Z.camelCase(n),a=t[i],o=e[n],Z.isArray(o)&&(a=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),r=Z.cssHooks[i],r&&"expand"in r){o=r.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=a)}else t[i]=a}function P(e,t,n){var i,a,o=0,r=tt.length,s=Z.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=Xe||E(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xe||E(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Z.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(a)return this;for(a=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for(O(d,c.opts.specialEasing);r>o;o++)if(i=tt[o].call(c,e,d,c.opts))return i;return Z.map(d,M,c),Z.isFunction(c.opts.start)&&c.opts.start.call(e,c),Z.fx.timer(Z.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,a=0,o=t.toLowerCase().match(me)||[];if(Z.isFunction(n))for(;i=o[a++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function N(e,t,n,i){function a(s){var l;return o[s]=!0,Z.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}var o={},r=e===yt;return a(t.dataTypes[0])||!o["*"]&&a("*")}function R(e,t){var n,i,a=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((a[n]?e:i||(i={}))[n]=t[n]);return i&&Z.extend(!0,e,i),e}function L(e,t,n){for(var i,a,o,r,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function B(e,t,n,i){var a,o,r,s,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(r=c[l+" "+o]||c["* "+o],!r)for(a in c)if(s=a.split(" "),s[1]===o&&(r=c[l+" "+s[0]]||c["* "+s[0]])){r===!0?r=c[a]:c[a]!==!0&&(o=s[0],d.unshift(s[1]));break}if(r!==!0)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function j(e,t,n,i){var a;if(Z.isArray(t))Z.each(t,function(t,a){n||kt.test(e)?i(e,a):j(e+"["+("object"==typeof a?t:"")+"]",a,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(a in t)j(e+"["+a+"]",t[a],n,i)}function z(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var U=[],H=U.slice,W=U.concat,q=U.push,V=U.indexOf,Y={},G=Y.toString,K=Y.hasOwnProperty,X={},J=e.document,Q="2.1.3",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ie=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return H.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:H.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:q,sort:U.sort,splice:U.splice},Z.extend=Z.fn.extend=function(){var e,t,n,i,a,o,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"==typeof r||Z.isFunction(r)||(r={}),s===l&&(r=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=r[t],i=e[t],r!==i&&(c&&i&&(Z.isPlainObject(i)||(a=Z.isArray(i)))?(a?(a=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},r[t]=Z.extend(c,o,i)):void 0!==i&&(r[t]=i));return r},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===Z.type(e)&&!e.nodeType&&!Z.isWindow(e)&&!(e.constructor&&!K.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ie)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var a,o=0,r=e.length,s=n(e);if(i){if(s)for(;r>o&&(a=t.apply(e[o],i),a!==!1);o++);else for(o in e)if(a=t.apply(e[o],i),a===!1)break}else if(s)for(;r>o&&(a=t.call(e[o],o,e[o]),a!==!1);o++);else for(o in e)if(a=t.call(e[o],o,e[o]),a===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?Z.merge(i,"string"==typeof e?[e]:e):q.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:V.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,a=e.length;n>i;i++)e[a++]=t[i];return e.length=a,e},grep:function(e,t,n){for(var i,a=[],o=0,r=e.length,s=!n;r>o;o++)i=!t(e[o],o),i!==s&&a.push(e[o]);return a},map:function(e,t,i){var a,o=0,r=e.length,s=n(e),l=[];if(s)for(;r>o;o++)a=t(e[o],o,i),null!=a&&l.push(a);else for(o in e)a=t(e[o],o,i),null!=a&&l.push(a);return W.apply([],l)},guid:1,proxy:function(e,t){var n,i,a;return"string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e)?(i=H.call(arguments,2),a=function(){return e.apply(t||this,i.concat(H.call(arguments)))},a.guid=e.guid=e.guid||Z.guid++,a):void 0},now:Date.now,support:X}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()});var ae=function(e){function t(e,t,n,i){var a,o,r,s,l,c,u,m,f,h;if((t?t.ownerDocument||t:j)!==A&&M(t),t=t||A,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&P){if(11!==s&&(a=be.exec(e)))if(r=a[1]){if(9===s){if(o=t.getElementById(r),!o||!o.parentNode)return n;if(o.id===r)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(r))&&L(t,o)&&o.id===r)return n.push(o),n}else{if(a[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((r=a[3])&&x.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(r)),n}if(x.qsa&&(!F||!F.test(e))){if(m=u=B,f=t,h=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(u=t.getAttribute("id"))?m=u.replace(we,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",l=c.length;l--;)c[l]=m+p(c[l]);f=ye.test(e)&&d(t.parentNode)||t,h=c.join(",")}if(h)try{return Q.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return D(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function a(e){var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)_.attrHandle[n[i]]=t}function r(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var a,o=e([],n.length,t),r=o.length;r--;)n[a=o[r]]&&(n[a]=!(i[a]=n[a]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function m(e,t,n){var i=t.dir,a=n&&"parentNode"===i,o=U++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,o)}:function(t,n,r){var s,l,c=[z,o];if(r){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,r))return!0}else for(;t=t[i];)if(1===t.nodeType||a){if(l=t[B]||(t[B]={}),(s=l[i])&&s[0]===z&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,r))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var a=e.length;a--;)if(!e[a](t,n,i))return!1;return!0}:e[0]}function h(e,n,i){for(var a=0,o=n.length;o>a;a++)t(e,n[a],i);return i}function g(e,t,n,i,a){for(var o,r=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,a))&&(r.push(o),c&&t.push(s));return r}function v(e,t,n,a,o,r){return a&&!a[B]&&(a=v(a)),o&&!o[B]&&(o=v(o,r)),i(function(i,r,s,l){var c,d,u,p=[],m=[],f=r.length,v=i||h(t||"*",s.nodeType?[s]:s,[]),b=!e||!i&&t?v:g(v,p,e,s,l),y=n?o||(i?e:f||a)?[]:r:b;if(n&&n(b,y,s,l),a)for(c=g(y,m),a(c,[],s,l),d=c.length;d--;)(u=c[d])&&(y[m[d]]=!(b[m[d]]=u));if(i){if(o||e){if(o){for(c=[],d=y.length;d--;)(u=y[d])&&c.push(b[d]=u);o(null,y=[],c,l)}for(d=y.length;d--;)(u=y[d])&&(c=o?ee(i,u):p[d])>-1&&(i[c]=!(r[c]=u))}}else y=g(y===r?y.splice(f,y.length):y),o?o(null,r,y,l):Q.apply(r,y)})}function b(e){for(var t,n,i,a=e.length,o=_.relative[e[0].type],r=o||_.relative[" "],s=o?1:0,l=m(function(e){return e===t},r,!0),c=m(function(e){return ee(t,e)>-1},r,!0),d=[function(e,n,i){var a=!o&&(i||n!==T)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,a}];a>s;s++)if(n=_.relative[e[s].type])d=[m(f(d),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[B]){for(i=++s;a>i&&!_.relative[e[i].type];i++);return v(s>1&&f(d),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&b(e.slice(s,i)),a>i&&b(e=e.slice(i)),a>i&&p(e))}d.push(n)}return f(d)}function y(e,n){var a=n.length>0,o=e.length>0,r=function(i,r,s,l,c){var d,u,p,m=0,f="0",h=i&&[],v=[],b=T,y=i||o&&_.find.TAG("*",c),w=z+=null==b?1:Math.random()||.1,x=y.length;for(c&&(T=r!==A&&r);f!==x&&null!=(d=y[f]);f++){if(o&&d){for(u=0;p=e[u++];)if(p(d,r,s)){l.push(d);break}c&&(z=w)}a&&((d=!p&&d)&&m--,i&&h.push(d))}if(m+=f,a&&f!==m){for(u=0;p=n[u++];)p(h,v,r,s);if(i){if(m>0)for(;f--;)h[f]||v[f]||(v[f]=X.call(l));v=g(v)}Q.apply(l,v),c&&!i&&v.length>0&&m+n.length>1&&t.uniqueSort(l)}return c&&(z=w,T=b),h};return a?i(r):r}var w,x,_,$,k,S,C,D,T,E,I,M,A,O,P,F,N,R,L,B="sizzle"+1*new Date,j=e.document,z=0,U=0,H=n(),W=n(),q=n(),V=function(e,t){return e===t&&(I=!0),0},Y=1<<31,G={}.hasOwnProperty,K=[],X=K.pop,J=K.push,Q=K.push,Z=K.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ae=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ae+"))|)"+ne+"*\\]",re=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),de=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(re),me=new RegExp("^"+ae+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},$e=function(){M()};try{Q.apply(K=Z.call(j.childNodes),j.childNodes),K[j.childNodes.length].nodeType}catch(e){Q={apply:K.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:j;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,O=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",$e,!1):n.attachEvent&&n.attachEvent("onunload",$e)),P=!k(i),x.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=a(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(i.getElementsByClassName),x.getById=a(function(e){return O.appendChild(e).id=B,!i.getElementsByName||!i.getElementsByName(B).length}),x.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(e){var t=e.replace(xe,_e);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(xe,_e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],a=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[a++];)1===n.nodeType&&i.push(n);return i}return o},_.find.CLASS=x.getElementsByClassName&&function(e,t){return P?t.getElementsByClassName(e):void 0},N=[],F=[],(x.qsa=ve.test(i.querySelectorAll))&&(a(function(e){O.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||F.push(".#.+[+~]")}),a(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(x.matchesSelector=ve.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&a(function(e){x.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),N.push("!=",re)}),F=F.length&&new RegExp(F.join("|")),N=N.length&&new RegExp(N.join("|")),t=ve.test(O.compareDocumentPosition),L=t||ve.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return I=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===j&&L(j,e)?-1:t===i||t.ownerDocument===j&&L(j,t)?1:E?ee(E,e)-ee(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return I=!0,0;var n,a=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:E?ee(E,e)-ee(E,t):0;if(o===s)return r(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[a]===c[a];)a++;return a?r(l[a],c[a]):l[a]===j?-1:c[a]===j?1:0},i):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&M(e),n=n.replace(ue,"='$1']"),!(!x.matchesSelector||!P||N&&N.test(n)||F&&F.test(n)))try{var i=R.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&M(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&M(e);var n=_.attrHandle[t.toLowerCase()],i=n&&G.call(_.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==i?i:x.attributes||!P?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,a=0;if(I=!x.detectDuplicates,E=!x.sortStable&&e.slice(0),e.sort(V),I){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return E=null,e},$=t.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=$(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=$(t);return n},_=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(a){var o=t.attr(a,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,a){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===a?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,p,m,f,h=o!==r?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){for(;h;){for(u=t;u=u[h];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=h="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(d=g[B]||(g[B]={}),c=d[e]||[],m=c[0]===z&&c[1],p=c[0]===z&&c[2],u=m&&g.childNodes[m];u=++m&&u&&u[h]||(p=m=0)||f.pop();)if(1===u.nodeType&&++p&&u===t){d[e]=[z,m,p];break}}else if(b&&(c=(t[B]||(t[B]={}))[e])&&c[0]===z)p=c[1];else for(;(u=++m&&u&&u[h]||(p=m=0)||f.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++p||(b&&((u[B]||(u[B]={}))[e]=[z,p]),u!==t)););return p-=a,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(e,n){var a,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(a=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,a=o(e,n),r=a.length;r--;)i=ee(e,a[r]),e[i]=!(t[i]=a[r])}):function(e){return o(e,0,a)}):o}},pseudos:{not:i(function(e){var t=[],n=[],a=C(e.replace(le,"$1"));return a[B]?i(function(e,t,n,i){for(var o,r=a(e,null,i,[]),s=e.length;s--;)(o=r[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,a(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(xe,_e),function(t){return(t.textContent||t.innerText||$(t)).indexOf(e)>-1}}),lang:i(function(e){return me.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,_e).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=l(w);return u.prototype=_.filters=_.pseudos,_.setFilters=new u,S=t.tokenize=function(e,n){var i,a,o,r,s,l,c,d=W[e+" "];if(d)return n?0:d.slice(0);for(s=e,l=[],c=_.preFilter;s;){(!i||(a=ce.exec(s)))&&(a&&(s=s.slice(a[0].length)||s),l.push(o=[])),i=!1,(a=de.exec(s))&&(i=a.shift(),o.push({value:i,type:a[0].replace(le," ")}),s=s.slice(i.length));for(r in _.filter)!(a=fe[r].exec(s))||c[r]&&!(a=c[r](a))||(i=a.shift(),o.push({value:i,type:r,matches:a}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):W(e,l).slice(0)},C=t.compile=function(e,t){var n,i=[],a=[],o=q[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=b(t[n]),o[B]?i.push(o):a.push(o);o=q(e,y(a,i)),o.selector=e}return o},D=t.select=function(e,t,n,i){var a,o,r,s,l,c="function"==typeof e&&e,u=!i&&S(e=c.selector||e);if(n=n||[],1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&x.getById&&9===t.nodeType&&P&&_.relative[o[1].type]){if(t=(_.find.ID(r.matches[0].replace(xe,_e),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(a=fe.needsContext.test(e)?0:o.length;a--&&(r=o[a],!_.relative[s=r.type]);)if((l=_.find[s])&&(i=l(r.matches[0].replace(xe,_e),ye.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(a,1),e=i.length&&p(o),!e)return Q.apply(n,i),n;break}}return(c||C(e,u))(i,t,!P,n,ye.test(e)&&d(t.parentNode)||t),n},x.sortStable=B.split("").sort(V).join("")===B,x.detectDuplicates=!!I,M(),x.sortDetached=a(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);Z.find=ae,Z.expr=ae.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ae.uniqueSort,Z.text=ae.getText,Z.isXMLDoc=ae.isXML,Z.contains=ae.contains;var oe=Z.expr.match.needsContext,re=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Z.find.matchesSelector(i,e)?[i]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,i=[],a=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){
for(t=0;n>t;t++)if(Z.contains(a[t],this))return!0}));for(t=0;n>t;t++)Z.find(e,a[t],i);return i=this.pushStack(n>1?Z.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&oe.test(e)?Z(e):e||[],!1).length}});var le,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,de=Z.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ce.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),re.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=J.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};de.prototype=Z.fn,le=Z(J);var ue=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var i=[],a=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&Z(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,a=this.length,o=[],r=oe.test(e)||"string"!=typeof e?Z(e,t||this.context):0;a>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?V.call(Z(e),this[0]):V.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var a=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(a=Z.filter(i,a)),this.length>1&&(pe[e]||Z.unique(a),ue.test(e)&&a.reverse()),this.pushStack(a)}});var me=/\S+/g,fe={};Z.Callbacks=function(e){e="string"==typeof e?fe[e]||o(e):Z.extend({},e);var t,n,i,a,r,s,l=[],c=!e.once&&[],d=function(o){for(t=e.memory&&o,n=!0,s=a||0,a=0,r=l.length,i=!0;l&&r>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(c?c.length&&d(c.shift()):t?l=[]:u.disable())},u={add:function(){if(l){var n=l.length;!function t(n){Z.each(n,function(n,i){var a=Z.type(i);"function"===a?e.unique&&u.has(i)||l.push(i):i&&i.length&&"string"!==a&&t(i)})}(arguments),i?r=l.length:t&&(a=n,d(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,l,n))>-1;)l.splice(n,1),i&&(r>=n&&r--,s>=n&&s--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||u.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):d(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,o){var r=Z.isFunction(e[t])&&e[t];a[o[1]](function(){var e=r&&r.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},a={};return i.pipe=i.then,Z.each(t,function(e,o){var r=o[2],s=o[3];i[o[1]]=r.add,s&&r.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),a[o[0]]=function(){return a[o[0]+"With"](this===a?i:this,arguments),this},a[o[0]+"With"]=r.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,i,a=0,o=H.call(arguments),r=o.length,s=1!==r||e&&Z.isFunction(e.promise)?r:0,l=1===s?e:Z.Deferred(),c=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?H.call(arguments):a,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(r>1)for(t=new Array(r),n=new Array(r),i=new Array(r);r>a;a++)o[a]&&Z.isFunction(o[a].promise)?o[a].promise().done(c(a,i,o)).fail(l.reject).progress(c(a,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}});var he;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(he.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return he||(he=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",r,!1),e.addEventListener("load",r,!1))),he.promise(t)},Z.ready.promise();var ge=Z.access=function(e,t,n,i,a,o,r){var s=0,l=e.length,c=null==n;if("object"===Z.type(n)){a=!0;for(s in n)Z.access(e,t,s,n[s],!0,o,r)}else if(void 0!==i&&(a=!0,Z.isFunction(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(Z(e),n)})),t))for(;l>s;s++)t(e[s],n,r?i:i.call(e[s],s,t(e[s],n)));return a?e:c?t.call(e):l?t(e[0],n):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Z.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,a=this.key(e),o=this.cache[a];if("string"==typeof t)o[t]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[a],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,a,o=this.key(e),r=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?i=t.concat(t.map(Z.camelCase)):(a=Z.camelCase(t),t in r?i=[t,a]:(i=a,i=i in r?[i]:i.match(me)||[])),n=i.length;for(;n--;)delete r[i[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,be=new s,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;Z.extend({hasData:function(e){return be.hasData(e)||ve.hasData(e)},data:function(e,t,n){return be.access(e,t,n)},removeData:function(e,t){be.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,i,a,o=this[0],r=o&&o.attributes;if(void 0===e){if(this.length&&(a=be.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf("data-")&&(i=Z.camelCase(i.slice(5)),l(o,i,a[i])));ve.set(o,"hasDataAttrs",!0)}return a}return"object"==typeof e?this.each(function(){be.set(this,e)}):ge(this,function(t){var n,i=Z.camelCase(e);if(o&&void 0===t){if(n=be.get(o,e),void 0!==n)return n;if(n=be.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=be.get(this,i);be.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){be.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ve.get(e,t),n&&(!i||Z.isArray(n)?i=ve.access(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,a=n.shift(),o=Z._queueHooks(e,t),r=function(){Z.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),i--),a&&("fx"===t&&n.unshift("inprogress"),delete o.stop,a.call(e,r,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,a=Z.Deferred(),o=this,r=this.length,s=function(){--i||a.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)n=ve.get(o[r],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),a.promise(t)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=["Top","Right","Bottom","Left"],$e=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},ke=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),X.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";X.focusinBubbles="onfocusin"in e;var Ce=/^key/,De=/^(?:mouse|pointer|contextmenu)|click/,Te=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,i,a){var o,r,s,l,c,d,u,p,m,f,h,g=ve.get(e);if(g)for(n.handler&&(o=n,n=o.handler,a=o.selector),n.guid||(n.guid=Z.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(t){return typeof Z!==Se&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(me)||[""],c=t.length;c--;)s=Ee.exec(t[c])||[],m=h=s[1],f=(s[2]||"").split(".").sort(),m&&(u=Z.event.special[m]||{},m=(a?u.delegateType:u.bindType)||m,u=Z.event.special[m]||{},d=Z.extend({type:m,origType:h,data:i,handler:n,guid:n.guid,selector:a,needsContext:a&&Z.expr.match.needsContext.test(a),namespace:f.join(".")},o),(p=l[m])||(p=l[m]=[],p.delegateCount=0,u.setup&&u.setup.call(e,i,f,r)!==!1||e.addEventListener&&e.addEventListener(m,r,!1)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),a?p.splice(p.delegateCount++,0,d):p.push(d),Z.event.global[m]=!0)},remove:function(e,t,n,i,a){var o,r,s,l,c,d,u,p,m,f,h,g=ve.hasData(e)&&ve.get(e);if(g&&(l=g.events)){for(t=(t||"").match(me)||[""],c=t.length;c--;)if(s=Ee.exec(t[c])||[],m=h=s[1],f=(s[2]||"").split(".").sort(),m){for(u=Z.event.special[m]||{},m=(i?u.delegateType:u.bindType)||m,p=l[m]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=p.length;o--;)d=p[o],!a&&h!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(p.splice(o,1),d.selector&&p.delegateCount--,u.remove&&u.remove.call(e,d));r&&!p.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||Z.removeEvent(e,m,g.handle),delete l[m])}else for(m in l)Z.event.remove(e,m+t[c],n,i,!0);Z.isEmptyObject(l)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,i,a){var o,r,s,l,c,d,u,p=[i||J],m=K.call(t,"type")?t.type:t,f=K.call(t,"namespace")?t.namespace.split("."):[];if(r=s=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!Te.test(m+Z.event.triggered)&&(m.indexOf(".")>=0&&(f=m.split("."),m=f.shift(),f.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[Z.expando]?t:new Z.Event(m,"object"==typeof t&&t),t.isTrigger=a?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:Z.makeArray(n,[t]),u=Z.event.special[m]||{},a||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!a&&!u.noBubble&&!Z.isWindow(i)){for(l=u.delegateType||m,Te.test(l+m)||(r=r.parentNode);r;r=r.parentNode)p.push(r),s=r;s===(i.ownerDocument||J)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(r=p[o++])&&!t.isPropagationStopped();)t.type=o>1?l:u.bindType||m,d=(ve.get(r,"events")||{})[t.type]&&ve.get(r,"handle"),d&&d.apply(r,n),d=c&&r[c],d&&d.apply&&Z.acceptData(r)&&(t.result=d.apply(r,n),t.result===!1&&t.preventDefault());return t.type=m,a||t.isDefaultPrevented()||u._default&&u._default.apply(p.pop(),n)!==!1||!Z.acceptData(i)||c&&Z.isFunction(i[m])&&!Z.isWindow(i)&&(s=i[c],s&&(i[c]=null),Z.event.triggered=m,i[m](),Z.event.triggered=void 0,s&&(i[c]=s)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,i,a,o,r=[],s=H.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],c=Z.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(r=Z.event.handlers.call(this,e,l),t=0;(a=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,n=0;(o=a.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((Z.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,a,o,r=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;s>n;n++)o=t[n],a=o.selector+" ",void 0===i[a]&&(i[a]=o.needsContext?Z(a,this).index(l)>=0:Z.find(a,this,null,[l]).length),i[a]&&i.push(o);i.length&&r.push({elem:l,handlers:i})}return s<t.length&&r.push({elem:this,handlers:t.slice(s)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,a,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,i=n.documentElement,a=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i,a=e.type,o=e,r=this.fixHooks[a];for(r||(this.fixHooks[a]=r=De.test(a)?this.mouseHooks:Ce.test(a)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,e=new Z.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),r.filter?r.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==u()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var a=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(a,null,t):Z.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:d):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,a=e.relatedTarget,o=e.handleObj;return(!a||a!==i&&!Z.contains(i,a))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),X.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var i=this.ownerDocument||this,a=ve.access(i,t);a||i.addEventListener(e,n,!0),ve.access(i,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this,a=ve.access(i,t)-1;a?ve.access(i,t,a):(i.removeEventListener(e,n,!0),ve.remove(i,t))}}}),Z.fn.extend({on:function(e,t,n,i,a){var o,r;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(r in e)this.on(r,t,n,e[r],a);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=d;else if(!i)return this;return 1===a&&(o=i,i=function(e){return Z().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Z(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=d),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Z.event.trigger(e,t,n,!0):void 0}});var Ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Me=/<([\w:]+)/,Ae=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^$|\/(?:java|ecma)script/i,Ne=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td,Z.extend({clone:function(e,t,n){var i,a,o,r,s=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(X.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(r=v(s),o=v(e),i=0,a=o.length;a>i;i++)b(o[i],r[i]);if(t)if(n)for(o=o||v(e),r=r||v(s),i=0,a=o.length;a>i;i++)g(o[i],r[i]);else g(e,s);return r=v(s,"script"),r.length>0&&h(r,!l&&v(e,"script")),s},buildFragment:function(e,t,n,i){for(var a,o,r,s,l,c,d=t.createDocumentFragment(),u=[],p=0,m=e.length;m>p;p++)if(a=e[p],a||0===a)if("object"===Z.type(a))Z.merge(u,a.nodeType?[a]:a);else if(Ae.test(a)){for(o=o||d.appendChild(t.createElement("div")),r=(Me.exec(a)||["",""])[1].toLowerCase(),s=Le[r]||Le._default,o.innerHTML=s[1]+a.replace(Ie,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;Z.merge(u,o.childNodes),o=d.firstChild,o.textContent=""}else u.push(t.createTextNode(a));for(d.textContent="",p=0;a=u[p++];)if((!i||-1===Z.inArray(a,i))&&(l=Z.contains(a.ownerDocument,a),o=v(d.appendChild(a),"script"),l&&h(o),n))for(c=0;a=o[c++];)Fe.test(a.type||"")&&n.push(a);return d},cleanData:function(e){for(var t,n,i,a,o=Z.event.special,r=0;void 0!==(n=e[r]);r++){if(Z.acceptData(n)&&(a=n[ve.expando],a&&(t=ve.cache[a]))){if(t.events)for(i in t.events)o[i]?Z.event.remove(n,i):Z.removeEvent(n,i,t.handle);ve.cache[a]&&delete ve.cache[a]}delete be.cache[n[be.expando]]}}}),Z.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?Z.filter(e,this):this,a=0;null!=(n=i[a]);a++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&h(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!Le[(Me.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ie,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=W.apply([],e);var n,i,a,o,r,s,l=0,c=this.length,d=this,u=c-1,p=e[0],h=Z.isFunction(p);if(h||c>1&&"string"==typeof p&&!X.checkClone&&Pe.test(p))return this.each(function(n){var i=d.eq(n);h&&(e[0]=p.call(this,n,i.html())),i.domManip(e,t)});if(c&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(a=Z.map(v(n,"script"),m),o=a.length;c>l;l++)r=n,l!==u&&(r=Z.clone(r,!0,!0),o&&Z.merge(a,v(r,"script"))),t.call(this[l],r,l);if(o)for(s=a[a.length-1].ownerDocument,Z.map(a,f),l=0;o>l;l++)r=a[l],Fe.test(r.type||"")&&!ve.access(r,"globalEval")&&Z.contains(s,r)&&(r.src?Z._evalUrl&&Z._evalUrl(r.src):Z.globalEval(r.textContent.replace(Re,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,i=[],a=Z(e),o=a.length-1,r=0;o>=r;r++)n=r===o?this:this.clone(!0),Z(a[r])[t](n),q.apply(i,n.get());return this.pushStack(i)}});var Be,je={},ze=/^margin/,Ue=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),He=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r.innerHTML="",a.appendChild(o);var t=e.getComputedStyle(r,null);n="1%"!==t.top,i="4px"===t.width,a.removeChild(o)}var n,i,a=J.documentElement,o=J.createElement("div"),r=J.createElement("div");r.style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===r.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(r),e.getComputedStyle&&Z.extend(X,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=r.appendChild(J.createElement("div"));return n.style.cssText=r.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",r.style.width="1px",a.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),a.removeChild(o),r.removeChild(n),t}}))}(),Z.swap=function(e,t,n,i){var a,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];a=n.apply(e,i||[]);for(o in t)e.style[o]=r[o];return a};var We=/^(none|table(?!-c[ea]).+)/,qe=new RegExp("^("+xe+")(.*)$","i"),Ve=new RegExp("^([+-])=("+xe+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=x(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,r,s=Z.camelCase(t),l=e.style;return t=Z.cssProps[s]||(Z.cssProps[s]=$(l,s)),r=Z.cssHooks[t]||Z.cssHooks[s],void 0===n?r&&"get"in r&&void 0!==(a=r.get(e,!1,i))?a:l[t]:(o=typeof n,"string"===o&&(a=Ve.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(Z.css(e,t)),o="number"),void(null!=n&&n===n&&("number"!==o||Z.cssNumber[s]||(n+="px"),X.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),r&&"set"in r&&void 0===(n=r.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var a,o,r,s=Z.camelCase(t);return t=Z.cssProps[s]||(Z.cssProps[s]=$(e.style,s)),r=Z.cssHooks[t]||Z.cssHooks[s],r&&"get"in r&&(a=r.get(e,!0,n)),void 0===a&&(a=x(e,t,i)),"normal"===a&&t in Ge&&(a=Ge[t]),""===n||n?(o=parseFloat(a),n===!0||Z.isNumeric(o)?o||0:a):a}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?We.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Ye,function(){return C(e,t,i)}):C(e,t,i):void 0},set:function(e,n,i){var a=i&&He(e);return k(e,n,i?S(e,t,i,"border-box"===Z.css(e,"boxSizing",!1,a),a):0)}}}),Z.cssHooks.marginRight=_(X.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},x,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var i=0,a={},o="string"==typeof n?n.split(" "):[n];4>i;i++)a[e+_e[i]+t]=o[i]||o[i-2]||o[0];return a}},ze.test(e)||(Z.cssHooks[e+t].set=k)}),Z.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var i,a,o={},r=0;if(Z.isArray(t)){for(i=He(e),a=t.length;a>r;r++)o[t[r]]=Z.css(e,t[r],!1,i);return o}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){$e(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=T,T.prototype={constructor:T,init:function(e,t,n,i,a,o){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=T.propHooks[this.prop];return e&&e.get?e.get(this):T.propHooks._default.get(this)},run:function(e){var t,n=T.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=T.prototype.init,Z.fx.step={};var Xe,Je,Qe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[A],nt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),a=Ze.exec(t),o=a&&a[3]||(Z.cssNumber[e]?"":"px"),r=(Z.cssNumber[e]||"px"!==o&&+i)&&Ze.exec(Z.css(n.elem,e)),s=1,l=20;if(r&&r[3]!==o){o=o||r[3],a=a||[],r=+i||1;do s=s||".5",r/=s,Z.style(n.elem,e,r+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return a&&(r=n.start=+r||+i||0,n.unit=o,n.end=a[1]?r+(a[1]+1)*a[2]:+a[2]),n}]};Z.Animation=Z.extend(P,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,a=e.length;a>i;i++)n=e[i],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter($e).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var a=Z.isEmptyObject(e),o=Z.speed(t,n,i),r=function(){var t=P(this,Z.extend({},e),o);(a||ve.get(this,"finish"))&&t.stop(!0)};return r.finish=r,a||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,a=null!=e&&e+"queueHooks",o=Z.timers,r=ve.get(this);if(a)r[a]&&r[a].stop&&i(r[a]);else for(a in r)r[a]&&r[a].stop&&et.test(a)&&i(r[a]);for(a=o.length;a--;)o[a].elem!==this||null!=e&&o[a].queue!==e||(o[a].anim.stop(n),t=!1,o.splice(a,1));(t||!n)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),i=n[e+"queue"],a=n[e+"queueHooks"],o=Z.timers,r=i?i.length:0;for(n.finish=!0,Z.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),
o.splice(t,1));for(t=0;r>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,i,a){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(I(t,!0),e,i,a)}}),Z.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Xe=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Xe=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Je||(Je=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Je),Je=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",X.checkOn=""!==e.value,X.optSelected=n.selected,t.disabled=!0,X.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",X.radioValue="t"===e.value}();var it,at,ot=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return ge(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var i,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Se?Z.prop(e,t,n):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),i=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?at:it)),void 0===n?i&&"get"in i&&null!==(a=i.get(e,t))?a:(a=Z.find.attr(e,t),null==a?void 0:a):null!==n?i&&"set"in i&&void 0!==(a=i.set(e,n,t))?a:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,i,a=0,o=t&&t.match(me);if(o&&1===e.nodeType)for(;n=o[a++];)i=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!X.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),at={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Z.find.attr;ot[t]=function(e,t,i){var a,o;return i||(o=ot[t],ot[t]=a,a=null!=n(e,t,i)?t.toLowerCase():null,ot[t]=o),a}});var rt=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return ge(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,a,o,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return o=1!==r||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,a=Z.propHooks[t]),void 0!==n?a&&"set"in a&&void 0!==(i=a.set(e,n,t))?i:e[t]=n:a&&"get"in a&&null!==(i=a.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rt.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),X.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,i,a,o,r,s="string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(me)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;a=t[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r=Z.trim(i),n.className!==r&&(n.className=r)}return this},removeClass:function(e){var t,n,i,a,o,r,s=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(me)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;a=t[o++];)for(;i.indexOf(" "+a+" ")>=0;)i=i.replace(" "+a+" "," ");r=e?Z.trim(i):"",n.className!==r&&(n.className=r)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,a=Z(this),o=e.match(me)||[];t=o[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else(n===Se||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;Z.fn.extend({val:function(e){var t,n,i,a=this[0];return arguments.length?(i=Z.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(a=i?e.call(this,n,Z(this).val()):e,null==a?a="":"number"==typeof a?a+="":Z.isArray(a)&&(a=Z.map(a,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,a,"value")||(this.value=a))})):a?(t=Z.valHooks[a.type]||Z.valHooks[a.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(a,"value"))?n:(n=a.value,"string"==typeof n?n.replace(lt,""):null==n?"":n)):void 0}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,i=e.options,a=e.selectedIndex,o="select-one"===e.type||0>a,r=o?null:[],s=o?a+1:i.length,l=0>a?s:o?a:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==a||(X.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var n,i,a=e.options,o=Z.makeArray(t),r=a.length;r--;)i=a[r],(i.selected=Z.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},X.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ct=Z.now(),dt=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var ut=/#.*$/,pt=/([?&])_=[^&]*/,mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ht=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bt={},yt={},wt="*/".concat("*"),xt=e.location.href,_t=vt.exec(xt.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt,type:"GET",isLocal:ft.test(_t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Z.ajaxSettings),t):R(Z.ajaxSettings,e)},ajaxPrefilter:F(bt),ajaxTransport:F(yt),ajax:function(e,t){function n(e,t,n,r){var l,d,v,b,w,_=t;2!==y&&(y=2,s&&clearTimeout(s),i=void 0,o=r||"",x.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(b=L(u,x,n)),b=B(u,b,x,l),l?(u.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(Z.lastModified[a]=w),w=x.getResponseHeader("etag"),w&&(Z.etag[a]=w)),204===e||"HEAD"===u.type?_="nocontent":304===e?_="notmodified":(_=b.state,d=b.data,v=b.error,l=!v)):(v=_,(e||!_)&&(_="error",0>e&&(e=0))),x.status=e,x.statusText=(t||_)+"",l?f.resolveWith(p,[d,_,x]):f.rejectWith(p,[x,_,v]),x.statusCode(g),g=void 0,c&&m.trigger(l?"ajaxSuccess":"ajaxError",[x,u,l?d:v]),h.fireWith(p,[x,_]),c&&(m.trigger("ajaxComplete",[x,u]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,a,o,r,s,l,c,d,u=Z.ajaxSetup({},t),p=u.context||u,m=u.context&&(p.nodeType||p.jquery)?Z(p):Z.event,f=Z.Deferred(),h=Z.Callbacks("once memory"),g=u.statusCode||{},v={},b={},y=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!r)for(r={};t=mt.exec(o);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),n(0,t),this}};if(f.promise(x).complete=h.add,x.success=x.done,x.error=x.fail,u.url=((e||u.url||xt)+"").replace(ut,"").replace(gt,_t[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=Z.trim(u.dataType||"*").toLowerCase().match(me)||[""],null==u.crossDomain&&(l=vt.exec(u.url.toLowerCase()),u.crossDomain=!(!l||l[1]===_t[1]&&l[2]===_t[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(_t[3]||("http:"===_t[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=Z.param(u.data,u.traditional)),N(bt,u,t,x),2===y)return x;c=Z.event&&u.global,c&&0===Z.active++&&Z.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!ht.test(u.type),a=u.url,u.hasContent||(u.data&&(a=u.url+=(dt.test(a)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=pt.test(a)?a.replace(pt,"$1_="+ct++):a+(dt.test(a)?"&":"?")+"_="+ct++)),u.ifModified&&(Z.lastModified[a]&&x.setRequestHeader("If-Modified-Since",Z.lastModified[a]),Z.etag[a]&&x.setRequestHeader("If-None-Match",Z.etag[a])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",u.contentType),x.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+wt+"; q=0.01":""):u.accepts["*"]);for(d in u.headers)x.setRequestHeader(d,u.headers[d]);if(u.beforeSend&&(u.beforeSend.call(p,x,u)===!1||2===y))return x.abort();w="abort";for(d in{success:1,error:1,complete:1})x[d](u[d]);if(i=N(yt,u,t,x)){x.readyState=1,c&&m.trigger("ajaxSend",[x,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},u.timeout));try{y=1,i.send(v,n)}catch(e){if(!(2>y))throw e;n(-1,e)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,i,a){return Z.isFunction(n)&&(a=a||i,i=n,n=void 0),Z.ajax({url:e,type:t,dataType:a,data:n,success:i})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var $t=/%20/g,kt=/\[\]$/,St=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,i=[],a=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){a(this.name,this.value)});else for(n in e)j(n,e[n],t,a);return i.join("&").replace($t,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Dt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Tt=0,Et={},It={0:200,1223:204},Mt=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Et)Et[e]()}),X.cors=!!Mt&&"withCredentials"in Mt,X.ajax=Mt=!!Mt,Z.ajaxTransport(function(e){var t;return X.cors||Mt&&!e.crossDomain?{send:function(n,i){var a,o=e.xhr(),r=++Tt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)o[a]=e.xhrFields[a];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)o.setRequestHeader(a,n[a]);t=function(e){return function(){t&&(delete Et[r],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(It[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Et[r]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,a){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var At=[],Ot=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=At.pop()||Z.expando+"_"+ct++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,i){var a,o,r,s=t.jsonp!==!1&&(Ot.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(a=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ot,"$1"+a):t.jsonp!==!1&&(t.url+=(dt.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return r||Z.error(a+" was not called"),r[0]},t.dataTypes[0]="json",o=e[a],e[a]=function(){r=arguments},i.always(function(){e[a]=o,t[a]&&(t.jsonpCallback=n.jsonpCallback,At.push(a)),r&&Z.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var i=re.exec(e),a=!n&&[];return i?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,a),a&&a.length&&Z(a).remove(),Z.merge([],i.childNodes))};var Pt=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Pt)return Pt.apply(this,arguments);var i,a,o,r=this,s=e.indexOf(" ");return s>=0&&(i=Z.trim(e.slice(s)),e=e.slice(0,s)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),r.length>0&&Z.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){o=arguments,r.html(i?Z("<div>").append(Z.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){r.each(n,o||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Ft=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var i,a,o,r,s,l,c,d=Z.css(e,"position"),u=Z(e),p={};"static"===d&&(e.style.position="relative"),s=u.offset(),o=Z.css(e,"top"),l=Z.css(e,"left"),c=("absolute"===d||"fixed"===d)&&(o+l).indexOf("auto")>-1,c?(i=u.position(),r=i.top,a=i.left):(r=parseFloat(o)||0,a=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+r),null!=t.left&&(p.left=t.left-s.left+a),"using"in t?t.using.call(e,p):u.css(p)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,i=this[0],a={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,Z.contains(t,i)?(typeof i.getBoundingClientRect!==Se&&(a=i.getBoundingClientRect()),n=z(o),{top:a.top+n.pageYOffset-t.clientTop,left:a.left+n.pageXOffset-t.clientLeft}):a):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(i=e.offset()),i.top+=Z.css(e[0],"borderTopWidth",!0),i.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Z.css(n,"marginTop",!0),left:t.left-i.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ft;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Ft})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Z.fn[t]=function(a){return ge(this,function(t,a,o){var r=z(t);return void 0===o?r?r[n]:t[a]:void(r?r.scrollTo(i?e.pageXOffset:o,i?o:e.pageYOffset):t[a]=o)},t,a,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=_(X.pixelPosition,function(e,n){return n?(n=x(e,t),Ue.test(n)?Z(e).position()[t]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Z.fn[i]=function(i,a){var o=arguments.length&&(n||"boolean"!=typeof i),r=n||(i===!0||a===!0?"margin":"border");return ge(this,function(t,n,i){var a;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?Z.css(t,n,r):Z.style(t,n,i,r)},t,o?i:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Nt=e.jQuery,Rt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Rt),t&&e.jQuery===Z&&(e.jQuery=Nt),Z},typeof t===Se&&(e.jQuery=e.$=Z),Z}),Function.prototype.bind&&("object"==typeof console||"function"==typeof console)&&"object"==typeof console.log&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind),window.log||(window.log=function(){var e,t,n,i,a=arguments,o=!1;if(log.history=log.history||[],log.history.push(arguments),log.detailPrint&&log.needDetailPrint&&(e=navigator.userAgent,t=/Windows\sNT\s(\d+\.\d+)/,console&&console.log&&/MSIE\s(\d+)/.test(e)&&t.test(e)&&parseFloat(t.exec(e)[1])>=6.1&&(o=!0)),o||"undefined"!=typeof console&&"function"==typeof console.log)if(log.detailPrint&&log.needDetailPrint&&log.needDetailPrint())for(console.log("-----------------"),a=log.detailPrint(a),i=0;i<a.length;)console.log(a[i]),i++;else 1===Array.prototype.slice.call(a).length&&"string"==typeof Array.prototype.slice.call(a)[0]?console.log(Array.prototype.slice.call(a).toString()):console.log(Array.prototype.slice.call(a));else if(Function.prototype.bind||"undefined"==typeof console||"object"!=typeof console.log)document.getElementById("firebug-lite")?setTimeout(function(){window.log.apply(window,a)},500):(n=document.createElement("script"),n.type="text/javascript",n.id="firebug-lite",n.src="https://getfirebug.com/firebug-lite.js",document.getElementsByTagName("HEAD")[0].appendChild(n),setTimeout(function(){window.log.apply(window,a)},2e3));else if(log.detailPrint)for(Function.prototype.call.call(console.log,console,Array.prototype.slice.call(["-----------------"])),a=log.detailPrint(a),i=0;i<a.length;)Function.prototype.call.call(console.log,console,Array.prototype.slice.call([a[i]])),i++;else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(a))}),function(e){"use strict";function t(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.5.8/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var i,a=encodeURIComponent;i=arguments[n],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,t+=a(i)}return Error(t)}}function n(e){if(null==e||S(e))return!1;if(ri(e)||w(e)||qn&&e instanceof qn)return!0;var t="length"in Object(e)&&e.length;return x(t)&&(0<=t&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function i(e,t,a){var o,r;if(e)if($(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(a,e[o],o,e);else if(ri(e)||n(e)){var s="object"!=typeof e;for(o=0,r=e.length;o<r;o++)(s||o in e)&&t.call(a,e[o],o,e)}else if(e.forEach&&e.forEach!==i)e.forEach(t,a,e);else if(y(e))for(o in e)t.call(a,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(a,e[o],o,e);else for(o in e)Kn.call(e,o)&&t.call(a,e[o],o,e);return e}function a(e,t,n){for(var i=Object.keys(e).sort(),a=0;a<i.length;a++)t.call(n,e[i[a]],i[a]);return i}function o(e){return function(t,n){e(n,t)}}function r(){return++oi}function s(e,t,n){for(var i=e.$$hashKey,a=0,o=t.length;a<o;++a){var r=t[a];if(b(r)||$(r))for(var l=Object.keys(r),c=0,d=l.length;c<d;c++){var u=l[c],p=r[u];n&&b(p)?_(p)?e[u]=new Date(p.valueOf()):k(p)?e[u]=new RegExp(p):p.nodeName?e[u]=p.cloneNode(!0):E(p)?e[u]=p.clone():(b(e[u])||(e[u]=ri(p)?[]:{}),s(e[u],[p],!0)):e[u]=p}}return i?e.$$hashKey=i:delete e.$$hashKey,e}function l(e){return s(e,Qn.call(arguments,1),!1)}function c(e){return s(e,Qn.call(arguments,1),!0)}function d(e){return parseInt(e,10)}function u(e,t){return l(Object.create(e),t)}function p(){}function m(e){return e}function f(e){return function(){return e}}function h(e){return $(e.toString)&&e.toString!==ti}function g(e){return"undefined"==typeof e}function v(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function y(e){return null!==e&&"object"==typeof e&&!ni(e)}function w(e){return"string"==typeof e}function x(e){return"number"==typeof e}function _(e){return"[object Date]"===ti.call(e)}function $(e){return"function"==typeof e}function k(e){return"[object RegExp]"===ti.call(e)}function S(e){return e&&e.window===e}function C(e){return e&&e.$evalAsync&&e.$watch}function D(e){return"boolean"==typeof e}function T(e){return e&&x(e.length)&&si.test(ti.call(e))}function E(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function I(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function M(e){return Xn(e.nodeName||e[0]&&e[0].nodeName)}function A(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function O(e,t){function n(e,t){var n,i=t.$$hashKey;if(ri(e)){n=0;for(var o=e.length;n<o;n++)t.push(a(e[n]))}else if(y(e))for(n in e)t[n]=a(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=a(e[n]));else for(n in e)Kn.call(e,n)&&(t[n]=a(e[n]));return i?t.$$hashKey=i:delete t.$$hashKey,t}function a(e){if(!b(e))return e;var t=r.indexOf(e);if(-1!==t)return s[t];if(S(e)||C(e))throw ii("cpws");var t=!1,i=o(e);return void 0===i&&(i=ri(e)?[]:Object.create(ni(e)),t=!0),r.push(e),s.push(i),t?n(e,i):i}function o(e){switch(ti.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(a(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if($(e.cloneNode))return e.cloneNode(!0)}var r=[],s=[];if(t){if(T(t)||"[object ArrayBuffer]"===ti.call(t))throw ii("cpta");if(e===t)throw ii("cpi");return ri(t)?t.length=0:i(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),r.push(e),s.push(t),n(e,t)}return a(e)}function P(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i=typeof e;if(i==typeof t&&"object"==i){if(!ri(e)){if(_(e))return!!_(t)&&P(e.getTime(),t.getTime());if(k(e))return!!k(t)&&e.toString()==t.toString();if(C(e)||C(t)||S(e)||S(t)||ri(t)||_(t)||k(t))return!1;i=re();for(n in e)if("$"!==n.charAt(0)&&!$(e[n])){if(!P(e[n],t[n]))return!1;i[n]=!0}for(n in t)if(!(n in i)&&"$"!==n.charAt(0)&&v(t[n])&&!$(t[n]))return!1;return!0}if(!ri(t))return!1;if((i=e.length)==t.length){for(n=0;n<i;n++)if(!P(e[n],t[n]))return!1;return!0}}return!1}function F(e,t,n){return e.concat(Qn.call(t,n))}function N(e,t){var n=2<arguments.length?Qn.call(arguments,2):[];return!$(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,F(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function R(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:S(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":C(n)&&(i="$SCOPE"),i}function L(e,t){if(!g(e))return x(t)||(t=t?2:null),JSON.stringify(e,R,t)}function B(e){return w(e)?JSON.parse(e):e}function j(e,t){e=e.replace(pi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function z(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return t=j(t,i),n*=t-i,e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function U(e){e=qn(e).clone();try{e.empty()}catch(e){}var t=qn("<div>").append(e).html();try{return e[0].nodeType===gi?Xn(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Xn(t)})}catch(e){return Xn(t)}}function H(e){try{return decodeURIComponent(e)}catch(e){}}function W(e){var t={};return i((e||"").split("&"),function(e){var n,i,a;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),a=e.substring(n+1)),i=H(i),v(i)&&(a=!v(a)||H(a),Kn.call(t,i)?ri(t[i])?t[i].push(a):t[i]=[t[i],a]:t[i]=a))}),t}function q(e){var t=[];return i(e,function(e,n){ri(e)?i(e,function(e){t.push(Y(n,!0)+(!0===e?"":"="+Y(e,!0)))}):t.push(Y(n,!0)+(!0===e?"":"="+Y(e,!0)))}),t.length?t.join("&"):""}function V(e){return Y(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function G(e,t){var n,i,a=mi.length;for(i=0;i<a;++i)if(n=mi[i]+t,w(n=e.getAttribute(n)))return n;return null}function K(e,t){var n,a,o={};i(mi,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,a=e.getAttribute(t))}),i(mi,function(t){t+="app";var i;!n&&(i=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=i,a=i.getAttribute(t))}),n&&(o.strictDi=null!==G(n,"strict-di"),t(n,a?[a]:[],o))}function X(t,n,a){b(a)||(a={}),a=l({strictDi:!1},a);var o=function(){if(t=qn(t),t.injector()){var i=t[0]===e.document?"document":U(t);throw ii("btstrpd",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}return n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),a.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng"),i=Be(n,a.strictDi),i.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),i},r=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;return e&&r.test(e.name)&&(a.debugInfoEnabled=!0,e.name=e.name.replace(r,"")),e&&!s.test(e.name)?o():(e.name=e.name.replace(s,""),ai.resumeBootstrap=function(e){return i(e,function(e){n.push(e)}),o()},void($(ai.resumeDeferredBootstrap)&&ai.resumeDeferredBootstrap()))}function J(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function Q(e){if(e=ai.element(e).injector(),!e)throw ii("test");return e.get("$$testability")}function Z(e,t){return t=t||"_",e.replace(fi,function(e,n){return(n?t:"")+e.toLowerCase()})}function ee(){var t;if(!hi){var n=ui();(Vn=g(n)?e.jQuery:n?e[n]:void 0)&&Vn.fn.on?(qn=Vn,l(Vn.fn,{scope:Ii.scope,isolateScope:Ii.isolateScope,controller:Ii.controller,injector:Ii.injector,inheritedData:Ii.inheritedData}),t=Vn.cleanData,Vn.cleanData=function(e){for(var n,i,a=0;null!=(i=e[a]);a++)(n=Vn._data(i,"events"))&&n.$destroy&&Vn(i).triggerHandler("$destroy");t(e)}):qn=fe,ai.element=qn,hi=!0}}function te(e,t,n){if(!e)throw ii("areq",t||"?",n||"required");return e}function ne(e,t,n){return n&&ri(e)&&(e=e[e.length-1]),te($(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ie(e,t){if("hasOwnProperty"===e)throw ii("badname",t)}function ae(e,t,n){if(!t)return e;t=t.split(".");for(var i,a=e,o=t.length,r=0;r<o;r++)i=t[r],e&&(e=(a=e)[i]);return!n&&$(e)?N(a,e):e}function oe(e){for(var t,n=e[0],i=e[e.length-1],a=1;n!==i&&(n=n.nextSibling);a++)(t||e[a]!==n)&&(t||(t=qn(Qn.call(e,0,a))),t.push(n));return t||e}function re(){return Object.create(null)}function se(e){function n(e,t,n){return e[t]||(e[t]=n())}var i=t("$injector"),a=t("ng");return e=n(e,"angular",Object),e.$$minErr=e.$$minErr||t,n(e,"module",function(){var e={};return function(t,o,r){if("hasOwnProperty"===t)throw a("badname","module");return o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,i){return i||(i=a),function(){return i[n||"push"]([e,t,arguments]),d}}function n(e,n){return function(i,o){return o&&$(o)&&(o.$$moduleName=t),a.push([e,n,arguments]),d}}if(!o)throw i("nomod",t);var a=[],s=[],l=[],c=e("$injector","invoke","push",s),d={_invokeQueue:a,_configBlocks:s,_runBlocks:l,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),
animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(e){return l.push(e),this}};return r&&c(r),d})}})}function le(e,t){if(ri(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(b(e))for(n in t=t||{},e)"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t||e}function ce(n){l(n,{bootstrap:X,copy:O,extend:l,merge:c,equals:P,element:qn,forEach:i,injector:Be,noop:p,bind:N,toJson:L,fromJson:B,identity:m,isUndefined:g,isDefined:v,isString:w,isFunction:$,isObject:b,isNumber:x,isElement:E,isArray:ri,version:vi,isDate:_,lowercase:Xn,uppercase:Jn,callbacks:{$$counter:0},getTestability:Q,$$minErr:t,$$csp:di,reloadWithDebugInfo:J}),(Yn=se(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Jt}),e.provider("$compile",Ge).directive({a:Na,input:Za,textarea:Za,form:ja,script:Ho,select:Vo,style:Go,option:Yo,ngBind:no,ngBindHtml:ao,ngBindTemplate:io,ngClass:ro,ngClassEven:lo,ngClassOdd:so,ngCloak:co,ngController:uo,ngForm:za,ngHide:No,ngIf:fo,ngInclude:ho,ngInit:vo,ngNonBindable:Eo,ngPluralize:Oo,ngRepeat:Po,ngShow:Fo,ngStyle:Ro,ngSwitch:Lo,ngSwitchWhen:Bo,ngSwitchDefault:jo,ngOptions:Ao,ngTransclude:Uo,ngModel:Co,ngList:bo,ngChange:oo,pattern:Xo,ngPattern:Xo,required:Ko,ngRequired:Ko,minlength:Qo,ngMinlength:Qo,maxlength:Jo,ngMaxlength:Jo,ngValue:to,ngModelOptions:To}).directive({ngInclude:go}).directive(Ra).directive(po),e.provider({$anchorScroll:je,$animate:Wi,$animateCss:Yi,$$animateJs:Ui,$$animateQueue:Hi,$$AnimateRunner:Vi,$$animateAsyncRun:qi,$browser:qe,$cacheFactory:Ve,$controller:et,$document:tt,$exceptionHandler:nt,$filter:pn,$$forceReflow:Zi,$interpolate:ft,$interval:ht,$http:dt,$httpParamSerializer:at,$httpParamSerializerJQLike:ot,$httpBackend:pt,$xhrFactory:ut,$jsonpCallbacks:la,$location:Dt,$log:Tt,$parse:qt,$rootScope:Xt,$q:Vt,$$q:Yt,$sce:tn,$sceDelegate:en,$sniffer:nn,$templateCache:Ye,$templateRequest:an,$$testability:on,$timeout:rn,$window:cn,$$rAF:Kt,$$jqLite:Pe,$$HashMap:Pi,$$cookieReader:un})}])}function de(e){return e.replace(wi,function(e,t,n,i){return i?n.toUpperCase():n}).replace(xi,"Moz$1")}function ue(e){return e=e.nodeType,1===e||!e||9===e}function pe(e,t){var n,a,o=t.createDocumentFragment(),r=[];if(Si.test(e)){for(n=o.appendChild(t.createElement("div")),a=(Ci.exec(e)||["",""])[1].toLowerCase(),a=Ti[a]||Ti._default,n.innerHTML=a[1]+e.replace(Di,"<$1></$2>")+a[2],a=a[0];a--;)n=n.lastChild;r=F(r,n.childNodes),n=o.firstChild,n.textContent=""}else r.push(t.createTextNode(e));return o.textContent="",o.innerHTML="",i(r,function(e){o.appendChild(e)}),o}function me(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function fe(t){if(t instanceof fe)return t;var n;if(w(t)&&(t=li(t),n=!0),!(this instanceof fe)){if(n&&"<"!=t.charAt(0))throw $i("nosel");return new fe(t)}if(n){n=e.document;var i;t=(i=ki.exec(t))?[n.createElement(i[1])]:(i=pe(t,n))?i.childNodes:[]}ke(this,t)}function he(e){return e.cloneNode(!0)}function ge(e,t){if(t||be(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,a=n.length;i<a;i++)be(n[i])}function ve(e,t,n,a){if(v(a))throw $i("offargs");var o=(a=ye(e))&&a.events,r=a&&a.handle;if(r)if(t){var s=function(t){var i=o[t];v(n)&&A(i||[],n),v(n)&&i&&0<i.length||(e.removeEventListener(t,r,!1),delete o[t])};i(t.split(" "),function(e){s(e),_i[e]&&s(_i[e])})}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,r,!1),delete o[t]}function be(e,t){var n=e.ng339,i=n&&bi[n];i&&(t?delete i.data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),ve(e)),delete bi[n],e.ng339=void 0))}function ye(e,t){var n=e.ng339,n=n&&bi[n];return t&&!n&&(e.ng339=n=++yi,n=bi[n]={events:{},data:{},handle:void 0}),n}function we(e,t,n){if(ue(e)){var i=v(n),a=!i&&t&&!b(t),o=!t;if(e=(e=ye(e,!a))&&e.data,i)e[t]=n;else{if(o)return e;if(a)return e&&e[t];l(e,t)}}}function xe(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function _e(e,t){t&&e.setAttribute&&i(t.split(" "),function(t){e.setAttribute("class",li((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+li(t)+" "," ")))})}function $e(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(t.split(" "),function(e){e=li(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",li(n))}}function ke(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Se(e,t){return Ce(e,"$"+(t||"ngController")+"Controller")}function Ce(e,t,n){for(9==e.nodeType&&(e=e.documentElement),t=ri(t)?t:[t];e;){for(var i=0,a=t.length;i<a;i++)if(v(n=qn.data(e,t[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function De(e){for(ge(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Te(e,t){t||ge(e);var n=e.parentNode;n&&n.removeChild(e)}function Ee(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):qn(n).on("load",t)}function Ie(e,t){var n=Mi[t.toLowerCase()];return n&&Ai[M(e)]&&n}function Me(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var a=t[i||n.type],o=a?a.length:0;if(o){if(g(n.immediatePropagationStopped)){var r=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),r&&r.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=a.specialHandlerWrapper||Ae;1<o&&(a=le(a));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,a[l])}};return n.elem=e,n}function Ae(e,t,n){n.call(e,t)}function Oe(e,t,n){var i=t.relatedTarget;i&&(i===e||Ei.call(e,i))||n.call(e,t)}function Pe(){this.$get=function(){return l(fe,{hasClass:function(e,t){return e.attr&&(e=e[0]),xe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),$e(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),_e(e,t)}})}}function Fe(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||r)():n+":"+e)}function Ne(e,t){if(t){var n=0;this.nextUid=function(){return++n}}i(e,this.put,this)}function Re(e){return e=(Function.prototype.toString.call(e)+" ").replace(Bi,""),e.match(Fi)||e.match(Ni)}function Le(e){return(e=Re(e))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Be(e,t){function n(e){return function(t,n){return b(t)?void i(t,o(e)):e(t,n)}}function a(e,t){if(ie(e,"service"),($(t)||ri(t))&&(t=h.instantiate(t)),!t.$get)throw ji("pget",e);return m[e+"Provider"]=t}function r(e,t){return function(){var n=x.invoke(t,this);if(g(n))throw ji("undef",e);return n}}function s(e,t,n){return a(e,{$get:!1!==n?r(e,t):t})}function l(e){te(g(e)||ri(e),"modulesToLoad","not an array");var t,n=[];return i(e,function(e){function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],a=h.get(i[0]);a[i[1]].apply(a,i[2])}}if(!p.get(e)){p.put(e,!0);try{w(e)?(t=Yn(e),n=n.concat(l(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):$(e)?n.push(h.invoke(e)):ri(e)?n.push(h.invoke(e)):ne(e,"module")}catch(t){throw ri(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ji("modulerr",e,t.stack||t.message||t)}}}),n}function c(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===d)throw ji("cdep",t+" <- "+u.join(" <- "));return e[t]}try{return u.unshift(t),e[t]=d,e[t]=n(t,i)}catch(n){throw e[t]===d&&delete e[t],n}finally{u.shift()}}function a(e,n,a){var o=[];e=Be.$$annotate(e,t,a);for(var r=0,s=e.length;r<s;r++){var l=e[r];if("string"!=typeof l)throw ji("itkn",l);o.push(n&&n.hasOwnProperty(l)?n[l]:i(l,a))}return o}return{invoke:function(e,t,n,i){return"string"==typeof n&&(i=n,n=null),n=a(e,n,i),ri(e)&&(e=e[e.length-1]),i=!(11>=Wn)&&("function"==typeof e&&/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(e)+" ")),i?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var i=ri(e)?e[e.length-1]:e;return e=a(e,t,n),e.unshift(null),new(Function.prototype.bind.apply(i,e))},get:i,annotate:Be.$$annotate,has:function(t){return m.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var d={},u=[],p=new Ne([],(!0)),m={$provide:{provider:n(a),factory:n(s),service:n(function(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}),value:n(function(e,t){return s(e,f(t),!1)}),constant:n(function(e,t){ie(e,"constant"),m[e]=t,v[e]=t}),decorator:function(e,t){var n=h.get(e+"Provider"),i=n.$get;n.$get=function(){var e=x.invoke(i,n);return x.invoke(t,null,{$delegate:e})}}}},h=m.$injector=c(m,function(e,t){throw ai.isString(t)&&u.push(t),ji("unpr",u.join(" <- "))}),v={},y=c(v,function(e,t){var n=h.get(e+"Provider",t);return x.invoke(n.$get,n,void 0,e)}),x=y;m.$injectorProvider={$get:f(y)};var _=l(e),x=y.get("$injector");return x.strictDi=t,i(_,function(e){e&&x.invoke(e)}),x}function je(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function a(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===M(e))return t=e,!0}),t}function o(e){if(e){e.scrollIntoView();var n;n=r.yOffset,$(n)?n=n():E(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):x(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function r(e){e=w(e)?e:n.hash();var t;e?(t=s.getElementById(e))?o(t):(t=a(s.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var s=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Ee(function(){i.$evalAsync(r)})}),r}]}function ze(e,t){return e||t?e?t?(ri(e)&&(e=e.join(" ")),ri(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Ue(e){w(e)&&(e=e.split(" "));var t=re();return i(e,function(e){e.length&&(t[e]=!0)}),t}function He(e){return b(e)?e:{}}function We(e,t,n,a){function o(e){try{e.apply(null,Qn.call(arguments,1))}finally{if(v--,0===v)for(;b.length;)try{b.pop()()}catch(e){n.error(e)}}}function r(){$=null,s(),l()}function s(){y=k(),y=g(y)?null:y,P(y,D)&&(y=D),D=y}function l(){x===c.url()&&w===y||(x=c.url(),w=y,i(S,function(e){e(c.url(),y)}))}var c=this,d=e.location,u=e.history,m=e.setTimeout,f=e.clearTimeout,h={};c.isMock=!1;var v=0,b=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){v++},c.notifyWhenNoOutstandingRequests=function(e){0===v?e():b.push(e)};var y,w,x=d.href,_=t.find("base"),$=null,k=a.history?function(){try{return u.state}catch(e){}}:p;s(),w=y,c.url=function(t,n,i){if(g(i)&&(i=null),d!==e.location&&(d=e.location),u!==e.history&&(u=e.history),t){var o=w===i;if(x===t&&(!a.history||o))return c;var r=x&&wt(x)===wt(t);return x=t,w=i,!a.history||r&&o?(r||($=t),n?d.replace(t):r?(n=d,i=t.indexOf("#"),i=-1===i?"":t.substr(i),n.hash=i):d.href=t,d.href!==t&&($=t)):(u[n?"replaceState":"pushState"](i,"",t),s(),w=y),$&&($=t),c}return $||d.href.replace(/%27/g,"'")},c.state=function(){return y};var S=[],C=!1,D=null;c.onUrlChange=function(t){return C||(a.history&&qn(e).on("popstate",r),qn(e).on("hashchange",r),C=!0),S.push(t),t},c.$$applicationDestroyed=function(){qn(e).off("hashchange popstate",r)},c.$$checkUrlChange=l,c.baseHref=function(){var e=_.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return v++,n=m(function(){delete h[n],o(e)},t||0),h[n]=!0,n},c.defer.cancel=function(e){return!!h[e]&&(delete h[e],f(e),o(p),!0)}}function qe(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new We(e,i,t,n)}]}function Ve(){this.$get=function(){function e(e,i){function a(e){e!=p&&(m?m==e&&(m=e.n):m=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid",e);var r=0,s=l({},i,{id:e}),c=re(),d=i&&i.capacity||Number.MAX_VALUE,u=re(),p=null,m=null;return n[e]={put:function(e,t){if(!g(t)){if(d<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});a(n)}return e in c||r++,c[e]=t,r>d&&this.remove(m.key),t}},get:function(e){if(d<Number.MAX_VALUE){var t=u[e];if(!t)return;a(t)}return c[e]},remove:function(e){if(d<Number.MAX_VALUE){var t=u[e];if(!t)return;t==p&&(p=t.p),t==m&&(m=t.n),o(t.n,t.p),delete u[e]}e in c&&(delete c[e],r--)},removeAll:function(){c=re(),r=0,u=re(),p=m=null},destroy:function(){u=s=c=null,delete n[e]},info:function(){return l({},s,{size:r})}}}var n={};return e.info=function(){var e={};return i(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function Ye(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ge(t,n){function a(e,t,n){var a=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=re();return i(e,function(e,i){if(e in k)o[i]=k[e];else{var r=e.match(a);if(!r)throw Gi("iscp",t,i,e,n?"controller bindings definition":"isolate scope definition");o[i]={mode:r[1][0],collection:"*"===r[2],optional:"?"===r[3],attrName:r[4]||i},r[4]&&(k[e]=o[i])}}),o}function r(e){var t=e.charAt(0);if(!t||t!==Xn(t))throw Gi("baddir",e);if(e!==e.trim())throw Gi("baddir",e)}function s(e){var t=e.require||e.controller&&e.name;return!ri(t)&&b(t)&&i(t,function(e,n){var i=e.match(x);e.substring(i[0].length)||(t[n]=i[0]+n)}),t}var c={},d=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,h=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=I("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,_=/^(on[a-z]+|formaction)$/,k=re();this.directive=function e(n,a){return ie(n,"directive"),w(n)?(r(n),te(a,"directiveFactory"),c.hasOwnProperty(n)||(c[n]=[],t.factory(n+"Directive",["$injector","$exceptionHandler",function(e,t){var a=[];return i(c[n],function(i,o){try{var r=e.invoke(i);$(r)?r={compile:f(r)}:!r.compile&&r.link&&(r.compile=f(r.link)),r.priority=r.priority||0,r.index=o,r.name=r.name||n,r.require=s(r),r.restrict=r.restrict||"EA",r.$$moduleName=i.$$moduleName,a.push(r)}catch(e){t(e)}}),a}])),c[n].push(a)):i(n,o(e)),this},this.component=function(e,t){function n(e){function n(t){return $(t)||ri(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var o=t.template||t.templateUrl?t.template:"",r={controller:a,controllerAs:Ze(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return i(t,function(e,t){"$"===t.charAt(0)&&(r[t]=e)}),r}var a=t.controller||function(){};return i(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,$(a)&&(a[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return v(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var S=!0;this.debugInfoEnabled=function(e){return v(e)?(S=e,this):S};var T=10;this.onChangesTtl=function(e){return arguments.length?(T=e,this):T},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,o,r,s,f,k,E,I,O){function F(){try{if(!--xe)throw be=void 0,Gi("infchng",T);k.$apply(function(){for(var e=[],t=0,n=be.length;t<n;++t)try{be[t]()}catch(t){e.push(t)}if(be=void 0,e.length)throw e})}finally{xe++}}function R(e,t){if(t){var n,i,a,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)a=o[n],this[a]=t[a]}else this.$attr={};this.$$element=e}function L(e,t,n){we.innerHTML="<span "+t+">",t=we.firstChild.attributes;var i=t[0];t.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function B(e,t){try{e.addClass(t)}catch(e){}}function j(t,n,i,a,o){t instanceof qn||(t=qn(t));for(var r=/\S+/,s=0,l=t.length;s<l;s++){var c=t[s];c.nodeType===gi&&c.nodeValue.match(r)&&me(c,t[s]=e.document.createElement("span"))}var d=z(t,n,t,i,a,o);j.$$addScopeClass(t);var u=null;return function(e,n,i){te(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),i=i||{};var a=i.parentBoundTranscludeFn,r=i.transcludeControllers;if(i=i.futureParentElement,a&&a.$$boundTransclude&&(a=a.$$boundTransclude),u||(u=(i=i&&i[0])&&"foreignobject"!==M(i)&&ti.call(i).match(/SVG/)?"svg":"html"),i="html"!==u?qn(ce(u,qn("<div>").append(t).html())):n?Ii.clone.call(t):t,r)for(var s in r)i.data("$"+s+"Controller",r[s].instance);return j.$$addScopeInfo(i,e),n&&n(i,e),d&&d(e,i,i,a),i}}function z(e,t,n,i,a,o){function r(e,n,i,a){var o,r,s,l,c,d,m;if(u)for(m=Array(n.length),l=0;l<p.length;l+=3)o=p[l],m[o]=n[o];else m=n;for(l=0,c=p.length;l<c;)r=m[p[l++]],n=p[l++],o=p[l++],n?(n.scope?(s=e.$new(),j.$$addScopeInfo(qn(r),s)):s=e,d=n.transcludeOnThisElement?H(e,n.transclude,a):!n.templateOnThisElement&&a?a:!a&&t?H(e,t):null,n(o,s,r,i,d)):o&&o(e,r.childNodes,void 0,a)}for(var s,l,c,d,u,p=[],m=0;m<e.length;m++)s=new R,l=W(e[m],[],s,0===m?i:void 0,a),(o=l.length?K(l,e[m],s,t,n,null,[],[],o):null)&&o.scope&&j.$$addScopeClass(s.$$element),s=o&&o.terminal||!(c=e[m].childNodes)||!c.length?null:z(c,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:t),(o||s)&&(p.push(m,o,s),d=!0,u=u||o),o=null;return d?r:null}function H(e,t,n){function i(i,a,o,r,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,a,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:r})}var a,o=i.$$slots=re();for(a in t.$$slots)o[a]=t.$$slots[a]?H(e,t.$$slots[a],n):null;return i}function W(e,t,n,i,a){var o=n.$attr;switch(e.nodeType){case 1:ee(t,Xe(M(e)),"E",i,a);for(var r,s,l,c,d=e.attributes,u=0,p=d&&d.length;u<p;u++){var m=!1,f=!1;r=d[u],s=r.name,l=li(r.value),r=Xe(s),(c=Se.test(r))&&(s=s.replace(Xi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),(r=r.match(Ce))&&ne(r[1])&&(m=s,f=s.substr(0,s.length-5)+"end",s=s.substr(0,s.length-6)),r=Xe(s.toLowerCase()),o[r]=s,!c&&n.hasOwnProperty(r)||(n[r]=l,Ie(e,r)&&(n[r]=!0)),ue(e,t,l,r,c),ee(t,r,"A",i,a,m,f)}if(o=e.className,b(o)&&(o=o.animVal),w(o)&&""!==o)for(;e=h.exec(o);)r=Xe(e[2]),ee(t,r,"C",i,a)&&(n[r]=li(e[3])),o=o.substr(e.index+e[0].length);break;case gi:if(11===Wn)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===gi;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);le(t,e.nodeValue);break;case 8:q(e,t,n,i,a)}return t.sort(oe),t}function q(e,t,n,i,a){try{var o=d.exec(e.nodeValue);if(o){var r=Xe(o[1]);ee(t,r,"M",i,a)&&(n[r]=li(o[2]))}}catch(e){}}function V(e,t,n){var i=[],a=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Gi("uterdir",t,n);1==e.nodeType&&(e.hasAttribute(t)&&a++,e.hasAttribute(n)&&a--),i.push(e),e=e.nextSibling}while(0<a)}else i.push(e);return qn(i)}function Y(e,t,n){return function(i,a,o,r,s){return a=V(a[0],t,n),e(i,a,o,r,s)}}function G(e,t,n,i,a,o){var r;return e?j(t,n,i,a,o):function(){return r||(r=j(t,n,i,a,o),t=n=o=null),r.apply(this,arguments)}}function K(e,t,n,a,r,s,c,d,u){function p(e,t,n,i){e&&(n&&(e=Y(e,n,i)),e.require=f.require,e.directiveName=h,(S===f||f.$$isolateScope)&&(e=fe(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=Y(t,n,i)),t.require=f.require,t.directiveName=h,(S===f||f.$$isolateScope)&&(t=fe(t,{isolateScope:!0})),d.push(t))}function m(e,a,r,s,u){function p(e,t,n,i){var a;if(C(e)||(i=n,n=t,t=e,e=void 0),A&&(a=w),n||(n=A?T.parent():T),!i)return u(e,t,a,n,M);var o=u.$$slots[i];if(o)return o(e,t,a,n,M);if(g(o))throw Gi("noslot",i,U(T))}var m,f,h,v,y,w,x,T;t===r?(s=n,T=n.$$element):(T=qn(r),s=new R(T,n)),y=a,S?v=a.$new(!0):_&&(y=a.$parent),u&&(x=p,x.$$boundTransclude=u,x.isSlotFilled=function(e){return!!u.$$slots[e]}),k&&(w=J(T,s,x,k,v,a,S)),S&&(j.$$addScopeInfo(T,v,!0,!(D&&(D===S||D===S.$$originalDirective))),j.$$addScopeClass(T,!0),v.$$isolateBindings=S.$$isolateBindings,f=ve(a,s,v,v.$$isolateBindings,S),f.removeWatches&&v.$on("$destroy",f.removeWatches));for(m in w){f=k[m],h=w[m];var E=f.$$bindings.bindToController;h.bindingInfo=h.identifier&&E?ve(y,s,h.instance,E,f):{};var I=h();I!==h.instance&&(h.instance=I,T.data("$"+f.name+"Controller",I),h.bindingInfo.removeWatches&&h.bindingInfo.removeWatches(),h.bindingInfo=ve(y,s,h.instance,E,f))}for(i(k,function(e,t){var n=e.require;e.bindToController&&!ri(n)&&b(n)&&l(w[t].instance,X(t,n,T,w))}),i(w,function(e){var t=e.instance;if($(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){o(e)}if($(t.$onInit))try{t.$onInit()}catch(e){o(e)}$(t.$doCheck)&&(y.$watch(function(){t.$doCheck()}),t.$doCheck()),$(t.$onDestroy)&&y.$on("$destroy",function(){t.$onDestroy()})}),m=0,f=c.length;m<f;m++)h=c[m],ge(h,h.isolateScope?v:a,T,s,h.require&&X(h.directiveName,h.require,T,w),x);var M=a;for(S&&(S.template||null===S.templateUrl)&&(M=v),e&&e(M,r.childNodes,void 0,u),m=d.length-1;0<=m;m--)h=d[m],ge(h,h.isolateScope?v:a,T,s,h.require&&X(h.directiveName,h.require,T,w),x);i(w,function(e){e=e.instance,$(e.$postLink)&&e.$postLink()})}u=u||{};for(var f,h,v,y,w,x=-Number.MAX_VALUE,_=u.newScopeDirective,k=u.controllerDirectives,S=u.newIsolateScopeDirective,D=u.templateDirective,T=u.nonTlbTranscludeDirective,E=!1,I=!1,A=u.hasElementTranscludeDirective,O=n.$$element=qn(t),P=a,F=!1,L=!1,B=0,z=e.length;B<z;B++){f=e[B];var H=f.$$start,q=f.$$end;if(H&&(O=V(t,H,q)),v=void 0,x>f.priority)break;if((w=f.scope)&&(f.templateUrl||(b(w)?(se("new/isolated scope",S||_,f,O),S=f):se("new/isolated scope",S,f,O)),_=_||f),h=f.name,!F&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(w=B+1;F=e[w++];)if(F.transclude&&!F.$$tlb||F.replace&&(F.templateUrl||F.template)){L=!0;break}F=!0}if(!f.templateUrl&&f.controller&&(w=f.controller,k=k||re(),se("'"+h+"' controller",k[h],f,O),k[h]=f),w=f.transclude)if(E=!0,f.$$tlb||(se("transclusion",T,f,O),T=f),"element"==w)A=!0,x=f.priority,v=O,O=n.$$element=qn(j.$$createComment(h,n[h])),t=O[0],pe(r,Qn.call(v,0),t),v[0].$$parentNode=v[0].parentNode,P=G(L,v,a,x,s&&s.name,{nonTlbTranscludeDirective:T});else{var K=re();if(v=qn(he(t)).contents(),b(w)){v=[];var Z=re(),ee=re();i(w,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,Z[e]=t,K[t]=null,ee[t]=n}),i(O.contents(),function(e){var t=Z[Xe(M(e))];t?(ee[t]=!0,K[t]=K[t]||[],K[t].push(e)):v.push(e)}),i(ee,function(e,t){if(!e)throw Gi("reqslot",t)});for(var te in K)K[te]&&(K[te]=G(L,K[te],a))}O.empty(),P=G(L,v,a,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),P.$$slots=K}if(f.template)if(I=!0,se("template",D,f,O),D=f,w=$(f.template)?f.template(O,n):f.template,w=ke(w),f.replace){if(s=f,v=Si.test(w)?Qe(ce(f.templateNamespace,li(w))):[],t=v[0],1!=v.length||1!==t.nodeType)throw Gi("tplrt",h,"");pe(r,O,t),z={$attr:{}},w=W(t,[],z);var ne=e.splice(B+1,e.length-(B+1));(S||_)&&Q(w,S,_),e=e.concat(w).concat(ne),ie(n,z),z=e.length}else O.html(w);if(f.templateUrl)I=!0,se("template",D,f,O),D=f,f.replace&&(s=f),m=ae(e.splice(B,e.length-B),O,n,r,E&&P,c,d,{controllerDirectives:k,newScopeDirective:_!==f&&_,newIsolateScopeDirective:S,templateDirective:D,nonTlbTranscludeDirective:T}),z=e.length;else if(f.compile)try{y=f.compile(O,n,P);var oe=f.$$originalDirective||f;$(y)?p(null,N(oe,y),H,q):y&&p(N(oe,y.pre),N(oe,y.post),H,q)}catch(e){o(e,U(O))}f.terminal&&(m.terminal=!0,x=Math.max(x,f.priority))}return m.scope=_&&!0===_.scope,m.transcludeOnThisElement=E,m.templateOnThisElement=I,m.transclude=P,u.hasElementTranscludeDirective=A,m}function X(e,t,n,a){var o;if(w(t)){var r=t.match(x);t=t.substring(r[0].length);var s=r[1]||r[3],r="?"===r[2];if("^^"===s?n=n.parent():o=(o=a&&a[t])&&o.instance,!o){var l="$"+t+"Controller";o=s?n.inheritedData(l):n.data(l)}if(!o&&!r)throw Gi("ctreq",t,e)}else if(ri(t))for(o=[],s=0,r=t.length;s<r;s++)o[s]=X(e,t[s],n,a);else b(t)&&(o={},i(t,function(t,i){o[i]=X(e,t,n,a)}));return o||null}function J(e,t,n,i,a,o,r){var s,l=re();for(s in i){var c=i[s],d={$scope:c===r||c.$$isolateScope?a:o,$element:e,$attrs:t,$transclude:n},u=c.controller;"@"==u&&(u=t[c.name]),d=f(u,d,!0,c.controllerAs),l[c.name]=d,e.data("$"+c.name+"Controller",d.instance)}return l}function Q(e,t,n){for(var i=0,a=e.length;i<a;i++)e[i]=u(e[i],{$$isolateScope:t,$$newScope:n})}function ee(e,n,i,r,s,l,d){if(n===s)return null;if(s=null,c.hasOwnProperty(n)){var p;n=t.get(n+"Directive");for(var m=0,f=n.length;m<f;m++)try{if(p=n[m],(g(r)||r>p.priority)&&-1!=p.restrict.indexOf(i)){if(l&&(p=u(p,{$$start:l,$$end:d})),!p.$$bindings){var h=p,v=p,y=p.name,w={isolateScope:null,bindToController:null};if(b(v.scope)&&(!0===v.bindToController?(w.bindToController=a(v.scope,y,!0),w.isolateScope={}):w.isolateScope=a(v.scope,y,!1)),b(v.bindToController)&&(w.bindToController=a(v.bindToController,y,!0)),b(w.bindToController)){var x=v.controller,_=v.controllerAs;if(!x)throw Gi("noctrl",y);if(!Ze(x,_))throw Gi("noident",y)}var $=h.$$bindings=w;b($.isolateScope)&&(p.$$isolateBindings=$.isolateScope)}e.push(p),s=p}}catch(e){o(e)}}return s}function ne(e){if(c.hasOwnProperty(e))for(var n=t.get(e+"Directive"),i=0,a=n.length;i<a;i++)if(e=n[i],e.multiElement)return!0;return!1}function ie(e,t){var n=t.$attr,a=e.$attr;i(e,function(i,a){"$"!=a.charAt(0)&&(t[a]&&t[a]!==i&&(i+=("style"===a?";":" ")+t[a]),e.$set(a,i,!0,n[a]))}),i(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(a[i]=n[i]))})}function ae(e,t,n,a,o,s,l,c){var d,p,m=[],f=t[0],h=e.shift(),g=u(h,{templateUrl:null,transclude:null,replace:null,$$originalDirective:h}),v=$(h.templateUrl)?h.templateUrl(t,n):h.templateUrl,y=h.templateNamespace;return t.empty(),r(v).then(function(r){var u,w;if(r=ke(r),h.replace){if(r=Si.test(r)?Qe(ce(y,li(r))):[],u=r[0],1!=r.length||1!==u.nodeType)throw Gi("tplrt",h.name,v);r={$attr:{}},pe(a,t,u);var x=W(u,[],r);b(h.scope)&&Q(x,!0),e=x.concat(e),ie(n,r)}else u=f,t.html(r);for(e.unshift(g),d=K(e,u,n,o,t,h,s,l,c),i(a,function(e,n){e==u&&(a[n]=t[0])}),p=z(t[0].childNodes,o);m.length;){r=m.shift(),w=m.shift();var _=m.shift(),$=m.shift(),x=t[0];if(!r.$$destroyed){if(w!==f){var k=w.className;c.hasElementTranscludeDirective&&h.replace||(x=he(u)),pe(_,qn(w),x),B(qn(x),k)}w=d.transcludeOnThisElement?H(r,d.transclude,$):$,d(p,r,x,a,w)}}m=null}),function(e,t,n,i,a){e=a,t.$$destroyed||(m?m.push(t,n,i,e):(d.transcludeOnThisElement&&(e=H(t,d.transclude,a)),d(p,t,n,i,e)))}}function oe(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function se(e,t,n,i){function a(e){return e?" (module: "+e+")":""}if(t)throw Gi("multidir",t.name,a(t.$$moduleName),n.name,a(n.$$moduleName),e,U(i))}function le(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&j.$$addBindingClass(e),function(e,n){var a=n.parent();t||j.$$addBindingClass(a),j.$$addBindingInfo(a,i.expressions),e.$watch(i,function(e){n[0].nodeValue=e})}}})}function ce(t,n){switch(t=Xn(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function de(e,t){if("srcdoc"==t)return E.HTML;var n=M(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?E.RESOURCE_URL:void 0}function ue(e,t,i,a,o){var r=de(e,a);o=y[a]||o;var s=n(i,!0,r,o);if(s){if("multiple"===a&&"select"===M(e))throw Gi("selmulti",U(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){if(t=l.$$observers||(l.$$observers=re()),_.test(a))throw Gi("nodomevents");var c=l[a];c!==i&&(s=c&&n(c,!0,r,o),i=c),s&&(l[a]=s(e),(t[a]||(t[a]=[])).$$inter=!0,(l.$$observers&&l.$$observers[a].$$scope||e).$watch(s,function(e,t){"class"===a&&e!=t?l.$updateClass(e,t):l.$set(a,e)}))}}}})}}function pe(t,n,i){var a,o,r=n[0],s=n.length,l=r.parentNode;if(t)for(a=0,o=t.length;a<o;a++)if(t[a]==r){t[a++]=i,o=a+s-1;for(var c=t.length;a<c;a++,o++)o<c?t[a]=t[o]:delete t[a];t.length-=s-1,t.context===r&&(t.context=i);break}for(l&&l.replaceChild(i,r),t=e.document.createDocumentFragment(),a=0;a<s;a++)t.appendChild(n[a]);for(qn.hasData(r)&&(qn.data(i,qn.data(r)),qn(r).off("$destroy")),qn.cleanData(t.querySelectorAll("*")),a=1;a<s;a++)delete n[a];n[0]=i,n.length=1}function fe(e,t){return l(function(){return e.apply(null,arguments)},e,t)}function ge(e,t,n,i,a,r){try{e(t,n,i,a,r)}catch(e){o(e,U(n))}}function ve(e,t,a,o,r){function l(t,n,i){$(a.$onChanges)&&n!==i&&(be||(e.$$postDigest(F),be=[]),d||(d={},be.push(c)),d[t]&&(i=d[t].previousValue),d[t]=new Ke(i,n))}function c(){a.$onChanges(d),d=void 0}var d,u=[],m={};return i(o,function(i,o){var c,d,f,h,g=i.attrName,v=i.optional;switch(i.mode){case"@":v||Kn.call(t,g)||(a[o]=t[g]=void 0),t.$observe(g,function(e){(w(e)||D(e))&&(l(o,e,a[o]),a[o]=e)}),t.$$observers[g].$$scope=e,c=t[g],w(c)?a[o]=n(c)(e):D(c)&&(a[o]=c),m[o]=new Ke(Ki,a[o]);break;case"=":if(!Kn.call(t,g)){if(v)break;t[g]=void 0}if(v&&!t[g])break;d=s(t[g]),h=d.literal?P:function(e,t){return e===t||e!==e&&t!==t},f=d.assign||function(){throw c=a[o]=d(e),Gi("nonassign",t[g],g,r.name)},c=a[o]=d(e),v=function(t){return h(t,a[o])||(h(t,c)?f(e,t=a[o]):a[o]=t),c=t},v.$stateful=!0,v=i.collection?e.$watchCollection(t[g],v):e.$watch(s(t[g],v),null,d.literal),u.push(v);break;case"<":if(!Kn.call(t,g)){if(v)break;t[g]=void 0}if(v&&!t[g])break;d=s(t[g]);var b=a[o]=d(e);m[o]=new Ke(Ki,a[o]),v=e.$watch(d,function(e,t){if(t===e){if(t===b)return;t=b}l(o,e,t),a[o]=e},d.literal),u.push(v);break;case"&":if(d=t.hasOwnProperty(g)?s(t[g]):p,d===p&&v)break;a[o]=function(t){return d(e,t)}}}),{initialChanges:m,removeWatches:u.length&&function(){for(var e=0,t=u.length;e<t;++e)u[e]()}}}var be,ye=/^\w/,we=e.document.createElement("div"),xe=T;R.prototype={$normalize:Xe,$addClass:function(e){e&&0<e.length&&I.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&I.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Je(e,t);n&&n.length&&I.addClass(this.$$element,n),(n=Je(t,e))&&n.length&&I.removeClass(this.$$element,n)},$set:function(e,t,n,a){var r=Ie(this.$$element[0],e),s=Oi[e],l=e;if(r?(this.$$element.prop(e,t),a=r):s&&(this[s]=t,l=s),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e])||(this.$attr[e]=a=Z(e,"-")),r=M(this.$$element),"a"===r&&("href"===e||"xlinkHref"===e)||"img"===r&&"src"===e)this[e]=t=O(t,"src"===e);else if("img"===r&&"srcset"===e&&v(t)){for(var r="",s=li(t),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(s)?c:/(,)/,s=s.split(c),c=Math.floor(s.length/2),d=0;d<c;d++)var u=2*d,r=r+O(li(s[u]),!0),r=r+(" "+li(s[u+1]));s=li(s[2*d]).split(/\s/),r+=O(li(s[0]),!0),2===s.length&&(r+=" "+li(s[1])),this[e]=t=r}!1!==n&&(null===t||g(t)?this.$$element.removeAttr(a):ye.test(a)?this.$$element.attr(a,t):L(this.$$element[0],a,t)),(e=this.$$observers)&&i(e[l],function(e){try{e(t)}catch(e){o(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=re()),a=i[e]||(i[e]=[]);return a.push(t),k.$evalAsync(function(){a.$$inter||!n.hasOwnProperty(e)||g(n[e])||t(n[e])}),function(){A(a,t)}}};var _e=n.startSymbol(),$e=n.endSymbol(),ke="{{"==_e&&"}}"==$e?m:function(e){return e.replace(/\{\{/g,_e).replace(/}}/g,$e)},Se=/^ngAttr[A-Z]/,Ce=/^(.+)Start$/;return j.$$addBindingInfo=S?function(e,t){var n=e.data("$binding")||[];ri(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:p,j.$$addBindingClass=S?function(e){B(e,"ng-binding")}:p,j.$$addScopeInfo=S?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:p,j.$$addScopeClass=S?function(e,t){B(e,t?"ng-isolate-scope":"ng-scope")}:p,j.$$createComment=function(t,n){var i="";return S&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},j}]}function Ke(e,t){this.previousValue=e,this.currentValue=t}function Xe(e){return de(e.replace(Xi,""))}function Je(e,t){var n="",i=e.split(/\s+/),a=t.split(/\s+/),o=0;e:for(;o<i.length;o++){for(var r=i[o],s=0;s<a.length;s++)if(r==a[s])continue e;n+=(0<n.length?" ":"")+r}return n}function Qe(e){e=qn(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Zn.call(e,t,1);return e}function Ze(e,t){if(t&&w(t))return t;if(w(e)){var n=Qi.exec(e);if(n)return n[3]}}function et(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){ie(t,"controller"),
b(t)?l(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,a){function o(e,n,i,a){if(!e||!b(e.$scope))throw t("$controller")("noscp",a,n);e.$scope[n]=i}return function(t,r,s,c){var d,u,p;if(s=!0===s,c&&w(c)&&(p=c),w(t)){if(c=t.match(Qi),!c)throw Ji("ctrlfmt",t);u=c[1],p=p||c[3],t=e.hasOwnProperty(u)?e[u]:ae(r.$scope,u,!0)||(n?ae(a,u,!0):void 0),ne(t,u,!0)}return s?(s=(ri(t)?t[t.length-1]:t).prototype,d=Object.create(s||null),p&&o(r,p,d,u||t.name),l(function(){var e=i.invoke(t,d,r,u);return e!==d&&(b(e)||$(e))&&(d=e,p&&o(r,p,d,u||t.name)),d},{instance:d,identifier:p})):(d=i.instantiate(t,r,u),p&&o(r,p,d,u||t.name),d)}}]}function tt(){this.$get=["$window",function(e){return qn(e.document)}]}function nt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function it(e){return b(e)?_(e)?e.toISOString():L(e):e}function at(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||g(e)||(ri(e)?i(e,function(e){t.push(Y(n)+"="+Y(it(e)))}):t.push(Y(n)+"="+Y(it(e))))}),t.join("&")}}}function ot(){this.$get=function(){return function(e){function t(e,o,r){null===e||g(e)||(ri(e)?i(e,function(e,n){t(e,o+"["+(b(e)?n:"")+"]")}):b(e)&&!_(e)?a(e,function(e,n){t(e,o+(r?"":"[")+n+(r?"":"]"))}):n.push(Y(o)+"="+Y(it(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function rt(e,t){if(w(e)){var n=e.replace(aa,"").trim();if(n){var i=t("Content-Type");(i=i&&0===i.indexOf(ea))||(i=(i=n.match(na))&&ia[i[0]].test(n)),i&&(e=B(n))}}return e}function st(e){var t,n=re();return w(e)?i(e.split("\n"),function(e){t=e.indexOf(":");var i=Xn(li(e.substr(0,t)));e=li(e.substr(t+1)),i&&(n[i]=n[i]?n[i]+", "+e:e)}):b(e)&&i(e,function(e,t){var i=Xn(t),a=li(e);i&&(n[i]=n[i]?n[i]+", "+a:a)}),n}function lt(e){var t;return function(n){return t||(t=st(e)),n?(n=t[Xn(n)],void 0===n&&(n=null),n):t}}function ct(e,t,n,a){return $(a)?a(e,t,n):(i(a,function(i){e=i(e,t,n)}),e)}function dt(){var e=this.defaults={transformResponse:[rt],transformRequest:[function(e){return b(e)&&"[object File]"!==ti.call(e)&&"[object Blob]"!==ti.call(e)&&"[object FormData]"!==ti.call(e)?L(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:le(ta),put:le(ta),patch:le(ta)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return v(e)?(n=!!e,this):n};var a=!0;this.useLegacyPromiseExtensions=function(e){return v(e)?(a=!!e,this):a};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(r,s,c,d,u,p){function m(n){function o(e,t){for(var n=0,i=t.length;n<i;){var a=t[n++],o=t[n++];e=e.then(a,o)}return t.length=0,e}function r(e,t){var n,a={};return i(e,function(e,i){$(e)?(n=e(t),null!=n&&(a[i]=n)):a[i]=e}),a}function s(e){var t=l({},e);return t.data=ct(e.data,e.headers,e.status,c.transformResponse),e=e.status,200<=e&&300>e?t:u.reject(t)}if(!b(n))throw t("$http")("badreq",n);if(!w(n.url))throw t("$http")("badreq",n.url);var c=l({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);c.headers=function(t){var n,i,a,o=e.headers,s=l({},t.headers),o=l({},o.common,o[Xn(t.method)]);e:for(n in o){i=Xn(n);for(a in s)if(Xn(a)===i)continue e;s[n]=o[n]}return r(s,le(t))}(n),c.method=Jn(c.method),c.paramSerializer=w(c.paramSerializer)?p.get(c.paramSerializer):c.paramSerializer;var d=[],m=[],h=u.when(c);return i(x,function(e){(e.request||e.requestError)&&d.unshift(e.request,e.requestError),(e.response||e.responseError)&&m.push(e.response,e.responseError)}),h=o(h,d),h=h.then(function(t){var n=t.headers,a=ct(t.data,lt(n),void 0,t.transformRequest);return g(a)&&i(n,function(e,t){"content-type"===Xn(t)&&delete n[t]}),g(t.withCredentials)&&!g(e.withCredentials)&&(t.withCredentials=e.withCredentials),f(t,a).then(s,s)}),h=o(h,m),a?(h.success=function(e){return ne(e,"fn"),h.then(function(t){e(t.data,t.status,t.headers,c)}),h},h.error=function(e){return ne(e,"fn"),h.then(null,function(t){e(t.data,t.status,t.headers,c)}),h}):(h.success=ra("success"),h.error=ra("error")),h}function f(t,a){function o(e){if(e){var t={};return i(e,function(e,i){t[i]=function(t){function i(){e(t)}n?d.$applyAsync(i):d.$$phase?i():d.$apply(i)}}),t}}function l(e,t,i,a){function o(){c(t,e,i,a)}w&&(200<=e&&300>e?w.put(C,[e,t,st(i),a]):w.remove(C)),n?d.$applyAsync(o):(o(),d.$$phase||d.$apply())}function c(e,n,i,a){n=-1<=n?n:0,(200<=n&&300>n?_.resolve:_.reject)({data:e,status:n,headers:lt(i),config:t,statusText:a})}function p(e){c(e.data,e.status,le(e.headers()),e.statusText)}function f(){var e=m.pendingRequests.indexOf(t);-1!==e&&m.pendingRequests.splice(e,1)}var w,x,_=u.defer(),k=_.promise,S=t.headers,C=h(t.url,t.paramSerializer(t.params));return m.pendingRequests.push(t),k.then(f,f),!t.cache&&!e.cache||!1===t.cache||"GET"!==t.method&&"JSONP"!==t.method||(w=b(t.cache)?t.cache:b(e.cache)?e.cache:y),w&&(x=w.get(C),v(x)?x&&$(x.then)?x.then(p,p):ri(x)?c(x[1],x[0],le(x[2]),x[3]):c(x,200,{},"OK"):w.put(C,k)),g(x)&&((x=ln(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0)&&(S[t.xsrfHeaderName||e.xsrfHeaderName]=x),r(t.method,C,a,l,S,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))),k}function h(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var y=c("$http");e.paramSerializer=w(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var x=[];return i(o,function(e){x.unshift(w(e)?p.get(e):p.invoke(e))}),m.pendingRequests=[],function(e){i(arguments,function(e){m[e]=function(t,n){return m(l({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){i(arguments,function(e){m[e]=function(t,n,i){return m(l({},i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),m.defaults=e,m}]}function ut(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function pt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return mt(e,i,e.defer,t,n[0])}]}function mt(e,t,n,a,o){function r(e,t,n){e=e.replace("JSON_CALLBACK",t);var i=o.createElement("script"),r=null;return i.type="text/javascript",i.src=e,i.async=!0,r=function(e){i.removeEventListener("load",r,!1),i.removeEventListener("error",r,!1),o.body.removeChild(i),i=null;var s=-1,l="unknown";e&&("load"!==e.type||a.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},i.addEventListener("load",r,!1),i.addEventListener("error",r,!1),o.body.appendChild(i),r}return function(o,s,l,c,d,u,m,f,h,b){function y(){_&&_(),k&&k.abort()}function w(t,i,a,o,r){v(S)&&n.cancel(S),_=k=null,t(i,a,o,r),e.$$completeOutstandingRequest(p)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"===Xn(o))var x=a.createCallback(s),_=r(s,x,function(e,t){var n=200===e&&a.getResponse(x);w(c,e,n,"",t),a.removeCallback(x)});else{var k=t(o,s);if(k.open(o,s,!0),i(d,function(e,t){v(e)&&k.setRequestHeader(t,e)}),k.onload=function(){var e=k.statusText||"",t="response"in k?k.response:k.responseText,n=1223===k.status?204:k.status;0===n&&(n=t?200:"file"==sn(s).protocol?404:0),w(c,n,t,k.getAllResponseHeaders(),e)},o=function(){w(c,-1,null,null,"")},k.onerror=o,k.onabort=o,i(h,function(e,t){k.addEventListener(t,e)}),i(b,function(e,t){k.upload.addEventListener(t,e)}),m&&(k.withCredentials=!0),f)try{k.responseType=f}catch(e){if("json"!==f)throw e}k.send(g(l)?null:l)}if(0<u)var S=n(y,u);else u&&$(u.then)&&u.then(y)}}function ft(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,a){function o(e){return"\\\\\\"+e}function r(n){return n.replace(p,e).replace(m,t)}function s(e,t,n,i){var a;return a=e.$watch(function(e){return a(),i(e)},t,n)}function c(o,c,p,m){function h(e){try{var t=e;e=p?a.getTrusted(p,t):a.valueOf(t);var n;if(m&&!v(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=L(e)}n=e}return n}catch(e){i(sa.interr(o,e))}}if(!o.length||-1===o.indexOf(e)){var b;return c||(c=r(o),b=f(c),b.exp=o,b.expressions=[],b.$$watchDelegate=s),b}m=!!m;var y,w,x=0,_=[],k=[];b=o.length;for(var S=[],C=[];x<b;){if(-1==(y=o.indexOf(e,x))||-1==(w=o.indexOf(t,y+d))){x!==b&&S.push(r(o.substring(x)));break}x!==y&&S.push(r(o.substring(x,y))),x=o.substring(y+d,w),_.push(x),k.push(n(x,h)),x=w+u,C.push(S.length),S.push("")}if(p&&1<S.length&&sa.throwNoconcat(o),!c||_.length){var D=function(e){for(var t=0,n=_.length;t<n;t++){if(m&&g(e[t]))return;S[C[t]]=e[t]}return S.join("")};return l(function(e){var t=0,n=_.length,a=Array(n);try{for(;t<n;t++)a[t]=k[t](e);return D(a)}catch(e){i(sa.interr(o,e))}},{exp:o,expressions:_,$$watchDelegate:function(e,t){var n;return e.$watchGroup(k,function(i,a){var o=D(i);$(t)&&t.call(this,o,i!==a?n:o,e),n=o})}})}}var d=e.length,u=t.length,p=new RegExp(e.replace(/./g,o),"g"),m=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function ht(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,a){function o(o,s,l,c){function d(){u?o.apply(null,p):o(h)}var u=4<arguments.length,p=u?Qn.call(arguments,4):[],m=t.setInterval,f=t.clearInterval,h=0,g=v(c)&&!c,b=(g?i:n).defer(),y=b.promise;return l=v(l)?l:0,y.$$intervalId=m(function(){g?a.defer(d):e.$evalAsync(d),b.notify(h++),0<l&&h>=l&&(b.resolve(h),f(y.$$intervalId),delete r[y.$$intervalId]),g||e.$apply()},s),r[y.$$intervalId]=b,y}var r={};return o.cancel=function(e){return!!(e&&e.$$intervalId in r)&&(r[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete r[e.$$intervalId],!0)},o}]}function gt(e){e=e.split("/");for(var t=e.length;t--;)e[t]=V(e[t]);return e.join("/")}function vt(e,t){var n=sn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||da[n.protocol]||null}function bt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=sn(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=W(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function yt(e,t){if(0===t.lastIndexOf(e,0))return t.substr(e.length)}function wt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function xt(e){return e.replace(/(#.+)|#$/,"$1")}function _t(e,t,n){this.$$html5=!0,n=n||"",vt(e,this),this.$$parse=function(e){var n=yt(t,e);if(!w(n))throw ua("ipthprfx",e,t);bt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=q(this.$$search),n=this.$$hash?"#"+V(this.$$hash):"";this.$$url=gt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,a){if(a&&"#"===a[0])return this.hash(a.slice(1)),!0;var o,r;return v(o=yt(e,i))?(r=o,r=v(o=yt(n,o))?t+(yt("/",o)||o):e+r):v(o=yt(t,i))?r=t+o:t==i+"/"&&(r=t),r&&this.$$parse(r),!!r}}function $t(e,t,n){vt(e,this),this.$$parse=function(i){var a,o=yt(e,i)||yt(t,i);g(o)||"#"!==o.charAt(0)?this.$$html5?a=o:(a="",g(o)&&(e=i,this.replace())):(a=yt(n,o),g(a)&&(a=o)),bt(a,this),i=this.$$path;var o=e,r=/^\/[A-Z]:(\/.*)/;0===a.lastIndexOf(o,0)&&(a=a.replace(o,"")),r.exec(a)||(i=(a=r.exec(i))?a[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var t=q(this.$$search),i=this.$$hash?"#"+V(this.$$hash):"";this.$$url=gt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return wt(e)==wt(t)&&(this.$$parse(t),!0)}}function kt(e,t,n){this.$$html5=!0,$t.apply(this,arguments),this.$$parseLinkUrl=function(i,a){if(a&&"#"===a[0])return this.hash(a.slice(1)),!0;var o,r;return e==wt(i)?o=i:(r=yt(t,i))?o=e+n+r:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=q(this.$$search),i=this.$$hash?"#"+V(this.$$hash):"";this.$$url=gt(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}function St(e){return function(){return this[e]}}function Ct(e,t){return function(n){return g(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Dt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return v(t)?(e=t,this):e},this.html5Mode=function(e){return D(e)?(t.enabled=e,this):b(e)?(D(e.enabled)&&(t.enabled=e.enabled),D(e.requireBase)&&(t.requireBase=e.requireBase),D(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,a,o,r){function s(e,t,n){var a=c.url(),o=c.$$state;try{i.url(e,t,n),c.$$state=i.state()}catch(e){throw c.url(a),c.$$state=o,e}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,d;d=i.baseHref();var u,p=i.url();if(t.enabled){if(!d&&t.requireBase)throw ua("nobase");u=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(d||"/"),d=a.history?_t:kt}else u=wt(p),d=$t;var m=u.substr(0,wt(u).lastIndexOf("/")+1);c=new d(u,m,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=i.state();var f=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var a=qn(e.target);"a"!==M(a[0]);)if(a[0]===o[0]||!(a=a.parent())[0])return;var s=a.prop("href"),l=a.attr("href")||a.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=sn(s.animVal).href),f.test(s)||!s||a.attr("target")||e.isDefaultPrevented()||!c.$$parseLinkUrl(s,l)||(e.preventDefault(),c.absUrl()!=i.url()&&(n.$apply(),r.angular["ff-684208-preventDefault"]=!0))}}),xt(c.absUrl())!=xt(p)&&i.url(c.absUrl(),!0);var h=!0;return i.onUrlChange(function(e,t){g(yt(m,e))?r.location.href=e:(n.$evalAsync(function(){var i,a=c.absUrl(),o=c.$$state;e=xt(e),c.$$parse(e),c.$$state=t,i=n.$broadcast("$locationChangeStart",e,a,t,o).defaultPrevented,c.absUrl()===e&&(i?(c.$$parse(a),c.$$state=o,s(a,!1,o)):(h=!1,l(a,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var e=xt(i.url()),t=xt(c.absUrl()),o=i.state(),r=c.$$replace,d=e!==t||c.$$html5&&a.history&&o!==c.$$state;(h||d)&&(h=!1,n.$evalAsync(function(){var t=c.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,c.$$state,o).defaultPrevented;c.absUrl()===t&&(i?(c.$$parse(e),c.$$state=o):(d&&s(t,r,o===c.$$state?null:c.$$state),l(e,o)))})),c.$$replace=!1}),c}]}function Tt(){var e=!0,t=this;this.debugEnabled=function(t){return v(t)?(e=t,this):e},this.$get=["$window",function(n){function a(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||p;e=!1;try{e=!!o.apply}catch(e){}return e?function(){var e=[];return i(arguments,function(t){e.push(a(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Et(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw ma("isecfld",t);return e}function It(e){return e+""}function Mt(e,t){if(e){if(e.constructor===e)throw ma("isecfn",t);if(e.window===e)throw ma("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw ma("isecdom",t);if(e===Object)throw ma("isecobj",t)}return e}function At(e,t){if(e){if(e.constructor===e)throw ma("isecfn",t);if(e===fa||e===ha||e===ga)throw ma("isecff",t)}}function Ot(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw ma("isecaf",t)}function Pt(e,t){return"undefined"!=typeof e?e:t}function Ft(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Nt(e,t){var n,a;switch(e.type){case wa.Program:n=!0,i(e.body,function(e){Nt(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case wa.Literal:e.constant=!0,e.toWatch=[];break;case wa.UnaryExpression:Nt(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case wa.BinaryExpression:Nt(e.left,t),Nt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case wa.LogicalExpression:Nt(e.left,t),Nt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case wa.ConditionalExpression:Nt(e.test,t),Nt(e.alternate,t),Nt(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case wa.Identifier:e.constant=!1,e.toWatch=[e];break;case wa.MemberExpression:Nt(e.object,t),e.computed&&Nt(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case wa.CallExpression:n=!!e.filter&&!t(e.callee.name).$stateful,a=[],i(e.arguments,function(e){Nt(e,t),n=n&&e.constant,e.constant||a.push.apply(a,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?a:[e];break;case wa.AssignmentExpression:Nt(e.left,t),Nt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case wa.ArrayExpression:n=!0,a=[],i(e.elements,function(e){Nt(e,t),n=n&&e.constant,e.constant||a.push.apply(a,e.toWatch)}),e.constant=n,e.toWatch=a;break;case wa.ObjectExpression:n=!0,a=[],i(e.properties,function(e){Nt(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||a.push.apply(a,e.value.toWatch)}),e.constant=n,e.toWatch=a;break;case wa.ThisExpression:e.constant=!1,e.toWatch=[];break;case wa.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Rt(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:void 0}}function Lt(e){return e.type===wa.Identifier||e.type===wa.MemberExpression}function Bt(e){if(1===e.body.length&&Lt(e.body[0].expression))return{type:wa.AssignmentExpression,left:e.body[0].expression,right:{type:wa.NGValueParameter},operator:"="}}function jt(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===wa.Literal||e.body[0].expression.type===wa.ArrayExpression||e.body[0].expression.type===wa.ObjectExpression)}function zt(e,t){this.astBuilder=e,this.$filter=t}function Ut(e,t){this.astBuilder=e,this.$filter=t}function Ht(e){return"constructor"==e}function Wt(e){return $(e.valueOf)?e.valueOf():_a.call(e)}function qt(){var e,t,n=re(),a=re(),o={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(r){function s(e,t,i){var o,s,c;switch(i=i||w,typeof e){case"string":c=e=e.trim();var g=i?a:n;if(o=g[c],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2)),o=i?y:b;var v=new ya(o);o=new xa(v,r,o).parse(e),o.constant?o.$$watchDelegate=f:s?o.$$watchDelegate=o.literal?m:u:o.inputs&&(o.$$watchDelegate=d),i&&(o=l(o)),g[c]=o}return h(o,t);case"function":return h(e,t);default:return h(p,t)}}function l(e){function t(t,n,i,a){var o=w;w=!0;try{return e(t,n,i,a)}finally{w=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function c(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=Wt(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function d(e,t,n,i,a){var o,r=i.inputs;if(1===r.length){var s=c,r=r[0];return e.$watch(function(e){var t=r(e);return c(t,s)||(o=i(e,void 0,void 0,[t]),s=t&&Wt(t)),o},t,n,a)}for(var l=[],d=[],u=0,p=r.length;u<p;u++)l[u]=c,d[u]=null;return e.$watch(function(e){for(var t=!1,n=0,a=r.length;n<a;n++){var s=r[n](e);(t||(t=!c(s,l[n])))&&(d[n]=s,l[n]=s&&Wt(s))}return t&&(o=i(e,void 0,void 0,d)),o},t,n,a)}function u(e,t,n,i){var a,o;return a=e.$watch(function(e){return i(e)},function(e,n,i){o=e,$(t)&&t.apply(this,arguments),v(e)&&i.$$postDigest(function(){v(o)&&a()})},n)}function m(e,t,n,a){function o(e){var t=!0;return i(e,function(e){v(e)||(t=!1)}),t}var r,s;return r=e.$watch(function(e){return a(e)},function(e,n,i){s=e,$(t)&&t.call(this,e,n,i),o(e)&&i.$$postDigest(function(){o(s)&&r()})},n)}function f(e,t,n,i){var a;return a=e.$watch(function(e){return a(),i(e)},t,n)}function h(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,n=n!==m&&n!==u?function(n,a,o,r){return o=i&&r?r[0]:e(n,a,o,r),t(o,n,a)}:function(n,i,a,o){return a=e(n,i,a,o),n=t(a,n,i),v(a)?n:a};return e.$$watchDelegate&&e.$$watchDelegate!==d?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=d,i=!e.inputs,n.inputs=e.inputs?e.inputs:[e]),n}var g=di().noUnsafeEval,b={csp:g,expensiveChecks:!1,literals:O(o),isIdentifierStart:$(e)&&e,isIdentifierContinue:$(t)&&t},y={csp:g,expensiveChecks:!0,literals:O(o),isIdentifierStart:$(e)&&e,isIdentifierContinue:$(t)&&t},w=!1;return s.$$runningExpensiveChecks=function(){return w},s}]}function Vt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Gt(function(t){e.$evalAsync(t)},t)}]}function Yt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Gt(function(t){e.defer(t)},t)}]}function Gt(e,n){function a(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function r(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){var e,i,a;a=t.pending,t.processScheduled=!1,t.pending=void 0;for(var o=0,r=a.length;o<r;++o){i=a[o][0],e=a[o][t.status];try{$(e)?i.resolve(e(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(e){i.reject(e),n(e)}}}))}function s(){this.promise=new a}var c=t("$q",TypeError),d=function(){var e=new s;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e};l(a.prototype,{then:function(e,t,n){if(g(e)&&g(t)&&g(n))return this;var i=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&r(this.$$state),i.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return p(t,!0,e)},function(t){return p(t,!1,e)},t)}}),l(s.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(c("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,s.$$resolve(e))}function i(e){l||(l=!0,s.$$reject(e))}var a,s=this,l=!1;try{(b(e)||$(e))&&(a=e&&e.then),$(a)?(this.promise.$$state.status=-1,a.call(e,t,i,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,r(this.promise.$$state))}catch(e){i(e),n(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,r(this.promise.$$state)},notify:function(t){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&e(function(){for(var e,a,o=0,r=i.length;o<r;o++){a=i[o][0],e=i[o][3];try{a.notify($(e)?e(t):t)}catch(e){n(e)}}})}});var u=function(e,t){var n=new s;return t?n.resolve(e):n.reject(e),n.promise},p=function(e,t,n){var i=null;try{$(n)&&(i=n())}catch(e){return u(e,!1)}return i&&$(i.then)?i.then(function(){return u(e,t)},function(e){return u(e,!1)}):u(e,t)},m=function(e,t,n,i){var a=new s;return a.resolve(e),a.promise.then(t,n,i)},f=function(e){if(!$(e))throw c("norslvr",e);var t=new s;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return f.prototype=a.prototype,f.defer=d,f.reject=function(e){var t=new s;return t.reject(e),t.promise},f.when=m,f.resolve=m,f.all=function(e){var t=new s,n=0,a=ri(e)?[]:{};return i(e,function(e,i){n++,m(e).then(function(e){a.hasOwnProperty(i)||(a[i]=e,--n||t.resolve(a))},function(e){a.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(a),t.promise},f.race=function(e){var t=d();return i(e,function(e){m(e).then(t.resolve,t.reject)}),t.promise},f}function Kt(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,a=!!n,o=a?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=a,o}]}function Xt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++oi,this.$$ChildScope=null}return t.prototype=e,t}var a=10,o=t("$rootScope"),r=null,s=null;this.digestTtl=function(e){return arguments.length&&(a=e),a},this.$get=["$exceptionHandler","$parse","$browser",function(t,l,c){function d(e){e.currentScope.$$destroyed=!0}function u(e){9===Wn&&(e.$$childHead&&u(e.$$childHead),e.$$nextSibling&&u(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function m(){this.$id=++oi,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(e){if(_.$$phase)throw o("inprog",_.$$phase);_.$$phase=e}function h(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function v(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function y(){}function w(){for(;C.length;)try{C.shift()()}catch(e){t(e)}s=null}function x(){null===s&&(s=c.defer(function(){_.$apply(w)}))}m.prototype={constructor:m,$new:function(t,n){var i;return n=n||this,t?(i=new m,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!=this)&&i.$on("$destroy",d),i},$watch:function(e,t,n,i){var a=l(e);if(a.$$watchDelegate)return a.$$watchDelegate(this,t,n,a,e);var o=this,s=o.$$watchers,c={fn:t,last:y,get:a,exp:i||e,eq:!!n};return r=null,$(t)||(c.fn=p),s||(s=o.$$watchers=[]),s.unshift(c),h(this,1),function(){0<=A(s,c)&&h(o,-1),r=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(o,o,s)):t(o,a,s)}var a=Array(e.length),o=Array(e.length),r=[],s=this,l=!1,c=!0;if(!e.length){var d=!0;return s.$evalAsync(function(){d&&t(o,o,s)}),function(){d=!1}}return 1===e.length?this.$watch(e[0],function(e,n,i){o[0]=e,a[0]=n,t(o,e===n?o:a,i)}):(i(e,function(e,t){var i=s.$watch(e,function(e,i){o[t]=e,a[t]=i,l||(l=!0,s.$evalAsync(n))});r.push(i)}),function(){for(;r.length;)r.shift()()})},$watchCollection:function(e,t){function i(e){a=e;var t,i,r,s;if(!g(a)){if(b(a))if(n(a))for(o!==p&&(o=p,h=o.length=0,d++),e=a.length,h!==e&&(d++,o.length=h=e),t=0;t<e;t++)s=o[t],r=a[t],i=s!==s&&r!==r,i||s===r||(d++,o[t]=r);else{o!==m&&(o=m={},h=0,d++),e=0;for(t in a)Kn.call(a,t)&&(e++,r=a[t],s=o[t],t in o?(i=s!==s&&r!==r,i||s===r||(d++,o[t]=r)):(h++,o[t]=r,d++));if(h>e)for(t in d++,o)Kn.call(a,t)||(h--,delete o[t])}else o!==a&&(o=a,d++);return d}}i.$stateful=!0;var a,o,r,s=this,c=1<t.length,d=0,u=l(e,i),p=[],m={},f=!0,h=0;return this.$watch(u,function(){if(f?(f=!1,t(a,a,s)):t(a,r,s),c)if(b(a))if(n(a)){r=Array(a.length);for(var e=0;e<a.length;e++)r[e]=a[e]}else for(e in r={},a)Kn.call(a,e)&&(r[e]=a[e]);else r=a})},$digest:function(){var e,n,i,l,d,u,p,m,h,g,v,b=a,x=[];f("$digest"),c.$$checkUrlChange(),this===_&&null!==s&&(c.defer.cancel(s),w()),r=null;do{for(m=!1,h=this,u=0;u<k.length;u++){try{v=k[u],v.scope.$eval(v.expression,v.locals)}catch(e){t(e)}r=null}k.length=0;e:do{if(u=h.$$watchers)for(p=u.length;p--;)try{if(e=u[p])if(d=e.get,(n=d(h))===(i=e.last)||(e.eq?P(n,i):"number"==typeof n&&"number"==typeof i&&isNaN(n)&&isNaN(i))){if(e===r){m=!1;break e}}else m=!0,r=e,e.last=e.eq?O(n,null):n,l=e.fn,l(n,i===y?n:i,h),5>b&&(g=4-b,x[g]||(x[g]=[]),x[g].push({msg:$(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:i}))}catch(e){t(e)}if(!(u=h.$$watchersCount&&h.$$childHead||h!==this&&h.$$nextSibling))for(;h!==this&&!(u=h.$$nextSibling);)h=h.$parent}while(h=u);if((m||k.length)&&!b--)throw _.$$phase=null,o("infdig",a,x)}while(m||k.length);for(_.$$phase=null;D<S.length;)try{S[D++]()}catch(e){t(e)}S.length=D=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===_&&c.$$applicationDestroyed(),h(this,-this.$$watchersCount);for(var t in this.$$listenerCount)v(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,u(this)}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){_.$$phase||k.length||c.defer(function(){k.length&&_.$digest()}),k.push({scope:this,expression:l(e),locals:t})},$$postDigest:function(e){S.push(e)},$apply:function(e){try{f("$apply");try{return this.$eval(e)}finally{_.$$phase=null}}catch(e){t(e)}finally{try{_.$digest()}catch(e){throw t(e),e}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&C.push(t),e=l(e),x()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var a=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,v(a,1,e))}},$emit:function(e,n){var i,a,o,r=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},d=F([c],arguments,1);do{for(i=s.$$listeners[e]||r,c.currentScope=s,a=0,o=i.length;a<o;a++)if(i[a])try{i[a].apply(null,d)}catch(e){t(e)}else i.splice(a,1),a--,o--;if(l)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,n){var i=this,a=this,o={name:e,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return o;for(var r,s,l=F([o],arguments,1);i=a;){for(o.currentScope=i,a=i.$$listeners[e]||[],r=0,s=a.length;r<s;r++)if(a[r])try{a[r].apply(null,l)}catch(e){t(e)}else a.splice(r,1),r--,s--;if(!(a=i.$$listenerCount[e]&&i.$$childHead||i!==this&&i.$$nextSibling))for(;i!==this&&!(a=i.$$nextSibling);)i=i.$parent}return o.currentScope=null,o}};var _=new m,k=_.$$asyncQueue=[],S=_.$$postDigestQueue=[],C=_.$$applyAsyncQueue=[],D=0;return _}]}function Jt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return v(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(t=e,this):t},this.$get=function(){return function(n,i){var a,o=i?t:e;return a=sn(n).href,""===a||a.match(o)?n:"unsafe:"+a}}}function Qt(e){if("self"===e)return e;if(w(e)){if(-1<e.indexOf("***"))throw $a("iwcard",e);return e=ci(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(k(e))return new RegExp("^"+e.source+"$");throw $a("imatcher")}function Zt(e){var t=[];return v(e)&&i(e,function(e){t.push(Qt(e))}),t}function en(){this.SCE_CONTEXTS=ka;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Zt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Zt(e)),t},this.$get=["$injector",function(n){function i(e,t){return"self"===e?ln(t):!!e.exec(t.href)}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var o=function(e){throw $a("unsafe")};n.has("$sanitize")&&(o=n.get("$sanitize"));var r=a(),s={};return s[ka.HTML]=a(r),s[ka.CSS]=a(r),s[ka.URL]=a(r),s[ka.JS]=a(r),s[ka.RESOURCE_URL]=a(s[ka.URL]),{
trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw $a("icontext",e,t);if(null===t||g(t)||""===t)return t;if("string"!=typeof t)throw $a("itype",e);return new n(t)},getTrusted:function(n,a){if(null===a||g(a)||""===a)return a;var r=s.hasOwnProperty(n)?s[n]:null;if(r&&a instanceof r)return a.$$unwrapTrustedValue();if(n===ka.RESOURCE_URL){var l,c,r=sn(a.toString()),d=!1;for(l=0,c=e.length;l<c;l++)if(i(e[l],r)){d=!0;break}if(d)for(l=0,c=t.length;l<c;l++)if(i(t[l],r)){d=!1;break}if(d)return a;throw $a("insecurl",a.toString())}if(n===ka.HTML)return o(a);throw $a("unsafe")},valueOf:function(e){return e instanceof r?e.$$unwrapTrustedValue():e}}}]}function tn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Wn)throw $a("iequirks");var a=le(ka);a.isEnabled=function(){return e},a.trustAs=n.trustAs,a.getTrusted=n.getTrusted,a.valueOf=n.valueOf,e||(a.trustAs=a.getTrusted=function(e,t){return t},a.valueOf=m),a.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return a.getTrusted(e,t)})};var o=a.parseAs,r=a.getTrusted,s=a.trustAs;return i(ka,function(e,t){var n=Xn(t);a[de("parse_as_"+n)]=function(t){return o(e,t)},a[de("get_trusted_"+n)]=function(t){return r(e,t)},a[de("trust_as_"+n)]=function(t){return s(e,t)}}),a}]}function nn(){this.$get=["$window","$document",function(e,t){var n,i={},a=!(e.chrome&&e.chrome.app&&e.chrome.app.runtime)&&e.history&&e.history.pushState,o=d((/android (\d+)/.exec(Xn((e.navigator||{}).userAgent))||[])[1]),r=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,c=s.body&&s.body.style,u=!1,p=!1;if(c){for(var m in c)if(u=l.exec(m)){n=u[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),u=!!("transition"in c||n+"Transition"in c),p=!!("animation"in c||n+"Animation"in c),!o||u&&p||(u=w(c.webkitTransition),p=w(c.webkitAnimation))}return{history:!(!a||4>o||r),hasEvent:function(e){if("input"===e&&11>=Wn)return!1;if(g(i[e])){var t=s.createElement("div");i[e]="on"+e in t}return i[e]},csp:di(),vendorPrefix:n,transitions:u,animations:p,android:o}}]}function an(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,i,a){function o(r,s){o.totalPendingRequests++,w(r)&&!g(t.get(r))||(r=a.getTrustedResourceUrl(r));var c=n.defaults&&n.defaults.transformResponse;return ri(c)?c=c.filter(function(e){return e!==rt}):c===rt&&(c=null),n.get(r,l({cache:t,transformResponse:c},e)).finally(function(){o.totalPendingRequests--}).then(function(e){return t.put(r,e.data),e.data},function(e){if(!s)throw Sa("tpload",r,e.status,e.statusText);return i.reject(e)})}return o.totalPendingRequests=0,o}]}function on(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var a=[];return i(e,function(e){var o=ai.element(e).data("$binding");o&&i(o,function(i){n?new RegExp("(^|\\s)"+ci(t)+"(\\s|\\||$)").test(i)&&a.push(e):-1!=i.indexOf(t)&&a.push(e)})}),a},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],a=0;a<i.length;++a){var o=e.querySelectorAll("["+i[a]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function rn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,a){function o(o,s,l){$(o)||(l=s,s=o,o=p);var c,d=Qn.call(arguments,3),u=v(l)&&!l,m=(u?i:n).defer(),f=m.promise;return c=t.defer(function(){try{m.resolve(o.apply(null,d))}catch(e){m.reject(e),a(e)}finally{delete r[f.$$timeoutId]}u||e.$apply()},s),f.$$timeoutId=c,r[c]=m,f}var r={};return o.cancel=function(e){return!!(e&&e.$$timeoutId in r)&&(r[e.$$timeoutId].reject("canceled"),delete r[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},o}]}function sn(e){return Wn&&(Ca.setAttribute("href",e),e=Ca.href),Ca.setAttribute("href",e),{href:Ca.href,protocol:Ca.protocol?Ca.protocol.replace(/:$/,""):"",host:Ca.host,search:Ca.search?Ca.search.replace(/^\?/,""):"",hash:Ca.hash?Ca.hash.replace(/^#/,""):"",hostname:Ca.hostname,port:Ca.port,pathname:"/"===Ca.pathname.charAt(0)?Ca.pathname:"/"+Ca.pathname}}function ln(e){return e=w(e)?sn(e):e,e.protocol===Da.protocol&&e.host===Da.host}function cn(){this.$get=f(e)}function dn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},i={},a="";return function(){var e,o,r,s,l;if(e=n.cookie||"",e!==a)for(a=e,e=a.split("; "),i={},r=0;r<e.length;r++)o=e[r],s=o.indexOf("="),0<s&&(l=t(o.substring(0,s)),g(i[l])&&(i[l]=t(o.substring(s+1))));return i}}function un(){this.$get=dn}function pn(e){function t(n,a){if(b(n)){var o={};return i(n,function(e,n){o[n]=t(n,e)}),o}return e.factory(n+"Filter",a)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",vn),t("date",Tn),t("filter",mn),t("json",En),t("limitTo",In),t("lowercase",Pa),t("number",bn),t("orderBy",An),t("uppercase",Fa)}function mn(){return function(e,i,a,o){if(!n(e)){if(null==e)return e;throw t("filter")("notarray",e)}o=o||"$";var r;switch(gn(i)){case"function":break;case"boolean":case"null":case"number":case"string":r=!0;case"object":i=fn(i,a,o,r);break;default:return e}return Array.prototype.filter.call(e,i)}}function fn(e,t,n,i){var a=b(e)&&n in e;return!0===t?t=P:$(t)||(t=function(e,t){return!g(e)&&(null===e||null===t?e===t:!(b(t)||b(e)&&!h(e))&&(e=Xn(""+e),t=Xn(""+t),-1!==e.indexOf(t)))}),function(o){return a&&!b(o)?hn(o,e[n],t,n,!1):hn(o,e,t,n,i)}}function hn(e,t,n,i,a,o){var r=gn(e),s=gn(t);if("string"===s&&"!"===t.charAt(0))return!hn(e,t.substring(1),n,i,a);if(ri(e))return e.some(function(e){return hn(e,t,n,i,a)});switch(r){case"object":var l;if(a){for(l in e)if("$"!==l.charAt(0)&&hn(e[l],t,n,i,!0))return!0;return!o&&hn(e,t,n,i,!1)}if("object"===s){for(l in t)if(o=t[l],!$(o)&&!g(o)&&(r=l===i,!hn(r?e:e[l],o,n,i,r,r)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function gn(e){return null===e?"null":typeof e}function vn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return g(n)&&(n=t.CURRENCY_SYM),g(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:xn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function bn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:xn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function yn(e){var t,n,i,a,o,r=0;for(-1<(n=e.indexOf(Ea))&&(e=e.replace(Ea,"")),0<(i=e.search(/e/i))?(0>n&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):0>n&&(n=e.length),i=0;e.charAt(i)==Ia;i++);if(i==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==Ia;)o--;for(n-=i,t=[],a=0;i<=o;i++,a++)t[a]=+e.charAt(i)}return n>Ta&&(t=t.splice(0,Ta-1),r=n-1,n=1),{d:t,e:r,i:n}}function wn(e,t,n,i){var a=e.d,o=a.length-e.i;if(t=g(t)?Math.min(Math.max(n,o),i):+t,n=t+e.i,i=a[n],0<n){a.splice(Math.max(e.i,n));for(var r=n;r<a.length;r++)a[r]=0}else for(o=Math.max(0,o),e.i=1,a.length=Math.max(1,n=t+1),a[0]=0,r=1;r<n;r++)a[r]=0;if(5<=i)if(0>n-1){for(i=0;i>n;i--)a.unshift(0),e.i++;a.unshift(1),e.i++}else a[n-1]++;for(;o<Math.max(0,t);o++)a.push(0);(t=a.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0))&&(a.unshift(t),e.i++)}function xn(e,t,n,i,a){if(!w(e)&&!x(e)||isNaN(e))return"";var o=!isFinite(e),r=!1,s=Math.abs(e)+"",l="";if(o)l="∞";else{for(r=yn(s),wn(r,a,t.minFrac,t.maxFrac),l=r.d,s=r.i,a=r.e,o=[],r=l.reduce(function(e,t){return e&&!t},!0);0>s;)l.unshift(0),s++;for(0<s?o=l.splice(s,l.length):(o=l,l=[0]),s=[],l.length>=t.lgSize&&s.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)s.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),o.length&&(l+=i+o.join("")),a&&(l+="e+"+a)}return 0>e&&!r?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function _n(e,t,n,i){var a="";for((0>e||i&&0>=e)&&(i?e=-e+1:(e=-e,a="-")),e=""+e;e.length<t;)e=Ia+e;return n&&(e=e.substr(e.length-t)),a+e}function $n(e,t,n,i,a){return n=n||0,function(o){return o=o["get"+e](),(0<n||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),_n(o,t,i,a)}}function kn(e,t,n){return function(i,a){var o=i["get"+e](),r=Jn((n?"STANDALONE":"")+(t?"SHORT":"")+e);return a[r][o]}}function Sn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Cn(e){return function(t){var n=Sn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),_n(t,e)}}function Dn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function Tn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var i=0,a=0,o=t[8]?e.setUTCFullYear:e.setFullYear,r=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=d(t[9]+t[10]),a=d(t[9]+t[11])),o.call(e,d(t[1]),d(t[2])-1,d(t[3])),i=d(t[4]||0)-i,a=d(t[5]||0)-a,o=d(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),r.call(e,i,a,o,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,a,o){var r,s,l="",c=[];if(a=a||"mediumDate",a=e.DATETIME_FORMATS[a]||a,w(n)&&(n=Oa.test(n)?d(n):t(n)),x(n)&&(n=new Date(n)),!_(n)||!isFinite(n.getTime()))return n;for(;a;)(s=Aa.exec(a))?(c=F(c,s,1),a=c.pop()):(c.push(a),a=null);var u=n.getTimezoneOffset();return o&&(u=j(o,u),n=z(n,o,!0)),i(c,function(t){r=Ma[t],l+=r?r(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function En(){return function(e,t){return g(t)&&(t=2),L(e,t)}}function In(){return function(e,t,i){return t=1/0===Math.abs(Number(t))?Number(t):d(t),isNaN(t)?e:(x(e)&&(e=e.toString()),n(e)?(i=!i||isNaN(i)?0:d(i),i=0>i?Math.max(0,e.length+i):i,0<=t?Mn(e,i,i+t):0===i?Mn(e,t,e.length):Mn(e,Math.max(0,i+t),i)):e)}}function Mn(e,t,n){return w(e)?e.slice(t,n):Qn.call(e,t,n)}function An(e){function i(t){return t.map(function(t){var n=1,i=m;if($(t))i=t;else if(w(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(n="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant)))var a=i(),i=function(e){return e[a]};return{get:i,descending:n}})}function a(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e,t){var n=0,i=e.type,a=t.type;if(i===a){var a=e.value,o=t.value;"string"===i?(a=a.toLowerCase(),o=o.toLowerCase()):"object"===i&&(b(a)&&(a=e.index),b(o)&&(o=t.index)),a!==o&&(n=a<o?-1:1)}else n=i<a?-1:1;return n}return function(e,r,s,l){if(null==e)return e;if(!n(e))throw t("orderBy")("notarray",e);ri(r)||(r=[r]),0===r.length&&(r=["+"]);var c=i(r),d=s?-1:1,u=$(l)?l:o;return e=Array.prototype.map.call(e,function(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:c.map(function(n){var i=n.get(e);return n=typeof i,null===i?(n="string",i="null"):"object"===n&&($(i.valueOf)&&(i=i.valueOf(),a(i))||h(i)&&(i=i.toString(),a(i))),{value:i,type:n,index:t}})}}),e.sort(function(e,t){for(var n=0,i=c.length;n<i;n++){var a=u(e.predicateValues[n],t.predicateValues[n]);if(a)return a*c[n].descending*d}return u(e.tieBreaker,t.tieBreaker)*d}),e=e.map(function(e){return e.value})}}function On(e){return $(e)&&(e={link:e}),e.restrict=e.restrict||"AC",f(e)}function Pn(e,t,n,a,o){var r=this,s=[];r.$error={},r.$$success={},r.$pending=void 0,r.$name=o(t.name||t.ngForm||"")(n),r.$dirty=!1,r.$pristine=!0,r.$valid=!0,r.$invalid=!1,r.$submitted=!1,r.$$parentForm=La,r.$rollbackViewValue=function(){i(s,function(e){e.$rollbackViewValue()})},r.$commitViewValue=function(){i(s,function(e){e.$commitViewValue()})},r.$addControl=function(e){ie(e.$name,"input"),s.push(e),e.$name&&(r[e.$name]=e),e.$$parentForm=r},r.$$renameControl=function(e,t){var n=e.$name;r[n]===e&&delete r[n],r[t]=e,e.$name=t},r.$removeControl=function(e){e.$name&&r[e.$name]===e&&delete r[e.$name],i(r.$pending,function(t,n){r.$setValidity(n,null,e)}),i(r.$error,function(t,n){r.$setValidity(n,null,e)}),i(r.$$success,function(t,n){r.$setValidity(n,null,e)}),A(s,e),e.$$parentForm=La},Un({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(A(i,n),0===i.length&&delete e[t])},$animate:a}),r.$setDirty=function(){a.removeClass(e,xo),a.addClass(e,_o),r.$dirty=!0,r.$pristine=!1,r.$$parentForm.$setDirty()},r.$setPristine=function(){a.setClass(e,xo,_o+" ng-submitted"),r.$dirty=!1,r.$pristine=!0,r.$submitted=!1,i(s,function(e){e.$setPristine()})},r.$setUntouched=function(){i(s,function(e){e.$setUntouched()})},r.$setSubmitted=function(){a.addClass(e,"ng-submitted"),r.$submitted=!0,r.$$parentForm.$setSubmitted()}}function Fn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Nn(e,t,n,i,a,o){var r=Xn(t[0].type);if(!a.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,c()})}var l,c=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var a=t.val();e=e&&e.type,"password"===r||n.ngTrim&&"false"===n.ngTrim||(a=li(a)),(i.$viewValue!==a||""===a&&i.$$hasNativeValidators)&&i.$setViewValue(a,e)}};if(a.hasEvent("input"))t.on("input",c);else{var d=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||d(e,this,this.value)}),a.hasEvent("paste")&&t.on("paste cut",d)}t.on("change",c),Ja[r]&&i.$$hasNativeValidators&&r===n.type&&t.on("keydown wheel mousedown",function(e){if(!l){var t=this.validity,n=t.badInput,i=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===i||c(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function Rn(e,t){return function(n,a){var o,r;if(_(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ua.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),r=a?{yyyy:a.getFullYear(),MM:a.getMonth()+1,dd:a.getDate(),HH:a.getHours(),mm:a.getMinutes(),ss:a.getSeconds(),sss:a.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(e,n){n<t.length&&(r[t[n]]=+e)}),new Date(r.yyyy,r.MM-1,r.dd,r.HH,r.mm,r.ss||0,1e3*r.sss||0)}return NaN}}function Ln(e,t,n,i){return function(a,o,r,s,l,c,d){function u(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return v(e)&&!_(e)?n(e)||void 0:e}Bn(a,o,r,s),Nn(a,o,r,s,l,c);var m,f=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){return s.$isEmpty(e)?null:t.test(e)?(e=n(e,m),f&&(e=z(e,f)),e):void 0}),s.$formatters.push(function(e){if(e&&!_(e))throw ko("datefmt",e);return u(e)?((m=e)&&f&&(m=z(m,f,!0)),d("date")(e,i,f)):(m=null,"")}),v(r.min)||r.ngMin){var h;s.$validators.min=function(e){return!u(e)||g(h)||n(e)>=h},r.$observe("min",function(e){h=p(e),s.$validate()})}if(v(r.max)||r.ngMax){var b;s.$validators.max=function(e){return!u(e)||g(b)||n(e)<=b},r.$observe("max",function(e){b=p(e),s.$validate()})}}}function Bn(e,t,n,i){(i.$$hasNativeValidators=b(t[0].validity))&&i.$parsers.push(function(e){var n=t.prop("validity")||{};return n.badInput||n.typeMismatch?void 0:e})}function jn(e,t,n,i,a){if(v(i)){if(e=e(i),!e.constant)throw ko("constexpr",n,i);return e(t)}return a}function zn(e,t){return e="ngClass"+e,["$animate",function(n){function a(e,t){var n=[],i=0;e:for(;i<e.length;i++){for(var a=e[i],o=0;o<t.length;o++)if(a==t[o])continue e;n.push(a)}return n}function o(e){var t=[];return ri(e)?(i(e,function(e){t=t.concat(o(e))}),t):w(e)?e.split(" "):b(e)?(i(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(r,s,l){function c(e){e=d(e,1),l.$addClass(e)}function d(e,t){var n=s.data("$classCounts")||re(),a=[];return i(e,function(e){(0<t||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(0<t)&&a.push(e))}),s.data("$classCounts",n),a.join(" ")}function u(e,t){var i=a(t,e),o=a(e,t),i=d(i,1),o=d(o,-1);i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function p(e){if(!0===t||(1&r.$index)===t){var n=o(e||[]);if(m){if(!P(e,m)){var i=o(m);u(i,n)}}else c(n)}m=ri(e)?e.map(function(e){return le(e)}):le(e)}var m;r.$watch(l[e],p,!0),l.$observe("class",function(t){p(r.$eval(l[e]))}),"ngClass"!==e&&r.$watch("$index",function(n,i){var a=1&n;if(a!==(1&i)){var s=o(r.$eval(l[e]));a===t?c(s):(a=d(s,-1),l.$removeClass(a))}})}}}]}function Un(e){function t(e,t){t&&!o[e]?(l.addClass(a,e),o[e]=!0):!t&&o[e]&&(l.removeClass(a,e),o[e]=!1)}function n(e,n){e=e?"-"+Z(e,"-"):"",t(yo+e,!0===n),t(wo+e,!1===n)}var i=e.ctrl,a=e.$element,o={},r=e.set,s=e.unset,l=e.$animate;o[wo]=!(o[yo]=a.hasClass(yo)),i.$setValidity=function(e,a,o){g(a)?(i.$pending||(i.$pending={}),r(i.$pending,e,o)):(i.$pending&&s(i.$pending,e,o),Hn(i.$pending)&&(i.$pending=void 0)),D(a)?a?(s(i.$error,e,o),r(i.$$success,e,o)):(r(i.$error,e,o),s(i.$$success,e,o)):(s(i.$error,e,o),s(i.$$success,e,o)),i.$pending?(t($o,!0),i.$valid=i.$invalid=void 0,n("",null)):(t($o,!1),i.$valid=Hn(i.$error),i.$invalid=!i.$valid,n("",i.$valid)),a=i.$pending&&i.$pending[e]?void 0:!i.$error[e]&&(!!i.$$success[e]||null),n(e,a),i.$$parentForm.$setValidity(e,a,i)}}function Hn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Wn,qn,Vn,Yn,Gn=/^\/(.+)\/([a-z]*)$/,Kn=Object.prototype.hasOwnProperty,Xn=function(e){return w(e)?e.toLowerCase():e},Jn=function(e){return w(e)?e.toUpperCase():e},Qn=[].slice,Zn=[].splice,ei=[].push,ti=Object.prototype.toString,ni=Object.getPrototypeOf,ii=t("ng"),ai=e.angular||(e.angular={}),oi=0;Wn=e.document.documentMode,p.$inject=[],m.$inject=[];var ri=Array.isArray,si=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,li=function(e){return w(e)?e.trim():e},ci=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},di=function(){if(!v(di.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");di.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{t=di;try{new Function(""),n=!1}catch(e){n=!0}t.rules={noUnsafeEval:n,noInlineStyle:!1}}}return di.rules},ui=function(){if(v(ui.name_))return ui.name_;var t,n,i,a,o=mi.length;for(n=0;n<o;++n)if(i=mi[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){a=t.getAttribute(i+"jq");break}return ui.name_=a},pi=/:/g,mi=["ng-","data-ng-","ng:","x-ng-"],fi=/[A-Z]/g,hi=!1,gi=3,vi={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};fe.expando="ng339";var bi=fe.cache={},yi=1;fe._data=function(e){return this.cache[e[this.expando]]||{}};var wi=/([\:\-\_]+(.))/g,xi=/^moz([A-Z])/,_i={mouseleave:"mouseout",mouseenter:"mouseover"},$i=t("jqLite"),ki=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Si=/<|&#?\w+;/,Ci=/<([\w:-]+)/,Di=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ti={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ti.optgroup=Ti.option,Ti.tbody=Ti.tfoot=Ti.colgroup=Ti.caption=Ti.thead,Ti.th=Ti.td;var Ei=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ii=fe.prototype={ready:function(t){function n(){i||(i=!0,t())}var i=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),fe(e).on("load",n))},toString:function(){var e=[];return i(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return qn(0<=e?this[e]:this[this.length+e])},length:0,push:ei,sort:[].sort,splice:[].splice},Mi={};i("multiple selected checked disabled readOnly required open".split(" "),function(e){Mi[Xn(e)]=e});var Ai={};i("input select option textarea button form details".split(" "),function(e){Ai[e]=!0});var Oi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:we,removeData:be,hasData:function(e){for(var t in bi[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)be(e[t])}},function(e,t){fe[t]=e}),i({data:we,inheritedData:Ce,scope:function(e){return qn.data(e,"$scope")||Ce(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return qn.data(e,"$isolateScope")||qn.data(e,"$isolateScopeNoTemplate")},controller:Se,injector:function(e){return Ce(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:xe,css:function(e,t,n){return t=de(t),v(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var i=e.nodeType;if(i!==gi&&2!==i&&8!==i)if(i=Xn(t),Mi[i]){if(!v(n))return e[t]||(e.attributes.getNamedItem(t)||p).specified?i:void 0;n?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(v(n))e.setAttribute(t,n);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?void 0:e},prop:function(e,t,n){return v(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(g(t)){var n=e.nodeType;return 1===n||n===gi?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(g(t)){if(e.multiple&&"select"===M(e)){var n=[];return i(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return g(t)?e.innerHTML:(ge(e,!0),void(e.innerHTML=t))},empty:De},function(e,t){fe.prototype[t]=function(t,n){var i,a,o=this.length;if(e!==De&&g(2==e.length&&e!==xe&&e!==Se?t:n)){if(b(t)){for(i=0;i<o;i++)if(e===we)e(this[i],t);else for(a in t)e(this[i],a,t[a]);return this}for(i=e.$dv,o=g(i)?Math.min(o,1):o,a=0;a<o;a++){var r=e(this[a],t,n);i=i?i+r:r}return i}for(i=0;i<o;i++)e(this[i],t,n);return this}}),i({removeData:be,on:function(e,t,n,i){if(v(i))throw $i("onargs");if(ue(e)){i=ye(e,!0);var a=i.events,o=i.handle;o||(o=i.handle=Me(e,a)),i=0<=t.indexOf(" ")?t.split(" "):[t];for(var r=i.length,s=function(t,i,r){var s=a[t];s||(s=a[t]=[],s.specialHandlerWrapper=i,"$destroy"===t||r||e.addEventListener(t,o,!1)),s.push(n)};r--;)t=i[r],_i[t]?(s(_i[t],Oe),s(t,void 0,!0)):s(t)}},off:ve,one:function(e,t,n){e=qn(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,a=e.parentNode;ge(e),i(new fe(t),function(t){n?a.insertBefore(t,n.nextSibling):a.replaceChild(t,e),n=t})},children:function(e){var t=[];return i(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n){t=new fe(t);for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;i(new fe(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){me(e,qn(t).eq(0).clone()[0])},remove:Te,detach:function(e){Te(e,!0)},after:function(e,t){var n=e,i=e.parentNode;t=new fe(t);for(var a=0,o=t.length;a<o;a++){var r=t[a];i.insertBefore(r,n.nextSibling),n=r}},addClass:$e,removeClass:_e,toggleClass:function(e,t,n){t&&i(t.split(" "),function(t){var i=n;g(i)&&(i=!xe(e,t)),(i?$e:_e)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:he,triggerHandler:function(e,t,n){var a,o,r=t.type||t,s=ye(e);(s=(s=s&&s.events)&&s[r])&&(a={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:p,type:r,target:e},t.type&&(a=l(a,t)),t=le(s),o=n?[a].concat(n):[a],i(t,function(t){a.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){fe.prototype[t]=function(t,n,i){for(var a,o=0,r=this.length;o<r;o++)g(a)?(a=e(this[o],t,n,i),v(a)&&(a=qn(a))):ke(a,e(this[o],t,n,i));return v(a)?a:this},fe.prototype.bind=fe.prototype.on,fe.prototype.unbind=fe.prototype.off}),Ne.prototype={put:function(e,t){this[Fe(e,this.nextUid)]=t},get:function(e){return this[Fe(e,this.nextUid)]},remove:function(e){var t=this[e=Fe(e,this.nextUid)];return delete this[e],t}};var Pi=[function(){this.$get=[function(){return Ne}]}],Fi=/^([^\(]+?)=>/,Ni=/^[^\(]*\(\s*([^\)]*)\)/m,Ri=/,/,Li=/^\s*(_?)(\S+?)\1\s*$/,Bi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ji=t("$injector");Be.$$annotate=function(e,t,n){var a;if("function"==typeof e){if(!(a=e.$inject)){if(a=[],e.length){if(t)throw w(n)&&n||(n=e.name||Le(e)),ji("strictdi",n);t=Re(e),i(t[1].split(Ri),function(e){e.replace(Li,function(e,t,n){a.push(n)})})}e.$inject=a}}else ri(e)?(t=e.length-1,ne(e[t],"fn"),a=e.slice(0,t)):ne(e,"fn",!0);return a};var zi=t("$animate"),Ui=function(){this.$get=p},Hi=function(){var e=new Ne,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,a){function o(e,t,n){var a=!1;return t&&(t=w(t)?t.split(" "):ri(t)?t:[],i(t,function(t){t&&(a=!0,e[t]=n)})),a}function r(){i(t,function(t){var n=e.get(t);if(n){var a=Ue(t.attr("class")),o="",r="";i(n,function(e,t){e!==!!a[t]&&(e?o+=(o.length?" ":"")+t:r+=(r.length?" ":"")+t)}),i(t,function(e){o&&$e(e,o),r&&_e(e,r)}),e.remove(t)}}),t.length=0}return{enabled:p,on:p,off:p,pin:p,push:function(i,s,l,c){return c&&c(),l=l||{},l.from&&i.css(l.from),l.to&&i.css(l.to),(l.addClass||l.removeClass)&&(s=l.addClass,c=l.removeClass,l=e.get(i)||{},s=o(l,s,!0),c=o(l,c,!1),(s||c)&&(e.put(i,l),t.push(i),1===t.length&&a.$$postDigest(r))),i=new n,i.complete(),i}}}]},Wi=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw zi("notcsel",n);var a=n+"-animation";t.$$registeredAnimations[n.substr(1)]=a,e.factory(a,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw zi("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i;e:{for(i=0;i<n.length;i++){var a=n[i];if(1===a.nodeType){i=a;break e}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,a,o){return i=i&&qn(i),a=a&&qn(a),i=i||a.parent(),t(n,i,a),e.push(n,"enter",He(o))},move:function(n,i,a,o){return i=i&&qn(i),a=a&&qn(a),i=i||a.parent(),t(n,i,a),e.push(n,"move",He(o))},leave:function(t,n){return e.push(t,"leave",He(n),function(){t.remove()})},addClass:function(t,n,i){return i=He(i),i.addClass=ze(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=He(i),i.removeClass=ze(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,a){return a=He(a),a.addClass=ze(a.addClass,n),a.removeClass=ze(a.removeClass,i),e.push(t,"setClass",a)},animate:function(t,n,i,a,o){return o=He(o),o.from=o.from?l(o.from,n):n,o.to=o.to?l(o.to,i):i,o.tempClasses=ze(o.tempClasses,a||"ng-inline-animate"),e.push(t,"animate",o)}}}]}],qi=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),1<n.length||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Vi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,a,o){function r(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){var n=a[0];n&&n.hidden?o(e,0,!1):t(e)},this._state=0}return r.chain=function(e,t){function n(){i===e.length?t(!0):e[i](function(e){!1===e?t(!1):(i++,n())})}var i=0;n()},r.all=function(e,t){function n(n){o=o&&n,++a===e.length&&t(o)}var a=0,o=!0;i(e,function(e){e.done(n)})},r.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:p,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(i(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},r}]},Yi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function a(){return e(function(){o.addClass&&(t.addClass(o.addClass),o.addClass=null),o.removeClass&&(t.removeClass(o.removeClass),o.removeClass=null),o.to&&(t.css(o.to),o.to=null),r||s.complete(),r=!0}),s}var o=i||{};o.$$prepared||(o=O(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(t.css(o.from),o.from=null);var r,s=new n;return{start:a,end:a}}}]},Gi=t("$compile"),Ki=new function(){};Ge.$inject=["$provide","$$sanitizeUriProvider"],Ke.prototype.isFirstChange=function(){return this.previousValue===Ki};var Xi=/^((?:x|data)[\:\-_])/i,Ji=t("$controller"),Qi=/^(\S+)(\s+as\s+([\w$]+))?$/,Zi=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof qn&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},ea="application/json",ta={"Content-Type":ea+";charset=utf-8"},na=/^\[|^\{(?!\{)/,ia={"[":/]$/,"{":/}$/},aa=/^\)\]\}',?\n/,oa=t("$http"),ra=function(e){return function(){throw oa("legacy",e)}},sa=ai.$interpolateMinErr=t("$interpolate");sa.throwNoconcat=function(e){throw sa("noconcat",e)},sa.interr=function(e,t){return sa("interr",e,t.toString())};var la=function(){this.$get=["$window",function(e){function t(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var n=e.angular.callbacks,i={};return{createCallback:function(e){e="_"+(n.$$counter++).toString(36);var a="angular.callbacks."+e,o=t(e);return i[a]=n[e]=o,a},wasCalled:function(e){return i[e].called},getResponse:function(e){return i[e].data},removeCallback:function(e){delete n[i[e].id],delete i[e]}}}]},ca=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,da={http:80,https:443,ftp:21},ua=t("$location"),pa={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:St("$$absUrl"),url:function(e){if(g(e))return this.$$url;var t=ca.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:St("$$protocol"),host:St("$$host"),port:St("$$port"),path:Ct("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||x(e))e=e.toString(),this.$$search=W(e);else{if(!b(e))throw ua("isrcharg");e=O(e,{}),i(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:g(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Ct("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};i([kt,$t,_t],function(e){e.prototype=Object.create(pa),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==_t||!this.$$html5)throw ua("nostate");return this.$$state=g(t)?null:t,this}});var ma=t("$parse"),fa=Function.prototype.call,ha=Function.prototype.apply,ga=Function.prototype.bind,va=re();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){va[e]=!0});var ba={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ya=function(e){this.options=e};ya.prototype={constructor:ya,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({
index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),i=va[t],a=va[n];va[e]||i||a?(e=a?n:i?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return 55296<=n&&56319>=n&&56320<=i&&57343>=i?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=v(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,ma("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Xn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,a=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),i=i+o;if(a)"u"===o?(a=this.text.substring(this.index+1,this.index+5),a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))):n+=ba[o]||o,a=!1;else if("\\"===o)a=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var wa=function(e,t){this.lexer=e,this.options=t};wa.Program="Program",wa.ExpressionStatement="ExpressionStatement",wa.AssignmentExpression="AssignmentExpression",wa.ConditionalExpression="ConditionalExpression",wa.LogicalExpression="LogicalExpression",wa.BinaryExpression="BinaryExpression",wa.UnaryExpression="UnaryExpression",wa.CallExpression="CallExpression",wa.MemberExpression="MemberExpression",wa.Identifier="Identifier",wa.Literal="Literal",wa.ArrayExpression="ArrayExpression",wa.Property="Property",wa.ObjectExpression="ObjectExpression",wa.ThisExpression="ThisExpression",wa.LocalsExpression="LocalsExpression",wa.NGValueParameter="NGValueParameter",wa.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:wa.Program,body:e}},expressionStatement:function(){return{type:wa.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:wa.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:wa.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:wa.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:wa.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:wa.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:wa.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:wa.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:wa.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:wa.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=O(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:wa.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:wa.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:wa.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:wa.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:wa.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:wa.Identifier,name:e.text}},constant:function(){return{type:wa.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:wa.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:wa.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:wa.ObjectExpression,properties:t}},throwError:function(e,t){throw ma("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw ma("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw ma("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,a){if(this.tokens.length>e){e=this.tokens[e];var o=e.text;if(o===t||o===n||o===i||o===a||!(t||n||i||a))return e}return!1},expect:function(e,t,n,i){return!!(e=this.peek(e,t,n,i))&&(this.tokens.shift(),e)},selfReferential:{this:{type:wa.ThisExpression},$locals:{type:wa.LocalsExpression}}},zt.prototype={compile:function(e,t){var n=this,a=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Nt(a,n.$filter);var o,r="";return this.stage="assign",(o=Bt(a))&&(this.state.computing="assign",r=this.nextId(),this.recurse(o,r),this.return_(r),r="fn.assign="+this.generateFunction("assign","s,v,l")),o=Rt(a.body),n.stage="inputs",i(o,function(e,t){var i="fn"+t;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var a=n.nextId();n.recurse(e,a),n.return_(a),n.state.inputs.push(i),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(a),r='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",r=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",r)(this.$filter,Et,Mt,At,It,Ot,Pt,Ft,e),this.state=this.stage=void 0,r.literal=jt(a),r.constant=a.constant,r},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return i(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return i(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,a,o,r){var s,l,c,d,u,m=this;if(a=a||p,!r&&v(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,a,o,!0));else switch(e.type){case wa.Program:i(e.body,function(t,n){m.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?m.current().body.push(l,";"):m.return_(l)});break;case wa.Literal:d=this.escape(e.value),this.assign(t,d),a(d);break;case wa.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),d=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,d),a(d);break;case wa.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),d="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,d),a(d);break;case wa.LogicalExpression:t=t||this.nextId(),m.recurse(e.left,t),m.if_("&&"===e.operator?t:m.not(t),m.lazyRecurse(e.right,t)),a(t);break;case wa.ConditionalExpression:t=t||this.nextId(),m.recurse(e.test,t),m.if_(t,m.lazyRecurse(e.alternate,t),m.lazyRecurse(e.consequent,t)),a(t);break;case wa.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),Et(e.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",e.name)),function(){m.if_("inputs"===m.stage||"s",function(){o&&1!==o&&m.if_(m.not(m.nonComputedMember("s",e.name)),m.lazyAssign(m.nonComputedMember("s",e.name),"{}")),m.assign(t,m.nonComputedMember("s",e.name))})},t&&m.lazyAssign(t,m.nonComputedMember("l",e.name))),(m.state.expensiveChecks||Ht(e.name))&&m.addEnsureSafeObject(t),a(t);break;case wa.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),m.recurse(e.object,s,void 0,function(){m.if_(m.notNull(s),function(){o&&1!==o&&m.addEnsureSafeAssignContext(s),e.computed?(l=m.nextId(),m.recurse(e.property,l),m.getStringValue(l),m.addEnsureSafeMemberName(l),o&&1!==o&&m.if_(m.not(m.computedMember(s,l)),m.lazyAssign(m.computedMember(s,l),"{}")),d=m.ensureSafeObject(m.computedMember(s,l)),m.assign(t,d),n&&(n.computed=!0,n.name=l)):(Et(e.property.name),o&&1!==o&&m.if_(m.not(m.nonComputedMember(s,e.property.name)),m.lazyAssign(m.nonComputedMember(s,e.property.name),"{}")),d=m.nonComputedMember(s,e.property.name),(m.state.expensiveChecks||Ht(e.property.name))&&(d=m.ensureSafeObject(d)),m.assign(t,d),n&&(n.computed=!1,n.name=e.property.name))},function(){m.assign(t,"undefined")}),a(t)},!!o);break;case wa.CallExpression:t=t||this.nextId(),e.filter?(l=m.filter(e.callee.name),c=[],i(e.arguments,function(e){var t=m.nextId();m.recurse(e,t),c.push(t)}),d=l+"("+c.join(",")+")",m.assign(t,d),a(t)):(l=m.nextId(),s={},c=[],m.recurse(e.callee,l,s,function(){m.if_(m.notNull(l),function(){m.addEnsureSafeFunction(l),i(e.arguments,function(e){m.recurse(e,m.nextId(),void 0,function(e){c.push(m.ensureSafeObject(e))})}),s.name?(m.state.expensiveChecks||m.addEnsureSafeObject(s.context),d=m.member(s.context,s.name,s.computed)+"("+c.join(",")+")"):d=l+"("+c.join(",")+")",d=m.ensureSafeObject(d),m.assign(t,d)},function(){m.assign(t,"undefined")}),a(t)}));break;case wa.AssignmentExpression:if(l=this.nextId(),s={},!Lt(e.left))throw ma("lval");this.recurse(e.left,void 0,s,function(){m.if_(m.notNull(s.context),function(){m.recurse(e.right,l),m.addEnsureSafeObject(m.member(s.context,s.name,s.computed)),m.addEnsureSafeAssignContext(s.context),d=m.member(s.context,s.name,s.computed)+e.operator+l,m.assign(t,d),a(t||d)})},1);break;case wa.ArrayExpression:c=[],i(e.elements,function(e){m.recurse(e,m.nextId(),void 0,function(e){c.push(e)})}),d="["+c.join(",")+"]",this.assign(t,d),a(d);break;case wa.ObjectExpression:c=[],u=!1,i(e.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),i(e.properties,function(e){e.computed?(s=m.nextId(),m.recurse(e.key,s)):s=e.key.type===wa.Identifier?e.key.name:""+e.key.value,l=m.nextId(),m.recurse(e.value,l),m.assign(m.member(t,s,e.computed),l)})):(i(e.properties,function(t){m.recurse(t.value,e.constant?void 0:m.nextId(),void 0,function(e){c.push(m.escape(t.key.type===wa.Identifier?t.key.name:""+t.key.value)+":"+e)})}),d="{"+c.join(",")+"}",this.assign(t,d)),a(t||d);break;case wa.ThisExpression:this.assign(t,"s"),a("s");break;case wa.LocalsExpression:this.assign(t,"l"),a("l");break;case wa.NGValueParameter:this.assign(t,"v"),a("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[^$_a-zA-Z0-9]/g;return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(t)?e+"."+t:e+'["'+t.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,i,a,o){var r=this;return function(){r.recurse(e,t,n,i,a,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw ma("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Ut.prototype={compile:function(e,t){var n=this,a=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Nt(a,n.$filter);var o,r;(o=Bt(a))&&(r=this.recurse(o)),o=Rt(a.body);var s;o&&(s=[],i(o,function(e,t){var i=n.recurse(e);e.input=i,s.push(i),e.watchId=t}));var l=[];return i(a.body,function(e){l.push(n.recurse(e.expression))}),o=0===a.body.length?p:1===a.body.length?l[0]:function(e,t){var n;return i(l,function(i){n=i(e,t)}),n},r&&(o.assign=function(e,t,n){return r(e,n,t)}),s&&(o.inputs=s),o.literal=jt(a),o.constant=a.constant,o},recurse:function(e,t,n){var a,o,r,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case wa.Literal:return this.value(e.value,t);case wa.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case wa.BinaryExpression:return a=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](a,o,t);case wa.LogicalExpression:return a=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](a,o,t);case wa.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case wa.Identifier:return Et(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||Ht(e.name),t,n,s.expression);case wa.MemberExpression:return a=this.recurse(e.object,!1,!!n),e.computed||(Et(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(a,o,t,n,s.expression):this.nonComputedMember(a,o,s.expensiveChecks,t,n,s.expression);case wa.CallExpression:return r=[],i(e.arguments,function(e){r.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,i,a){for(var s=[],l=0;l<r.length;++l)s.push(r[l](e,n,i,a));return e=o.apply(void 0,s,a),t?{context:void 0,name:void 0,value:e}:e}:function(e,n,i,a){var l,c=o(e,n,i,a);if(null!=c.value){Mt(c.context,s.expression),At(c.value,s.expression),l=[];for(var d=0;d<r.length;++d)l.push(Mt(r[d](e,n,i,a),s.expression));l=Mt(c.value.apply(c.context,l),s.expression)}return t?{value:l}:l};case wa.AssignmentExpression:return a=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,i,r){var l=a(e,n,i,r);return e=o(e,n,i,r),Mt(l.value,s.expression),Ot(l.context),l.context[l.name]=e,t?{value:e}:e};case wa.ArrayExpression:return r=[],i(e.elements,function(e){r.push(s.recurse(e))}),function(e,n,i,a){for(var o=[],s=0;s<r.length;++s)o.push(r[s](e,n,i,a));return t?{value:o}:o};case wa.ObjectExpression:return r=[],i(e.properties,function(e){e.computed?r.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):r.push({key:e.key.type===wa.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,i,a){for(var o={},s=0;s<r.length;++s)r[s].computed?o[r[s].key(e,n,i,a)]=r[s].value(e,n,i,a):o[r[s].key]=r[s].value(e,n,i,a);return t?{value:o}:o};case wa.ThisExpression:return function(e){return t?{value:e}:e};case wa.LocalsExpression:return function(e,n){return t?{value:n}:n};case wa.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,a,o){return n=e(n,i,a,o),n=v(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,i,a,o){return n=e(n,i,a,o),n=v(n)?-n:0,t?{value:n}:n}},"unary!":function(e,t){return function(n,i,a,o){return n=!e(n,i,a,o),t?{value:n}:n}},"binary+":function(e,t,n){return function(i,a,o,r){var s=e(i,a,o,r);return i=t(i,a,o,r),s=Ft(s,i),n?{value:s}:s}},"binary-":function(e,t,n){return function(i,a,o,r){var s=e(i,a,o,r);return i=t(i,a,o,r),s=(v(s)?s:0)-(v(i)?i:0),n?{value:s}:s}},"binary*":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)*t(i,a,o,r),n?{value:i}:i}},"binary/":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)/t(i,a,o,r),n?{value:i}:i}},"binary%":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)%t(i,a,o,r),n?{value:i}:i}},"binary===":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)===t(i,a,o,r),n?{value:i}:i}},"binary!==":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)!==t(i,a,o,r),n?{value:i}:i}},"binary==":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)==t(i,a,o,r),n?{value:i}:i}},"binary!=":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)!=t(i,a,o,r),n?{value:i}:i}},"binary<":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)<t(i,a,o,r),n?{value:i}:i}},"binary>":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)>t(i,a,o,r),n?{value:i}:i}},"binary<=":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)<=t(i,a,o,r),n?{value:i}:i}},"binary>=":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)>=t(i,a,o,r),n?{value:i}:i}},"binary&&":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)&&t(i,a,o,r),n?{value:i}:i}},"binary||":function(e,t,n){return function(i,a,o,r){return i=e(i,a,o,r)||t(i,a,o,r),n?{value:i}:i}},"ternary?:":function(e,t,n,i){return function(a,o,r,s){return a=e(a,o,r,s)?t(a,o,r,s):n(a,o,r,s),i?{value:a}:a}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,i,a){return function(o,r,s,l){return o=r&&e in r?r:o,i&&1!==i&&o&&!o[e]&&(o[e]={}),r=o?o[e]:void 0,t&&Mt(r,a),n?{context:o,name:e,value:r}:r}},computedMember:function(e,t,n,i,a){return function(o,r,s,l){var c,d,u=e(o,r,s,l);return null!=u&&(c=t(o,r,s,l),c+="",Et(c,a),i&&1!==i&&(Ot(u),u&&!u[c]&&(u[c]={})),d=u[c],Mt(d,a)),n?{context:u,name:c,value:d}:d}},nonComputedMember:function(e,t,n,i,a,o){return function(r,s,l,c){return r=e(r,s,l,c),a&&1!==a&&(Ot(r),r&&!r[t]&&(r[t]={})),s=null!=r?r[t]:void 0,(n||Ht(t))&&Mt(s,o),i?{context:r,name:t,value:s}:s}},inputs:function(e,t){return function(n,i,a,o){return o?o[t]:e(n,i,a)}}};var xa=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new wa(e,n),this.astCompiler=n.csp?new Ut(this.ast,t):new zt(this.ast,t)};xa.prototype={constructor:xa,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var _a=Object.prototype.valueOf,$a=t("$sce"),ka={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Sa=t("$compile"),Ca=e.document.createElement("a"),Da=sn(e.location.href);dn.$inject=["$document"],pn.$inject=["$provide"];var Ta=22,Ea=".",Ia="0";vn.$inject=["$locale"],bn.$inject=["$locale"];var Ma={yyyy:$n("FullYear",4,0,!1,!0),yy:$n("FullYear",2,0,!0,!0),y:$n("FullYear",1,0,!1,!0),MMMM:kn("Month"),MMM:kn("Month",!0),MM:$n("Month",2,1),M:$n("Month",1,1),LLLL:kn("Month",!1,!0),dd:$n("Date",2),d:$n("Date",1),HH:$n("Hours",2),H:$n("Hours",1),hh:$n("Hours",2,-12),h:$n("Hours",1,-12),mm:$n("Minutes",2),m:$n("Minutes",1),ss:$n("Seconds",2),s:$n("Seconds",1),sss:$n("Milliseconds",3),EEEE:kn("Day"),EEE:kn("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(0<=e?"+":"")+(_n(Math[0<e?"floor":"ceil"](e/60),2)+_n(Math.abs(e%60),2))},ww:Cn(2),w:Cn(1),G:Dn,GG:Dn,GGG:Dn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},Aa=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Oa=/^\-?\d+$/;Tn.$inject=["$locale"];var Pa=f(Xn),Fa=f(Jn);An.$inject=["$parse"];var Na=f({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ti.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Ra={};i(Mi,function(e,t){function n(e,n,a){e.$watch(a[i],function(e){a.$set(t,!!e)})}if("multiple"!=e){var i=Xe("ng-"+t),a=n;"checked"===e&&(a=function(e,t,a){a.ngModel!==a[i]&&n(e,t,a)}),Ra[i]=function(){return{restrict:"A",priority:100,link:a}}}}),i(Oi,function(e,t){Ra[t]=function(){return{priority:100,link:function(e,n,i){return"ngPattern"===t&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match(Gn))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(i[t],function(e){i.$set(t,e)})}}}}),i(["src","srcset","href"],function(e){var t=Xe("ng-"+e);Ra[t]=function(){return{priority:99,link:function(n,i,a){var o=e,r=e;"href"===e&&"[object SVGAnimatedString]"===ti.call(i.prop("href"))&&(r="xlinkHref",a.$attr[r]="xlink:href",o=null),a.$observe(t,function(t){t?(a.$set(r,t),Wn&&o&&i.prop(o,a[r])):"href"===e&&a.$set(r,null)})}}}});var La={$addControl:p,$$renameControl:function(e,t){e.$name=t},$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p};Pn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ba=function(e){return["$timeout","$parse",function(t,n){function i(e){return""===e?n('this[""]').assign:n(e).assign||p}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Pn,compile:function(n,a){n.addClass(xo).addClass(yo);var o=a.name?"name":!(!e||!a.ngForm)&&"ngForm";return{pre:function(e,n,a,r){var s=r[0];if(!("action"in a)){var c=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",c,!1),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",c,!1)},0,!1)})}(r[1]||s.$$parentForm).$addControl(s);var d=o?i(s.$name):p;o&&(d(e,s),a.$observe(o,function(t){s.$name!==t&&(d(e,void 0),s.$$parentForm.$$renameControl(s,t),(d=i(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),d(e,void 0),l(s,La)})}}}}}]},ja=Ba(),za=Ba(!0),Ua=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Ha=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Wa=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,qa=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Va=/^(\d{4,})-(\d{2})-(\d{2})$/,Ya=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ga=/^(\d{4,})-W(\d\d)$/,Ka=/^(\d{4,})-(\d\d)$/,Xa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ja=re();i(["date","datetime-local","month","time","week"],function(e){Ja[e]=!0});var Qa={text:function(e,t,n,i,a,o){Nn(e,t,n,i,a,o),Fn(i)},date:Ln("date",Va,Rn(Va,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Ln("datetimelocal",Ya,Rn(Ya,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Ln("time",Xa,Rn(Xa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Ln("week",Ga,function(e,t){if(_(e))return e;if(w(e)){Ga.lastIndex=0;var n=Ga.exec(e);if(n){var i=+n[1],a=+n[2],o=n=0,r=0,s=0,l=Sn(i),a=7*(a-1);return t&&(n=t.getHours(),o=t.getMinutes(),r=t.getSeconds(),s=t.getMilliseconds()),new Date(i,0,l.getDate()+a,n,o,r,s)}}return NaN},"yyyy-Www"),month:Ln("month",Ka,Rn(Ka,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,i,a,o){if(Bn(e,t,n,i),Nn(e,t,n,i,a,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:qa.test(e)?parseFloat(e):void 0}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!x(e))throw ko("numfmt",e);e=e.toString()}return e}),v(n.min)||n.ngMin){var r;i.$validators.min=function(e){return i.$isEmpty(e)||g(r)||e>=r},n.$observe("min",function(e){v(e)&&!x(e)&&(e=parseFloat(e)),r=x(e)&&!isNaN(e)?e:void 0,i.$validate()})}if(v(n.max)||n.ngMax){var s;i.$validators.max=function(e){return i.$isEmpty(e)||g(s)||e<=s},n.$observe("max",function(e){v(e)&&!x(e)&&(e=parseFloat(e)),s=x(e)&&!isNaN(e)?e:void 0,i.$validate()})}},url:function(e,t,n,i,a,o){Nn(e,t,n,i,a,o),Fn(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||Ha.test(n)}},email:function(e,t,n,i,a,o){Nn(e,t,n,i,a,o),Fn(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Wa.test(n)}},radio:function(e,t,n,i){g(n.name)&&t.attr("name",++oi),t.on("click",function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)}),i.$render=function(){t[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(e,t,n,i,a,o,r,s){var l=jn(s,e,"ngTrueValue",n.ngTrueValue,!0),c=jn(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return P(e,l)}),i.$parsers.push(function(e){return e?l:c})},hidden:p,button:p,submit:p,reset:p,file:p},Za=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(a,o,r,s){s[0]&&(Qa[Xn(r.type)]||Qa.text)(a,o,r,s[0],t,e,n,i)}}}}],eo=/^(true|false|\d+)$/,to=function(){return{restrict:"A",priority:100,compile:function(e,t){return eo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},no=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=g(e)?"":e})}}}}],io=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,a){n=e(i.attr(a.$attr.ngBindTemplate)),t.$$addBindingInfo(i,n.expressions),i=i[0],a.$observe("ngBindTemplate",function(e){i.textContent=g(e)?"":e})}}}}],ao=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,a){var o=t(a.ngBindHtml),r=t(a.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,a){n.$$addBindingInfo(i,a.ngBindHtml),t.$watch(r,function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")})}}}}],oo=f({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ro=zn("",!0),so=zn("Odd",0),lo=zn("Even",1),co=On({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),uo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],po={},mo={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Xe("ng-"+e);po[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(a,o){var r=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var a=function(){r(t,{$event:n})};mo[e]&&i.$$phase?t.$evalAsync(a):t.$apply(a)})}}}}]});var fo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,a,o,r){var s,l,c;n.$watch(a.ngIf,function(n){n?l||r(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",a.ngIf),s={clone:n},e.enter(n,i.parent(),i);
}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=oe(s.clone),e.leave(c).then(function(){c=null}),s=null))})}}}],ho=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ai.noop,compile:function(i,a){var o=a.ngInclude||a.src,r=a.onload||"",s=a.autoscroll;return function(i,a,l,c,d){var u,p,m,f=0,h=function(){p&&(p.remove(),p=null),u&&(u.$destroy(),u=null),m&&(n.leave(m).then(function(){p=null}),p=m,m=null)};i.$watch(o,function(o){var l=function(){!v(s)||s&&!i.$eval(s)||t()},p=++f;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&p===f){var t=i.$new();c.template=e,e=d(t,function(e){h(),n.enter(e,null,a).then(l)}),u=t,m=e,u.$emit("$includeContentLoaded",o),i.$eval(r)}},function(){i.$$destroyed||p!==f||(h(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(h(),c.template=null)})}}}}],go=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,a,o){ti.call(i[0]).match(/SVG/)?(i.empty(),t(pe(o.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),t(i.contents())(n))}}}],vo=On({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),bo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,a){var o=t.attr(n.$attr.ngList)||", ",r="false"!==n.ngTrim,s=r?li(o):o;a.$parsers.push(function(e){if(!g(e)){var t=[];return e&&i(e.split(s),function(e){e&&t.push(r?li(e):e)}),t}}),a.$formatters.push(function(e){if(ri(e))return e.join(o)}),a.$isEmpty=function(e){return!e||!e.length}}}},yo="ng-valid",wo="ng-invalid",xo="ng-pristine",_o="ng-dirty",$o="ng-pending",ko=t("ngModel"),So=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,a,o,r,s,l,c,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=d(n.name||"",!1)(e),this.$$parentForm=La;var u,m=o(n.ngModel),f=m.assign,h=m,b=f,y=null,w=this;this.$$setOptions=function(e){if((w.$options=e)&&e.getterSetter){var t=o(n.ngModel+"()"),i=o(n.ngModel+"($$$p)");h=function(e){var n=m(e);return $(n)&&(n=t(e)),n},b=function(e,t){$(m(e))?i(e,{$$$p:t}):f(e,t)}}else if(!m.assign)throw ko("nonassign",n.ngModel,U(a))},this.$render=p,this.$isEmpty=function(e){return g(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){w.$isEmpty(e)?(r.removeClass(a,"ng-not-empty"),r.addClass(a,"ng-empty")):(r.removeClass(a,"ng-empty"),r.addClass(a,"ng-not-empty"))};var _=0;Un({ctrl:this,$element:a,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:r}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,r.removeClass(a,_o),r.addClass(a,xo)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,r.removeClass(a,xo),r.addClass(a,_o),w.$$parentForm.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,r.setClass(a,"ng-untouched","ng-touched")},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,r.setClass(a,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){s.cancel(y),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!x(w.$modelValue)||!isNaN(w.$modelValue)){var e=w.$$rawModelValue,t=w.$valid,n=w.$modelValue,i=w.$options&&w.$options.allowInvalid;w.$$runValidators(e,w.$$lastCommittedViewValue,function(a){i||t===a||(w.$modelValue=a?e:void 0,w.$modelValue!==n&&w.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function a(){var n=!0;return i(w.$validators,function(i,a){var o=i(e,t);n=n&&o,r(a,o)}),!!n||(i(w.$asyncValidators,function(e,t){r(t,null)}),!1)}function o(){var n=[],a=!0;i(w.$asyncValidators,function(i,o){var s=i(e,t);if(!s||!$(s.then))throw ko("nopromise",s);r(o,void 0),n.push(s.then(function(){r(o,!0)},function(){a=!1,r(o,!1)}))}),n.length?c.all(n).then(function(){s(a)},p):s(!0)}function r(e,t){l===_&&w.$setValidity(e,t)}function s(e){l===_&&n(e)}_++;var l=_;(function(){var e=w.$$parserName||"parse";return g(u)?(r(e,null),!0):(u||(i(w.$validators,function(e,t){r(t,null)}),i(w.$asyncValidators,function(e,t){r(t,null)})),r(e,u),u)})()&&a()?o():s(!1)},this.$commitViewValue=function(){var e=w.$viewValue;s.cancel(y),(w.$$lastCommittedViewValue!==e||""===e&&w.$$hasNativeValidators)&&(w.$$updateEmptyClasses(e),w.$$lastCommittedViewValue=e,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=w.$$lastCommittedViewValue;if(u=!g(t)||void 0)for(var n=0;n<w.$parsers.length;n++)if(t=w.$parsers[n](t),g(t)){u=!1;break}x(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=h(e));var i=w.$modelValue,a=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=t,a&&(w.$modelValue=t,w.$modelValue!==i&&w.$$writeModelToScope()),w.$$runValidators(t,w.$$lastCommittedViewValue,function(e){a||(w.$modelValue=e?t:void 0,w.$modelValue!==i&&w.$$writeModelToScope())})},this.$$writeModelToScope=function(){b(e,w.$modelValue),i(w.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){w.$viewValue=e,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,i=w.$options;i&&v(i.debounce)&&(i=i.debounce,x(i)?n=i:x(i[t])?n=i[t]:x(i.default)&&(n=i.default)),s.cancel(y),n?y=s(function(){w.$commitViewValue()},n):l.$$phase?w.$commitViewValue():e.$apply(function(){w.$commitViewValue()})},e.$watch(function(){var t=h(e);if(t!==w.$modelValue&&(w.$modelValue===w.$modelValue||t===t)){w.$modelValue=w.$$rawModelValue=t,u=void 0;for(var n=w.$formatters,i=n.length,a=t;i--;)a=n[i](a);w.$viewValue!==a&&(w.$$updateEmptyClasses(a),w.$viewValue=w.$$lastCommittedViewValue=a,w.$render(),w.$$runValidators(t,a,p))}return t})}],Co=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:So,priority:1,compile:function(t){return t.addClass(xo).addClass("ng-untouched").addClass(yo),{pre:function(e,t,n,i){var a=i[0];t=i[1]||a.$$parentForm,a.$$setOptions(i[2]&&i[2].$options),t.$addControl(a),n.$observe("name",function(e){a.$name!==e&&a.$$parentForm.$$renameControl(a,e)}),e.$on("$destroy",function(){a.$$parentForm.$removeControl(a)})},post:function(t,n,i,a){var o=a[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],Do=/(\s+|^)default(\s+|$)/,To=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=O(e.$eval(t.ngModelOptions)),v(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=li(this.$options.updateOn.replace(Do,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Eo=On({terminal:!0,priority:1e3}),Io=t("ngOptions"),Mo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ao=["$compile","$document","$parse",function(t,a,o){function r(e,t,i){function a(e,t,n,i,a){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=a}function r(e){var t;if(!c&&n(e))t=e;else{t=[];for(var i in e)e.hasOwnProperty(i)&&"$"!==i.charAt(0)&&t.push(i)}return t}var s=e.match(Mo);if(!s)throw Io("iexp",e,U(t));var l=s[5]||s[7],c=s[6];e=/ as /.test(s[0])&&s[1];var d=s[9];t=o(s[2]?s[1]:l);var u=e&&o(e)||t,p=d&&o(d),m=d?function(e,t){return p(i,t)}:function(e){return Fe(e)},f=function(e,t){return m(e,w(e,t))},h=o(s[2]||s[1]),g=o(s[3]||""),v=o(s[4]||""),b=o(s[8]),y={},w=c?function(e,t){return y[c]=t,y[l]=e,y}:function(e){return y[l]=e,y};return{trackBy:d,getTrackByValue:f,getWatchables:o(b,function(e){var t=[];e=e||[];for(var n=r(e),a=n.length,o=0;o<a;o++){var l=e===n?o:n[o],c=e[l],l=w(c,l),c=m(c,l);t.push(c),(s[2]||s[1])&&(c=h(i,l),t.push(c)),s[4]&&(l=v(i,l),t.push(l))}return t}),getOptions:function(){for(var e=[],t={},n=b(i)||[],o=r(n),s=o.length,l=0;l<s;l++){var c=n===o?l:o[l],p=w(n[c],c),y=u(i,p),c=m(y,p),x=h(i,p),_=g(i,p),p=v(i,p),y=new a(c,y,x,_,p);e.push(y),t[c]=y}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[f(e)]},getViewValueFromOption:function(e){return d?ai.copy(e.viewValue):e.viewValue}}}}}var s=e.document.createElement("option"),l=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=p},post:function(e,n,o,c){function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function u(){var e=x&&m.readValue();if(x)for(var t=x.items.length-1;0<=t;t--){var i=x.items[t];Te(v(i.group)?i.element.parentNode:i.element)}x=_.getOptions();var a={};y&&n.prepend(p),x.items.forEach(function(e){var t;if(v(e.group)){t=a[e.group],t||(t=l.cloneNode(!1),$.appendChild(t),t.label=null===e.group?"null":e.group,a[e.group]=t);var n=s.cloneNode(!1)}else t=$,n=s.cloneNode(!1);t.appendChild(n),d(e,n)}),n[0].appendChild($),f.$render(),f.$isEmpty(e)||(t=m.readValue(),(_.trackBy||h?P(e,t):e===t)||(f.$setViewValue(t),f.$render()))}var p,m=c[0],f=c[1],h=o.multiple;c=0;for(var g=n.children(),b=g.length;c<b;c++)if(""===g[c].value){p=g.eq(c);break}var y=!!p,w=qn(s.cloneNode(!1));w.val("?");var x,_=r(o.ngOptions,n,e),$=a[0].createDocumentFragment();h?(f.$isEmpty=function(e){return!e||0===e.length},m.writeValue=function(e){x.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){(e=x.getOptionFromViewValue(e))&&(e.element.selected=!0)})},m.readValue=function(){var e=n.val()||[],t=[];return i(e,function(e){(e=x.selectValueMap[e])&&!e.disabled&&t.push(x.getViewValueFromOption(e))}),t},_.trackBy&&e.$watchCollection(function(){if(ri(f.$viewValue))return f.$viewValue.map(function(e){return _.getTrackByValue(e)})},function(){f.$render()})):(m.writeValue=function(e){var t=x.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(w.remove(),y||p.remove(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||y?(w.remove(),y||n.prepend(p),n.val(""),p.prop("selected",!0),p.attr("selected",!0)):(y||p.remove(),n.prepend(w),n.val("?"),w.prop("selected",!0),w.attr("selected",!0))},m.readValue=function(){var e=x.selectValueMap[n.val()];return e&&!e.disabled?(y||p.remove(),w.remove(),x.getViewValueFromOption(e)):null},_.trackBy&&e.$watch(function(){return _.getTrackByValue(f.$viewValue)},function(){f.$render()})),y?(p.remove(),t(p)(e),p.removeClass("ng-scope")):p=qn(s.cloneNode(!1)),n.empty(),u(),e.$watchCollection(_.getWatchables,u)}}}}],Oo=["$locale","$interpolate","$log",function(e,t,n){var a=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(r,s,l){function c(e){s.text(e||"")}var d,u=l.count,m=l.$attr.when&&s.attr(l.$attr.when),f=l.offset||0,h=r.$eval(m)||{},v={},b=t.startSymbol(),y=t.endSymbol(),w=b+u+"-"+f+y,_=ai.noop;i(l,function(e,t){var n=o.exec(t);n&&(n=(n[1]?"-":"")+Xn(n[2]),h[n]=s.attr(l.$attr[t]))}),i(h,function(e,n){v[n]=t(e.replace(a,w))}),r.$watch(u,function(t){var i=parseFloat(t),a=isNaN(i);a||i in h||(i=e.pluralCat(i-f)),i===d||a&&x(d)&&isNaN(d)||(_(),a=v[i],g(a)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+m),_=p,c()):_=r.$watch(a,c),d=i)})}}}],Po=["$parse","$animate","$compile",function(e,a,o){var r=t("ngRepeat"),s=function(e,t,n,i,a,o,r){e[n]=i,a&&(e[a]=o),e.$index=t,e.$first=0===t,e.$last=t===r-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,l){var c=l.ngRepeat,d=o.$$createComment("end ngRepeat",c),u=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!u)throw r("iexp",c);var p=u[1],m=u[2],f=u[3],h=u[4],u=p.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!u)throw r("iidexp",p);var g=u[3]||u[1],v=u[2];if(f&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(f)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(f)))throw r("badident",f);var b,y,w,x,_={$id:Fe};return h?b=e(h):(w=function(e,t){return Fe(t)},x=function(e){return e}),function(e,t,o,l,u){b&&(y=function(t,n,i){return v&&(_[v]=t),_[g]=n,_.$index=i,b(e,_)});var p=re();e.$watchCollection(m,function(o){var l,m,h,b,_,$,k,S,C,D,T=t[0],E=re();if(f&&(e[f]=o),n(o))S=o,m=y||w;else for(D in m=y||x,S=[],o)Kn.call(o,D)&&"$"!==D.charAt(0)&&S.push(D);for(b=S.length,D=Array(b),l=0;l<b;l++)if(_=o===S?l:S[l],$=o[_],k=m(_,$,l),p[k])C=p[k],delete p[k],E[k]=C,D[l]=C;else{if(E[k])throw i(D,function(e){e&&e.scope&&(p[e.id]=e)}),r("dupes",c,k,$);D[l]={id:k,scope:void 0,clone:void 0},E[k]=!0}for(h in p){if(C=p[h],k=oe(C.clone),a.leave(k),k[0].parentNode)for(l=0,m=k.length;l<m;l++)k[l].$$NG_REMOVED=!0;C.scope.$destroy()}for(l=0;l<b;l++)if(_=o===S?l:S[l],$=o[_],C=D[l],C.scope){h=T;do h=h.nextSibling;while(h&&h.$$NG_REMOVED);C.clone[0]!=h&&a.move(oe(C.clone),null,T),T=C.clone[C.clone.length-1],s(C.scope,l,g,$,v,_,b)}else u(function(e,t){C.scope=t;var n=d.cloneNode(!1);e[e.length++]=n,a.enter(e,null,T),T=n,C.clone=e,E[C.id]=C,s(C.scope,l,g,$,v,_,b)});p=E})}}}}],Fo=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],No=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Ro=On(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&i(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Lo=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,a,o,r){var s=[],l=[],c=[],d=[],u=function(e,t){return function(){e.splice(t,1)}};n.$watch(o.ngSwitch||o.on,function(n){var a,o;for(a=0,o=c.length;a<o;++a)e.cancel(c[a]);for(a=c.length=0,o=d.length;a<o;++a){var p=oe(l[a].clone);d[a].$destroy(),(c[a]=e.leave(p)).then(u(c,a))}l.length=0,d.length=0,(s=r.cases["!"+n]||r.cases["?"])&&i(s,function(n){n.transclude(function(i,a){d.push(a);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen"),l.push({clone:i}),e.enter(i,o.parent(),o)})})})}}}],Bo=On({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,a){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:a,element:t})}}),jo=On({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,a){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:a,element:t})}}),zo=t("ngTransclude"),Uo=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,a,o){function r(){n(e,function(e){t.append(e)})}if(!o)throw zo("orphan",U(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude=""),i=i.ngTransclude||i.ngTranscludeSlot,o(function(e,n){e.length?t.append(e):(r(),n.$destroy())},null,i),i&&!o.isSlotFilled(i)&&r()}}}}],Ho=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],Wo={$setViewValue:p,$render:p},qo=["$element","$scope",function(t,n){var i=this,a=new Ne;i.ngModelCtrl=Wo,i.unknownOption=qn(e.document.createElement("option")),i.renderUnknownOption=function(e){e="? "+Fe(e)+" ?",i.unknownOption.val(e),t.prepend(i.unknownOption),t.val(e)},n.$on("$destroy",function(){i.renderUnknownOption=p}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),t.val()},i.writeValue=function(e){i.hasOption(e)?(i.removeUnknownOption(),t.val(e),""===e&&i.emptyOption.prop("selected",!0)):null==e&&i.emptyOption?(i.removeUnknownOption(),t.val("")):i.renderUnknownOption(e)},i.addOption=function(e,t){if(8!==t[0].nodeType){ie(e,'"option value"'),""===e&&(i.emptyOption=t);var n=a.get(e)||0;a.put(e,n+1),i.ngModelCtrl.$render(),t[0].hasAttribute("selected")&&(t[0].selected=!0)}},i.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(i.emptyOption=void 0)):a.put(e,t-1))},i.hasOption=function(e){return!!a.get(e)},i.registerOption=function(e,t,n,a,o){if(a){var r;n.$observe("value",function(e){v(r)&&i.removeOption(r),r=e,i.addOption(e,t)})}else o?e.$watch(o,function(e,a){n.$set("value",e),a!==e&&i.removeOption(a),i.addOption(e,t)}):i.addOption(n.value,t);t.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],Vo=function(){return{restrict:"E",require:["select","?ngModel"],controller:qo,priority:1,link:{pre:function(e,t,n,a){var o=a[1];if(o){var r=a[0];if(r.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(r.readValue())})}),n.multiple){r.readValue=function(){var e=[];return i(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},r.writeValue=function(e){var n=new Ne(e);i(t.find("option"),function(e){e.selected=v(n.get(e.value))})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||P(s,o.$viewValue)||(s=le(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}},post:function(e,t,n,i){var a=i[1];if(a){var o=i[0];a.$render=function(){o.writeValue(a.$viewValue)}}}}}},Yo=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(v(n.value))var i=e(n.value,!0);else{var a=e(t.text(),!0);a||n.$set("value",t.text())}return function(e,t,n){var o=t.parent();(o=o.data("$selectController")||o.parent().data("$selectController"))&&o.registerOption(e,t,n,i,a)}}}}],Go=f({restrict:"E",terminal:!1}),Ko=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Xo=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,i,a){if(a){var o,r=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(w(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp",r,e,U(n));o=e||void 0,a.$validate()}),a.$validators.pattern=function(e,t){return a.$isEmpty(t)||g(o)||o.test(t)}}}}},Jo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var a=-1;n.$observe("maxlength",function(e){e=d(e),a=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(e,t){return 0>a||i.$isEmpty(t)||t.length<=a}}}}},Qo=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var a=0;n.$observe("minlength",function(e){a=d(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=a}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(ee(),ce(ai),ai.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var i=0|e,a=n;return void 0===a&&(a=Math.min(t(e),3)),Math.pow(10,a),1==i&&0==a?"one":"other"}})}]),qn(e.document).ready(function(){K(e.document,X)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t){"use strict";function n(e,t,n){if(!e)throw K("areq",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(N(e)&&(e=e.join(" ")),N(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function a(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var i="";return e=N(e)?e:e&&z(e)&&e.length?e.split(/\s+/):[],F(e,function(e,a){e&&0<e.length&&(i+=0<a?" ":"",i+=n?t+e:e+t)}),i}function r(e){if(e instanceof H)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return H(s(e))}if(1===e.nodeType)return H(e)}function s(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1==n.nodeType)return n}}function l(e,t,n){F(t,function(t){e.addClass(t,n)})}function c(e,t,n){F(t,function(t){e.removeClass(t,n)})}function d(e){return function(t,n){n.addClass&&(l(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function u(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||W;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=W},e.$$prepared=!0}return e}function p(e,t){m(e,t),f(e,t)}function m(e,t){t.from&&(e.css(t.from),t.from=null)}function f(e,t){t.to&&(e.css(t.to),t.to=null)}function h(e,t,n){var i=t.options||{};n=n.options||{};var a=(i.addClass||"")+" "+(n.addClass||""),o=(i.removeClass||"")+" "+(n.removeClass||"");return e=g(e.attr("class"),a,o),n.preparationClasses&&(i.preparationClasses=_(n.preparationClasses,i.preparationClasses),delete n.preparationClasses),a=i.domOperation!==W?i.domOperation:null,P(i,n),a&&(i.domOperation=a),i.addClass=e.addClass?e.addClass:null,i.removeClass=e.removeClass?e.removeClass:null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function g(e,t,n){function i(e){z(e)&&(e=e.split(" "));var t={};return F(e,function(e){e.length&&(t[e]=!0)}),t}var a={};e=i(e),t=i(t),F(t,function(e,t){a[t]=1}),n=i(n),F(n,function(e,t){a[t]=1===a[t]?null:-1});var o={addClass:"",removeClass:""};return F(a,function(t,n){var i,a;1===t?(i="addClass",a=!e[n]||e[n+"-remove"]):-1===t&&(i="removeClass",a=e[n]||e[n+"-add"]),a&&(o[i].length&&(o[i]+=" "),o[i]+=n)}),o}function v(e){return e instanceof H?e[0]:e}function b(e,t,n){var i="";t&&(i=o(t,"ng-",!0)),n.addClass&&(i=_(i,o(n.addClass,"-add"))),n.removeClass&&(i=_(i,o(n.removeClass,"-remove"))),i.length&&(n.preparationClasses=i,e.addClass(i))}function y(e,t){var n=t?"-"+t+"s":"";return x(e,[Y,n]),[Y,n]}function w(e,t){var n=t?"paused":"",i=M+"PlayState";return x(e,[i,n]),[i,n]}function x(e,t){e.style[t[0]]=t[1]}function _(e,t){return e?t?e+" "+t:e:t}function $(e,t,n){var i=Object.create(null),a=e.getComputedStyle(t)||{};return F(n,function(e,t){var n=a[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||0<=o)&&(n=k(n)),0===n&&(n=null),i[t]=n}}),i}function k(e){var t=0;return e=e.split(/\s*,\s*/),F(e,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function S(e){return 0===e||null!=e}function C(e,t){var n=E,i=e+"s";return t?n+="Duration":i+=" linear all",[n,i]}function D(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){return(t=e[t])?t.total:0},get:function(t){return(t=e[t])&&t.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function T(e,t,n){F(n,function(n){e[n]=R(e[n])?e[n]:t.style.getPropertyValue(n)})}var E,I,M,A;void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(E="WebkitTransition",I="webkitTransitionEnd transitionend"):(E="transition",I="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(M="WebkitAnimation",A="webkitAnimationEnd animationend"):(M="animation",A="animationend");var O,P,F,N,R,L,B,j,z,U,H,W,q=M+"Delay",V=M+"Duration",Y=E+"Delay",G=E+"Duration",K=t.$$minErr("ng"),X={transitionDuration:G,transitionDelay:Y,transitionProperty:E+"Property",animationDuration:V,animationDelay:q,animationIterationCount:M+"IterationCount"},J={transitionDuration:G,transitionDelay:Y,animationDuration:V,animationDelay:q};t.module("ngAnimate",[],function(){W=t.noop,O=t.copy,P=t.extend,H=t.element,F=t.forEach,N=t.isArray,z=t.isString,j=t.isObject,U=t.isUndefined,R=t.isDefined,B=t.isFunction,L=t.isElement}).directive("ngAnimateSwap",["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,a,o){var r,s;t.$watchCollection(i.ngAnimateSwap||i.for,function(i){r&&e.leave(r),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),o(s,function(t){r=t,e.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(e){return{link:function(t,n,i){function a(e){n.data("$$ngAnimateChildren","on"===e||"true"===e)}var o=i.ngAnimateChildren;z(o)&&0===o.length?n.data("$$ngAnimateChildren",!0):(a(e(o)(t)),i.$observe("ngAnimateChildren",a))}}}]).factory("$$rAFScheduler",["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();a||e(function(){a||n()})}}var i,a;return i=t.queue=[],t.waitUntilQuiet=function(t){a&&a(),a=e(function(){a=null,t(),n()})},t}]).provider("$$animateQueue",["$animateProvider",function(t){function i(e){if(!e)return null;e=e.split(" ");var t=Object.create(null);return F(e,function(e){t[e]=!0}),t}function a(e,t){if(e&&t){var n=i(t);return e.split(" ").some(function(e){return n[e]})}}function o(e,t,n,i){return c[e].some(function(e){return e(t,n,i)})}function l(e,t){var n=0<(e.addClass||"").length,i=0<(e.removeClass||"").length;return t?n&&i:n||i}var c=this.rules={skip:[],cancel:[],join:[]};c.join.push(function(e,t,n){return!t.structural&&l(t)}),c.skip.push(function(e,t,n){return!t.structural&&!l(t)}),c.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),c.skip.push(function(e,t,n){return n.structural&&2===n.state&&!t.structural}),c.cancel.push(function(e,t,n){return n.structural&&t.structural}),c.cancel.push(function(e,t,n){return 2===n.state&&t.structural}),c.cancel.push(function(e,t,n){if(n.structural)return!1;e=t.addClass,t=t.removeClass;var i=n.addClass;return n=n.removeClass,!(U(e)&&U(t)||U(i)&&U(n))&&(a(e,n)||a(t,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(i,a,c,m,f,g,y,w,x,_){function $(){var e=!1;return function(t){e?t():a.$$postDigest(function(){e=!0,t()})}}function k(e,t,n){var i=v(t),a=v(e),o=[];return(e=V[n])&&F(e,function(e){X.call(e.node,i)?o.push(e.callback):"leave"===n&&X.call(e.node,a)&&o.push(e.callback)}),o}function S(e,t,n){var i=s(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function C(e,t,n){function s(t,n,a,o){_(function(){var t=k(f,e,n);t.length?i(function(){F(t,function(t){t(e,a,o)}),"close"!==a||e[0].parentNode||J.off(e)}):"close"!==a||e[0].parentNode||J.off(e)}),t.progress(n,a,o)}function c(t){var n=e,i=w;i.preparationClasses&&(n.removeClass(i.preparationClasses),i.preparationClasses=null),i.activeClasses&&(n.removeClass(i.activeClasses),i.activeClasses=null),K(e,w),p(e,w),w.domOperation(),x.complete(!t)}var d,f,w=O(n);(e=r(e))&&(d=v(e),f=e.parent());var w=u(w),x=new y,_=$();if(N(w.addClass)&&(w.addClass=w.addClass.join(" ")),w.addClass&&!z(w.addClass)&&(w.addClass=null),N(w.removeClass)&&(w.removeClass=w.removeClass.join(" ")),w.removeClass&&!z(w.removeClass)&&(w.removeClass=null),w.from&&!j(w.from)&&(w.from=null),w.to&&!j(w.to)&&(w.to=null),!d)return c(),x;if(n=[d.className,w.addClass,w.removeClass].join(" "),!G(n))return c(),x;var S=0<=["enter","move","leave"].indexOf(t),C=m[0].hidden,E=!W||C||B.get(d);n=!E&&A.get(d)||{};var P=!!n.state;if(E||P&&1==n.state||(E=!I(e,f,t)),E)return C&&s(x,t,"start"),c(),C&&s(x,t,"close"),x;if(S&&D(e),C={structural:S,element:e,event:t,addClass:w.addClass,removeClass:w.removeClass,close:c,options:w,runner:x},P){if(o("skip",e,C,n))return 2===n.state?(c(),x):(h(e,n,C),n.runner);if(o("cancel",e,C,n))if(2===n.state)n.runner.end();else{if(!n.structural)return h(e,n,C),n.runner;n.close()}else if(o("join",e,C,n)){if(2!==n.state)return b(e,S?t:null,w),t=C.event=n.event,w=h(e,n,C),n.runner;h(e,C,{})}}else h(e,C,{});if((P=C.structural)||(P="animate"===C.event&&0<Object.keys(C.options.to||{}).length||l(C)),!P)return c(),T(e),x;var R=(n.counter||0)+1;return C.counter=R,M(e,1,C),a.$$postDigest(function(){var n=A.get(d),i=!n,n=n||{},a=0<(e.parent()||[]).length&&("animate"===n.event||n.structural||l(n));i||n.counter!==R||!a?(i&&(K(e,w),p(e,w)),(i||S&&n.event!==t)&&(w.domOperation(),x.end()),a||T(e)):(t=!n.structural&&l(n,!0)?"setClass":n.event,M(e,2),n=g(e,t,n.options),x.setHost(n),s(x,t,"start",{}),n.done(function(n){c(!n),(n=A.get(d))&&n.counter===R&&T(v(e)),s(x,t,"close",{})}))}),x}function D(e){e=v(e).querySelectorAll("[data-ng-animate]"),F(e,function(e){var t=parseInt(e.getAttribute("data-ng-animate")),n=A.get(e);if(n)switch(t){case 2:n.runner.end();case 1:A.remove(e)}})}function T(e){e=v(e),e.removeAttribute("data-ng-animate"),A.remove(e)}function E(e,t){return v(e)===v(t)}function I(e,t,n){n=H(m[0].body);var i,a=E(e,n)||"HTML"===e[0].nodeName,o=E(e,c),r=!1,s=B.get(v(e));for((e=H.data(e[0],"$ngAnimatePin"))&&(t=e),t=v(t);t&&(o||(o=E(t,c)),1===t.nodeType);){if(e=A.get(t)||{},!r){var l=B.get(t);if(!0===l&&!1!==s){s=!0;break}!1===l&&(s=!1),r=e.structural}if((U(i)||!0===i)&&(e=H.data(t,"$$ngAnimateChildren"),R(e)&&(i=e)),r&&!1===i)break;if(a||(a=E(t,n)),a&&o)break;t=o||!(e=H.data(t,"$ngAnimatePin"))?t.parentNode:v(e)}return(!r||i)&&!0!==s&&o&&a}function M(e,t,n){n=n||{},n.state=t,e=v(e),e.setAttribute("data-ng-animate",t),n=(t=A.get(e))?P(t,n):n,A.put(e,n)}var A=new f,B=new f,W=null,q=a.$watch(function(){return 0===w.totalPendingRequests},function(e){e&&(q(),a.$$postDigest(function(){a.$$postDigest(function(){null===W&&(W=!0)})}))}),V=Object.create(null),Y=t.classNameFilter(),G=Y?function(e){return Y.test(e)}:function(){return!0},K=d(x),X=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},J={on:function(e,t,n){var i=s(t);V[e]=V[e]||[],V[e].push({node:i,callback:n}),H(t).on("$destroy",function(){A.get(i)||J.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||z(arguments[0])){var i=V[e];i&&(V[e]=1===arguments.length?null:S(i,t,n))}else for(i in t=arguments[0],V)V[i]=S(V[i],t)},pin:function(e,t){n(L(e),"element","not an element"),n(L(t),"parentElement","not an element"),e.data("$ngAnimatePin",t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,C(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!W;else if(L(e)){var i=v(e);1===n?t=!B.get(i):B.put(i,!t)}else t=W=!!e;return t}};return J}]}]).provider("$$animation",["$animateProvider",function(e){var t=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,n,a,o,r,s){function l(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,o=n.parentNode;a.put(n,e);for(var r;o;){if(r=a.get(o)){
r.processed||(r=t(r));break}o=o.parentNode}return(r||i).children.push(e),e}var n,i={children:[]},a=new r;for(n=0;n<e.length;n++){var o=e[n];a.put(o.domNode,e[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);e=i.length;var a=0,o=[];for(t=0;t<i.length;t++){var r=i[t];0>=e&&(e=a,a=0,n.push(o),o=[]),o.push(r.fn),r.children.forEach(function(e){a++,i.push(e)}),e--}return o.length&&n.push(o),n}(i)}var c=[],m=d(e);return function(r,d,f){function h(e){e=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]");var t=[];return F(e,function(e){var n=e.getAttribute("ng-animate-ref");n&&n.length&&t.push(e)}),t}function g(e){var t=[],n={};F(e,function(e,i){var a=v(e.element),o=0<=["enter","move"].indexOf(e.event),a=e.structural?h(a):[];if(a.length){var r=o?"to":"from";F(a,function(e){var t=e.getAttribute("ng-animate-ref");n[t]=n[t]||{},n[t][r]={animationID:i,element:H(e)}})}else t.push(e)});var i={},a={};return F(n,function(n,o){var r=n.from,s=n.to;if(r&&s){var l=e[r.animationID],c=e[s.animationID],d=r.animationID.toString();if(!a[d]){var u=a[d]={structural:!0,beforeStart:function(){l.beforeStart(),c.beforeStart()},close:function(){l.close(),c.close()},classes:b(l.classes,c.classes),from:l,to:c,anchors:[]};u.classes.length?t.push(u):(t.push(l),t.push(c))}a[d].anchors.push({out:r.element,in:s.element})}else r=r?r.animationID:s.animationID,s=r.toString(),i[s]||(i[s]=!0,t.push(e[r]))}),t}function b(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var a=e[i];if("ng-"!==a.substring(0,3))for(var o=0;o<t.length;o++)if(a===t[o]){n.push(a);break}}return n.join(" ")}function y(e){for(var n=t.length-1;0<=n;n--){var i=a.get(t[n])(e);if(i)return i}}function w(e,t){function n(e){(e=e.data("$$animationRunner"))&&e.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function x(){var e=r.data("$$animationRunner");!e||"leave"===d&&f.$$domOperationFired||e.end()}function _(t){r.off("$destroy",x),r.removeData("$$animationRunner"),m(r,f),p(r,f),f.domOperation(),C&&e.removeClass(r,C),r.removeClass("ng-animate"),k.complete(!t)}f=u(f);var $=0<=["enter","move","leave"].indexOf(d),k=new o({end:function(){_()},cancel:function(){_(!0)}});if(!t.length)return _(),k;r.data("$$animationRunner",k);var S=i(r.attr("class"),i(f.addClass,f.removeClass)),C=f.tempClasses;C&&(S+=" "+C,f.tempClasses=null);var D;return $&&(D="ng-"+d+"-prepare",e.addClass(r,D)),c.push({element:r,classes:S,event:d,structural:$,options:f,beforeStart:function(){r.addClass("ng-animate"),C&&e.addClass(r,C),D&&(e.removeClass(r,D),D=null)},close:_}),r.on("$destroy",x),1<c.length?k:(n.$$postDigest(function(){var e=[];F(c,function(t){t.element.data("$$animationRunner")?e.push(t):t.close()}),c.length=0;var t=g(e),n=[];F(t,function(e){n.push({domNode:v(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close;if((e.anchors?e.from.element||e.to.element:e.element).data("$$animationRunner")){var i=y(e);i&&(t=i.start)}t?(t=t(),t.done(function(e){n(!e)}),w(e,t)):n()}})}),s(l(n))}),k)}}]}]).provider("$animateCss",["$animateProvider",function(e){var t=D(),n=D();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,r,s,l,c,h,g){function b(e,t){var n=e.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++R))+"-"+e.getAttribute("class")+"-"+t}function _(a,r,s,l){var c;return 0<t.count(s)&&(c=n.get(s),c||(r=o(r,"-stagger"),i.addClass(a,r),c=$(e,a,l),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),i.removeClass(a,r),n.put(s,c))),c||{}}function k(e){L.push(e),h.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=l(),i=0;i<L.length;i++)L[i](e);L.length=0})}function D(n,i,a){return i=t.get(a),i||(i=$(e,n,X),"infinite"===i.animationIterationCount&&(i.animationIterationCount=1)),t.put(a,i),n=i,a=n.animationDelay,i=n.transitionDelay,n.maxDelay=a&&i?Math.max(a,i):a||i,n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration),n}var P=d(i),R=0,L=[];return function(e,n){function l(){h()}function d(){h(!0)}function h(t){if(!(H||K&&G)){H=!0,G=!1,j.$$skipPreparationClasses||i.removeClass(e,ue),i.removeClass(e,me),w(U,!1),y(U,!1),F(ae,function(e){U.style[e[0]]=""}),P(e,j),p(e,j),Object.keys(z).length&&F(z,function(e,t){e?U.style.setProperty(t,e):U.style.removeProperty(t)}),j.onDone&&j.onDone(),se&&se.length&&e.off(se.join(" "),L);var n=e.data("$$animateCss");n&&(s.cancel(n[0].timer),e.removeData("$$animateCss")),X&&X.complete(!t)}}function $(e){ye.blockTransition&&y(U,e),ye.blockKeyframeAnimation&&w(U,!!e)}function R(){return X=new r({end:l,cancel:d}),k(W),h(),{$$willAnimate:!1,start:function(){return X},end:l}}function L(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-ie,0)>=ee&&t>=te&&(K=!0,h())}function B(){function t(){if(!H){if($(!1),F(ae,function(e){U.style[e[0]]=e[1]}),P(e,j),i.addClass(e,me),ye.recalculateTimingStyles){if(pe=U.className+" "+ue,fe=b(U,pe),ve=D(U,pe,fe),be=ve.maxDelay,Z=Math.max(be,0),te=ve.maxDuration,0===te)return void h();ye.hasTransitions=0<ve.transitionDuration,ye.hasAnimations=0<ve.animationDuration}if(ye.applyAnimationDelay&&(be="boolean"!=typeof j.delay&&S(j.delay)?parseFloat(j.delay):be,Z=Math.max(be,0),ve.animationDelay=be,we=[q,be+"s"],ae.push(we),U.style[we[0]]=we[1]),ee=1e3*Z,ne=1e3*te,j.easing){var t,a=j.easing;ye.hasTransitions&&(t=E+"TimingFunction",ae.push([t,a]),U.style[t]=a),ye.hasAnimations&&(t=M+"TimingFunction",ae.push([t,a]),U.style[t]=a)}ve.transitionDuration&&se.push(I),ve.animationDuration&&se.push(A),ie=Date.now();var o=ee+1.5*ne;t=ie+o;var a=e.data("$$animateCss")||[],r=!0;if(a.length){var l=a[0];(r=t>l.expectedEndTime)?s.cancel(l.timer):a.push(h)}r&&(o=s(n,o,!1),a[0]={timer:o,expectedEndTime:t},a.push(h),e.data("$$animateCss",a)),se.length&&e.on(se.join(" "),L),j.to&&(j.cleanupStyles&&T(z,U,Object.keys(j.to)),f(e,j))}}function n(){var t=e.data("$$animateCss");if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData("$$animateCss")}}if(!H)if(U.parentNode){var a=function(e){if(K)G&&e&&(G=!1,h());else if(G=!e,ve.animationDuration)if(e=w(U,G),G)ae.push(e);else{var t=ae,n=t.indexOf(e);0<=e&&t.splice(n,1)}},o=0<ge&&(ve.transitionDuration&&0===he.transitionDuration||ve.animationDuration&&0===he.animationDuration)&&Math.max(he.animationDelay,he.transitionDelay);o?s(t,Math.floor(o*ge*1e3),!1):t(),Q.resume=function(){a(!0)},Q.pause=function(){a(!1)}}else h()}var j=n||{};j.$$prepared||(j=u(O(j)));var z={},U=v(e);if(!U||!U.parentNode||!g.enabled())return R();var H,G,K,X,Q,Z,ee,te,ne,ie,ae=[],oe=e.attr("class"),re=a(j),se=[];if(0===j.duration||!c.animations&&!c.transitions)return R();var le=j.event&&N(j.event)?j.event.join(" "):j.event,ce="",de="";le&&j.structural?ce=o(le,"ng-",!0):le&&(ce=le),j.addClass&&(de+=o(j.addClass,"-add")),j.removeClass&&(de.length&&(de+=" "),de+=o(j.removeClass,"-remove")),j.applyClassesEarly&&de.length&&P(e,j);var ue=[ce,de].join(" ").trim(),pe=oe+" "+ue,me=o(ue,"-active"),oe=re.to&&0<Object.keys(re.to).length;if(!(0<(j.keyframeStyle||"").length||oe||ue))return R();var fe,he;0<j.stagger?(re=parseFloat(j.stagger),he={transitionDelay:re,animationDelay:re,transitionDuration:0,animationDuration:0}):(fe=b(U,pe),he=_(U,ue,fe,J)),j.$$skipPreparationClasses||i.addClass(e,ue),j.transitionStyle&&(re=[E,j.transitionStyle],x(U,re),ae.push(re)),0<=j.duration&&(re=0<U.style[E].length,re=C(j.duration,re),x(U,re),ae.push(re)),j.keyframeStyle&&(re=[M,j.keyframeStyle],x(U,re),ae.push(re));var ge=he?0<=j.staggerIndex?j.staggerIndex:t.count(fe):0;(le=0===ge)&&!j.skipBlocking&&y(U,9999);var ve=D(U,pe,fe),be=ve.maxDelay;Z=Math.max(be,0),te=ve.maxDuration;var ye={};if(ye.hasTransitions=0<ve.transitionDuration,ye.hasAnimations=0<ve.animationDuration,ye.hasTransitionAll=ye.hasTransitions&&"all"==ve.transitionProperty,ye.applyTransitionDuration=oe&&(ye.hasTransitions&&!ye.hasTransitionAll||ye.hasAnimations&&!ye.hasTransitions),ye.applyAnimationDuration=j.duration&&ye.hasAnimations,ye.applyTransitionDelay=S(j.delay)&&(ye.applyTransitionDuration||ye.hasTransitions),ye.applyAnimationDelay=S(j.delay)&&ye.hasAnimations,ye.recalculateTimingStyles=0<de.length,(ye.applyTransitionDuration||ye.applyAnimationDuration)&&(te=j.duration?parseFloat(j.duration):te,ye.applyTransitionDuration&&(ye.hasTransitions=!0,ve.transitionDuration=te,re=0<U.style[E+"Property"].length,ae.push(C(te,re))),ye.applyAnimationDuration&&(ye.hasAnimations=!0,ve.animationDuration=te,ae.push([V,te+"s"]))),0===te&&!ye.recalculateTimingStyles)return R();if(null!=j.delay){var we;"boolean"!=typeof j.delay&&(we=parseFloat(j.delay),Z=Math.max(we,0)),ye.applyTransitionDelay&&ae.push([Y,we+"s"]),ye.applyAnimationDelay&&ae.push([q,we+"s"])}return null==j.duration&&0<ve.transitionDuration&&(ye.recalculateTimingStyles=ye.recalculateTimingStyles||le),ee=1e3*Z,ne=1e3*te,j.skipBlocking||(ye.blockTransition=0<ve.transitionDuration,ye.blockKeyframeAnimation=0<ve.animationDuration&&0<he.animationDelay&&0===he.animationDuration),j.from&&(j.cleanupStyles&&T(z,U,Object.keys(j.from)),m(e,j)),ye.blockTransition||ye.blockKeyframeAnimation?$(te):j.skipBlocking||y(U,!1),{$$willAnimate:!0,end:l,start:function(){if(!H)return Q={end:l,cancel:d,resume:null,pause:null},X=new r(Q),k(B),X}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,t,n,i,a,o,r){function s(e){return e.replace(/\bng-\S+\b/g,"")}function l(e,t){return z(e)&&(e=e.split(" ")),z(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function c(t,i,a){function o(e){var t={},n=v(e).getBoundingClientRect();return F(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=m.scrollTop;break;case"left":i+=m.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function r(){var t=s(a.attr("class")||""),n=l(t,u),t=l(u,t),n=e(d,{to:o(a),addClass:"ng-anchor-in "+n,removeClass:"ng-anchor-out "+t,delay:!0});return n.$$willAnimate?n:null}function c(){d.remove(),i.removeClass("ng-animate-shim"),a.removeClass("ng-animate-shim")}var d=H(v(i).cloneNode(!0)),u=s(d.attr("class")||"");i.addClass("ng-animate-shim"),a.addClass("ng-animate-shim"),d.addClass("ng-anchor"),f.append(d);var p;if(t=function(){var t=e(d,{addClass:"ng-anchor-out",delay:!0,from:o(i)});return t.$$willAnimate?t:null}(),!t&&(p=r(),!p))return c();var h=t||p;return{start:function(){function e(){i&&i.end()}var t,i=h.start();return i.done(function(){return i=null,!p&&(p=r())?(i=p.start(),i.done(function(){i=null,c(),t.complete()}),i):(c(),void t.complete())}),t=new n({end:e,cancel:e})}}}function u(e,t,i,a){var o=p(e,W),r=p(t,W),s=[];if(F(a,function(e){(e=c(i,e.out,e.in))&&s.push(e)}),o||r||0!==s.length)return{start:function(){function e(){F(t,function(e){e.end()})}var t=[];o&&t.push(o.start()),r&&t.push(r.start()),F(s,function(e){t.push(e.start())});var i=new n({end:e,cancel:e});return n.all(t,function(e){i.complete(e)}),i}}}function p(t){var n=t.element,i=t.options||{};return t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=_(i.event,i.preparationClasses)),t=e(n,i),t.$$willAnimate?t:null}if(!a.animations&&!a.transitions)return W;var m=r[0].body;t=v(i);var f=H(t.parentNode&&11===t.parentNode.nodeType||m.contains(t)?t:m);return d(o),function(e){return e.from&&e.to?u(e.from,e.to,e.classes,e.anchors):p(e)}}]}]).provider("$$animateJs",["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function a(n){n=N(n)?n:n.split(" ");for(var i=[],a={},o=0;o<n.length;o++){var r=n[o],s=e.$$registeredAnimations[r];s&&!a[r]&&(i.push(t.get(s)),a[r]=!0)}return i}var o=d(i);return function(e,t,i,r){function s(){r.domOperation(),o(e,r)}function l(e,t,i,a,o){switch(i){case"animate":t=[t,a.from,a.to,o];break;case"setClass":t=[t,g,v,o];break;case"addClass":t=[t,g,o];break;case"removeClass":t=[t,v,o];break;default:t=[t,o]}if(t.push(a),e=e.apply(e,t))if(B(e.start)&&(e=e.start()),e instanceof n)e.done(o);else if(B(e))return e;return W}function c(e,t,i,a,o){var r=[];return F(a,function(a){var s=a[o];s&&r.push(function(){var a,o,r=!1,c=function(e){r||(r=!0,(o||W)(e),a.complete(!e))};return a=new n({end:function(){c()},cancel:function(){c(!0)}}),o=l(s,e,t,i,function(e){c(!1===e)}),a})}),r}function d(e,t,i,a,o){var r=c(e,t,i,a,o);if(0===r.length){var s,l;"beforeSetClass"===o?(s=c(e,"removeClass",i,a,"beforeRemoveClass"),l=c(e,"addClass",i,a,"beforeAddClass")):"setClass"===o&&(s=c(e,"removeClass",i,a,"removeClass"),l=c(e,"addClass",i,a,"addClass")),s&&(r=r.concat(s)),l&&(r=r.concat(l))}if(0!==r.length)return function(e){var t=[];return r.length&&F(r,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){F(t,function(t){e?t.cancel():t.end()})}}}var m=!1;3===arguments.length&&j(i)&&(r=i,i=null),r=u(r),i||(i=e.attr("class")||"",r.addClass&&(i+=" "+r.addClass),r.removeClass&&(i+=" "+r.removeClass));var f,h,g=r.addClass,v=r.removeClass,b=a(i);if(b.length){var y,w;"leave"==t?(w="leave",y="afterLeave"):(w="before"+t.charAt(0).toUpperCase()+t.substr(1),y=t),"enter"!==t&&"move"!==t&&(f=d(e,t,r,b,w)),h=d(e,t,r,b,y)}if(f||h){var x;return{$$willAnimate:!0,end:function(){return x?x.end():(m=!0,s(),p(e,r),x=new n,x.complete(!0)),x},start:function(){function t(t){m=!0,s(),p(e,r),x.complete(t)}if(x)return x;x=new n;var i,a=[];return f&&a.push(function(e){i=f(e)}),a.length?a.push(function(e){s(),e(!0)}):s(),h&&a.push(function(e){i=h(e)}),x.setHost({end:function(){m||((i||W)(void 0),t(void 0))},cancel:function(){m||((i||W)(!0),t(!0))}}),n.chain(a,t),x}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){return e(t.element,t.event,t.classes,t.options)}return function(e){if(!e.from||!e.to)return n(e);var i=n(e.from),a=n(e.to);return i||a?{start:function(){function e(){return function(){F(n,function(e){e.end()})}}var n=[];i&&n.push(i.start()),a&&n.push(a.start()),t.all(n,function(e){o.complete(e)});var o=new t({end:e(),cancel:e()});return o}}:void 0}}]}])}(window,window.angular),function(e,t){"use strict";function n(e,n,i){var a=i.baseHref(),o=e[0];return function(e,i,r){var s,l;r=r||{},l=r.expires,s=t.isDefined(r.path)?r.path:a,t.isUndefined(i)&&(l="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(l)&&(l=new Date(l)),i=encodeURIComponent(e)+"="+encodeURIComponent(i),i=i+(s?";path="+s:"")+(r.domain?";domain="+r.domain:""),i+=l?";expires="+l.toUTCString():"",i+=r.secure?";secure":"",r=i.length+1,4096<r&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"),o.cookie=i}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){var e=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(e){return n()[e]},getObject:function(e){return(e=this.get(e))?t.fromJson(e):e},getAll:function(){return n()},put:function(n,a,o){i(n,a,o?t.extend({},e,o):e)},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(n,a){i(n,void 0,a?t.extend({},e,a):e)}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),function(e,t){"use strict";function n(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var i in e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}var i=t.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,o=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(r,s,l,c){function d(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function u(e,t){this.template=e,this.defaults=h({},o.defaults,t),this.urlParams={}}function p(e,d,b,y){function w(e,n){var o={};return n=h({},d,n),f(n,function(n,r){v(n)&&(n=n(e));var s;if(n&&n.charAt&&"@"==n.charAt(0)){s=e;var l=n.substr(1);if(null==l||""===l||"hasOwnProperty"===l||!a.test("."+l))throw i("badmember",l);for(var l=l.split("."),c=0,d=l.length;c<d&&t.isDefined(s);c++){var u=l[c];s=null!==s?s[u]:void 0}}else s=n;o[r]=s}),o}function x(e){return e.resource}function _(e){n(e||{},this)}var $=new u(e,y);return b=h({},o.defaults.actions,b),_.prototype.toJSON=function(){var e=h({},this);return delete e.$promise,delete e.$resolved,e},f(b,function(e,a){var d=/^(POST|PUT|PATCH)$/i.test(e.method),u=e.timeout,p=t.isDefined(e.cancellable)?e.cancellable:y&&t.isDefined(y.cancellable)?y.cancellable:o.defaults.cancellable;u&&!t.isNumber(u)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,u=null),_[a]=function(o,s,b,y){var k,S,C,D={};switch(arguments.length){case 4:C=y,S=b;case 3:case 2:if(!v(s)){D=o,k=s,S=b;break}if(v(o)){S=o,C=s;break}S=s,C=b;case 1:v(o)?S=o:d?k=o:D=o;break;case 0:break;default:throw i("badargs",arguments.length)}var T,E,I=this instanceof _,M=I?k:e.isArray?[]:new _(k),A={},O=e.interceptor&&e.interceptor.response||x,P=e.interceptor&&e.interceptor.responseError||void 0;return f(e,function(e,t){switch(t){default:A[t]=g(e);case"params":case"isArray":case"interceptor":case"cancellable":}}),!I&&p&&(T=l.defer(),A.timeout=T.promise,u&&(E=c(T.resolve,u))),d&&(A.data=k),$.setUrlParams(A,h({},w(k,e.params||{}),D),e.url),D=r(A).then(function(o){var r=o.data;if(r){if(t.isArray(r)!==!!e.isArray)throw i("badcfg",a,e.isArray?"array":"object",t.isArray(r)?"array":"object",A.method,A.url);if(e.isArray)M.length=0,f(r,function(e){"object"==typeof e?M.push(new _(e)):M.push(e)});else{var s=M.$promise;n(r,M),M.$promise=s}}return o.resource=M,o},function(e){return(C||m)(e),l.reject(e)}),D.finally(function(){M.$resolved=!0,!I&&p&&(M.$cancelRequest=t.noop,c.cancel(E),T=E=A.timeout=null)}),D=D.then(function(e){var t=O(e);return(S||m)(t,e.headers),t},P),I?D:(M.$promise=D,M.$resolved=!1,p&&(M.$cancelRequest=T.resolve),M)},_.prototype["$"+a]=function(e,t,n){return v(e)&&(n=t,t=e,e={}),e=_[a].call(this,e,this,t,n),e.$promise||e}}),_.bind=function(t){return p(e,h({},d,t),b)},_}var m=t.noop,f=t.forEach,h=t.extend,g=t.copy,v=t.isFunction;return u.prototype={setUrlParams:function(n,a,o){var r,s,l=this,c=o||l.template,u="",p=l.urlParams={};f(c.split(/\W/),function(e){if("hasOwnProperty"===e)throw i("badname");!/^\d+$/.test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(c)&&(p[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(c)})}),c=c.replace(/\\:/g,":"),c=c.replace(e,function(e){return u=e,""}),a=a||{},f(l.urlParams,function(e,n){r=a.hasOwnProperty(n)?a[n]:l.defaults[n],t.isDefined(r)&&null!==r?(s=e.isQueryParamValue?d(r,!0):d(r,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),c=c.replace(new RegExp(":"+n+"(\\W|$)","g"),function(e,t){return s+t})):c=c.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),l.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),n.url=u+c.replace(/\/\\\./,"/."),f(a,function(e,t){l.urlParams[t]||(n.params=n.params||{},n.params[t]=e)})}},p}]})}(window,window.angular),function(e,t){"use strict";function n(e){var t=[];return d(t,l).chars(e),t.join("")}var i,a,o,r,s,l,c,d,u=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function n(e,t){var n,i={},a=e.split(",");for(n=0;n<a.length;n++)i[t?s(a[n]):a[n]]=!0;return i}function p(e){for(var t={},n=0,i=e.length;n<i;n++){var a=e[n];t[a.name]=a.value}return t}function m(e){return e.replace(/&/g,"&amp;").replace(v,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,a=n.length;i<a;i++){var o=n[i],r=o.name.toLowerCase();"xmlns:ns1"!==r&&0!==r.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),i--,a--)}(n=t.firstChild)&&f(n),(n=t.nextSibling)&&f(n)}var h=!1;this.$get=["$$sanitizeUri",function(e){return h&&a(S,$),function(t){var n=[];return c(t,d(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return r(e)?(h=e,this):h},i=t.bind,a=t.extend,o=t.forEach,r=t.isDefined,s=t.lowercase,l=t.noop,c=function(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),g.innerHTML=t;var i=5;do{if(0===i)throw u("uinput");i--,e.document.documentMode&&f(g),t=g.innerHTML,g.innerHTML=t}while(t!==g.innerHTML);for(i=g.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),p(i.attributes));break;case 3:n.chars(i.textContent)}var a;if(!(a=i.firstChild)&&(1==i.nodeType&&n.end(i.nodeName.toLowerCase()),a=i.nextSibling,!a))for(;null==a&&(i=i.parentNode,i!==g);)a=i.nextSibling,1==i.nodeType&&n.end(i.nodeName.toLowerCase());i=a}for(;i=g.firstChild;)g.removeChild(i)},d=function(e,t){var n=!1,a=i(e,e.push);return{start:function(e,i){e=s(e),!n&&k[e]&&(n=e),n||!0!==S[e]||(a("<"),a(e),o(i,function(n,i){var o=s(i),r="img"===e&&"src"===o||"background"===o;!0!==D[o]||!0===C[o]&&!t(n,r)||(a(" "),a(i),a('="'),a(m(n)),a('"'))}),a(">"))},end:function(e){e=s(e),n||!0!==S[e]||!0===y[e]||(a("</"),a(e),a(">")),e==n&&(n=!1)},chars:function(e){n||a(m(e))}}};var g,v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~ |!])/g,y=n("area,br,col,hr,img,wbr"),w=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=n("rp,rt"),_=a({},x,w),w=a({},w,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),x=a({},x,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),$=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),k=n("script,style"),S=a({},y,w,x,_),C=n("background,cite,href,longdesc,src,xlink:href"),_=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),x=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),D=a({},C,x,_);!function(e){if(!e.document||!e.document.implementation)throw u("noinert");e=e.document.implementation.createHTMLDocument("inert");var t=(e.documentElement||e.getDocumentElement()).getElementsByTagName("body");1===t.length?g=t[0]:(t=e.createElement("html"),g=e.createElement("body"),t.appendChild(g),e.appendChild(t))}(e)}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,a=/^mailto:/i,o=t.$$minErr("linky"),r=t.isDefined,s=t.isFunction,l=t.isObject,c=t.isString;return function(t,d,u){function p(e){e&&b.push(n(e))}function m(e,t){var n,i=g(e);b.push("<a ");for(n in i)b.push(n+'="'+i[n]+'" ');!r(d)||"target"in i||b.push('target="',d,'" '),b.push('href="',e.replace(/"/g,"&quot;"),'">'),p(t),b.push("</a>")}if(null==t||""===t)return t;if(!c(t))throw o("notstring",t);for(var f,h,g=s(u)?u:l(u)?function(){return u}:function(){return{}},v=t,b=[];t=v.match(i);)f=t[0],t[2]||t[4]||(f=(t[3]?"http://":"mailto:")+f),h=t.index,p(v.substr(0,h)),m(f,t[0].replace(a,"")),v=v.substring(h+t[0].length);return p(v),e(b.join(""))}}])}(window,window.angular),!function(){function e(e){return["$rootScope","$window",function(t,n){for(var i,a,o,r=n[e]||(console.warn("This browser does not support Web Storage!"),{}),s={$default:function(e){for(var t in e)angular.isDefined(s[t])||(s[t]=e[t]);return s},$reset:function(e){for(var t in s)"$"===t[0]||delete s[t];return s.$default(e)}},l=0;l<r.length;l++)(o=r.key(l))&&"ngStorage-"===o.slice(0,10)&&(s[o.slice(10)]=angular.fromJson(r.getItem(o)));return i=angular.copy(s),t.$watch(function(){a||(a=setTimeout(function(){if(a=null,!angular.equals(s,i)){angular.forEach(s,function(e,t){angular.isDefined(e)&&"$"!==t[0]&&r.setItem("ngStorage-"+t,angular.toJson(e)),delete i[t]});for(var e in i)r.removeItem("ngStorage-"+e);i=angular.copy(s)}},100))}),"localStorage"===e&&n.addEventListener&&n.addEventListener("storage",function(e){"ngStorage-"===e.key.slice(0,10)&&(e.newValue?s[e.key.slice(10)]=angular.fromJson(e.newValue):delete s[e.key.slice(10)],i=angular.copy(s),t.$apply())}),s}]}angular.module("ngStorage",[]).factory("$localStorage",e("localStorage")).factory("$sessionStorage",e("sessionStorage"))}(),function(e,t){"use strict";function n(e,n){var i=!1,a=!1;this.ngClickOverrideEnabled=function(r){return t.isDefined(r)?(r&&!a&&(a=!0,o.$$moduleName="ngTouch",n.directive("ngClick",o),e.decorator("ngClickDirective",["$delegate",function(e){if(i)e.shift();else for(var t=e.length-1;0<=t;){if("ngTouch"===e[t].$$moduleName){e.splice(t,1);break}t--}return e}])),i=r,this):i},this.$get=function(){return{ngClickOverrideEnabled:function(){return i}}}}function i(e,n,i){a.directive(e,["$parse","$swipe",function(a,o){return function(r,s,l){function c(e){if(!d)return!1;var t=Math.abs(e.y-d.y);return e=(e.x-d.x)*n,u&&75>t&&0<e&&30<e&&.3>t/e}var d,u,p=a(l[e]),m=["touch"];t.isDefined(l.ngSwipeDisableMouse)||m.push("mouse"),o.bind(s,{start:function(e,t){d=e,u=!0},cancel:function(e){u=!1},end:function(e,t){c(e)&&r.$apply(function(){s.triggerHandler(i),p(r,{$event:t})})}},m)}}])}var a=t.module("ngTouch",[]);a.provider("$touch",n),n.$inject=["$provide","$compileProvider"],a.factory("$swipe",[function(){function e(e){e=e.originalEvent||e;var t=e.touches&&e.touches.length?e.touches:[e];return e=e.changedTouches&&e.changedTouches[0]||t[0],{x:e.clientX,y:e.clientY}}function n(e,n){var a=[];return t.forEach(e,function(e){(e=i[e][n])&&a.push(e)}),a.join(" ")}var i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"}};return{bind:function(t,i,a){var o,r,s,l,c=!1;a=a||["mouse","touch","pointer"],t.on(n(a,"start"),function(t){s=e(t),c=!0,r=o=0,l=s,i.start&&i.start(s,t)});var d=n(a,"cancel");d&&t.on(d,function(e){c=!1,i.cancel&&i.cancel(e)}),t.on(n(a,"move"),function(t){if(c&&s){var n=e(t);o+=Math.abs(n.x-l.x),r+=Math.abs(n.y-l.y),l=n,10>o&&10>r||(r>o?(c=!1,i.cancel&&i.cancel(t)):(t.preventDefault(),i.move&&i.move(n,t)))}}),t.on(n(a,"end"),function(t){c&&(c=!1,i.end&&i.end(e(t),t))})}}}]);var o=["$parse","$timeout","$rootElement",function(e,n,i){function a(e,t,n){for(var i=0;i<e.length;i+=2){var a=e[i+1],o=n;if(25>Math.abs(e[i]-t)&&25>Math.abs(a-o))return e.splice(i,i+2),!0}return!1}function o(e){if(!(2500<Date.now()-s)){var n=e.touches&&e.touches.length?e.touches:[e],i=n[0].clientX,n=n[0].clientY;if(!(1>i&&1>n||c&&c[0]===i&&c[1]===n)){c&&(c=null);var o=e.target;"label"===t.lowercase(o.nodeName||o[0]&&o[0].nodeName)&&(c=[i,n]),a(l,i,n)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur())}}}function r(e){e=e.touches&&e.touches.length?e.touches:[e];var t=e[0].clientX,i=e[0].clientY;l.push(t,i),n(function(){for(var e=0;e<l.length;e+=2)if(l[e]==t&&l[e+1]==i){l.splice(e,e+2);break}},2500,!1)}var s,l,c;return function(n,c,d){var u,p,m,f,h=e(d.ngClick),g=!1;c.on("touchstart",function(e){g=!0,u=e.target?e.target:e.srcElement,3==u.nodeType&&(u=u.parentNode),c.addClass("ng-click-active"),p=Date.now(),e=e.originalEvent||e,e=(e.touches&&e.touches.length?e.touches:[e])[0],m=e.clientX,f=e.clientY}),c.on("touchcancel",function(e){g=!1,c.removeClass("ng-click-active")}),c.on("touchend",function(e){var n=Date.now()-p,h=e.originalEvent||e,v=(h.changedTouches&&h.changedTouches.length?h.changedTouches:h.touches&&h.touches.length?h.touches:[h])[0],h=v.clientX,v=v.clientY,b=Math.sqrt(Math.pow(h-m,2)+Math.pow(v-f,2));g&&750>n&&12>b&&(l||(i[0].addEventListener("click",o,!0),i[0].addEventListener("touchstart",r,!0),l=[]),s=Date.now(),a(l,h,v),u&&u.blur(),t.isDefined(d.disabled)&&!1!==d.disabled||c.triggerHandler("click",[e])),g=!1,c.removeClass("ng-click-active")}),c.onclick=function(e){},c.on("click",function(e,t){n.$apply(function(){h(n,{$event:t||e})})}),c.on("mousedown",function(e){c.addClass("ng-click-active")}),c.on("mousemove mouseup",function(e){c.removeClass("ng-click-active")})}}];i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Chart=e()}}(function(){var e;return function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){var n=t[r][1][e];return a(n?n:e)},d,d.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e,t,n){function i(e){if(e){var t=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,a=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\w+)/,r=[0,0,0],s=1,l=e.match(t);if(l){l=l[1];for(var c=0;c<r.length;c++)r[c]=parseInt(l[c]+l[c],16)}else if(l=e.match(n)){
l=l[1];for(var c=0;c<r.length;c++)r[c]=parseInt(l.slice(2*c,2*c+2),16)}else if(l=e.match(i)){for(var c=0;c<r.length;c++)r[c]=parseInt(l[c+1]);s=parseFloat(l[4])}else if(l=e.match(a)){for(var c=0;c<r.length;c++)r[c]=Math.round(2.55*parseFloat(l[c+1]));s=parseFloat(l[4])}else if(l=e.match(o)){if("transparent"==l[1])return[0,0,0,0];if(r=w[l[1]],!r)return}for(var c=0;c<r.length;c++)r[c]=b(r[c],0,255);return s=s||0==s?b(s,0,1):1,r[3]=s,r}}function a(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]),a=b(parseInt(n[1]),0,360),o=b(parseFloat(n[2]),0,100),r=b(parseFloat(n[3]),0,100),s=b(isNaN(i)?1:i,0,1);return[a,o,r,s]}}}function o(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]),a=b(parseInt(n[1]),0,360),o=b(parseFloat(n[2]),0,100),r=b(parseFloat(n[3]),0,100),s=b(isNaN(i)?1:i,0,1);return[a,o,r,s]}}}function r(e){var t=i(e);return t&&t.slice(0,3)}function s(e){var t=a(e);return t&&t.slice(0,3)}function l(e){var t=i(e);return t?t[3]:(t=a(e))?t[3]:(t=o(e))?t[3]:void 0}function c(e){return"#"+y(e[0])+y(e[1])+y(e[2])}function d(e,t){return 1>t||e[3]&&e[3]<1?u(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function u(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function p(e,t){if(1>t||e[3]&&e[3]<1)return m(e,t);var n=Math.round(e[0]/255*100),i=Math.round(e[1]/255*100),a=Math.round(e[2]/255*100);return"rgb("+n+"%, "+i+"%, "+a+"%)"}function m(e,t){var n=Math.round(e[0]/255*100),i=Math.round(e[1]/255*100),a=Math.round(e[2]/255*100);return"rgba("+n+"%, "+i+"%, "+a+"%, "+(t||e[3]||1)+")"}function f(e,t){return 1>t||e[3]&&e[3]<1?h(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function h(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function g(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function v(e){return x[e.slice(0,3)]}function b(e,t,n){return Math.min(Math.max(t,e),n)}function y(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var w=e(5);t.exports={getRgba:i,getHsla:a,getRgb:r,getHsl:s,getHwb:o,getAlpha:l,hexString:c,rgbString:d,rgbaString:u,percentString:p,percentaString:m,hslString:f,hslaString:h,hwbString:g,keyword:v};var x={};for(var _ in w)x[w[_]]=_},{5:5}],2:[function(e,t,n){var i=e(4),a=e(1),o=function(e){if(e instanceof o)return e;if(!(this instanceof o))return new o(e);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var t;if("string"==typeof e)if(t=a.getRgba(e))this.setValues("rgb",t);else if(t=a.getHsla(e))this.setValues("hsl",t);else{if(!(t=a.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}else if("object"==typeof e)if(t=e,void 0!==t.r||void 0!==t.red)this.setValues("rgb",t);else if(void 0!==t.l||void 0!==t.lightness)this.setValues("hsl",t);else if(void 0!==t.v||void 0!==t.value)this.setValues("hsv",t);else if(void 0!==t.w||void 0!==t.whiteness)this.setValues("hwb",t);else{if(void 0===t.c&&void 0===t.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=0>e?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return a.hexString(this.values.rgb)},rgbString:function(){return a.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return a.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return a.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return a.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return a.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return a.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return a.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=.03928>=i?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return 128>t},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;3>t;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=0>n?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,i=e,a=void 0===t?.5:t,o=2*a-1,r=n.alpha()-i.alpha(),s=((o*r===-1?o:(o+r)/(1+o*r))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*a+i.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new o,i=this.values,a=n.values;for(var r in i)i.hasOwnProperty(r)&&(e=i[r],t={}.toString.call(e),"[object Array]"===t?a[r]=e.slice(0):"[object Number]"===t?a[r]=e:console.error("unexpected color value:",e));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},o.prototype.setValues=function(e,t){var n,a=this.values,o=this.spaces,r=this.maxes,s=1;if("alpha"===e)s=t;else if(t.length)a[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)a[e][n]=t[e.charAt(n)];s=t.a}else if(void 0!==t[o[e][0]]){var l=o[e];for(n=0;n<e.length;n++)a[e][n]=t[l[n]];s=t.alpha}if(a.alpha=Math.max(0,Math.min(1,void 0===s?a.alpha:s)),"alpha"===e)return!1;var c;for(n=0;n<e.length;n++)c=Math.max(0,Math.min(r[e][n],a[e][n])),a[e][n]=Math.round(c);for(var d in o)d!==e&&(a[d]=i[e][d](a[e]));return!0},o.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},o.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:n===i[t]?this:(i[t]=n,this.setValues(e,i),this)},"undefined"!=typeof window&&(window.Color=o),t.exports=o},{1:1,4:4}],3:[function(e,t,n){function i(e){var t,n,i,a=e[0]/255,o=e[1]/255,r=e[2]/255,s=Math.min(a,o,r),l=Math.max(a,o,r),c=l-s;return l==s?t=0:a==l?t=(o-r)/c:o==l?t=2+(r-a)/c:r==l&&(t=4+(a-o)/c),t=Math.min(60*t,360),0>t&&(t+=360),i=(s+l)/2,n=l==s?0:.5>=i?c/(l+s):c/(2-l-s),[t,100*n,100*i]}function a(e){var t,n,i,a=e[0],o=e[1],r=e[2],s=Math.min(a,o,r),l=Math.max(a,o,r),c=l-s;return n=0==l?0:c/l*1e3/10,l==s?t=0:a==l?t=(o-r)/c:o==l?t=2+(r-a)/c:r==l&&(t=4+(a-o)/c),t=Math.min(60*t,360),0>t&&(t+=360),i=l/255*1e3/10,[t,n,i]}function o(e){var t=e[0],n=e[1],a=e[2],o=i(e)[0],r=1/255*Math.min(t,Math.min(n,a)),a=1-1/255*Math.max(t,Math.max(n,a));return[o,100*r,100*a]}function s(e){var t,n,i,a,o=e[0]/255,r=e[1]/255,s=e[2]/255;return a=Math.min(1-o,1-r,1-s),t=(1-o-a)/(1-a)||0,n=(1-r-a)/(1-a)||0,i=(1-s-a)/(1-a)||0,[100*t,100*n,100*i,100*a]}function l(e){return J[JSON.stringify(e)]}function c(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var a=.4124*t+.3576*n+.1805*i,o=.2126*t+.7152*n+.0722*i,r=.0193*t+.1192*n+.9505*i;return[100*a,100*o,100*r]}function d(e){var t,n,i,a=c(e),o=a[0],r=a[1],s=a[2];return o/=95.047,r/=100,s/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,t=116*r-16,n=500*(o-r),i=200*(r-s),[t,n,i]}function u(e){return L(d(e))}function p(e){var t,n,i,a,o,r=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return o=255*l,[o,o,o];n=.5>l?l*(1+s):l+s-l*s,t=2*l-n,a=[0,0,0];for(var c=0;3>c;c++)i=r+1/3*-(c-1),0>i&&i++,i>1&&i--,o=1>6*i?t+6*(n-t)*i:1>2*i?n:2>3*i?t+(n-t)*(2/3-i)*6:t,a[c]=255*o;return a}function m(e){var t,n,i=e[0],a=e[1]/100,o=e[2]/100;return 0===o?[0,0,0]:(o*=2,a*=1>=o?o:2-o,n=(o+a)/2,t=2*a/(o+a),[i,100*t,100*n])}function f(e){return o(p(e))}function h(e){return s(p(e))}function v(e){return l(p(e))}function y(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,a=Math.floor(t)%6,o=t-Math.floor(t),r=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o)),i=255*i;switch(a){case 0:return[i,l,r];case 1:return[s,i,r];case 2:return[r,i,l];case 3:return[r,s,i];case 4:return[l,r,i];case 5:return[i,r,s]}}function w(e){var t,n,i=e[0],a=e[1]/100,o=e[2]/100;return n=(2-a)*o,t=a*o,t/=1>=n?n:2-n,t=t||0,n/=2,[i,100*t,100*n]}function x(e){return o(y(e))}function _(e){return s(y(e))}function $(e){return l(y(e))}function k(e){var t,n,i,a,o=e[0]/360,s=e[1]/100,l=e[2]/100,c=s+l;switch(c>1&&(s/=c,l/=c),t=Math.floor(6*o),n=1-l,i=6*o-t,0!=(1&t)&&(i=1-i),a=s+i*(n-s),t){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function S(e){return i(k(e))}function C(e){return a(k(e))}function D(e){return s(k(e))}function T(e){return l(k(e))}function E(e){var t,n,i,a=e[0]/100,o=e[1]/100,r=e[2]/100,s=e[3]/100;return t=1-Math.min(1,a*(1-s)+s),n=1-Math.min(1,o*(1-s)+s),i=1-Math.min(1,r*(1-s)+s),[255*t,255*n,255*i]}function I(e){return i(E(e))}function M(e){return a(E(e))}function A(e){return o(E(e))}function O(e){return l(E(e))}function P(e){var t,n,i,a=e[0]/100,o=e[1]/100,r=e[2]/100;return t=3.2406*a+-1.5372*o+r*-.4986,n=a*-.9689+1.8758*o+.0415*r,i=.0557*a+o*-.204+1.057*r,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t=12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,t=Math.min(Math.max(0,t),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*t,255*n,255*i]}function F(e){var t,n,i,a=e[0],o=e[1],r=e[2];return a/=95.047,o/=100,r/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,t=116*o-16,n=500*(a-o),i=200*(o-r),[t,n,i]}function N(e){return L(F(e))}function R(e){var t,n,i,a,o=e[0],r=e[1],s=e[2];return 8>=o?(n=100*o/903.3,a=7.787*(n/100)+16/116):(n=100*Math.pow((o+16)/116,3),a=Math.pow(n/100,1/3)),t=.008856>=t/95.047?t=95.047*(r/500+a-16/116)/7.787:95.047*Math.pow(r/500+a,3),i=.008859>=i/108.883?i=108.883*(a-s/200-16/116)/7.787:108.883*Math.pow(a-s/200,3),[t,n,i]}function L(e){var t,n,i,a=e[0],o=e[1],r=e[2];return t=Math.atan2(r,o),n=360*t/2/Math.PI,0>n&&(n+=360),i=Math.sqrt(o*o+r*r),[a,i,n]}function B(e){return P(R(e))}function j(e){var t,n,i,a=e[0],o=e[1],r=e[2];return i=r/360*2*Math.PI,t=o*Math.cos(i),n=o*Math.sin(i),[a,t,n]}function z(e){return R(j(e))}function U(e){return B(j(e))}function H(e){return X[e]}function W(e){return i(H(e))}function q(e){return a(H(e))}function V(e){return o(H(e))}function Y(e){return s(H(e))}function G(e){return d(H(e))}function K(e){return c(H(e))}t.exports={rgb2hsl:i,rgb2hsv:a,rgb2hwb:o,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:c,rgb2lab:d,rgb2lch:u,hsl2rgb:p,hsl2hsv:m,hsl2hwb:f,hsl2cmyk:h,hsl2keyword:v,hsv2rgb:y,hsv2hsl:w,hsv2hwb:x,hsv2cmyk:_,hsv2keyword:$,hwb2rgb:k,hwb2hsl:S,hwb2hsv:C,hwb2cmyk:D,hwb2keyword:T,cmyk2rgb:E,cmyk2hsl:I,cmyk2hsv:M,cmyk2hwb:A,cmyk2keyword:O,keyword2rgb:H,keyword2hsl:W,keyword2hsv:q,keyword2hwb:V,keyword2cmyk:Y,keyword2lab:G,keyword2xyz:K,xyz2rgb:P,xyz2lab:F,xyz2lch:N,lab2xyz:R,lab2rgb:B,lab2lch:L,lch2lab:j,lch2xyz:z,lch2rgb:U};var X={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},J={};for(var Q in X)J[JSON.stringify(X[Q])]=Q},{}],4:[function(e,t,n){var i=e(3),a=function(){return new c};for(var o in i){a[o+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),i[e](t)}}(o);var r=/(\w+)2(\w+)/.exec(o),s=r[1],l=r[2];a[s]=a[s]||{},a[s][l]=a[o]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=i[e](t);if("string"==typeof n||void 0===n)return n;for(var a=0;a<n.length;a++)n[a]=Math.round(n[a]);return n}}(o)}var c=function(){this.convs={}};c.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},c.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},c.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,i=this.convs[n];t=a[n][e](i),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){c.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=a},{3:3}],5:[function(e,t,n){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],6:[function(t,n,i){!function(t,a){"object"==typeof i&&"undefined"!=typeof n?n.exports=a():"function"==typeof e&&e.amd?e(a):t.moment=a()}(this,function(){"use strict";function e(){return hi.apply(null,arguments)}function i(e){hi=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function r(e){var t;for(t in e)return!1;return!0}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return bt(e,t,n,i,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function m(e){return null==e._pf&&(e._pf=p()),e._pf}function f(e){if(null==e._isValid){var t=m(e),n=gi.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function h(e){var t=u(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}function g(e){return void 0===e}function v(e,t){var n,i,a;if(g(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),g(t._i)||(e._i=t._i),g(t._f)||(e._f=t._f),g(t._l)||(e._l=t._l),g(t._strict)||(e._strict=t._strict),g(t._tzm)||(e._tzm=t._tzm),g(t._isUTC)||(e._isUTC=t._isUTC),g(t._offset)||(e._offset=t._offset),g(t._pf)||(e._pf=m(t)),g(t._locale)||(e._locale=t._locale),vi.length>0)for(n in vi)i=vi[n],a=t[i],g(a)||(e[i]=a);return e}function b(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),bi===!1&&(bi=!0,e.updateOffset(this),bi=!1)}function y(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function w(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function _(e,t,n){var i,a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0;for(i=0;a>i;i++)(n&&e[i]!==t[i]||!n&&x(e[i])!==x(t[i]))&&r++;return r+o}function $(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function k(t,n){var i=!0;return d(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),i&&($(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),n.apply(this,arguments)},n)}function S(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),yi[t]||($(n),yi[t]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e){var t,n;for(n in e)t=e[n],C(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(e,t){var n,i=d({},e);for(n in t)c(t,n)&&(o(e[n])&&o(t[n])?(i[n]={},d(i[n],e[n]),d(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)c(e,n)&&!c(t,n)&&o(e[n])&&(i[n]=d({},i[n]));return i}function E(e){null!=e&&this.set(e)}function I(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return C(i)?i.call(t,n):i}function M(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function A(){return this._invalidDate}function O(e){return this._ordinal.replace("%d",e)}function P(e,t,n,i){var a=this._relativeTime[n];return C(a)?a(e,t,n,i):a.replace(/%d/i,e)}function F(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}function N(e,t){var n=e.toLowerCase();Ti[n]=Ti[n+"s"]=Ti[t]=e}function R(e){return"string"==typeof e?Ti[e]||Ti[e.toLowerCase()]:void 0}function L(e){var t,n,i={};for(n in e)c(e,n)&&(t=R(n),t&&(i[t]=e[n]));return i}function B(e,t){Ei[e]=t}function j(e){var t=[];for(var n in e)t.push({unit:n,priority:Ei[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function z(t,n){return function(i){return null!=i?(H(this,t,i),e.updateOffset(this,n),this):U(this,t)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function H(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function W(e){return e=R(e),C(this[e])?this[e]():this}function q(e,t){if("object"==typeof e){e=L(e);for(var n=j(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=R(e),C(this[e]))return this[e](t);return this}function V(e,t,n){var i=""+Math.abs(e),a=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}function Y(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(Oi[e]=a),t&&(Oi[t[0]]=function(){return V(a.apply(this,arguments),t[1],t[2])}),n&&(Oi[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function K(e){var t,n,i=e.match(Ii);for(t=0,n=i.length;n>t;t++)Oi[i[t]]?i[t]=Oi[i[t]]:i[t]=G(i[t]);return function(t){var a,o="";for(a=0;n>a;a++)o+=i[a]instanceof Function?i[a].call(t,e):i[a];return o}}function X(e,t){return e.isValid()?(t=J(t,e.localeData()),Ai[t]=Ai[t]||K(t),Ai[t](e)):e.localeData().invalidDate()}function J(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Mi.lastIndex=0;i>=0&&Mi.test(e);)e=e.replace(Mi,n),Mi.lastIndex=0,i-=1;return e}function Q(e,t,n){Ji[e]=C(t)?t:function(e,i){return e&&n?n:t}}function Z(e,t){return c(Ji,e)?Ji[e](t._strict,t._locale):new RegExp(ee(e))}function ee(e){return te(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}))}function te(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ne(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)Qi[e[n]]=i}function ie(e,t){ne(e,function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)})}function ae(e,t,n){null!=t&&c(Qi,e)&&Qi[e](t,n._a,n,e)}function oe(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function re(e,t){return a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||la).test(t)?"format":"standalone"][e.month()]}function se(e,t){return a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[la.test(t)?"format":"standalone"][e.month()]}function le(e,t,n){var i,a,o,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(a=xi.call(this._shortMonthsParse,r),-1!==a?a:null):(a=xi.call(this._longMonthsParse,r),-1!==a?a:null):"MMM"===t?(a=xi.call(this._shortMonthsParse,r),-1!==a?a:(a=xi.call(this._longMonthsParse,r),-1!==a?a:null)):(a=xi.call(this._longMonthsParse,r),-1!==a?a:(a=xi.call(this._shortMonthsParse,r),-1!==a?a:null))}function ce(e,t,n){var i,a,o;if(this._monthsParseExact)return le.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(a=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function de(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ue(t){return null!=t?(de(this,t),e.updateOffset(this,!0),this):U(this,"Month")}function pe(){return oe(this.year(),this.month())}function me(e){return this._monthsParseExact?(c(this,"_monthsRegex")||he.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=ua),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(e){return this._monthsParseExact?(c(this,"_monthsRegex")||he.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=pa),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function he(){function e(e,t){return t.length-e.length}var t,n,i=[],a=[],o=[];for(t=0;12>t;t++)n=u([2e3,t]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),a.sort(e),o.sort(e),t=0;12>t;t++)i[t]=te(i[t]),a[t]=te(a[t]);for(t=0;24>t;t++)o[t]=te(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ge(e){return ve(e)?366:365}function ve(e){return e%4===0&&e%100!==0||e%400===0}function be(){return ve(this.year())}function ye(e,t,n,i,a,o,r){var s=new Date(e,t,n,i,a,o,r);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function we(e){
var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function xe(e,t,n){var i=7+t-n,a=(7+we(e,0,i).getUTCDay()-t)%7;return-a+i-1}function _e(e,t,n,i,a){var o,r,s=(7+n-i)%7,l=xe(e,i,a),c=1+7*(t-1)+s+l;return 0>=c?(o=e-1,r=ge(o)+c):c>ge(e)?(o=e+1,r=c-ge(e)):(o=e,r=c),{year:o,dayOfYear:r}}function $e(e,t,n){var i,a,o=xe(e.year(),t,n),r=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>r?(a=e.year()-1,i=r+ke(a,t,n)):r>ke(e.year(),t,n)?(i=r-ke(e.year(),t,n),a=e.year()+1):(a=e.year(),i=r),{week:i,year:a}}function ke(e,t,n){var i=xe(e,t,n),a=xe(e+1,t,n);return(ge(e)-i+a)/7}function Se(e){return $e(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function De(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ee(e){var t=$e(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ie(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Me(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ae(e,t){return a(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Oe(e){return this._weekdaysShort[e.day()]}function Pe(e){return this._weekdaysMin[e.day()]}function Fe(e,t,n){var i,a,o,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(a=xi.call(this._weekdaysParse,r),-1!==a?a:null):"ddd"===t?(a=xi.call(this._shortWeekdaysParse,r),-1!==a?a:null):(a=xi.call(this._minWeekdaysParse,r),-1!==a?a:null):"dddd"===t?(a=xi.call(this._weekdaysParse,r),-1!==a?a:(a=xi.call(this._shortWeekdaysParse,r),-1!==a?a:(a=xi.call(this._minWeekdaysParse,r),-1!==a?a:null))):"ddd"===t?(a=xi.call(this._shortWeekdaysParse,r),-1!==a?a:(a=xi.call(this._weekdaysParse,r),-1!==a?a:(a=xi.call(this._minWeekdaysParse,r),-1!==a?a:null))):(a=xi.call(this._minWeekdaysParse,r),-1!==a?a:(a=xi.call(this._weekdaysParse,r),-1!==a?a:(a=xi.call(this._shortWeekdaysParse,r),-1!==a?a:null)))}function Ne(e,t,n){var i,a,o;if(this._weekdaysParseExact)return Fe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(a=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ie(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Be(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Me(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function je(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=ba),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function ze(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ya),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||He.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=wa),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function He(){function e(e,t){return t.length-e.length}var t,n,i,a,o,r=[],s=[],l=[],c=[];for(t=0;7>t;t++)n=u([2e3,1]).day(t),i=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),o=this.weekdays(n,""),r.push(i),s.push(a),l.push(o),c.push(i),c.push(a),c.push(o);for(r.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;7>t;t++)s[t]=te(s[t]),l[t]=te(l[t]),c[t]=te(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function We(){return this.hours()%12||12}function qe(){return this.hours()||24}function Ve(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ye(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ke(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Xe(e){return e?e.toLowerCase().replace("_","-"):e}function Je(e){for(var t,n,i,a,o=0;o<e.length;){for(a=Xe(e[o]).split("-"),t=a.length,n=Xe(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=Qe(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&_(a,n,!0)>=t-1)break;t--}o++}return null}function Qe(e){var i=null;if(!Sa[e]&&"undefined"!=typeof n&&n&&n.exports)try{i=xa._abbr,t("./locale/"+e),Ze(i)}catch(e){}return Sa[e]}function Ze(e,t){var n;return e&&(n=g(t)?nt(e):et(e,t),n&&(xa=n)),xa._abbr}function et(e,t){if(null!==t){var n=ka;return t.abbr=e,null!=Sa[e]?(S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Sa[e]._config):null!=t.parentLocale&&(null!=Sa[t.parentLocale]?n=Sa[t.parentLocale]._config:S("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Sa[e]=new E(T(n,t)),Ze(e),Sa[e]}return delete Sa[e],null}function tt(e,t){if(null!=t){var n,i=ka;null!=Sa[e]&&(i=Sa[e]._config),t=T(i,t),n=new E(t),n.parentLocale=Sa[e],Sa[e]=n,Ze(e)}else null!=Sa[e]&&(null!=Sa[e].parentLocale?Sa[e]=Sa[e].parentLocale:null!=Sa[e]&&delete Sa[e]);return Sa[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return xa;if(!a(e)){if(t=Qe(e))return t;e=[e]}return Je(e)}function it(){return wi(Sa)}function at(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[ea]<0||n[ea]>11?ea:n[ta]<1||n[ta]>oe(n[Zi],n[ea])?ta:n[na]<0||n[na]>24||24===n[na]&&(0!==n[ia]||0!==n[aa]||0!==n[oa])?na:n[ia]<0||n[ia]>59?ia:n[aa]<0||n[aa]>59?aa:n[oa]<0||n[oa]>999?oa:-1,m(e)._overflowDayOfYear&&(Zi>t||t>ta)&&(t=ta),m(e)._overflowWeeks&&-1===t&&(t=ra),m(e)._overflowWeekday&&-1===t&&(t=sa),m(e).overflow=t),e}function ot(e){var t,n,i,a,o,r,s=e._i,l=Ca.exec(s)||Da.exec(s);if(l){for(m(e).iso=!0,t=0,n=Ea.length;n>t;t++)if(Ea[t][1].exec(l[1])){a=Ea[t][0],i=Ea[t][2]!==!1;break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=Ia.length;n>t;t++)if(Ia[t][1].exec(l[3])){o=(l[2]||" ")+Ia[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Ta.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=a+(o||"")+(r||""),ut(e)}else e._isValid=!1}function rt(t){var n=Ma.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(ot(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function st(e,t,n){return null!=e?e:null!=t?t:n}function lt(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ct(e){var t,n,i,a,o=[];if(!e._d){for(i=lt(e),e._w&&null==e._a[ta]&&null==e._a[ea]&&dt(e),e._dayOfYear&&(a=st(e._a[Zi],i[Zi]),e._dayOfYear>ge(a)&&(m(e)._overflowDayOfYear=!0),n=we(a,0,e._dayOfYear),e._a[ea]=n.getUTCMonth(),e._a[ta]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[na]&&0===e._a[ia]&&0===e._a[aa]&&0===e._a[oa]&&(e._nextDay=!0,e._a[na]=0),e._d=(e._useUTC?we:ye).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[na]=24)}}function dt(e){var t,n,i,a,o,r,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,r=4,n=st(t.GG,e._a[Zi],$e(yt(),1,4).year),i=st(t.W,1),a=st(t.E,1),(1>a||a>7)&&(l=!0)):(o=e._locale._week.dow,r=e._locale._week.doy,n=st(t.gg,e._a[Zi],$e(yt(),o,r).year),i=st(t.w,1),null!=t.d?(a=t.d,(0>a||a>6)&&(l=!0)):null!=t.e?(a=t.e+o,(t.e<0||t.e>6)&&(l=!0)):a=o),1>i||i>ke(n,o,r)?m(e)._overflowWeeks=!0:null!=l?m(e)._overflowWeekday=!0:(s=_e(n,i,a,o,r),e._a[Zi]=s.year,e._dayOfYear=s.dayOfYear)}function ut(t){if(t._f===e.ISO_8601)return void ot(t);t._a=[],m(t).empty=!0;var n,i,a,o,r,s=""+t._i,l=s.length,c=0;for(a=J(t._f,t._locale).match(Ii)||[],n=0;n<a.length;n++)o=a[n],i=(s.match(Z(o,t))||[])[0],i&&(r=s.substr(0,s.indexOf(i)),r.length>0&&m(t).unusedInput.push(r),s=s.slice(s.indexOf(i)+i.length),c+=i.length),Oi[o]?(i?m(t).empty=!1:m(t).unusedTokens.push(o),ae(o,i,t)):t._strict&&!i&&m(t).unusedTokens.push(o);m(t).charsLeftOver=l-c,s.length>0&&m(t).unusedInput.push(s),t._a[na]<=12&&m(t).bigHour===!0&&t._a[na]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[na]=pt(t._locale,t._a[na],t._meridiem),ct(t),at(t)}function pt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function mt(e){var t,n,i,a,o;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],ut(t),f(t)&&(o+=m(t).charsLeftOver,o+=10*m(t).unusedTokens.length,m(t).score=o,(null==i||i>o)&&(i=o,n=t));d(e,n||t)}function ft(e){if(!e._d){var t=L(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}function ht(e){var t=new b(at(gt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function gt(e){var t=e._i,n=e._f;return e._locale=e._locale||nt(e._l),null===t||void 0===n&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new b(at(t)):(a(n)?mt(e):s(t)?e._d=t:n?ut(e):vt(e),f(e)||(e._d=null),e))}function vt(t){var n=t._i;void 0===n?t._d=new Date(e.now()):s(n)?t._d=new Date(n.valueOf()):"string"==typeof n?rt(t):a(n)?(t._a=l(n.slice(0),function(e){return parseInt(e,10)}),ct(t)):"object"==typeof n?ft(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function bt(e,t,n,i,s){var l={};return"boolean"==typeof n&&(i=n,n=void 0),(o(e)&&r(e)||a(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=n,l._i=e,l._f=t,l._strict=i,ht(l)}function yt(e,t,n,i){return bt(e,t,n,i,!1)}function wt(e,t){var n,i;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return yt();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function xt(){var e=[].slice.call(arguments,0);return wt("isBefore",e)}function _t(){var e=[].slice.call(arguments,0);return wt("isAfter",e)}function $t(e){var t=L(e),n=t.year||0,i=t.quarter||0,a=t.month||0,o=t.week||0,r=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+1e3*s*60*60,this._days=+r+7*o,this._months=+a+3*i+12*n,this._data={},this._locale=nt(),this._bubble()}function kt(e){return e instanceof $t}function St(e,t){Y(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+V(~~(e/60),2)+t+V(~~e%60,2)})}function Ct(e,t){var n=(t||"").match(e)||[],i=n[n.length-1]||[],a=(i+"").match(Fa)||["-",0,0],o=+(60*a[1])+x(a[2]);return"+"===a[0]?o:-o}function Dt(t,n){var i,a;return n._isUTC?(i=n.clone(),a=(y(t)||s(t)?t.valueOf():yt(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),e.updateOffset(i,!1),i):yt(t).local()}function Tt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Et(t,n){var i,a=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Ct(Gi,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Tt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==t&&(!n||this._changeInProgress?Vt(this,jt(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:Tt(this):null!=t?this:NaN}function It(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Mt(e){return this.utcOffset(0,e)}function At(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Tt(this),"m")),this}function Ot(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ct(Yi,this._i)),this}function Pt(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Ft(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Nt(){if(!g(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),e=gt(e),e._a){var t=e._isUTC?u(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&_(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Rt(){return!!this.isValid()&&!this._isUTC}function Lt(){return!!this.isValid()&&this._isUTC}function Bt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function jt(e,t){var n,i,a,o=e,r=null;return kt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(r=Na.exec(e))?(n="-"===r[1]?-1:1,o={y:0,d:x(r[ta])*n,h:x(r[na])*n,m:x(r[ia])*n,s:x(r[aa])*n,ms:x(r[oa])*n}):(r=Ra.exec(e))?(n="-"===r[1]?-1:1,o={y:zt(r[2],n),M:zt(r[3],n),w:zt(r[4],n),d:zt(r[5],n),h:zt(r[6],n),m:zt(r[7],n),s:zt(r[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=Ht(yt(o.from),yt(o.to)),o={},o.ms=a.milliseconds,o.M=a.months),i=new $t(o),kt(e)&&c(e,"_locale")&&(i._locale=e._locale),i}function zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ut(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ht(e,t){var n;return e.isValid()&&t.isValid()?(t=Dt(t,e),e.isBefore(t)?n=Ut(e,t):(n=Ut(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Wt(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function qt(e,t){return function(n,i){var a,o;return null===i||isNaN(+i)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,a=jt(n,i),Vt(this,a,e),this}}function Vt(t,n,i,a){var o=n._milliseconds,r=Wt(n._days),s=Wt(n._months);t.isValid()&&(a=null==a||a,o&&t._d.setTime(t._d.valueOf()+o*i),r&&H(t,"Date",U(t,"Date")+r*i),s&&de(t,U(t,"Month")+s*i),a&&e.updateOffset(t,r||s))}function Yt(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Gt(t,n){var i=t||yt(),a=Dt(i,this).startOf("day"),o=e.calendarFormat(this,a)||"sameElse",r=n&&(C(n[o])?n[o].call(this,i):n[o]);return this.format(r||this.localeData().calendar(o,this,yt(i)))}function Kt(){return new b(this)}function Xt(e,t){var n=y(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=R(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Jt(e,t){var n=y(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=R(g(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Qt(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Zt(e,t){var n,i=y(e)?e:yt(e);return!(!this.isValid()||!i.isValid())&&(t=R(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function en(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function tn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function nn(e,t,n){var i,a,o,r;return this.isValid()?(i=Dt(e,this),i.isValid()?(a=6e4*(i.utcOffset()-this.utcOffset()),t=R(t),"year"===t||"month"===t||"quarter"===t?(r=an(this,i),"quarter"===t?r/=3:"year"===t&&(r/=12)):(o=this-i,r="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-a)/864e5:"week"===t?(o-a)/6048e5:o),n?r:w(r)):NaN):NaN}function an(e,t){var n,i,a=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(a,"months");return 0>t-o?(n=e.clone().add(a-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(a+1,"months"),i=(t-o)/(n-o)),-(a+i)||0}function on(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():X(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function sn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=X(this,t);return this.localeData().postformat(n)}function ln(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cn(e){return this.from(yt(),e)}function dn(e,t){return this.isValid()&&(y(e)&&e.isValid()||yt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function un(e){return this.to(yt(),e)}function pn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function mn(){return this._locale}function fn(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function hn(e){return e=R(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function gn(){return this._d.valueOf()-6e4*(this._offset||0)}function vn(){return Math.floor(this.valueOf()/1e3)}function bn(){return new Date(this.valueOf())}function yn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xn(){return this.isValid()?this.toISOString():null}function _n(){return f(this)}function $n(){return d({},m(this))}function kn(){return m(this).overflow}function Sn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Cn(e,t){Y(0,[e,e.length],0,t)}function Dn(e){return Mn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Tn(e){return Mn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function En(){return ke(this.year(),1,4)}function In(){var e=this.localeData()._week;return ke(this.year(),e.dow,e.doy)}function Mn(e,t,n,i,a){var o;return null==e?$e(this,i,a).year:(o=ke(e,i,a),t>o&&(t=o),An.call(this,e,t,n,i,a))}function An(e,t,n,i,a){var o=_e(e,t,n,i,a),r=we(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function On(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Pn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Fn(e,t){t[oa]=x(1e3*("0."+e))}function Nn(){return this._isUTC?"UTC":""}function Rn(){return this._isUTC?"Coordinated Universal Time":""}function Ln(e){return yt(1e3*e)}function Bn(){return yt.apply(null,arguments).parseZone()}function jn(e){return e}function zn(e,t,n,i){var a=nt(),o=u().set(i,t);return a[n](o,e)}function Un(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return zn(e,t,n,"month");var i,a=[];for(i=0;12>i;i++)a[i]=zn(e,i,n,"month");return a}function Hn(e,t,n,i){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var a=nt(),o=e?a._week.dow:0;if(null!=n)return zn(t,(n+o)%7,i,"day");var r,s=[];for(r=0;7>r;r++)s[r]=zn(t,(r+o)%7,i,"day");return s}function Wn(e,t){return Un(e,t,"months")}function qn(e,t){return Un(e,t,"monthsShort")}function Vn(e,t,n){return Hn(e,t,n,"weekdays")}function Yn(e,t,n){return Hn(e,t,n,"weekdaysShort")}function Gn(e,t,n){return Hn(e,t,n,"weekdaysMin")}function Kn(){var e=this._data;return this._milliseconds=Ka(this._milliseconds),this._days=Ka(this._days),this._months=Ka(this._months),e.milliseconds=Ka(e.milliseconds),e.seconds=Ka(e.seconds),e.minutes=Ka(e.minutes),e.hours=Ka(e.hours),e.months=Ka(e.months),e.years=Ka(e.years),this}function Xn(e,t,n,i){var a=jt(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function Jn(e,t){return Xn(this,e,t,1)}function Qn(e,t){return Xn(this,e,t,-1)}function Zn(e){return 0>e?Math.floor(e):Math.ceil(e)}function ei(){var e,t,n,i,a,o=this._milliseconds,r=this._days,s=this._months,l=this._data;return o>=0&&r>=0&&s>=0||0>=o&&0>=r&&0>=s||(o+=864e5*Zn(ni(s)+r),r=0,s=0),l.milliseconds=o%1e3,e=w(o/1e3),l.seconds=e%60,t=w(e/60),l.minutes=t%60,n=w(t/60),l.hours=n%24,r+=w(n/24),a=w(ti(r)),s+=a,r-=Zn(ni(a)),i=w(s/12),s%=12,l.days=r,l.months=s,l.years=i,this}function ti(e){return 4800*e/146097}function ni(e){return 146097*e/4800}function ii(e){var t,n,i=this._milliseconds;if(e=R(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+ti(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ni(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function ai(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12)}function oi(e){return function(){return this.as(e)}}function ri(e){return e=R(e),this[e+"s"]()}function si(e){return function(){return this._data[e]}}function li(){return w(this.days()/7)}function ci(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function di(e,t,n){var i=jt(e).abs(),a=po(i.as("s")),o=po(i.as("m")),r=po(i.as("h")),s=po(i.as("d")),l=po(i.as("M")),c=po(i.as("y")),d=a<mo.s&&["s",a]||1>=o&&["m"]||o<mo.m&&["mm",o]||1>=r&&["h"]||r<mo.h&&["hh",r]||1>=s&&["d"]||s<mo.d&&["dd",s]||1>=l&&["M"]||l<mo.M&&["MM",l]||1>=c&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=n,ci.apply(null,d)}function ui(e){return void 0===e?po:"function"==typeof e&&(po=e,!0)}function pi(e,t){return void 0!==mo[e]&&(void 0===t?mo[e]:(mo[e]=t,!0))}function mi(e){var t=this.localeData(),n=di(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function fi(){var e,t,n,i=fo(this._milliseconds)/1e3,a=fo(this._days),o=fo(this._months);e=w(i/60),t=w(e/60),i%=60,e%=60,n=w(o/12),o%=12;var r=n,s=o,l=a,c=t,d=e,u=i,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(r?r+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||d||u?"T":"")+(c?c+"H":"")+(d?d+"M":"")+(u?u+"S":""):"P0D"}var hi,gi;gi=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;n>i;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var vi=e.momentProperties=[],bi=!1,yi={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var wi;wi=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var xi,_i={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},$i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ki="Invalid date",Si="%d",Ci=/\d{1,2}/,Di={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ti={},Ei={},Ii=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ai={},Oi={},Pi=/\d/,Fi=/\d\d/,Ni=/\d{3}/,Ri=/\d{4}/,Li=/[+-]?\d{6}/,Bi=/\d\d?/,ji=/\d\d\d\d?/,zi=/\d\d\d\d\d\d?/,Ui=/\d{1,3}/,Hi=/\d{1,4}/,Wi=/[+-]?\d{1,6}/,qi=/\d+/,Vi=/[+-]?\d+/,Yi=/Z|[+-]\d\d:?\d\d/gi,Gi=/Z|[+-]\d\d(?::?\d\d)?/gi,Ki=/[+-]?\d+(\.\d{1,3})?/,Xi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ji={},Qi={},Zi=0,ea=1,ta=2,na=3,ia=4,aa=5,oa=6,ra=7,sa=8;xi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Y("MMMM",0,0,function(e){return this.localeData().months(this,e)}),N("month","M"),B("month",8),Q("M",Bi),Q("MM",Bi,Fi),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),ne(["M","MM"],function(e,t){t[ea]=x(e)-1}),ne(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[ea]=a:m(n).invalidMonth=e});var la=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ca="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),da="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ua=Xi,pa=Xi;Y("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),N("year","y"),B("year",1),Q("Y",Vi),Q("YY",Bi,Fi),Q("YYYY",Hi,Ri),Q("YYYYY",Wi,Li),Q("YYYYYY",Wi,Li),ne(["YYYYY","YYYYYY"],Zi),ne("YYYY",function(t,n){n[Zi]=2===t.length?e.parseTwoDigitYear(t):x(t)}),ne("YY",function(t,n){n[Zi]=e.parseTwoDigitYear(t)}),ne("Y",function(e,t){t[Zi]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)};var ma=z("FullYear",!0);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),B("week",5),B("isoWeek",5),Q("w",Bi),Q("ww",Bi,Fi),Q("W",Bi),Q("WW",Bi,Fi),ie(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=x(e)});var fa={dow:0,doy:6};Y("d",0,"do","day"),Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),Q("d",Bi),Q("e",Bi),Q("E",Bi),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),ie(["dd","ddd","dddd"],function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);null!=a?t.d=a:m(n).invalidWeekday=e}),ie(["d","e","E"],function(e,t,n,i){t[i]=x(e)});var ha="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ga="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),va="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ba=Xi,ya=Xi,wa=Xi;Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,We),Y("k",["kk",2],0,qe),Y("hmm",0,0,function(){return""+We.apply(this)+V(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+We.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),Ve("a",!0),Ve("A",!1),N("hour","h"),B("hour",13),Q("a",Ye),Q("A",Ye),Q("H",Bi),Q("h",Bi),Q("HH",Bi,Fi),Q("hh",Bi,Fi),Q("hmm",ji),Q("hmmss",zi),Q("Hmm",ji),Q("Hmmss",zi),ne(["H","HH"],na),ne(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ne(["h","hh"],function(e,t,n){t[na]=x(e),m(n).bigHour=!0}),ne("hmm",function(e,t,n){var i=e.length-2;t[na]=x(e.substr(0,i)),t[ia]=x(e.substr(i)),m(n).bigHour=!0}),ne("hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[na]=x(e.substr(0,i)),t[ia]=x(e.substr(i,2)),t[aa]=x(e.substr(a)),m(n).bigHour=!0}),ne("Hmm",function(e,t,n){var i=e.length-2;t[na]=x(e.substr(0,i)),t[ia]=x(e.substr(i))}),ne("Hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[na]=x(e.substr(0,i)),t[ia]=x(e.substr(i,2)),t[aa]=x(e.substr(a))});var xa,_a=/[ap]\.?m?\.?/i,$a=z("Hours",!0),ka={calendar:_i,longDateFormat:$i,invalidDate:ki,ordinal:Si,ordinalParse:Ci,relativeTime:Di,months:ca,monthsShort:da,week:fa,weekdays:ha,weekdaysMin:va,weekdaysShort:ga,meridiemParse:_a},Sa={},Ca=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Da=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ta=/Z|[+-]\d\d(?::?\d\d)?/,Ea=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ia=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ma=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=k("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Aa=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:h()}),Oa=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()}),Pa=function(){return Date.now?Date.now():+new Date};St("Z",":"),St("ZZ",""),Q("Z",Gi),Q("ZZ",Gi),ne(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ct(Gi,e)});var Fa=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Na=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Ra=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
jt.fn=$t.prototype;var La=qt(1,"add"),Ba=qt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ja=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Cn("gggg","weekYear"),Cn("ggggg","weekYear"),Cn("GGGG","isoWeekYear"),Cn("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),Q("G",Vi),Q("g",Vi),Q("GG",Bi,Fi),Q("gg",Bi,Fi),Q("GGGG",Hi,Ri),Q("gggg",Hi,Ri),Q("GGGGG",Wi,Li),Q("ggggg",Wi,Li),ie(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=x(e)}),ie(["gg","GG"],function(t,n,i,a){n[a]=e.parseTwoDigitYear(t)}),Y("Q",0,"Qo","quarter"),N("quarter","Q"),B("quarter",7),Q("Q",Pi),ne("Q",function(e,t){t[ea]=3*(x(e)-1)}),Y("D",["DD",2],"Do","date"),N("date","D"),B("date",9),Q("D",Bi),Q("DD",Bi,Fi),Q("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ne(["D","DD"],ta),ne("Do",function(e,t){t[ta]=x(e.match(Bi)[0],10)});var za=z("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),B("dayOfYear",4),Q("DDD",Ui),Q("DDDD",Ni),ne(["DDD","DDDD"],function(e,t,n){n._dayOfYear=x(e)}),Y("m",["mm",2],0,"minute"),N("minute","m"),B("minute",14),Q("m",Bi),Q("mm",Bi,Fi),ne(["m","mm"],ia);var Ua=z("Minutes",!1);Y("s",["ss",2],0,"second"),N("second","s"),B("second",15),Q("s",Bi),Q("ss",Bi,Fi),ne(["s","ss"],aa);var Ha=z("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),B("millisecond",16),Q("S",Ui,Pi),Q("SS",Ui,Fi),Q("SSS",Ui,Ni);var Wa;for(Wa="SSSS";Wa.length<=9;Wa+="S")Q(Wa,qi);for(Wa="S";Wa.length<=9;Wa+="S")ne(Wa,Fn);var qa=z("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var Va=b.prototype;Va.add=La,Va.calendar=Gt,Va.clone=Kt,Va.diff=nn,Va.endOf=hn,Va.format=sn,Va.from=ln,Va.fromNow=cn,Va.to=dn,Va.toNow=un,Va.get=W,Va.invalidAt=kn,Va.isAfter=Xt,Va.isBefore=Jt,Va.isBetween=Qt,Va.isSame=Zt,Va.isSameOrAfter=en,Va.isSameOrBefore=tn,Va.isValid=_n,Va.lang=ja,Va.locale=pn,Va.localeData=mn,Va.max=Oa,Va.min=Aa,Va.parsingFlags=$n,Va.set=q,Va.startOf=fn,Va.subtract=Ba,Va.toArray=yn,Va.toObject=wn,Va.toDate=bn,Va.toISOString=rn,Va.toJSON=xn,Va.toString=on,Va.unix=vn,Va.valueOf=gn,Va.creationData=Sn,Va.year=ma,Va.isLeapYear=be,Va.weekYear=Dn,Va.isoWeekYear=Tn,Va.quarter=Va.quarters=On,Va.month=ue,Va.daysInMonth=pe,Va.week=Va.weeks=Te,Va.isoWeek=Va.isoWeeks=Ee,Va.weeksInYear=In,Va.isoWeeksInYear=En,Va.date=za,Va.day=Va.days=Re,Va.weekday=Le,Va.isoWeekday=Be,Va.dayOfYear=Pn,Va.hour=Va.hours=$a,Va.minute=Va.minutes=Ua,Va.second=Va.seconds=Ha,Va.millisecond=Va.milliseconds=qa,Va.utcOffset=Et,Va.utc=Mt,Va.local=At,Va.parseZone=Ot,Va.hasAlignedHourOffset=Pt,Va.isDST=Ft,Va.isLocal=Rt,Va.isUtcOffset=Lt,Va.isUtc=Bt,Va.isUTC=Bt,Va.zoneAbbr=Nn,Va.zoneName=Rn,Va.dates=k("dates accessor is deprecated. Use date instead.",za),Va.months=k("months accessor is deprecated. Use month instead",ue),Va.years=k("years accessor is deprecated. Use year instead",ma),Va.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),Va.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Nt);var Ya=Va,Ga=E.prototype;Ga.calendar=I,Ga.longDateFormat=M,Ga.invalidDate=A,Ga.ordinal=O,Ga.preparse=jn,Ga.postformat=jn,Ga.relativeTime=P,Ga.pastFuture=F,Ga.set=D,Ga.months=re,Ga.monthsShort=se,Ga.monthsParse=ce,Ga.monthsRegex=fe,Ga.monthsShortRegex=me,Ga.week=Se,Ga.firstDayOfYear=De,Ga.firstDayOfWeek=Ce,Ga.weekdays=Ae,Ga.weekdaysMin=Pe,Ga.weekdaysShort=Oe,Ga.weekdaysParse=Ne,Ga.weekdaysRegex=je,Ga.weekdaysShortRegex=ze,Ga.weekdaysMinRegex=Ue,Ga.isPM=Ge,Ga.meridiem=Ke,Ze("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=k("moment.lang is deprecated. Use moment.locale instead.",Ze),e.langData=k("moment.langData is deprecated. Use moment.localeData instead.",nt);var Ka=Math.abs,Xa=oi("ms"),Ja=oi("s"),Qa=oi("m"),Za=oi("h"),eo=oi("d"),to=oi("w"),no=oi("M"),io=oi("y"),ao=si("milliseconds"),oo=si("seconds"),ro=si("minutes"),so=si("hours"),lo=si("days"),co=si("months"),uo=si("years"),po=Math.round,mo={s:45,m:45,h:22,d:26,M:11},fo=Math.abs,ho=$t.prototype;ho.abs=Kn,ho.add=Jn,ho.subtract=Qn,ho.as=ii,ho.asMilliseconds=Xa,ho.asSeconds=Ja,ho.asMinutes=Qa,ho.asHours=Za,ho.asDays=eo,ho.asWeeks=to,ho.asMonths=no,ho.asYears=io,ho.valueOf=ai,ho._bubble=ei,ho.get=ri,ho.milliseconds=ao,ho.seconds=oo,ho.minutes=ro,ho.hours=so,ho.days=lo,ho.weeks=li,ho.months=co,ho.years=uo,ho.humanize=mi,ho.toISOString=fi,ho.toString=fi,ho.toJSON=fi,ho.locale=pn,ho.localeData=mn,ho.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fi),ho.lang=ja,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),Q("x",Vi),Q("X",Ki),ne("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ne("x",function(e,t,n){n._d=new Date(x(e))}),e.version="2.14.1",i(yt),e.fn=Ya,e.min=xt,e.max=_t,e.now=Pa,e.utc=u,e.unix=Ln,e.months=Wn,e.isDate=s,e.locale=Ze,e.invalid=h,e.duration=jt,e.isMoment=y,e.weekdays=Vn,e.parseZone=Bn,e.localeData=nt,e.isDuration=kt,e.monthsShort=qn,e.weekdaysMin=Gn,e.defineLocale=et,e.updateLocale=tt,e.locales=it,e.weekdaysShort=Yn,e.normalizeUnits=R,e.relativeTimeRounding=ui,e.relativeTimeThreshold=pi,e.calendarFormat=Yt,e.prototype=Ya;var go=e;return go})},{}],7:[function(e,t,n){var i=e(27)();e(26)(i),e(22)(i),e(25)(i),e(21)(i),e(23)(i),e(24)(i),e(28)(i),e(32)(i),e(30)(i),e(31)(i),e(33)(i),e(29)(i),e(34)(i),e(35)(i),e(36)(i),e(37)(i),e(38)(i),e(41)(i),e(39)(i),e(40)(i),e(42)(i),e(43)(i),e(44)(i),e(15)(i),e(16)(i),e(17)(i),e(18)(i),e(19)(i),e(20)(i),e(8)(i),e(9)(i),e(10)(i),e(11)(i),e(12)(i),e(13)(i),e(14)(i),window.Chart=t.exports=i},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,8:8,9:9}],8:[function(e,t,n){"use strict";t.exports=function(e){e.Bar=function(t,n){return n.type="bar",new e(t,n)}}},{}],9:[function(e,t,n){"use strict";t.exports=function(e){e.Bubble=function(t,n){return n.type="bubble",new e(t,n)}}},{}],10:[function(e,t,n){"use strict";t.exports=function(e){e.Doughnut=function(t,n){return n.type="doughnut",new e(t,n)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e){e.Line=function(t,n){return n.type="line",new e(t,n)}}},{}],12:[function(e,t,n){"use strict";t.exports=function(e){e.PolarArea=function(t,n){return n.type="polarArea",new e(t,n)}}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){e.Radar=function(t,n){return n.options=e.helpers.configMerge({aspectRatio:1},n.options),n.type="radar",new e(t,n)}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e){var t={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}};e.defaults.scatter=t,e.controllers.scatter=e.controllers.line,e.Scatter=function(t,n){return n.type="scatter",new e(t,n)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},e.controllers.bar=e.DatasetController.extend({dataElementType:e.elements.Rectangle,initialize:function(t,n){e.DatasetController.prototype.initialize.call(this,t,n),this.getMeta().bar=!0},getBarCount:function(){var e=this,n=0;return t.each(e.chart.data.datasets,function(t,i){var a=e.chart.getDatasetMeta(i);a.bar&&e.chart.isDatasetVisible(i)&&++n},e),n},update:function(e){var n=this;t.each(n.getMeta().data,function(t,i){n.updateElement(t,i,e)},n)},updateElement:function(e,n,i){var a=this,o=a.getMeta(),r=a.getScaleForId(o.xAxisID),s=a.getScaleForId(o.yAxisID),l=s.getBasePixel(),c=a.chart.options.elements.rectangle,d=e.custom||{},u=a.getDataset();t.extend(e,{_xScale:r,_yScale:s,_datasetIndex:a.index,_index:n,_model:{x:a.calculateBarX(n,a.index),y:i?l:a.calculateBarY(n,a.index),label:a.chart.data.labels[n],datasetLabel:u.label,base:i?l:a.calculateBarBase(a.index,n),width:a.calculateBarWidth(n),backgroundColor:d.backgroundColor?d.backgroundColor:t.getValueAtIndexOrDefault(u.backgroundColor,n,c.backgroundColor),borderSkipped:d.borderSkipped?d.borderSkipped:c.borderSkipped,borderColor:d.borderColor?d.borderColor:t.getValueAtIndexOrDefault(u.borderColor,n,c.borderColor),borderWidth:d.borderWidth?d.borderWidth:t.getValueAtIndexOrDefault(u.borderWidth,n,c.borderWidth)}}),e.pivot()},calculateBarBase:function(e,t){var n=this,i=n.getMeta(),a=n.getScaleForId(i.yAxisID),o=0;if(a.options.stacked){for(var r=n.chart,s=r.data.datasets,l=Number(s[e].data[t]),c=0;e>c;c++){var d=s[c],u=r.getDatasetMeta(c);if(u.bar&&u.yAxisID===a.id&&r.isDatasetVisible(c)){var p=Number(d.data[t]);o+=0>l?Math.min(p,0):Math.max(p,0)}}return a.getPixelForValue(o)}return a.getBasePixel()},getRuler:function(e){var t,n=this,i=n.getMeta(),a=n.getScaleForId(i.xAxisID),o=n.getBarCount();t="category"===a.options.type?a.getPixelForTick(e+1)-a.getPixelForTick(e):a.width/a.ticks.length;var r=t*a.options.categoryPercentage,s=(t-t*a.options.categoryPercentage)/2,l=r/o;if(a.ticks.length!==n.chart.data.labels.length){var c=a.ticks.length/n.chart.data.labels.length;l*=c}var d=l*a.options.barPercentage,u=l-l*a.options.barPercentage;return{datasetCount:o,tickWidth:t,categoryWidth:r,categorySpacing:s,fullBarWidth:l,barWidth:d,barSpacing:u}},calculateBarWidth:function(e){var t=this.getScaleForId(this.getMeta().xAxisID);if(t.options.barThickness)return t.options.barThickness;var n=this.getRuler(e);return t.options.stacked?n.categoryWidth:n.barWidth},getBarIndex:function(e){var t,n,i=0;for(n=0;e>n;++n)t=this.chart.getDatasetMeta(n),t.bar&&this.chart.isDatasetVisible(n)&&++i;return i},calculateBarX:function(e,t){var n=this,i=n.getMeta(),a=n.getScaleForId(i.xAxisID),o=n.getBarIndex(t),r=n.getRuler(e),s=a.getPixelForValue(null,e,t,n.chart.isCombo);return s-=n.chart.isCombo?r.tickWidth/2:0,a.options.stacked?s+r.categoryWidth/2+r.categorySpacing:s+r.barWidth/2+r.categorySpacing+r.barWidth*o+r.barSpacing/2+r.barSpacing*o},calculateBarY:function(e,t){var n=this,i=n.getMeta(),a=n.getScaleForId(i.yAxisID),o=Number(n.getDataset().data[e]);if(a.options.stacked){for(var r=0,s=0,l=0;t>l;l++){var c=n.chart.data.datasets[l],d=n.chart.getDatasetMeta(l);if(d.bar&&d.yAxisID===a.id&&n.chart.isDatasetVisible(l)){var u=Number(c.data[e]);0>u?s+=u||0:r+=u||0}}return 0>o?a.getPixelForValue(s+o):a.getPixelForValue(r+o)}return a.getPixelForValue(o)},draw:function(e){var n=this,i=e||1;t.each(n.getMeta().data,function(e,t){var a=n.getDataset().data[t];null===a||void 0===a||isNaN(a)||e.transition(i).draw()},n)},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,a=e.custom||{},o=e._model;o.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.hoverBackgroundColor,i,t.getHoverColor(o.backgroundColor)),o.borderColor=a.hoverBorderColor?a.hoverBorderColor:t.getValueAtIndexOrDefault(n.hoverBorderColor,i,t.getHoverColor(o.borderColor)),o.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:t.getValueAtIndexOrDefault(n.hoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,a=e.custom||{},o=e._model,r=this.chart.options.elements.rectangle;o.backgroundColor=a.backgroundColor?a.backgroundColor:t.getValueAtIndexOrDefault(n.backgroundColor,i,r.backgroundColor),o.borderColor=a.borderColor?a.borderColor:t.getValueAtIndexOrDefault(n.borderColor,i,r.borderColor),o.borderWidth=a.borderWidth?a.borderWidth:t.getValueAtIndexOrDefault(n.borderWidth,i,r.borderWidth)}}),e.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var n="";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n+": "+e.xLabel}}}},e.controllers.horizontalBar=e.controllers.bar.extend({updateElement:function(e,n,i){var a=this,o=a.getMeta(),r=a.getScaleForId(o.xAxisID),s=a.getScaleForId(o.yAxisID),l=r.getBasePixel(),c=e.custom||{},d=a.getDataset(),u=a.chart.options.elements.rectangle;t.extend(e,{_xScale:r,_yScale:s,_datasetIndex:a.index,_index:n,_model:{x:i?l:a.calculateBarX(n,a.index),y:a.calculateBarY(n,a.index),label:a.chart.data.labels[n],datasetLabel:d.label,base:i?l:a.calculateBarBase(a.index,n),height:a.calculateBarHeight(n),backgroundColor:c.backgroundColor?c.backgroundColor:t.getValueAtIndexOrDefault(d.backgroundColor,n,u.backgroundColor),borderSkipped:c.borderSkipped?c.borderSkipped:u.borderSkipped,borderColor:c.borderColor?c.borderColor:t.getValueAtIndexOrDefault(d.borderColor,n,u.borderColor),borderWidth:c.borderWidth?c.borderWidth:t.getValueAtIndexOrDefault(d.borderWidth,n,u.borderWidth)},draw:function(){function e(e){return l[(d+e)%4]}var t=this._chart.ctx,n=this._view,i=n.height/2,a=n.y-i,o=n.y+i,r=n.base-(n.base-n.x),s=n.borderWidth/2;n.borderWidth&&(a+=s,o-=s,r+=s),t.beginPath(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth;var l=[[n.base,o],[n.base,a],[r,a],[r,o]],c=["bottom","left","top","right"],d=c.indexOf(n.borderSkipped,0);-1===d&&(d=0),t.moveTo.apply(t,e(0));for(var u=1;4>u;u++)t.lineTo.apply(t,e(u));t.fill(),n.borderWidth&&t.stroke()},inRange:function(e,t){var n=this._view,i=!1;return n&&(i=n.x<n.base?t>=n.y-n.height/2&&t<=n.y+n.height/2&&e>=n.x&&e<=n.base:t>=n.y-n.height/2&&t<=n.y+n.height/2&&e>=n.base&&e<=n.x),i}}),e.pivot()},calculateBarBase:function(e,t){var n=this,i=n.getMeta(),a=n.getScaleForId(i.xAxisID),o=0;if(a.options.stacked){for(var r=n.chart,s=r.data.datasets,l=Number(s[e].data[t]),c=0;e>c;c++){var d=s[c],u=r.getDatasetMeta(c);if(u.bar&&u.xAxisID===a.id&&r.isDatasetVisible(c)){var p=Number(d.data[t]);o+=0>l?Math.min(p,0):Math.max(p,0)}}return a.getPixelForValue(o)}return a.getBasePixel()},getRuler:function(e){var t,n=this,i=n.getMeta(),a=n.getScaleForId(i.yAxisID),o=n.getBarCount();t="category"===a.options.type?a.getPixelForTick(e+1)-a.getPixelForTick(e):a.width/a.ticks.length;var r=t*a.options.categoryPercentage,s=(t-t*a.options.categoryPercentage)/2,l=r/o;if(a.ticks.length!==n.chart.data.labels.length){var c=a.ticks.length/n.chart.data.labels.length;l*=c}var d=l*a.options.barPercentage,u=l-l*a.options.barPercentage;return{datasetCount:o,tickHeight:t,categoryHeight:r,categorySpacing:s,fullBarHeight:l,barHeight:d,barSpacing:u}},calculateBarHeight:function(e){var t=this,n=t.getScaleForId(t.getMeta().yAxisID);if(n.options.barThickness)return n.options.barThickness;var i=t.getRuler(e);return n.options.stacked?i.categoryHeight:i.barHeight},calculateBarX:function(e,t){var n=this,i=n.getMeta(),a=n.getScaleForId(i.xAxisID),o=Number(n.getDataset().data[e]);if(a.options.stacked){for(var r=0,s=0,l=0;t>l;l++){var c=n.chart.data.datasets[l],d=n.chart.getDatasetMeta(l);if(d.bar&&d.xAxisID===a.id&&n.chart.isDatasetVisible(l)){var u=Number(c.data[e]);0>u?s+=u||0:r+=u||0}}return 0>o?a.getPixelForValue(s+o):a.getPixelForValue(r+o)}return a.getPixelForValue(o)},calculateBarY:function(e,t){var n=this,i=n.getMeta(),a=n.getScaleForId(i.yAxisID),o=n.getBarIndex(t),r=n.getRuler(e),s=a.getPixelForValue(null,e,t,n.chart.isCombo);return s-=n.chart.isCombo?r.tickHeight/2:0,a.options.stacked?s+r.categoryHeight/2+r.categorySpacing:s+r.barHeight/2+r.categorySpacing+r.barHeight*o+r.barSpacing/2+r.barSpacing*o}})}},{}],16:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",i=t.datasets[e.datasetIndex].data[e.index];return n+": ("+i.x+", "+i.y+", "+i.r+")"}}}},e.controllers.bubble=e.DatasetController.extend({dataElementType:e.elements.Point,update:function(e){var n=this,i=n.getMeta(),a=i.data;t.each(a,function(t,i){n.updateElement(t,i,e)})},updateElement:function(n,i,a){var o=this,r=o.getMeta(),s=o.getScaleForId(r.xAxisID),l=o.getScaleForId(r.yAxisID),c=n.custom||{},d=o.getDataset(),u=d.data[i],p=o.chart.options.elements.point,m=o.index;t.extend(n,{_xScale:s,_yScale:l,_datasetIndex:m,_index:i,_model:{x:a?s.getPixelForDecimal(.5):s.getPixelForValue("object"==typeof u?u:NaN,i,m,o.chart.isCombo),y:a?l.getBasePixel():l.getPixelForValue(u,i,m),radius:a?0:c.radius?c.radius:o.getRadius(u),hitRadius:c.hitRadius?c.hitRadius:t.getValueAtIndexOrDefault(d.hitRadius,i,p.hitRadius)}}),e.DatasetController.prototype.removeHoverStyle.call(o,n,p);var f=n._model;f.skip=c.skip?c.skip:isNaN(f.x)||isNaN(f.y),n.pivot()},getRadius:function(e){return e.r||this.chart.options.elements.point.radius},setHoverStyle:function(n){var i=this;e.DatasetController.prototype.setHoverStyle.call(i,n);var a=i.chart.data.datasets[n._datasetIndex],o=n._index,r=n.custom||{},s=n._model;s.radius=r.hoverRadius?r.hoverRadius:t.getValueAtIndexOrDefault(a.hoverRadius,o,i.chart.options.elements.point.hoverRadius)+i.getRadius(a.data[o])},removeHoverStyle:function(t){var n=this;e.DatasetController.prototype.removeHoverStyle.call(n,t,n.chart.options.elements.point);var i=n.chart.data.datasets[t._datasetIndex].data[t._index],a=t.custom||{},o=t._model;o.radius=a.radius?a.radius:n.getRadius(i)}})}},{}],17:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults;n.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,a=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)t.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),a[o]&&t.push(a[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,a){var o=e.getDatasetMeta(0),r=n.datasets[0],s=o.data[a],l=s&&s.custom||{},c=t.getValueAtIndexOrDefault,d=e.options.elements.arc,u=l.backgroundColor?l.backgroundColor:c(r.backgroundColor,a,d.backgroundColor),p=l.borderColor?l.borderColor:c(r.borderColor,a,d.borderColor),m=l.borderWidth?l.borderWidth:c(r.borderWidth,a,d.borderWidth);return{text:i,fillStyle:u,strokeStyle:p,lineWidth:m,hidden:isNaN(r.data[a])||o.data[a].hidden,index:a}}):[]}},onClick:function(e,t){var n,i,a,o=t.index,r=this.chart;for(n=0,i=(r.data.datasets||[]).length;i>n;++n)a=r.getDatasetMeta(n),a.data[o].hidden=!a.data[o].hidden;r.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+t.datasets[e.datasetIndex].data[e.index]}}}},n.pie=t.clone(n.doughnut),t.extend(n.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,getRingIndex:function(e){for(var t=0,n=0;e>n;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var n=this,i=n.chart,a=i.chartArea,o=i.options,r=o.elements.arc,s=a.right-a.left-r.borderWidth,l=a.bottom-a.top-r.borderWidth,c=Math.min(s,l),d={x:0,y:0},u=n.getMeta(),p=o.cutoutPercentage,m=o.circumference;if(m<2*Math.PI){var f=o.rotation%(2*Math.PI);f+=2*Math.PI*(f>=Math.PI?-1:f<-Math.PI?1:0);var h=f+m,g={x:Math.cos(f),y:Math.sin(f)},v={x:Math.cos(h),y:Math.sin(h)},b=0>=f&&h>=0||f<=2*Math.PI&&2*Math.PI<=h,y=f<=.5*Math.PI&&.5*Math.PI<=h||f<=2.5*Math.PI&&2.5*Math.PI<=h,w=f<=-Math.PI&&-Math.PI<=h||f<=Math.PI&&Math.PI<=h,x=f<=.5*-Math.PI&&.5*-Math.PI<=h||f<=1.5*Math.PI&&1.5*Math.PI<=h,_=p/100,$={x:w?-1:Math.min(g.x*(g.x<0?1:_),v.x*(v.x<0?1:_)),y:x?-1:Math.min(g.y*(g.y<0?1:_),v.y*(v.y<0?1:_))},k={x:b?1:Math.max(g.x*(g.x>0?1:_),v.x*(v.x>0?1:_)),y:y?1:Math.max(g.y*(g.y>0?1:_),v.y*(v.y>0?1:_))},S={width:.5*(k.x-$.x),height:.5*(k.y-$.y)};c=Math.min(s/S.width,l/S.height),d={x:(k.x+$.x)*-.5,y:(k.y+$.y)*-.5}}i.borderWidth=n.getMaxBorderWidth(u.data),i.outerRadius=Math.max((c-i.borderWidth)/2,0),i.innerRadius=Math.max(p?i.outerRadius/100*p:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=d.x*i.outerRadius,i.offsetY=d.y*i.outerRadius,u.total=n.calculateTotal(),n.outerRadius=i.outerRadius-i.radiusLength*n.getRingIndex(n.index),n.innerRadius=n.outerRadius-i.radiusLength,t.each(u.data,function(t,i){n.updateElement(t,i,e)})},updateElement:function(e,n,i){var a=this,o=a.chart,r=o.chartArea,s=o.options,l=s.animation,c=(r.left+r.right)/2,d=(r.top+r.bottom)/2,u=s.rotation,p=s.rotation,m=a.getDataset(),f=i&&l.animateRotate?0:e.hidden?0:a.calculateCircumference(m.data[n])*(s.circumference/(2*Math.PI)),h=i&&l.animateScale?0:a.innerRadius,g=i&&l.animateScale?0:a.outerRadius,v=t.getValueAtIndexOrDefault;t.extend(e,{_datasetIndex:a.index,_index:n,_model:{x:c+o.offsetX,y:d+o.offsetY,startAngle:u,endAngle:p,circumference:f,outerRadius:g,innerRadius:h,label:v(m.label,n,o.data.labels[n])}});var b=e._model;this.removeHoverStyle(e),i&&l.animateRotate||(0===n?b.startAngle=s.rotation:b.startAngle=a.getMeta().data[n-1]._model.endAngle,b.endAngle=b.startAngle+b.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,n=this.getDataset(),i=this.getMeta(),a=0;return t.each(i.data,function(t,i){e=n.data[i],isNaN(e)||t.hidden||(a+=Math.abs(e))}),a},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0},getMaxBorderWidth:function(e){for(var t,n,i=0,a=this.index,o=e.length,r=0;o>r;r++)t=e[r]._model?e[r]._model.borderWidth:0,n=e[r]._chart?e[r]._chart.config.data.datasets[a].hoverBorderWidth:0,i=t>i?t:i,i=n>i?n:i;return i}})}},{}],18:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return n.getValueOrDefault(e.showLine,t.showLines)}var n=e.helpers;e.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},e.controllers.line=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,addElementAndReset:function(n){var i=this,a=i.chart.options,o=i.getMeta();e.DatasetController.prototype.addElementAndReset.call(i,n),t(i.getDataset(),a)&&0!==o.dataset._model.tension&&i.updateBezierControlPoints()},update:function(e){var i,a,o,r=this,s=r.getMeta(),l=s.dataset,c=s.data||[],d=r.chart.options,u=d.elements.line,p=r.getScaleForId(s.yAxisID),m=r.getDataset(),f=t(m,d);for(f&&(o=l.custom||{},void 0!==m.tension&&void 0===m.lineTension&&(m.lineTension=m.tension),l._scale=p,l._datasetIndex=r.index,l._children=c,l._model={spanGaps:m.spanGaps?m.spanGaps:d.spanGaps,tension:o.tension?o.tension:n.getValueOrDefault(m.lineTension,u.tension),backgroundColor:o.backgroundColor?o.backgroundColor:m.backgroundColor||u.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:m.borderWidth||u.borderWidth,borderColor:o.borderColor?o.borderColor:m.borderColor||u.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:m.borderCapStyle||u.borderCapStyle,borderDash:o.borderDash?o.borderDash:m.borderDash||u.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:m.borderDashOffset||u.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:m.borderJoinStyle||u.borderJoinStyle,fill:o.fill?o.fill:void 0!==m.fill?m.fill:u.fill,steppedLine:o.steppedLine?o.steppedLine:n.getValueOrDefault(m.steppedLine,u.stepped),scaleTop:p.top,scaleBottom:p.bottom,scaleZero:p.getBasePixel()},l.pivot()),i=0,a=c.length;a>i;++i)r.updateElement(c[i],i,e);for(f&&0!==l._model.tension&&r.updateBezierControlPoints(),i=0,a=c.length;a>i;++i)c[i].pivot()},getPointBackgroundColor:function(e,t){var i=this.chart.options.elements.point.backgroundColor,a=this.getDataset(),o=e.custom||{};return o.backgroundColor?i=o.backgroundColor:a.pointBackgroundColor?i=n.getValueAtIndexOrDefault(a.pointBackgroundColor,t,i):a.backgroundColor&&(i=a.backgroundColor),i},getPointBorderColor:function(e,t){var i=this.chart.options.elements.point.borderColor,a=this.getDataset(),o=e.custom||{};return o.borderColor?i=o.borderColor:a.pointBorderColor?i=n.getValueAtIndexOrDefault(a.pointBorderColor,t,i):a.borderColor&&(i=a.borderColor),i},getPointBorderWidth:function(e,t){var i=this.chart.options.elements.point.borderWidth,a=this.getDataset(),o=e.custom||{};return o.borderWidth?i=o.borderWidth:a.pointBorderWidth?i=n.getValueAtIndexOrDefault(a.pointBorderWidth,t,i):a.borderWidth&&(i=a.borderWidth),i},updateElement:function(e,t,i){var a,o,r=this,s=r.getMeta(),l=e.custom||{},c=r.getDataset(),d=r.index,u=c.data[t],p=r.getScaleForId(s.yAxisID),m=r.getScaleForId(s.xAxisID),f=r.chart.options.elements.point;void 0!==c.radius&&void 0===c.pointRadius&&(c.pointRadius=c.radius),void 0!==c.hitRadius&&void 0===c.pointHitRadius&&(c.pointHitRadius=c.hitRadius),a=m.getPixelForValue("object"==typeof u?u:NaN,t,d,r.chart.isCombo),o=i?p.getBasePixel():r.calculatePointY(u,t,d),e._xScale=m,e._yScale=p,e._datasetIndex=d,e._index=t,e._model={x:a,y:o,skip:l.skip||isNaN(a)||isNaN(o),radius:l.radius||n.getValueAtIndexOrDefault(c.pointRadius,t,f.radius),pointStyle:l.pointStyle||n.getValueAtIndexOrDefault(c.pointStyle,t,f.pointStyle),backgroundColor:r.getPointBackgroundColor(e,t),borderColor:r.getPointBorderColor(e,t),borderWidth:r.getPointBorderWidth(e,t),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||n.getValueAtIndexOrDefault(c.pointHitRadius,t,f.hitRadius)}},calculatePointY:function(e,t,n){var i,a,o,r=this,s=r.chart,l=r.getMeta(),c=r.getScaleForId(l.yAxisID),d=0,u=0;if(c.options.stacked){for(i=0;n>i;i++)if(a=s.data.datasets[i],o=s.getDatasetMeta(i),"line"===o.type&&o.yAxisID===c.id&&s.isDatasetVisible(i)){var p=Number(c.getRightValue(a.data[t]));0>p?u+=p||0:d+=p||0}var m=Number(c.getRightValue(e));return 0>m?c.getPixelForValue(u+m):c.getPixelForValue(d+m)}return c.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,n){return u?Math.max(Math.min(e,n),t):e}var t,i,a,o,r,s=this,l=s.getMeta(),c=s.chart.chartArea,d=(l.data||[]).filter(function(e){return!e._model.skip}),u=s.chart.options.elements.line.capBezierPoints;for(t=0,i=d.length;i>t;++t)a=d[t],o=a._model,r=n.splineCurve(n.previousItem(d,t)._model,o,n.nextItem(d,t)._model,l.dataset._model.tension),o.controlPointPreviousX=e(r.previous.x,c.left,c.right),o.controlPointPreviousY=e(r.previous.y,c.top,c.bottom),o.controlPointNextX=e(r.next.x,c.left,c.right),o.controlPointNextY=e(r.next.y,c.top,c.bottom)},draw:function(e){var n,i,a=this,o=a.getMeta(),r=o.data||[],s=e||1;for(n=0,i=r.length;i>n;++n)r[n].transition(s);for(t(a.getDataset(),a.chart.options)&&o.dataset.transition(s).draw(),n=0,i=r.length;i>n;++n)r[n].draw()},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index,a=e.custom||{},o=e._model;o.radius=a.hoverRadius||n.getValueAtIndexOrDefault(t.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=a.hoverBackgroundColor||n.getValueAtIndexOrDefault(t.pointHoverBackgroundColor,i,n.getHoverColor(o.backgroundColor)),o.borderColor=a.hoverBorderColor||n.getValueAtIndexOrDefault(t.pointHoverBorderColor,i,n.getHoverColor(o.borderColor)),o.borderWidth=a.hoverBorderWidth||n.getValueAtIndexOrDefault(t.pointHoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(e){var t=this,i=t.chart.data.datasets[e._datasetIndex],a=e._index,o=e.custom||{},r=e._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),r.radius=o.radius||n.getValueAtIndexOrDefault(i.pointRadius,a,t.chart.options.elements.point.radius),r.backgroundColor=t.getPointBackgroundColor(e,a),r.borderColor=t.getPointBorderColor(e,a),r.borderWidth=t.getPointBorderWidth(e,a)}})}},{}],19:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0,ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,a=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)t.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'">'),a[o]&&t.push(a[o]),t.push("</span></li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,a){var o=e.getDatasetMeta(0),r=n.datasets[0],s=o.data[a],l=s.custom||{},c=t.getValueAtIndexOrDefault,d=e.options.elements.arc,u=l.backgroundColor?l.backgroundColor:c(r.backgroundColor,a,d.backgroundColor),p=l.borderColor?l.borderColor:c(r.borderColor,a,d.borderColor),m=l.borderWidth?l.borderWidth:c(r.borderWidth,a,d.borderWidth);return{text:i,fillStyle:u,strokeStyle:p,lineWidth:m,hidden:isNaN(r.data[a])||o.data[a].hidden,index:a}}):[]}},onClick:function(e,t){var n,i,a,o=t.index,r=this.chart;for(n=0,i=(r.data.datasets||[]).length;i>n;++n)a=r.getDatasetMeta(n),a.data[o].hidden=!a.data[o].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}},e.controllers.polarArea=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,update:function(e){var n=this,i=n.chart,a=i.chartArea,o=n.getMeta(),r=i.options,s=r.elements.arc,l=Math.min(a.right-a.left,a.bottom-a.top);i.outerRadius=Math.max((l-s.borderWidth/2)/2,0),i.innerRadius=Math.max(r.cutoutPercentage?i.outerRadius/100*r.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),n.outerRadius=i.outerRadius-i.radiusLength*n.index,n.innerRadius=n.outerRadius-i.radiusLength,o.count=n.countVisibleElements(),t.each(o.data,function(t,i){n.updateElement(t,i,e)})},updateElement:function(e,n,i){for(var a=this,o=a.chart,r=a.getDataset(),s=o.options,l=s.animation,c=o.scale,d=t.getValueAtIndexOrDefault,u=o.data.labels,p=a.calculateCircumference(r.data[n]),m=c.xCenter,f=c.yCenter,h=0,g=a.getMeta(),v=0;n>v;++v)isNaN(r.data[v])||g.data[v].hidden||++h;var b=s.startAngle,y=e.hidden?0:c.getDistanceFromCenterForValue(r.data[n]),w=b+p*h,x=w+(e.hidden?0:p),_=l.animateScale?0:c.getDistanceFromCenterForValue(r.data[n]);t.extend(e,{_datasetIndex:a.index,_index:n,_scale:c,_model:{x:m,y:f,innerRadius:0,outerRadius:i?_:y,startAngle:i&&l.animateRotate?b:w,endAngle:i&&l.animateRotate?b:x,label:d(u,n,u[n])}}),a.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc);
},countVisibleElements:function(){var e=this.getDataset(),n=this.getMeta(),i=0;return t.each(n.data,function(t,n){isNaN(e.data[n])||t.hidden||i++}),i},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},{}],20:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,linkScales:t.noop,addElementAndReset:function(t){e.DatasetController.prototype.addElementAndReset.call(this,t),this.updateBezierControlPoints()},update:function(e){var n=this,i=n.getMeta(),a=i.dataset,o=i.data,r=a.custom||{},s=n.getDataset(),l=n.chart.options.elements.line,c=n.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),t.extend(i.dataset,{_datasetIndex:n.index,_children:o,_loop:!0,_model:{tension:r.tension?r.tension:t.getValueOrDefault(s.lineTension,l.tension),backgroundColor:r.backgroundColor?r.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:r.borderWidth?r.borderWidth:s.borderWidth||l.borderWidth,borderColor:r.borderColor?r.borderColor:s.borderColor||l.borderColor,fill:r.fill?r.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:r.borderCapStyle?r.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:r.borderDash?r.borderDash:s.borderDash||l.borderDash,borderDashOffset:r.borderDashOffset?r.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:r.borderJoinStyle?r.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle,scaleTop:c.top,scaleBottom:c.bottom,scaleZero:c.getBasePosition()}}),i.dataset.pivot(),t.each(o,function(t,i){n.updateElement(t,i,e)},n),n.updateBezierControlPoints()},updateElement:function(e,n,i){var a=this,o=e.custom||{},r=a.getDataset(),s=a.chart.scale,l=a.chart.options.elements.point,c=s.getPointPositionForValue(n,r.data[n]);t.extend(e,{_datasetIndex:a.index,_index:n,_scale:s,_model:{x:i?s.xCenter:c.x,y:i?s.yCenter:c.y,tension:o.tension?o.tension:t.getValueOrDefault(r.tension,a.chart.options.elements.line.tension),radius:o.radius?o.radius:t.getValueAtIndexOrDefault(r.pointRadius,n,l.radius),backgroundColor:o.backgroundColor?o.backgroundColor:t.getValueAtIndexOrDefault(r.pointBackgroundColor,n,l.backgroundColor),borderColor:o.borderColor?o.borderColor:t.getValueAtIndexOrDefault(r.pointBorderColor,n,l.borderColor),borderWidth:o.borderWidth?o.borderWidth:t.getValueAtIndexOrDefault(r.pointBorderWidth,n,l.borderWidth),pointStyle:o.pointStyle?o.pointStyle:t.getValueAtIndexOrDefault(r.pointStyle,n,l.pointStyle),hitRadius:o.hitRadius?o.hitRadius:t.getValueAtIndexOrDefault(r.hitRadius,n,l.hitRadius)}}),e._model.skip=o.skip?o.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,n=this.getMeta();t.each(n.data,function(i,a){var o=i._model,r=t.splineCurve(t.previousItem(n.data,a,!0)._model,o,t.nextItem(n.data,a,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(r.previous.x,e.right),e.left),o.controlPointPreviousY=Math.max(Math.min(r.previous.y,e.bottom),e.top),o.controlPointNextX=Math.max(Math.min(r.next.x,e.right),e.left),o.controlPointNextY=Math.max(Math.min(r.next.y,e.bottom),e.top),i.pivot()})},draw:function(e){var n=this.getMeta(),i=e||1;t.each(n.data,function(e){e.transition(i)}),n.dataset.transition(i).draw(),t.each(n.data,function(e){e.draw()})},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},a=e._index,o=e._model;o.radius=i.hoverRadius?i.hoverRadius:t.getValueAtIndexOrDefault(n.pointHoverRadius,a,this.chart.options.elements.point.hoverRadius),o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,a,t.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:t.getValueAtIndexOrDefault(n.pointHoverBorderColor,a,t.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:t.getValueAtIndexOrDefault(n.pointHoverBorderWidth,a,o.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},a=e._index,o=e._model,r=this.chart.options.elements.point;o.radius=i.radius?i.radius:t.getValueAtIndexOrDefault(n.radius,a,r.radius),o.backgroundColor=i.backgroundColor?i.backgroundColor:t.getValueAtIndexOrDefault(n.pointBackgroundColor,a,r.backgroundColor),o.borderColor=i.borderColor?i.borderColor:t.getValueAtIndexOrDefault(n.pointBorderColor,a,r.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:t.getValueAtIndexOrDefault(n.pointBorderWidth,a,r.borderWidth)}})}},{}],21:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop},e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,i){var a=this;i||(e.animating=!0);for(var o=0;o<a.animations.length;++o)if(a.animations[o].chartInstance===e)return void(a.animations[o].animationObject=t);a.animations.push({chartInstance:e,animationObject:t}),1===a.animations.length&&a.requestAnimationFrame()},cancelAnimation:function(e){var n=t.findIndex(this.animations,function(t){return t.chartInstance===e});-1!==n&&(this.animations.splice(n,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=t.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this,t=Date.now(),n=0;e.dropFrames>1&&(n=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1);for(var i=0;i<e.animations.length;)null===e.animations[i].animationObject.currentStep&&(e.animations[i].animationObject.currentStep=0),e.animations[i].animationObject.currentStep+=1+n,e.animations[i].animationObject.currentStep>e.animations[i].animationObject.numSteps&&(e.animations[i].animationObject.currentStep=e.animations[i].animationObject.numSteps),e.animations[i].animationObject.render(e.animations[i].chartInstance,e.animations[i].animationObject),e.animations[i].animationObject.onAnimationProgress&&e.animations[i].animationObject.onAnimationProgress.call&&e.animations[i].animationObject.onAnimationProgress.call(e.animations[i].chartInstance,e.animations[i]),e.animations[i].animationObject.currentStep===e.animations[i].animationObject.numSteps?(e.animations[i].animationObject.onAnimationComplete&&e.animations[i].animationObject.onAnimationComplete.call&&e.animations[i].animationObject.onAnimationComplete.call(e.animations[i].chartInstance,e.animations[i]),e.animations[i].chartInstance.animating=!1,e.animations.splice(i,1)):++i;var a=Date.now(),o=(a-t)/e.frameDuration;e.dropFrames+=o,e.animations.length>0&&e.requestAnimationFrame()}}}},{}],22:[function(e,t,n){"use strict";t.exports=function(e){var t=e.canvasHelpers={};t.drawPoint=function(e,t,n,i,a){var o,r,s,l,c,d;if("object"==typeof t&&(o=t.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return void e.drawImage(t,i-t.width/2,a-t.height/2);if(!(isNaN(n)||0>=n)){switch(t){default:e.beginPath(),e.arc(i,a,n,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),r=3*n/Math.sqrt(3),c=r*Math.sqrt(3)/2,e.moveTo(i-r/2,a+c/3),e.lineTo(i+r/2,a+c/3),e.lineTo(i,a-2*c/3),e.closePath(),e.fill();break;case"rect":d=1/Math.SQRT2*n,e.beginPath(),e.fillRect(i-d,a-d,2*d,2*d),e.strokeRect(i-d,a-d,2*d,2*d);break;case"rectRot":d=1/Math.SQRT2*n,e.beginPath(),e.moveTo(i-d,a),e.lineTo(i,a+d),e.lineTo(i+d,a),e.lineTo(i,a-d),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(i,a+n),e.lineTo(i,a-n),e.moveTo(i-n,a),e.lineTo(i+n,a),e.closePath();break;case"crossRot":e.beginPath(),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,e.moveTo(i-s,a-l),e.lineTo(i+s,a+l),e.moveTo(i-s,a+l),e.lineTo(i+s,a-l),e.closePath();break;case"star":e.beginPath(),e.moveTo(i,a+n),e.lineTo(i,a-n),e.moveTo(i-n,a),e.lineTo(i+n,a),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,e.moveTo(i-s,a-l),e.lineTo(i+s,a+l),e.moveTo(i-s,a+l),e.lineTo(i+s,a-l),e.closePath();break;case"line":e.beginPath(),e.moveTo(i-n,a),e.lineTo(i+n,a),e.closePath();break;case"dash":e.beginPath(),e.moveTo(i,a),e.lineTo(i+n,a),e.closePath()}e.stroke()}}}},{}],23:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.types={},e.instances={},e.controllers={},e.Controller=function(n){return this.chart=n,this.config=n.config,this.options=this.config.options=t.configMerge(e.defaults.global,e.defaults[this.config.type],this.config.options||{}),this.id=t.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),e.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},t.extend(e.Controller.prototype,{initialize:function(){var t=this;return e.plugins.notify("beforeInit",[t]),t.bindEvents(),t.ensureScalesHaveIDs(),t.buildOrUpdateControllers(),t.buildScales(),t.updateLayout(),t.resetElements(),t.initToolTip(),t.update(),e.plugins.notify("afterInit",[t]),t},clear:function(){return t.clear(this.chart),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(n){var i=this,a=i.chart,o=a.canvas,r=t.getMaximumWidth(o),s=a.aspectRatio,l=i.options.maintainAspectRatio&&isNaN(s)===!1&&isFinite(s)&&0!==s?r/s:t.getMaximumHeight(o),c=a.width!==r||a.height!==l;if(!c)return i;o.width=a.width=r,o.height=a.height=l,t.retinaScale(a);var d={width:r,height:l};return e.plugins.notify("resize",[i,d]),i.options.onResize&&i.options.onResize(i,d),n||(i.stop(),i.update(i.options.responsiveAnimationDuration)),i},ensureScalesHaveIDs:function(){var e=this.options,n=e.scales||{},i=e.scale;t.each(n.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),t.each(n.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),i&&(i.id=i.id||"scale")},buildScales:function(){var n=this,i=n.options,a=n.scales={},o=[];i.scales&&(o=o.concat((i.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category"}}),(i.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear"}}))),i.scale&&o.push({options:i.scale,dtype:"radialLinear",isDefault:!0}),t.each(o,function(i){var o=i.options,r=t.getValueOrDefault(o.type,i.dtype),s=e.scaleService.getScaleConstructor(r);if(s){var l=new s({id:o.id,options:o,ctx:n.chart.ctx,chart:n});a[l.id]=l,i.isDefault&&(n.scale=l)}}),e.scaleService.addScalesToLayout(this)},updateLayout:function(){e.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var n=this,i=[],a=[];if(t.each(n.data.datasets,function(t,o){var r=n.getDatasetMeta(o);r.type||(r.type=t.type||n.config.type),i.push(r.type),r.controller?r.controller.updateIndex(o):(r.controller=new e.controllers[r.type](n,o),a.push(r.controller))},n),i.length>1)for(var o=1;o<i.length;o++)if(i[o]!==i[o-1]){n.isCombo=!0;break}return a},resetElements:function(){var e=this;t.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},update:function(n,i){var a=this;e.plugins.notify("beforeUpdate",[a]),a.tooltip._data=a.data;var o=a.buildOrUpdateControllers();t.each(a.data.datasets,function(e,t){a.getDatasetMeta(t).controller.buildOrUpdateElements()},a),e.layoutService.update(a,a.chart.width,a.chart.height),e.plugins.notify("afterScaleUpdate",[a]),t.each(o,function(e){e.reset()}),a.updateDatasets(),e.plugins.notify("afterUpdate",[a]),a.render(n,i)},updateDatasets:function(){var t,n,i=this;if(e.plugins.notify("beforeDatasetsUpdate",[i])){for(t=0,n=i.data.datasets.length;n>t;++t)i.getDatasetMeta(t).controller.update();e.plugins.notify("afterDatasetsUpdate",[i])}},render:function(n,i){var a=this;e.plugins.notify("beforeRender",[a]);var o=a.options.animation;if(o&&("undefined"!=typeof n&&0!==n||"undefined"==typeof n&&0!==o.duration)){var r=new e.Animation;r.numSteps=(n||o.duration)/16.66,r.easing=o.easing,r.render=function(e,n){var i=t.easingEffects[n.easing],a=n.currentStep/n.numSteps,o=i(a);e.draw(o,a,n.currentStep)},r.onAnimationProgress=o.onProgress,r.onAnimationComplete=o.onComplete,e.animationService.addAnimation(a,r,n,i)}else a.draw(),o&&o.onComplete&&o.onComplete.call&&o.onComplete.call(a);return a},draw:function(n){var i=this,a=n||1;i.clear(),e.plugins.notify("beforeDraw",[i,a]),t.each(i.boxes,function(e){e.draw(i.chartArea)},i),i.scale&&i.scale.draw(),e.plugins.notify("beforeDatasetsDraw",[i,a]),t.each(i.data.datasets,function(e,t){i.isDatasetVisible(t)&&i.getDatasetMeta(t).controller.draw(n)},i,!0),e.plugins.notify("afterDatasetsDraw",[i,a]),i.tooltip.transition(a).draw(),e.plugins.notify("afterDraw",[i,a])},getElementAtEvent:function(e){var n=this,i=t.getRelativePosition(e,n.chart),a=[];return t.each(n.data.datasets,function(e,o){if(n.isDatasetVisible(o)){var r=n.getDatasetMeta(o);t.each(r.data,function(e){return e.inRange(i.x,i.y)?(a.push(e),a):void 0})}}),a.slice(0,1)},getElementsAtEvent:function(e){var n=this,i=t.getRelativePosition(e,n.chart),a=[],o=function(){if(n.data.datasets)for(var e=0;e<n.data.datasets.length;e++){var t=n.getDatasetMeta(e);if(n.isDatasetVisible(e))for(var a=0;a<t.data.length;a++)if(t.data[a].inRange(i.x,i.y))return t.data[a]}}.call(n);return o?(t.each(n.data.datasets,function(e,t){if(n.isDatasetVisible(t)){var i=n.getDatasetMeta(t),r=i.data[o._index];r&&!r._view.skip&&a.push(r)}},n),a):a},getElementsAtXAxis:function(e){var n=this,i=t.getRelativePosition(e,n.chart),a=[],o=function(){if(n.data.datasets)for(var e=0;e<n.data.datasets.length;e++){var t=n.getDatasetMeta(e);if(n.isDatasetVisible(e))for(var a=0;a<t.data.length;a++)if(t.data[a].inLabelRange(i.x,i.y))return t.data[a]}}.call(n);return o?(t.each(n.data.datasets,function(e,i){if(n.isDatasetVisible(i)){var r=n.getDatasetMeta(i),s=t.findIndex(r.data,function(e){return o._model.x===e._model.x});-1===s||r.data[s]._view.skip||a.push(r.data[s])}},n),a):a},getElementsAtEventForMode:function(e,t){var n=this;switch(t){case"single":return n.getElementAtEvent(e);case"label":return n.getElementsAtEvent(e);case"dataset":return n.getDatasetAtEvent(e);case"x-axis":return n.getElementsAtXAxis(e);default:return e}},getDatasetAtEvent:function(e){var t=this.getElementAtEvent(e);return t.length>0&&(t=this.getDatasetMeta(t[0]._datasetIndex).data),t},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var i=n._meta[t.id];return i||(i=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;n>t;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var n=this;n.stop(),n.clear(),t.unbindEvents(n,n.events),t.removeResizeListener(n.chart.canvas.parentNode);var i=n.chart.canvas;i.width=n.chart.width,i.height=n.chart.height,void 0!==n.chart.originalDevicePixelRatio&&n.chart.ctx.scale(1/n.chart.originalDevicePixelRatio,1/n.chart.originalDevicePixelRatio),i.style.width=n.chart.originalCanvasStyleWidth,i.style.height=n.chart.originalCanvasStyleHeight,e.plugins.notify("destroy",[n]),delete e.instances[n.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new e.Tooltip({_chart:t.chart,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this;t.bindEvents(e,e.options.events,function(t){e.eventHandler(t)})},updateHoverStyle:function(e,t,n){var i,a,o,r=n?"setHoverStyle":"removeHoverStyle";switch(t){case"single":e=[e[0]];break;case"label":case"dataset":case"x-axis":break;default:return}for(a=0,o=e.length;o>a;++a)i=e[a],i&&this.getDatasetMeta(i._datasetIndex).controller[r](i)},eventHandler:function(e){var n=this,i=n.tooltip,a=n.options||{},o=a.hover,r=a.tooltips;return n.lastActive=n.lastActive||[],n.lastTooltipActive=n.lastTooltipActive||[],"mouseout"===e.type?(n.active=[],n.tooltipActive=[]):(n.active=n.getElementsAtEventForMode(e,o.mode),n.tooltipActive=n.getElementsAtEventForMode(e,r.mode)),o.onHover&&o.onHover.call(n,n.active),("mouseup"===e.type||"click"===e.type)&&(a.onClick&&a.onClick.call(n,e,n.active),n.legend&&n.legend.handleEvent&&n.legend.handleEvent(e)),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),(r.enabled||r.custom)&&(i.initialize(),i._active=n.tooltipActive,i.update(!0)),i.pivot(),n.animating||t.arrayEquals(n.active,n.lastActive)&&t.arrayEquals(n.tooltipActive,n.lastTooltipActive)||(n.stop(),(r.enabled||r.custom)&&i.update(!0),n.render(o.animationDuration,!0)),n.lastActive=n.active,n.lastTooltipActive=n.tooltipActive,n}})}},{}],24:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=t.noop;e.DatasetController=function(e,t){this.initialize.call(this,e,t)},t.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null===t.xAxisID&&(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,i=n.getMeta(),a=n.getDataset().data||[],o=i.data;for(e=0,t=a.length;t>e;++e)o[e]=o[e]||n.createMetaData(i,e);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this,n=t.createMetaData(e);t.getMeta().data.splice(e,0,n),t.updateElement(n,e,!0)},buildOrUpdateElements:function(){var e=this.getMeta(),t=e.data,n=this.getDataset().data.length,i=t.length;if(i>n)t.splice(n,i-n);else if(n>i)for(var a=i;n>a;++a)this.addElementAndReset(a)},update:n,draw:function(e){var n=e||1;t.each(this.getMeta().data,function(e){e.transition(n).draw()})},removeHoverStyle:function(e,n){var i=this.chart.data.datasets[e._datasetIndex],a=e._index,o=e.custom||{},r=t.getValueAtIndexOrDefault,s=e._model;s.backgroundColor=o.backgroundColor?o.backgroundColor:r(i.backgroundColor,a,n.backgroundColor),s.borderColor=o.borderColor?o.borderColor:r(i.borderColor,a,n.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:r(i.borderWidth,a,n.borderWidth)},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,a=e.custom||{},o=t.getValueAtIndexOrDefault,r=t.getHoverColor,s=e._model;s.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:o(n.hoverBackgroundColor,i,r(s.backgroundColor)),s.borderColor=a.hoverBorderColor?a.hoverBorderColor:o(n.hoverBorderColor,i,r(s.borderColor)),s.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:o(n.hoverBorderWidth,i,s.borderWidth)}}),e.DatasetController.extend=t.inherits}},{}],25:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.elements={},e.Element=function(e){t.extend(this,e),this.initialize.apply(this,arguments)},t.extend(e.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=t.clone(e._model)),e._start=t.clone(e._view),e},transition:function(e){var n=this;return n._view||(n._view=t.clone(n._model)),1===e?(n._view=n._model,n._start=null,n):(n._start||n.pivot(),t.each(n._model,function(i,a){if("_"===a[0]);else if(n._view.hasOwnProperty(a))if(i===n._view[a]);else if("string"==typeof i)try{var o=t.color(n._model[a]).mix(t.color(n._start[a]),e);n._view[a]=o.rgbString()}catch(e){n._view[a]=i}else if("number"==typeof i){var r=void 0!==n._start[a]&&isNaN(n._start[a])===!1?n._start[a]:0;n._view[a]=(n._model[a]-r)*e+r}else n._view[a]=i;else"number"!=typeof i||isNaN(n._view[a])?n._view[a]=i:n._view[a]=i*e},n),n)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return t.isNumber(this._model.x)&&t.isNumber(this._model.y)}}),e.Element.extend=t.inherits}},{}],26:[function(e,t,n){"use strict";var i=e(2);t.exports=function(e){function t(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!=e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function n(e){return void 0!==e&&null!==e&&"none"!==e}function a(e,i,a){var o=document.defaultView,r=e.parentNode,s=o.getComputedStyle(e)[i],l=o.getComputedStyle(r)[i],c=n(s),d=n(l),u=Number.POSITIVE_INFINITY;return c||d?Math.min(c?t(s,e,a):u,d?t(l,r,a):u):"none"}var o=e.helpers={};o.each=function(e,t,n,i){var a,r;if(o.isArray(e))if(r=e.length,i)for(a=r-1;a>=0;a--)t.call(n,e[a],a);else for(a=0;r>a;a++)t.call(n,e[a],a);else if("object"==typeof e){var s=Object.keys(e);for(r=s.length,a=0;r>a;a++)t.call(n,e[s[a]],s[a])}},o.clone=function(e){var t={};return o.each(e,function(e,n){o.isArray(e)?t[n]=e.slice(0):"object"==typeof e&&null!==e?t[n]=o.clone(e):t[n]=e}),t},o.extend=function(e){for(var t=function(t,n){e[n]=t},n=1,i=arguments.length;i>n;n++)o.each(arguments[n],t);return e},o.configMerge=function(t){var n=o.clone(t);return o.each(Array.prototype.slice.call(arguments,1),function(t){o.each(t,function(t,i){if("scales"===i)n[i]=o.scaleMerge(n.hasOwnProperty(i)?n[i]:{},t);else if("scale"===i)n[i]=o.configMerge(n.hasOwnProperty(i)?n[i]:{},e.scaleService.getScaleDefaults(t.type),t);else if(n.hasOwnProperty(i)&&o.isArray(n[i])&&o.isArray(t)){var a=n[i];o.each(t,function(e,t){t<a.length?"object"==typeof a[t]&&null!==a[t]&&"object"==typeof e&&null!==e?a[t]=o.configMerge(a[t],e):a[t]=e:a.push(e)})}else n.hasOwnProperty(i)&&"object"==typeof n[i]&&null!==n[i]&&"object"==typeof t?n[i]=o.configMerge(n[i],t):n[i]=t})}),n},o.scaleMerge=function(t,n){var i=o.clone(t);return o.each(n,function(t,n){"xAxes"===n||"yAxes"===n?i.hasOwnProperty(n)?o.each(t,function(t,a){var r=o.getValueOrDefault(t.type,"xAxes"===n?"category":"linear"),s=e.scaleService.getScaleDefaults(r);a>=i[n].length||!i[n][a].type?i[n].push(o.configMerge(s,t)):t.type&&t.type!==i[n][a].type?i[n][a]=o.configMerge(i[n][a],s,t):i[n][a]=o.configMerge(i[n][a],t)}):(i[n]=[],o.each(t,function(t){var a=o.getValueOrDefault(t.type,"xAxes"===n?"category":"linear");i[n].push(o.configMerge(e.scaleService.getScaleDefaults(a),t))})):i.hasOwnProperty(n)&&"object"==typeof i[n]&&null!==i[n]&&"object"==typeof t?i[n]=o.configMerge(i[n],t):i[n]=t}),i},o.getValueAtIndexOrDefault=function(e,t,n){return void 0===e||null===e?n:o.isArray(e)?t<e.length?e[t]:n:e},o.getValueOrDefault=function(e,t){return void 0===e?t:e},o.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;i>n;++n)if(e[n]===t)return n;return-1},o.where=function(e,t){if(o.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return o.each(e,function(e){t(e)&&n.push(e)}),n},o.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,a=e.length;a>i;++i)if(t.call(n,e[i],i,e))return i;return-1},o.findNextWhere=function(e,t,n){(void 0===n||null===n)&&(n=-1);for(var i=n+1;i<e.length;i++){var a=e[i];if(t(a))return a}},o.findPreviousWhere=function(e,t,n){(void 0===n||null===n)&&(n=e.length);for(var i=n-1;i>=0;i--){var a=e[i];if(t(a))return a}},o.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=o.inherits,e&&o.extend(n.prototype,e),n.__super__=t.prototype,n},o.noop=function(){},o.uid=function(){var e=0;return function(){return e++}}(),o.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},o.almostEquals=function(e,t,n){return Math.abs(e-t)<n},o.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},o.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1},o.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},o.toRadians=function(e){return e*(Math.PI/180)},o.toDegrees=function(e){return e*(180/Math.PI)},o.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,a=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:a}},o.aliasPixel=function(e){return e%2===0?0:.5},o.splineCurve=function(e,t,n,i){var a=e.skip?t:e,o=t,r=n.skip?t:n,s=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),l=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),c=s/(s+l),d=l/(s+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;var u=i*c,p=i*d;return{previous:{x:o.x-u*(r.x-a.x),y:o.y-u*(r.y-a.y)},next:{x:o.x+p*(r.x-a.x),y:o.y+p*(r.y-a.y)}}},o.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},o.previousItem=function(e,t,n){return n?0>=t?e[e.length-1]:e[t-1]:0>=t?e[0]:e[t-1]},o.niceNum=function(e,t){var n,i=Math.floor(o.log10(e)),a=e/Math.pow(10,i);return n=t?1.5>a?1:3>a?2:7>a?5:10:1>=a?1:2>=a?2:5>=a?5:10,n*Math.pow(10,i)};var r=o.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2===(e/=.5)?1:(n||(n=1*(.3*1.5)),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),1>e?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)):i*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-r.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?1*(7.5625*e*e):2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*r.easeInBounce(2*e):.5*r.easeOutBounce(2*e-1)+.5}};o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),o.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),o.getRelativePosition=function(e,t){var n,i,a=e.originalEvent||e,r=e.currentTarget||e.srcElement,s=r.getBoundingClientRect(),l=a.touches;l&&l.length>0?(n=l[0].clientX,i=l[0].clientY):(n=a.clientX,i=a.clientY);var c=parseFloat(o.getStyle(r,"padding-left")),d=parseFloat(o.getStyle(r,"padding-top")),u=parseFloat(o.getStyle(r,"padding-right")),p=parseFloat(o.getStyle(r,"padding-bottom")),m=s.right-s.left-c-u,f=s.bottom-s.top-d-p;return n=Math.round((n-s.left-c)/m*r.width/t.currentDevicePixelRatio),i=Math.round((i-s.top-d)/f*r.height/t.currentDevicePixelRatio),{x:n,y:i}},o.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},o.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=o.noop},o.bindEvents=function(e,t,n){var i=e.events=e.events||{};o.each(t,function(t){i[t]=function(){n.apply(e,arguments)},o.addEvent(e.chart.canvas,t,i[t])})},o.unbindEvents=function(e,t){var n=e.chart.canvas;o.each(t,function(e,t){o.removeEvent(n,t,e)})},o.getConstraintWidth=function(e){return a(e,"max-width","clientWidth")},o.getConstraintHeight=function(e){return a(e,"max-height","clientHeight")},o.getMaximumWidth=function(e){var t=e.parentNode,n=parseInt(o.getStyle(t,"padding-left"))+parseInt(o.getStyle(t,"padding-right")),i=t.clientWidth-n,a=o.getConstraintWidth(e);return isNaN(a)?i:Math.min(i,a)},o.getMaximumHeight=function(e){var t=e.parentNode,n=parseInt(o.getStyle(t,"padding-top"))+parseInt(o.getStyle(t,"padding-bottom")),i=t.clientHeight-n,a=o.getConstraintHeight(e);return isNaN(a)?i:Math.min(i,a)},o.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},o.retinaScale=function(e){var t=e.ctx,n=e.canvas,i=n.width,a=n.height,o=e.currentDevicePixelRatio=window.devicePixelRatio||1;1!==o&&(n.height=a*o,n.width=i*o,t.scale(o,o),e.originalDevicePixelRatio=e.originalDevicePixelRatio||o),n.style.width=i+"px",n.style.height=a+"px"},o.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},o.fontString=function(e,t,n){return t+" "+e+"px "+n},o.longestText=function(e,t,n,i){i=i||{};var a=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(a=i.data={},r=i.garbageCollect=[],i.font=t),e.font=t;var s=0;o.each(n,function(t){void 0!==t&&null!==t&&o.isArray(t)!==!0?s=o.measureText(e,a,r,s,t):o.isArray(t)&&o.each(t,function(t){void 0===t||null===t||o.isArray(t)||(s=o.measureText(e,a,r,s,t))})});var l=r.length/2;if(l>n.length){for(var c=0;l>c;c++)delete a[r[c]];r.splice(0,l)}return s},o.measureText=function(e,t,n,i,a){var o=t[a];return o||(o=t[a]=e.measureText(a).width,n.push(a)),o>i&&(i=o),i},o.numberOfLabelLines=function(e){var t=1;return o.each(e,function(e){o.isArray(e)&&e.length>t&&(t=e.length)}),t},o.drawRoundedRectangle=function(e,t,n,i,a,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.quadraticCurveTo(t+i,n,t+i,n+o),e.lineTo(t+i,n+a-o),e.quadraticCurveTo(t+i,n+a,t+i-o,n+a),e.lineTo(t+o,n+a),e.quadraticCurveTo(t,n+a,t,n+a-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath()},o.color=function(t){return i?i(t instanceof CanvasGradient?e.defaults.global.defaultColor:t):(console.log("Color.js not found!"),
t)},o.addResizeListener=function(e,t){var n=document.createElement("iframe"),i="chartjs-hidden-iframe";n.classlist?n.classlist.add(i):n.setAttribute("class",i);var a=n.style;a.width="100%",a.display="block",a.border=0,a.height=0,a.margin=0,a.position="absolute",a.left=0,a.right=0,a.top=0,a.bottom=0,e.insertBefore(n,e.firstChild),(n.contentWindow||n).onresize=function(){t&&t()}},o.removeResizeListener=function(e){var t=e.querySelector(".chartjs-hidden-iframe");t&&t.parentNode.removeChild(t)},o.isArray=Array.isArray?function(e){return Array.isArray(e)}:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.arrayEquals=function(e,t){var n,i,a,r;if(!e||!t||e.length!=t.length)return!1;for(n=0,i=e.length;i>n;++n)if(a=e[n],r=t[n],a instanceof Array&&r instanceof Array){if(!o.arrayEquals(a,r))return!1}else if(a!=r)return!1;return!0},o.callCallback=function(e,t,n){e&&"function"==typeof e.call&&e.apply(n,t)},o.getHoverColor=function(e){return e instanceof CanvasPattern?e:o.color(e).saturate(.5).darken(.1).rgbString()}}},{2:2}],27:[function(e,t,n){"use strict";t.exports=function(){var e=function(t,n){var i=this,a=e.helpers;return i.config=n||{data:{datasets:[]}},t.length&&t[0].getContext&&(t=t[0]),t.getContext&&(t=t.getContext("2d")),i.ctx=t,i.canvas=t.canvas,t.canvas.style.display=t.canvas.style.display||"block",i.width=t.canvas.width||parseInt(a.getStyle(t.canvas,"width"),10)||a.getMaximumWidth(t.canvas),i.height=t.canvas.height||parseInt(a.getStyle(t.canvas,"height"),10)||a.getMaximumHeight(t.canvas),i.aspectRatio=i.width/i.height,(isNaN(i.aspectRatio)||isFinite(i.aspectRatio)===!1)&&(i.aspectRatio=void 0!==n.aspectRatio?n.aspectRatio:2),i.originalCanvasStyleWidth=t.canvas.style.width,i.originalCanvasStyleHeight=t.canvas.style.height,a.retinaScale(i),i.controller=new e.Controller(i),a.addResizeListener(t.canvas.parentNode,function(){i.controller&&i.controller.config.options.responsive&&i.controller.resize()}),i.controller?i.controller:i};return e.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}}},e.Chart=e,e}},{}],28:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),e.boxes.push(t)},removeBox:function(e,t){e.boxes&&e.boxes.splice(e.boxes.indexOf(t),1)},update:function(e,n,i){function a(e){var t,n=e.isHorizontal();n?(t=e.update(e.options.fullWidth?h:x,w),_-=t.height):(t=e.update(y,b),x-=t.width),$.push({horizontal:n,minSize:t,box:e})}function o(e){var n=t.findNextWhere($,function(t){return t.box===e});if(n)if(e.isHorizontal()){var i={left:k,right:S,top:0,bottom:0};e.update(e.options.fullWidth?h:x,g/2,i)}else e.update(n.minSize.width,_)}function r(e){var n=t.findNextWhere($,function(t){return t.box===e}),i={left:0,right:0,top:C,bottom:D};n&&e.update(n.minSize.width,_,i)}function s(e){e.isHorizontal()?(e.left=e.options.fullWidth?l:k,e.right=e.options.fullWidth?n-l:k+x,e.top=M,e.bottom=M+e.height,M=e.bottom):(e.left=I,e.right=I+e.width,e.top=C,e.bottom=C+_,I=e.right)}if(e){var l=0,c=0,d=t.where(e.boxes,function(e){return"left"===e.options.position}),u=t.where(e.boxes,function(e){return"right"===e.options.position}),p=t.where(e.boxes,function(e){return"top"===e.options.position}),m=t.where(e.boxes,function(e){return"bottom"===e.options.position}),f=t.where(e.boxes,function(e){return"chartArea"===e.options.position});p.sort(function(e,t){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)}),m.sort(function(e,t){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)});var h=n-2*l,g=i-2*c,v=h/2,b=g/2,y=(n-v)/(d.length+u.length),w=(i-b)/(p.length+m.length),x=h,_=g,$=[];t.each(d.concat(u,p,m),a);var k=l,S=l,C=c,D=c;t.each(d.concat(u),o),t.each(d,function(e){k+=e.width}),t.each(u,function(e){S+=e.width}),t.each(p.concat(m),o),t.each(p,function(e){C+=e.height}),t.each(m,function(e){D+=e.height}),t.each(d.concat(u),r),k=l,S=l,C=c,D=c,t.each(d,function(e){k+=e.width}),t.each(u,function(e){S+=e.width}),t.each(p,function(e){C+=e.height}),t.each(m,function(e){D+=e.height});var T=i-C-D,E=n-k-S;(E!==x||T!==_)&&(t.each(d,function(e){e.height=T}),t.each(u,function(e){e.height=T}),t.each(p,function(e){e.options.fullWidth||(e.width=E)}),t.each(m,function(e){e.options.fullWidth||(e.width=E)}),_=T,x=E);var I=l,M=c;t.each(d.concat(p),s),I+=x,M+=_,t.each(u,s),t.each(m,s),e.chartArea={left:k,top:C,right:k+x,bottom:C+_},t.each(f,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(x,_)})}}}}},{}],29:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=t.noop;e.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,a=i.getDatasetMeta(n);a.hidden=null===a.hidden?!i.data.datasets[n].hidden:null,i.update()},labels:{boxWidth:40,padding:10,generateLabels:function(e){var n=e.data;return t.isArray(n.datasets)?n.datasets.map(function(n,i){return{text:n.label,fillStyle:t.isArray(n.backgroundColor)?n.backgroundColor[0]:n.backgroundColor,hidden:!e.isDatasetVisible(i),lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:n.borderWidth,strokeStyle:n.borderColor,pointStyle:n.pointStyle,datasetIndex:i}},this):[]}}},e.Legend=e.Element.extend({initialize:function(e){t.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:n,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:function(){var e=this;e.legendItems=e.options.labels.generateLabels.call(e,e.chart),e.options.reverse&&e.legendItems.reverse()},afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,i=n.options,a=i.labels,o=i.display,r=n.ctx,s=e.defaults.global,l=t.getValueOrDefault,c=l(a.fontSize,s.defaultFontSize),d=l(a.fontStyle,s.defaultFontStyle),u=l(a.fontFamily,s.defaultFontFamily),p=t.fontString(c,d,u),m=n.legendHitBoxes=[],f=n.minSize,h=n.isHorizontal();if(h?(f.width=n.maxWidth,f.height=o?10:0):(f.width=o?10:0,f.height=n.maxHeight),o)if(r.font=p,h){var g=n.lineWidths=[0],v=n.legendItems.length?c+a.padding:0;r.textAlign="left",r.textBaseline="top",t.each(n.legendItems,function(e,t){var i=a.usePointStyle?c*Math.sqrt(2):a.boxWidth,o=i+c/2+r.measureText(e.text).width;g[g.length-1]+o+a.padding>=n.width&&(v+=c+a.padding,g[g.length]=n.left),m[t]={left:0,top:0,width:o,height:c},g[g.length-1]+=o+a.padding}),f.height+=v}else{var b=a.padding,y=n.columnWidths=[],w=a.padding,x=0,_=0,$=c+b;t.each(n.legendItems,function(e,t){var n=a.usePointStyle?2*a.boxWidth:a.boxWidth,i=n+c/2+r.measureText(e.text).width;_+$>f.height&&(w+=x+a.padding,y.push(x),x=0,_=0),x=Math.max(x,i),_+=$,m[t]={left:0,top:0,width:i,height:c}}),w+=x,y.push(x),f.width+=w}n.width=f.width,n.height=f.height},afterFit:n,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var n=this,i=n.options,a=i.labels,o=e.defaults.global,r=o.elements.line,s=n.width,l=n.lineWidths;if(i.display){var c,d=n.ctx,u=t.getValueOrDefault,p=u(a.fontColor,o.defaultFontColor),m=u(a.fontSize,o.defaultFontSize),f=u(a.fontStyle,o.defaultFontStyle),h=u(a.fontFamily,o.defaultFontFamily),g=t.fontString(m,f,h);d.textAlign="left",d.textBaseline="top",d.lineWidth=.5,d.strokeStyle=p,d.fillStyle=p,d.font=g;var v=a.boxWidth,b=n.legendHitBoxes,y=function(t,n,a){if(!(isNaN(v)||0>=v)){if(d.save(),d.fillStyle=u(a.fillStyle,o.defaultColor),d.lineCap=u(a.lineCap,r.borderCapStyle),d.lineDashOffset=u(a.lineDashOffset,r.borderDashOffset),d.lineJoin=u(a.lineJoin,r.borderJoinStyle),d.lineWidth=u(a.lineWidth,r.borderWidth),d.strokeStyle=u(a.strokeStyle,o.defaultColor),d.setLineDash&&d.setLineDash(u(a.lineDash,r.borderDash)),i.labels&&i.labels.usePointStyle){var s=m*Math.SQRT2/2,l=s/Math.SQRT2,c=t+l,p=n+l;e.canvasHelpers.drawPoint(d,a.pointStyle,s,c,p)}else d.strokeRect(t,n,v,m),d.fillRect(t,n,v,m);d.restore()}},w=function(e,t,n,i){d.fillText(n.text,v+m/2+e,t),n.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(v+m/2+e,t+m/2),d.lineTo(v+m/2+e+i,t+m/2),d.stroke())},x=n.isHorizontal();c=x?{x:n.left+(s-l[0])/2,y:n.top+a.padding,line:0}:{x:n.left+a.padding,y:n.top+a.padding,line:0};var _=m+a.padding;t.each(n.legendItems,function(e,t){var i=d.measureText(e.text).width,o=a.usePointStyle?m+m/2+i:v+m/2+i,r=c.x,u=c.y;x?r+o>=s&&(u=c.y+=_,c.line++,r=c.x=n.left+(s-l[c.line])/2):u+_>n.bottom&&(r=c.x=r+n.columnWidths[c.line]+a.padding,u=c.y=n.top,c.line++),y(r,u,e),b[t].left=r,b[t].top=u,w(r,u,e,i),x?c.x+=o+a.padding:c.y+=_})}},handleEvent:function(e){var n=this,i=t.getRelativePosition(e,n.chart.chart),a=i.x,o=i.y,r=n.options;if(a>=n.left&&a<=n.right&&o>=n.top&&o<=n.bottom)for(var s=n.legendHitBoxes,l=0;l<s.length;++l){var c=s[l];if(a>=c.left&&a<=c.left+c.width&&o>=c.top&&o<=c.top+c.height){r.onClick&&r.onClick.call(n,e,n.legendItems[l]);break}}}}),e.plugins.register({beforeInit:function(t){var n=t.options,i=n.legend;i&&(t.legend=new e.Legend({ctx:t.chart.ctx,options:i,chart:t}),e.layoutService.addBox(t,t.legend))}})}},{}],30:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers.noop;e.plugins={_plugins:[],register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)})},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)})},clear:function(){this._plugins=[]},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t){var n,i,a=this._plugins,o=a.length;for(n=0;o>n;++n)if(i=a[n],"function"==typeof i[e]&&i[e].apply(i,t||[])===!1)return!1;return!0}},e.PluginBase=e.Element.extend({beforeInit:t,afterInit:t,beforeUpdate:t,afterUpdate:t,beforeDraw:t,afterDraw:t,destroy:t}),e.pluginService=e.plugins}},{}],31:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(e){return t.isArray(e)?e:""+e}}},e.Scale=e.Element.extend({beforeUpdate:function(){t.callCallback(this.options.beforeUpdate,[this])},update:function(e,n,i){var a=this;return a.beforeUpdate(),a.maxWidth=e,a.maxHeight=n,a.margins=t.extend({left:0,right:0,top:0,bottom:0},i),a.beforeSetDimensions(),a.setDimensions(),a.afterSetDimensions(),a.beforeDataLimits(),a.determineDataLimits(),a.afterDataLimits(),a.beforeBuildTicks(),a.buildTicks(),a.afterBuildTicks(),a.beforeTickToLabelConversion(),a.convertTicksToLabels(),a.afterTickToLabelConversion(),a.beforeCalculateTickRotation(),a.calculateTickRotation(),a.afterCalculateTickRotation(),a.beforeFit(),a.fit(),a.afterFit(),a.afterUpdate(),a.minSize},afterUpdate:function(){t.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){t.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){t.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){t.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:t.noop,afterDataLimits:function(){t.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){t.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:t.noop,afterBuildTicks:function(){t.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){t.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this;e.ticks=e.ticks.map(function(t,n,i){return e.options.ticks.userCallback?e.options.ticks.userCallback(t,n,i):e.options.ticks.callback(t,n,i)},e)},afterTickToLabelConversion:function(){t.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){t.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var n=this,i=n.ctx,a=e.defaults.global,o=n.options.ticks,r=t.getValueOrDefault(o.fontSize,a.defaultFontSize),s=t.getValueOrDefault(o.fontStyle,a.defaultFontStyle),l=t.getValueOrDefault(o.fontFamily,a.defaultFontFamily),c=t.fontString(r,s,l);i.font=c;var d,u=i.measureText(n.ticks[0]).width,p=i.measureText(n.ticks[n.ticks.length-1]).width;if(n.labelRotation=o.minRotation||0,n.paddingRight=0,n.paddingLeft=0,n.options.display&&n.isHorizontal()){n.paddingRight=p/2+3,n.paddingLeft=u/2+3,n.longestTextCache||(n.longestTextCache={});for(var m,f,h=t.longestText(i,c,n.ticks,n.longestTextCache),g=h,v=n.getPixelForTick(1)-n.getPixelForTick(0)-6;g>v&&n.labelRotation<o.maxRotation;){if(m=Math.cos(t.toRadians(n.labelRotation)),f=Math.sin(t.toRadians(n.labelRotation)),d=m*u,d+r/2>n.yLabelWidth&&(n.paddingLeft=d+r/2),n.paddingRight=r/2,f*h>n.maxHeight){n.labelRotation--;break}n.labelRotation++,g=m*h}}n.margins&&(n.paddingLeft=Math.max(n.paddingLeft-n.margins.left,0),n.paddingRight=Math.max(n.paddingRight-n.margins.right,0))},afterCalculateTickRotation:function(){t.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){t.callCallback(this.options.beforeFit,[this])},fit:function(){var n=this,i=n.minSize={width:0,height:0},a=n.options,o=e.defaults.global,r=a.ticks,s=a.scaleLabel,l=a.display,c=n.isHorizontal(),d=t.getValueOrDefault(r.fontSize,o.defaultFontSize),u=t.getValueOrDefault(r.fontStyle,o.defaultFontStyle),p=t.getValueOrDefault(r.fontFamily,o.defaultFontFamily),m=t.fontString(d,u,p),f=t.getValueOrDefault(s.fontSize,o.defaultFontSize),h=a.gridLines.tickMarkLength;if(c?i.width=n.isFullWidth()?n.maxWidth-n.margins.left-n.margins.right:n.maxWidth:i.width=l?h:0,c?i.height=l?h:0:i.height=n.maxHeight,s.display&&l&&(c?i.height+=1.5*f:i.width+=1.5*f),r.display&&l){n.longestTextCache||(n.longestTextCache={});var g=t.longestText(n.ctx,m,n.ticks,n.longestTextCache),v=t.numberOfLabelLines(n.ticks),b=.5*d;if(c){n.longestLabelWidth=g;var y=Math.sin(t.toRadians(n.labelRotation))*n.longestLabelWidth+d*v+b*v;i.height=Math.min(n.maxHeight,i.height+y),n.ctx.font=m;var w=n.ctx.measureText(n.ticks[0]).width,x=n.ctx.measureText(n.ticks[n.ticks.length-1]).width,_=Math.cos(t.toRadians(n.labelRotation)),$=Math.sin(t.toRadians(n.labelRotation));n.paddingLeft=0!==n.labelRotation?_*w+3:w/2+3,n.paddingRight=0!==n.labelRotation?$*(d/2)+3:x/2+3}else{var k=n.maxWidth-i.width,S=r.mirror;S?g=0:g+=n.options.ticks.padding,k>g?i.width+=g:i.width=n.maxWidth,n.paddingTop=d/2,n.paddingBottom=d/2}}n.margins&&(n.paddingLeft=Math.max(n.paddingLeft-n.margins.left,0),n.paddingTop=Math.max(n.paddingTop-n.margins.top,0),n.paddingRight=Math.max(n.paddingRight-n.margins.right,0),n.paddingBottom=Math.max(n.paddingBottom-n.margins.bottom,0)),n.width=i.width,n.height=i.height},afterFit:function(){t.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){return null===e||"undefined"==typeof e?NaN:"number"==typeof e&&isNaN(e)?NaN:"object"==typeof e?e instanceof Date||e.isValid?e:this.getRightValue(this.isHorizontal()?e.x:e.y):e},getLabelForIndex:t.noop,getPixelForValue:t.noop,getValueForPixel:t.noop,getPixelForTick:function(e,t){var n=this;if(n.isHorizontal()){var i=n.width-(n.paddingLeft+n.paddingRight),a=i/Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),o=a*e+n.paddingLeft;t&&(o+=a/2);var r=n.left+Math.round(o);return r+=n.isFullWidth()?n.margins.left:0}var s=n.height-(n.paddingTop+n.paddingBottom);return n.top+e*(s/(n.ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var n=t.width-(t.paddingLeft+t.paddingRight),i=n*e+t.paddingLeft,a=t.left+Math.round(i);return a+=t.isFullWidth()?t.margins.left:0}return t.top+e*t.height},getBasePixel:function(){var e=this,t=e.min,n=e.max;return e.getPixelForValue(e.beginAtZero?0:0>t&&0>n?n:t>0&&n>0?t:0)},draw:function(n){var i=this,a=i.options;if(a.display){var o,r,s=i.ctx,l=e.defaults.global,c=a.ticks,d=a.gridLines,u=a.scaleLabel,p=0!==i.labelRotation,m=c.autoSkip,f=i.isHorizontal();c.maxTicksLimit&&(r=c.maxTicksLimit);var h=t.getValueOrDefault(c.fontColor,l.defaultFontColor),g=t.getValueOrDefault(c.fontSize,l.defaultFontSize),v=t.getValueOrDefault(c.fontStyle,l.defaultFontStyle),b=t.getValueOrDefault(c.fontFamily,l.defaultFontFamily),y=t.fontString(g,v,b),w=d.tickMarkLength,x=t.getValueOrDefault(u.fontColor,l.defaultFontColor),_=t.getValueOrDefault(u.fontSize,l.defaultFontSize),$=t.getValueOrDefault(u.fontStyle,l.defaultFontStyle),k=t.getValueOrDefault(u.fontFamily,l.defaultFontFamily),S=t.fontString(_,$,k),C=t.toRadians(i.labelRotation),D=Math.cos(C),T=i.longestLabelWidth*D;s.fillStyle=h;var E=[];if(f){if(o=!1,p&&(T/=2),(T+c.autoSkipPadding)*i.ticks.length>i.width-(i.paddingLeft+i.paddingRight)&&(o=1+Math.floor((T+c.autoSkipPadding)*i.ticks.length/(i.width-(i.paddingLeft+i.paddingRight)))),r&&i.ticks.length>r)for(;!o||i.ticks.length/(o||1)>r;)o||(o=1),o+=1;m||(o=!1)}var I="right"===a.position?i.left:i.right-w,M="right"===a.position?i.left+w:i.right,A="bottom"===a.position?i.top:i.bottom-w,O="bottom"===a.position?i.top+w:i.bottom;if(t.each(i.ticks,function(e,r){if(void 0!==e&&null!==e){var s=i.ticks.length===r+1,l=o>1&&r%o>0||r%o===0&&r+o>=i.ticks.length;if((!l||s)&&void 0!==e&&null!==e){var u,m;r===("undefined"!=typeof i.zeroLineIndex?i.zeroLineIndex:0)?(u=d.zeroLineWidth,m=d.zeroLineColor):(u=t.getValueAtIndexOrDefault(d.lineWidth,r),m=t.getValueAtIndexOrDefault(d.color,r));var h,g,v,b,y,x,_,$,k,S,D,T="middle";if(f){p||(T="top"===a.position?"bottom":"top"),D=p?"right":"center";var P=i.getPixelForTick(r)+t.aliasPixel(u);k=i.getPixelForTick(r,d.offsetGridLines)+c.labelOffset,S=p?i.top+12:"top"===a.position?i.bottom-w:i.top+w,h=v=y=_=P,g=A,b=O,x=n.top,$=n.bottom}else{"left"===a.position?c.mirror?(k=i.right+c.padding,D="left"):(k=i.right-c.padding,D="right"):c.mirror?(k=i.left-c.padding,D="right"):(k=i.left+c.padding,D="left");var F=i.getPixelForTick(r);F+=t.aliasPixel(u),S=i.getPixelForTick(r,d.offsetGridLines),h=I,v=M,y=n.left,_=n.right,g=b=x=$=F}E.push({tx1:h,ty1:g,tx2:v,ty2:b,x1:y,y1:x,x2:_,y2:$,labelX:k,labelY:S,glWidth:u,glColor:m,rotation:-1*C,label:e,textBaseline:T,textAlign:D})}}}),t.each(E,function(e){if(d.display&&(s.lineWidth=e.glWidth,s.strokeStyle=e.glColor,s.beginPath(),d.drawTicks&&(s.moveTo(e.tx1,e.ty1),s.lineTo(e.tx2,e.ty2)),d.drawOnChartArea&&(s.moveTo(e.x1,e.y1),s.lineTo(e.x2,e.y2)),s.stroke()),c.display){s.save(),s.translate(e.labelX,e.labelY),s.rotate(e.rotation),s.font=y,s.textBaseline=e.textBaseline,s.textAlign=e.textAlign;var n=e.label;if(t.isArray(n))for(var i=0,a=0;i<n.length;++i)s.fillText(""+n[i],0,a),a+=1.5*g;else s.fillText(n,0,0);s.restore()}}),u.display){var P,F,N=0;if(f)P=i.left+(i.right-i.left)/2,F="bottom"===a.position?i.bottom-_/2:i.top+_/2;else{var R="left"===a.position;P=R?i.left+_/2:i.right-_/2,F=i.top+(i.bottom-i.top)/2,N=R?-.5*Math.PI:.5*Math.PI}s.save(),s.translate(P,F),s.rotate(N),s.textAlign="center",s.textBaseline="middle",s.fillStyle=x,s.font=S,s.fillText(u.labelString,0,0),s.restore()}if(d.drawBorder){s.lineWidth=t.getValueAtIndexOrDefault(d.lineWidth,0),s.strokeStyle=t.getValueAtIndexOrDefault(d.color,0);var L=i.left,B=i.right,j=i.top,z=i.bottom,U=t.aliasPixel(s.lineWidth);f?(j=z="top"===a.position?i.bottom:i.top,j+=U,z+=U):(L=B="left"===a.position?i.right:i.left,L+=U,B+=U),s.beginPath(),s.moveTo(L,j),s.lineTo(B,z),s.stroke()}}}})}},{}],32:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,n,i){this.constructors[e]=n,this.defaults[e]=t.clone(i)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?t.scaleMerge(e.defaults.scale,this.defaults[n]):{}},updateScaleDefaults:function(e,n){var i=this.defaults;i.hasOwnProperty(e)&&(i[e]=t.extend(i[e],n))},addScalesToLayout:function(n){t.each(n.scales,function(t){e.layoutService.addBox(n,t)})}}}},{}],33:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var n=t.noop;e.Title=e.Element.extend({initialize:function(n){var i=this;t.extend(i,n),i.options=t.configMerge(e.defaults.global.title,n.options),i.legendHitBoxes=[]},beforeUpdate:function(){var n=this.chart.options;n&&n.title&&(this.options=t.configMerge(e.defaults.global.title,n.title))},update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:n,afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,i=t.getValueOrDefault,a=n.options,o=e.defaults.global,r=a.display,s=i(a.fontSize,o.defaultFontSize),l=n.minSize;n.isHorizontal()?(l.width=n.maxWidth,l.height=r?s+2*a.padding:0):(l.width=r?s+2*a.padding:0,l.height=n.maxHeight),n.width=l.width,n.height=l.height},afterFit:n,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var n=this,i=n.ctx,a=t.getValueOrDefault,o=n.options,r=e.defaults.global;if(o.display){var s,l,c=a(o.fontSize,r.defaultFontSize),d=a(o.fontStyle,r.defaultFontStyle),u=a(o.fontFamily,r.defaultFontFamily),p=t.fontString(c,d,u),m=0,f=n.top,h=n.left,g=n.bottom,v=n.right;i.fillStyle=a(o.fontColor,r.defaultFontColor),i.font=p,n.isHorizontal()?(s=h+(v-h)/2,l=f+(g-f)/2):(s="left"===o.position?h+c/2:v-c/2,l=f+(g-f)/2,m=Math.PI*("left"===o.position?-.5:.5)),i.save(),i.translate(s,l),i.rotate(m),i.textAlign="center",i.textBaseline="middle",i.fillText(o.text,0,0),i.restore()}}}),e.plugins.register({beforeInit:function(t){var n=t.options,i=n.title;i&&(t.titleBlock=new e.Title({ctx:t.chart.ctx,options:i,chart:t}),e.layoutService.addBox(t,t.titleBlock))}})}},{}],34:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return t&&(a.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function n(e){if(!e.length)return!1;var t,n,i=[],a=[];for(t=0,n=e.length;n>t;++t){var o=e[t];if(o&&o.hasValue()){var r=o.tooltipPosition();i.push(r.x),a.push(r.y)}}var s=0,l=0;for(t=0;t<i.length;++t)i[t]&&(s+=i[t],l+=a[t]);return{x:Math.round(s/i.length),y:Math.round(l/i.length)}}function i(e){var t=e._xScale,n=e._yScale||e._scale,i=e._index,a=e._datasetIndex;return{xLabel:t?t.getLabelForIndex(i,a):"",yLabel:n?n.getLabelForIndex(i,a):"",index:i,datasetIndex:a}}var a=e.helpers;e.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:a.noop,title:function(e,t){var n="",i=t.labels,a=i?i.length:0;if(e.length>0){var o=e[0];o.xLabel?n=o.xLabel:a>0&&o.index<a&&(n=i[o.index])}return n},afterTitle:a.noop,beforeBody:a.noop,beforeLabel:a.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n+": "+e.yLabel},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex),i=n.data[e.index],a=i._view;return{borderColor:a.borderColor,backgroundColor:a.backgroundColor}},afterLabel:a.noop,afterBody:a.noop,beforeFooter:a.noop,footer:a.noop,afterFooter:a.noop}},e.Tooltip=e.Element.extend({initialize:function(){var t=this,n=e.defaults.global,i=t._options,o=a.getValueOrDefault;a.extend(t,{_model:{xPadding:i.xPadding,yPadding:i.yPadding,xAlign:i.xAlign,yAlign:i.yAlign,bodyFontColor:i.bodyFontColor,_bodyFontFamily:o(i.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:o(i.bodyFontStyle,n.defaultFontStyle),_bodyAlign:i.bodyAlign,bodyFontSize:o(i.bodyFontSize,n.defaultFontSize),bodySpacing:i.bodySpacing,titleFontColor:i.titleFontColor,_titleFontFamily:o(i.titleFontFamily,n.defaultFontFamily),_titleFontStyle:o(i.titleFontStyle,n.defaultFontStyle),titleFontSize:o(i.titleFontSize,n.defaultFontSize),_titleAlign:i.titleAlign,titleSpacing:i.titleSpacing,titleMarginBottom:i.titleMarginBottom,footerFontColor:i.footerFontColor,_footerFontFamily:o(i.footerFontFamily,n.defaultFontFamily),_footerFontStyle:o(i.footerFontStyle,n.defaultFontStyle),footerFontSize:o(i.footerFontSize,n.defaultFontSize),_footerAlign:i.footerAlign,footerSpacing:i.footerSpacing,footerMarginTop:i.footerMarginTop,caretSize:i.caretSize,cornerRadius:i.cornerRadius,backgroundColor:i.backgroundColor,opacity:0,legendColorBackground:i.multiKeyBackground}})},getTitle:function(){var e=this,n=e._options,i=n.callbacks,a=i.beforeTitle.apply(e,arguments),o=i.title.apply(e,arguments),r=i.afterTitle.apply(e,arguments),s=[];return s=t(s,a),s=t(s,o),s=t(s,r)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return a.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,n){var i=this,o=i._options.callbacks,r=[];return a.each(e,function(e){var a={before:[],lines:[],after:[]};t(a.before,o.beforeLabel.call(i,e,n)),t(a.lines,o.label.call(i,e,n)),t(a.after,o.afterLabel.call(i,e,n)),r.push(a)}),r},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return a.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this,n=e._options.callbacks,i=n.beforeFooter.apply(e,arguments),a=n.footer.apply(e,arguments),o=n.afterFooter.apply(e,arguments),r=[];return r=t(r,i),r=t(r,a),r=t(r,o)},update:function(e){var t,o,r=this,s=r._options,l=r._model,c=r._active,d=r._data,u=r._chartInstance;if(c.length){l.opacity=1;var p=[],m=n(c),f=[];for(t=0,o=c.length;o>t;++t)f.push(i(c[t]));s.itemSort&&(f=f.sort(s.itemSort)),c.length>1&&a.each(f,function(e){p.push(s.callbacks.labelColor.call(r,e,u))}),a.extend(l,{title:r.getTitle(f,d),beforeBody:r.getBeforeBody(f,d),body:r.getBody(f,d),afterBody:r.getAfterBody(f,d),footer:r.getFooter(f,d),x:Math.round(m.x),y:Math.round(m.y),caretPadding:a.getValueOrDefault(m.padding,2),labelColors:p});var h=r.getTooltipSize(l);r.determineAlignment(h),a.extend(l,r.getBackgroundPoint(l,h))}else r._model.opacity=0;return e&&s.custom&&s.custom.call(r,l),r},getTooltipSize:function(e){var t=this._chart.ctx,n={height:2*e.yPadding,width:0},i=e.body,o=i.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0);o+=e.beforeBody.length+e.afterBody.length;var r=e.title.length,s=e.footer.length,l=e.titleFontSize,c=e.bodyFontSize,d=e.footerFontSize;n.height+=r*l,n.height+=(r-1)*e.titleSpacing,n.height+=r?e.titleMarginBottom:0,n.height+=o*c,n.height+=o?(o-1)*e.bodySpacing:0,n.height+=s?e.footerMarginTop:0,n.height+=s*d,n.height+=s?(s-1)*e.footerSpacing:0;var u=0,p=function(e){n.width=Math.max(n.width,t.measureText(e).width+u)};return t.font=a.fontString(l,e._titleFontStyle,e._titleFontFamily),a.each(e.title,p),t.font=a.fontString(c,e._bodyFontStyle,e._bodyFontFamily),a.each(e.beforeBody.concat(e.afterBody),p),u=i.length>1?c+2:0,a.each(i,function(e){a.each(e.before,p),a.each(e.lines,p),a.each(e.after,p)}),u=0,t.font=a.fontString(d,e._footerFontStyle,e._footerFontFamily),a.each(e.footer,p),n.width+=2*e.xPadding,n},determineAlignment:function(e){var t=this,n=t._model,i=t._chart,a=t._chartInstance.chartArea;n.y<e.height?n.yAlign="top":n.y>i.height-e.height&&(n.yAlign="bottom");var o,r,s,l,c,d=(a.left+a.right)/2,u=(a.top+a.bottom)/2;"center"===n.yAlign?(o=function(e){return d>=e},r=function(e){return e>d}):(o=function(t){return t<=e.width/2},r=function(t){return t>=i.width-e.width/2}),s=function(t){return t+e.width>i.width},l=function(t){return t-e.width<0},c=function(e){return u>=e?"top":"bottom"},o(n.x)?(n.xAlign="left",s(n.x)&&(n.xAlign="center",n.yAlign=c(n.y))):r(n.x)&&(n.xAlign="right",l(n.x)&&(n.xAlign="center",n.yAlign=c(n.y)))},getBackgroundPoint:function(e,t){var n={x:e.x,y:e.y},i=e.caretSize,a=e.caretPadding,o=e.cornerRadius,r=e.xAlign,s=e.yAlign,l=i+a,c=o+a;return"right"===r?n.x-=t.width:"center"===r&&(n.x-=t.width/2),"top"===s?n.y+=l:"bottom"===s?n.y-=t.height+l:n.y-=t.height/2,"center"===s?"left"===r?n.x+=l:"right"===r&&(n.x-=l):"left"===r?n.x-=c:"right"===r&&(n.x+=c),n},drawCaret:function(e,t,n){var i,o,r,s,l,c,d=this._view,u=this._chart.ctx,p=d.caretSize,m=d.cornerRadius,f=d.xAlign,h=d.yAlign,g=e.x,v=e.y,b=t.width,y=t.height;"center"===h?("left"===f?(i=g,o=i-p,r=i):(i=g+b,o=i+p,r=i),l=v+y/2,s=l-p,c=l+p):("left"===f?(i=g+m,o=i+p,r=o+p):"right"===f?(i=g+b-m,o=i-p,r=o-p):(o=g+b/2,i=o-p,r=o+p),"top"===h?(s=v,l=s-p,c=s):(s=v+y,l=s+p,c=s));var w=a.color(d.backgroundColor);u.fillStyle=w.alpha(n*w.alpha()).rgbString(),u.beginPath(),u.moveTo(i,s),u.lineTo(o,l),u.lineTo(r,c),u.closePath(),u.fill()},drawTitle:function(e,t,n,i){var o=t.title;if(o.length){n.textAlign=t._titleAlign,n.textBaseline="top";var r=t.titleFontSize,s=t.titleSpacing,l=a.color(t.titleFontColor);n.fillStyle=l.alpha(i*l.alpha()).rgbString(),n.font=a.fontString(r,t._titleFontStyle,t._titleFontFamily);var c,d;for(c=0,d=o.length;d>c;++c)n.fillText(o[c],e.x,e.y),e.y+=r+s,c+1===o.length&&(e.y+=t.titleMarginBottom-s)}},drawBody:function(e,t,n,i){var o=t.bodyFontSize,r=t.bodySpacing,s=t.body;n.textAlign=t._bodyAlign,n.textBaseline="top";var l=a.color(t.bodyFontColor),c=l.alpha(i*l.alpha()).rgbString();n.fillStyle=c,n.font=a.fontString(o,t._bodyFontStyle,t._bodyFontFamily);var d=0,u=function(t){n.fillText(t,e.x+d,e.y),e.y+=o+r};a.each(t.beforeBody,u);var p=s.length>1;d=p?o+2:0,a.each(s,function(r,s){a.each(r.before,u),a.each(r.lines,function(r){p&&(n.fillStyle=a.color(t.legendColorBackground).alpha(i).rgbaString(),n.fillRect(e.x,e.y,o,o),n.strokeStyle=a.color(t.labelColors[s].borderColor).alpha(i).rgbaString(),n.strokeRect(e.x,e.y,o,o),n.fillStyle=a.color(t.labelColors[s].backgroundColor).alpha(i).rgbaString(),n.fillRect(e.x+1,e.y+1,o-2,o-2),
n.fillStyle=c),u(r)}),a.each(r.after,u)}),d=0,a.each(t.afterBody,u),e.y-=r},drawFooter:function(e,t,n,i){var o=t.footer;if(o.length){e.y+=t.footerMarginTop,n.textAlign=t._footerAlign,n.textBaseline="top";var r=a.color(t.footerFontColor);n.fillStyle=r.alpha(i*r.alpha()).rgbString(),n.font=a.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),a.each(o,function(i){n.fillText(i,e.x,e.y),e.y+=t.footerFontSize+t.footerSpacing})}},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n=this.getTooltipSize(t),i={x:t.x,y:t.y},o=Math.abs(t.opacity<.001)?0:t.opacity;if(this._options.enabled){var r=a.color(t.backgroundColor);e.fillStyle=r.alpha(o*r.alpha()).rgbString(),a.drawRoundedRectangle(e,i.x,i.y,n.width,n.height,t.cornerRadius),e.fill(),this.drawCaret(i,n,o),i.x+=t.xPadding,i.y+=t.yPadding,this.drawTitle(i,t,e,o),this.drawBody(i,t,e,o),this.drawFooter(i,t,e,o)}}}})}},{}],35:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global;n.elements.arc={backgroundColor:n.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,n){var i=this._view;if(i){for(var a=t.getAngleFromPoint(i,{x:e,y:n}),o=a.angle,r=a.distance,s=i.startAngle,l=i.endAngle;s>l;)l+=2*Math.PI;for(;o>l;)o-=2*Math.PI;for(;s>o;)o+=2*Math.PI;var c=o>=s&&l>=o,d=r>=i.innerRadius&&r<=i.outerRadius;return c&&d}return!1},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,i=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,i),e.arc(t.x,t.y,t.innerRadius,i,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})}},{}],36:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global;e.defaults.global.elements.line={tension:.4,backgroundColor:n.defaultColor,borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},e.elements.Line=e.Element.extend({draw:function(){function e(e,t){var n=t._view;t._view.steppedLine===!0?(l.lineTo(t._view.x,e._view.y),l.lineTo(t._view.x,t._view.y)):0===t._view.tension?l.lineTo(n.x,n.y):l.bezierCurveTo(e._view.controlPointNextX,e._view.controlPointNextY,n.controlPointPreviousX,n.controlPointPreviousY,n.x,n.y)}var i=this,a=i._view,o=a.spanGaps,r=a.scaleZero,s=i._loop,l=i._chart.ctx;l.save();var c=i._children.slice(),d=-1;s&&c.length&&c.push(c[0]);var u,p,m,f;if(c.length&&a.fill){for(l.beginPath(),u=0;u<c.length;++u)p=c[u],m=t.previousItem(c,u),f=p._view,0===u?(s?l.moveTo(r.x,r.y):l.moveTo(f.x,r),f.skip||(d=u,l.lineTo(f.x,f.y))):(m=-1===d?m:c[d],f.skip?o||d!==u-1||(s?l.lineTo(r.x,r.y):l.lineTo(m._view.x,r)):(d!==u-1?o&&-1!==d?e(m,p):s?l.lineTo(f.x,f.y):(l.lineTo(f.x,r),l.lineTo(f.x,f.y)):e(m,p),d=u));s||l.lineTo(c[d]._view.x,r),l.fillStyle=a.backgroundColor||n.defaultColor,l.closePath(),l.fill()}var h=n.elements.line;for(l.lineCap=a.borderCapStyle||h.borderCapStyle,l.setLineDash&&l.setLineDash(a.borderDash||h.borderDash),l.lineDashOffset=a.borderDashOffset||h.borderDashOffset,l.lineJoin=a.borderJoinStyle||h.borderJoinStyle,l.lineWidth=a.borderWidth||h.borderWidth,l.strokeStyle=a.borderColor||n.defaultColor,l.beginPath(),d=-1,u=0;u<c.length;++u)p=c[u],m=t.previousItem(c,u),f=p._view,0===u?f.skip||(l.moveTo(f.x,f.y),d=u):(m=-1===d?m:c[d],f.skip||(d!==u-1&&!o||-1===d?l.moveTo(f.x,f.y):e(m,p),d=u));l.stroke(),l.restore()}})}},{}],37:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global,i=n.defaultColor;n.elements.point={radius:3,pointStyle:"circle",backgroundColor:i,borderWidth:1,borderColor:i,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},e.elements.Point=e.Element.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(){var a=this._view,o=this._chart.ctx,r=a.pointStyle,s=a.radius,l=a.x,c=a.y;a.skip||(o.strokeStyle=a.borderColor||i,o.lineWidth=t.getValueOrDefault(a.borderWidth,n.elements.point.borderWidth),o.fillStyle=a.backgroundColor||i,e.canvasHelpers.drawPoint(o,r,s,l,c))}})}},{}],38:[function(e,t,n){"use strict";t.exports=function(e){var t=e.defaults.global;t.elements.rectangle={backgroundColor:t.defaultColor,borderWidth:0,borderColor:t.defaultColor,borderSkipped:"bottom"},e.elements.Rectangle=e.Element.extend({draw:function(){function e(e){return l[(d+e)%4]}var t=this._chart.ctx,n=this._view,i=n.width/2,a=n.x-i,o=n.x+i,r=n.base-(n.base-n.y),s=n.borderWidth/2;n.borderWidth&&(a+=s,o-=s,r+=s),t.beginPath(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth;var l=[[a,n.base],[a,r],[o,r],[o,n.base]],c=["bottom","left","top","right"],d=c.indexOf(n.borderSkipped,0);-1===d&&(d=0),t.moveTo.apply(t,e(0));for(var u=1;4>u;u++)t.lineTo.apply(t,e(u));t.fill(),n.borderWidth&&t.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=this._view;return!!n&&(n.y<n.base?e>=n.x-n.width/2&&e<=n.x+n.width/2&&t>=n.y&&t<=n.base:e>=n.x-n.width/2&&e<=n.x+n.width/2&&t>=n.base&&t<=n.y)},inLabelRange:function(e){var t=this._view;return!!t&&(e>=t.x-t.width/2&&e<=t.x+t.width/2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})}},{}],39:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"bottom"},i=e.Scale.extend({getLabels:function(){var e=this.chart.data;return(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e=this,n=e.getLabels();e.minIndex=0,e.maxIndex=n.length-1;var i;void 0!==e.options.ticks.min&&(i=t.indexOf(n,e.options.ticks.min),e.minIndex=-1!==i?i:e.minIndex),void 0!==e.options.ticks.max&&(i=t.indexOf(n,e.options.ticks.max),e.maxIndex=-1!==i?i:e.maxIndex),e.min=n[e.minIndex],e.max=n[e.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e){return this.ticks[e]},getPixelForValue:function(e,t,n,i){var a=this,o=Math.max(a.maxIndex+1-a.minIndex-(a.options.gridLines.offsetGridLines?0:1),1);if(void 0!==e){var r=a.getLabels(),s=r.indexOf(e);t=-1!==s?s:t}if(a.isHorizontal()){var l=a.width-(a.paddingLeft+a.paddingRight),c=l/o,d=c*(t-a.minIndex)+a.paddingLeft;return a.options.gridLines.offsetGridLines&&i&&(d+=c/2),a.left+Math.round(d)}var u=a.height-(a.paddingTop+a.paddingBottom),p=u/o,m=p*(t-a.minIndex)+a.paddingTop;return a.options.gridLines.offsetGridLines&&i&&(m+=p/2),a.top+Math.round(m)},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null,t)},getValueForPixel:function(e){var t,n=this,i=Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),a=n.isHorizontal(),o=a?n.width-(n.paddingLeft+n.paddingRight):n.height-(n.paddingTop+n.paddingBottom),r=o/i;return e-=a?n.left:n.top,n.options.gridLines.offsetGridLines&&(e-=r/2),e-=a?n.paddingLeft:n.paddingTop,t=0>=e?0:Math.round(e/r)},getBasePixel:function(){return this.bottom}});e.scaleService.registerScaleType("category",i,n)}},{}],40:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:function(e,n,i){var a=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(a)>1&&e!==Math.floor(e)&&(a=e-Math.floor(e));var o=t.log10(Math.abs(a)),r="";if(0!==e){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),r=e.toFixed(s)}else r="0";return r}}},i=e.LinearScaleBase.extend({determineDataLimits:function(){function e(e){return s?e.xAxisID===n.id:e.yAxisID===n.id}var n=this,i=n.options,a=n.chart,o=a.data,r=o.datasets,s=n.isHorizontal();if(n.min=null,n.max=null,i.stacked){var l={},c=!1,d=!1;t.each(r,function(o,r){var s=a.getDatasetMeta(r);void 0===l[s.type]&&(l[s.type]={positiveValues:[],negativeValues:[]});var u=l[s.type].positiveValues,p=l[s.type].negativeValues;a.isDatasetVisible(r)&&e(s)&&t.each(o.data,function(e,t){var a=+n.getRightValue(e);isNaN(a)||s.data[t].hidden||(u[t]=u[t]||0,p[t]=p[t]||0,i.relativePoints?u[t]=100:0>a?(d=!0,p[t]+=a):(c=!0,u[t]+=a))})}),t.each(l,function(e){var i=e.positiveValues.concat(e.negativeValues),a=t.min(i),o=t.max(i);n.min=null===n.min?a:Math.min(n.min,a),n.max=null===n.max?o:Math.max(n.max,o)})}else t.each(r,function(i,o){var r=a.getDatasetMeta(o);a.isDatasetVisible(o)&&e(r)&&t.each(i.data,function(e,t){var i=+n.getRightValue(e);isNaN(i)||r.data[t].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i))})});this.handleTickRangeOptions()},getTickLimit:function(){var n,i=this,a=i.options.ticks;if(i.isHorizontal())n=Math.min(a.maxTicksLimit?a.maxTicksLimit:11,Math.ceil(i.width/50));else{var o=t.getValueOrDefault(a.fontSize,e.defaults.global.defaultFontSize);n=Math.min(a.maxTicksLimit?a.maxTicksLimit:11,Math.ceil(i.height/(2*o)))}return n},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t,n,i=this,a=i.paddingLeft,o=i.paddingBottom,r=i.start,s=+i.getRightValue(e),l=i.end-r;return i.isHorizontal()?(n=i.width-(a+i.paddingRight),t=i.left+n/l*(s-r),Math.round(t+a)):(n=i.height-(i.paddingTop+o),t=i.bottom-o-n/l*(s-r),Math.round(t))},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),i=t.paddingLeft,a=t.paddingBottom,o=n?t.width-(i+t.paddingRight):t.height-(t.paddingTop+a),r=(n?e-t.left-i:t.bottom-a-e)/o;return t.start+(t.end-t.start)*r},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});e.scaleService.registerScaleType("linear",i,n)}},{}],41:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=t.noop;e.LinearScaleBase=e.Scale.extend({handleTickRangeOptions:function(){var e=this,n=e.options,i=n.ticks;if(i.beginAtZero){var a=t.sign(e.min),o=t.sign(e.max);0>a&&0>o?e.max=0:a>0&&o>0&&(e.min=0)}void 0!==i.min?e.min=i.min:void 0!==i.suggestedMin&&(e.min=Math.min(e.min,i.suggestedMin)),void 0!==i.max?e.max=i.max:void 0!==i.suggestedMax&&(e.max=Math.max(e.max,i.suggestedMax)),e.min===e.max&&(e.max++,i.beginAtZero||e.min--)},getTickLimit:n,handleDirectionalChanges:n,buildTicks:function(){var e=this,n=e.options,i=e.ticks=[],a=n.ticks,o=t.getValueOrDefault,r=e.getTickLimit();r=Math.max(2,r);var s,l=a.fixedStepSize&&a.fixedStepSize>0||a.stepSize&&a.stepSize>0;if(l)s=o(a.fixedStepSize,a.stepSize);else{var c=t.niceNum(e.max-e.min,!1);s=t.niceNum(c/(r-1),!0)}var d=Math.floor(e.min/s)*s,u=Math.ceil(e.max/s)*s,p=(u-d)/s;p=t.almostEquals(p,Math.round(p),s/1e3)?Math.round(p):Math.ceil(p),i.push(void 0!==a.min?a.min:d);for(var m=1;p>m;++m)i.push(d+m*s);i.push(void 0!==a.max?a.max:u),e.handleDirectionalChanges(),e.max=t.max(i),e.min=t.min(i),a.reverse?(i.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},{}],42:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:function(e,n,i){var a=e/Math.pow(10,Math.floor(t.log10(e)));return 1===a||2===a||5===a||0===n||n===i.length-1?e.toExponential():""}}},i=e.Scale.extend({determineDataLimits:function(){function e(e){return c?e.xAxisID===n.id:e.yAxisID===n.id}var n=this,i=n.options,a=i.ticks,o=n.chart,r=o.data,s=r.datasets,l=t.getValueOrDefault,c=n.isHorizontal();if(n.min=null,n.max=null,i.stacked){var d={};t.each(s,function(a,r){var s=o.getDatasetMeta(r);o.isDatasetVisible(r)&&e(s)&&(void 0===d[s.type]&&(d[s.type]=[]),t.each(a.data,function(e,t){var a=d[s.type],o=+n.getRightValue(e);isNaN(o)||s.data[t].hidden||(a[t]=a[t]||0,i.relativePoints?a[t]=100:a[t]+=o)}))}),t.each(d,function(e){var i=t.min(e),a=t.max(e);n.min=null===n.min?i:Math.min(n.min,i),n.max=null===n.max?a:Math.max(n.max,a)})}else t.each(s,function(i,a){var r=o.getDatasetMeta(a);o.isDatasetVisible(a)&&e(r)&&t.each(i.data,function(e,t){var i=+n.getRightValue(e);isNaN(i)||r.data[t].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i))})});n.min=l(a.min,n.min),n.max=l(a.max,n.max),n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(t.log10(n.min))-1),n.max=Math.pow(10,Math.floor(t.log10(n.max))+1)):(n.min=1,n.max=10))},buildTicks:function(){for(var e=this,n=e.options,i=n.ticks,a=t.getValueOrDefault,o=e.ticks=[],r=a(i.min,Math.pow(10,Math.floor(t.log10(e.min))));r<e.max;){o.push(r);var s=Math.floor(t.log10(r)),l=Math.floor(r/Math.pow(10,s))+1;10===l&&(l=1,++s),r=l*Math.pow(10,s)}var c=a(i.max,r);o.push(c),e.isHorizontal()||o.reverse(),e.max=t.max(o),e.min=t.min(o),i.reverse?(o.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var n,i,a=this,o=a.start,r=+a.getRightValue(e),s=t.log10(a.end)-t.log10(o),l=a.paddingTop,c=a.paddingBottom,d=a.paddingLeft;return a.isHorizontal()?0===r?i=a.left+d:(n=a.width-(d+a.paddingRight),i=a.left+n/s*(t.log10(r)-t.log10(o)),i+=d):0===r?i=a.top+l:(n=a.height-(l+c),i=a.bottom-c-n/s*(t.log10(r)-t.log10(o))),i},getValueForPixel:function(e){var n,i,a=this,o=t.log10(a.end)-t.log10(a.start);return a.isHorizontal()?(i=a.width-(a.paddingLeft+a.paddingRight),n=a.start*Math.pow(10,(e-a.left-a.paddingLeft)*o/i)):(i=a.height-(a.paddingTop+a.paddingBottom),n=Math.pow(10,(a.bottom-a.paddingBottom-e)*o/i)/a.start),n}});e.scaleService.registerScaleType("logarithmic",i,n)}},{}],43:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(e){return e}}},a=e.LinearScaleBase.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var e=this,i=e.options,a=i.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var o=t.min([e.height,e.width]),r=t.getValueOrDefault(a.fontSize,n.defaultFontSize);e.drawingArea=i.display?o/2-(r/2+a.backdropPaddingY):o/2},determineDataLimits:function(){var e=this,n=e.chart;e.min=null,e.max=null,t.each(n.data.datasets,function(i,a){if(n.isDatasetVisible(a)){var o=n.getDatasetMeta(a);t.each(i.data,function(t,n){var i=+e.getRightValue(t);isNaN(i)||o.data[n].hidden||(null===e.min?e.min=i:i<e.min&&(e.min=i),null===e.max?e.max=i:i>e.max&&(e.max=i))})}}),e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,i=t.getValueOrDefault(e.fontSize,n.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*i)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e,i,a,o,r,s,l,c,d,u,p,m,f=this.options.pointLabels,h=t.getValueOrDefault(f.fontSize,n.defaultFontSize),g=t.getValueOrDefault(f.fontStyle,n.defaultFontStyle),v=t.getValueOrDefault(f.fontFamily,n.defaultFontFamily),b=t.fontString(h,g,v),y=t.min([this.height/2-h-5,this.width/2]),w=this.width,x=0;for(this.ctx.font=b,i=0;i<this.getValueCount();i++){e=this.getPointPosition(i,y),a=this.ctx.measureText(this.pointLabels[i]?this.pointLabels[i]:"").width+5;var _=this.getIndexAngle(i)+Math.PI/2,$=360*_/(2*Math.PI)%360;0===$||180===$?(o=a/2,e.x+o>w&&(w=e.x+o,r=i),e.x-o<x&&(x=e.x-o,l=i)):180>$?e.x+a>w&&(w=e.x+a,r=i):e.x-a<x&&(x=e.x-a,l=i)}d=x,u=Math.ceil(w-this.width),s=this.getIndexAngle(r),c=this.getIndexAngle(l),p=u/Math.sin(s+Math.PI/2),m=d/Math.sin(c+Math.PI/2),p=t.isNumber(p)?p:0,m=t.isNumber(m)?m:0,this.drawingArea=Math.round(y-(m+p)/2),this.setCenterPoint(m,p)},setCenterPoint:function(e,t){var n=this,i=n.width-t-n.drawingArea,a=e+n.drawingArea;n.xCenter=Math.round((a+i)/2+n.left),n.yCenter=Math.round(n.height/2+n.top)},getIndexAngle:function(e){var t=2*Math.PI/this.getValueCount(),n=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0,i=n*Math.PI*2/360;return e*t-Math.PI/2+i},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,i=n.getIndexAngle(e);return{x:Math.round(Math.cos(i)*t)+n.xCenter,y:Math.round(Math.sin(i)*t)+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,n=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:0>t&&0>n?n:t>0&&n>0?t:0)},draw:function(){var e=this,i=e.options,a=i.gridLines,o=i.ticks,r=i.angleLines,s=i.pointLabels,l=t.getValueOrDefault;if(i.display){var c=e.ctx,d=l(o.fontSize,n.defaultFontSize),u=l(o.fontStyle,n.defaultFontStyle),p=l(o.fontFamily,n.defaultFontFamily),m=t.fontString(d,u,p);if(t.each(e.ticks,function(r,s){if(s>0||i.reverse){var u=e.getDistanceFromCenterForValue(e.ticksAsNumbers[s]),p=e.yCenter-u;if(a.display&&0!==s)if(c.strokeStyle=t.getValueAtIndexOrDefault(a.color,s-1),c.lineWidth=t.getValueAtIndexOrDefault(a.lineWidth,s-1),i.lineArc)c.beginPath(),c.arc(e.xCenter,e.yCenter,u,0,2*Math.PI),c.closePath(),c.stroke();else{c.beginPath();for(var f=0;f<e.getValueCount();f++){var h=e.getPointPosition(f,u);0===f?c.moveTo(h.x,h.y):c.lineTo(h.x,h.y)}c.closePath(),c.stroke()}if(o.display){var g=l(o.fontColor,n.defaultFontColor);if(c.font=m,o.showLabelBackdrop){var v=c.measureText(r).width;c.fillStyle=o.backdropColor,c.fillRect(e.xCenter-v/2-o.backdropPaddingX,p-d/2-o.backdropPaddingY,v+2*o.backdropPaddingX,d+2*o.backdropPaddingY)}c.textAlign="center",c.textBaseline="middle",c.fillStyle=g,c.fillText(r,e.xCenter,p)}}}),!i.lineArc){c.lineWidth=r.lineWidth,c.strokeStyle=r.color;for(var f=e.getDistanceFromCenterForValue(i.reverse?e.min:e.max),h=l(s.fontSize,n.defaultFontSize),g=l(s.fontStyle,n.defaultFontStyle),v=l(s.fontFamily,n.defaultFontFamily),b=t.fontString(h,g,v),y=e.getValueCount()-1;y>=0;y--){if(r.display){var w=e.getPointPosition(y,f);c.beginPath(),c.moveTo(e.xCenter,e.yCenter),c.lineTo(w.x,w.y),c.stroke(),c.closePath()}var x=e.getPointPosition(y,f+5),_=l(s.fontColor,n.defaultFontColor);c.font=b,c.fillStyle=_;var $=e.pointLabels,k=this.getIndexAngle(y)+Math.PI/2,S=360*k/(2*Math.PI)%360;0===S||180===S?c.textAlign="center":180>S?c.textAlign="left":c.textAlign="right",90===S||270===S?c.textBaseline="middle":S>270||90>S?c.textBaseline="bottom":c.textBaseline="top",c.fillText($[y]?$[y]:"",x.x,x.y)}}}}});e.scaleService.registerScaleType("radialLinear",a,i)}},{}],44:[function(e,t,n){"use strict";var i=e(6);i="function"==typeof i?i:window.moment,t.exports=function(e){var t=e.helpers,n={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},a={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},o=e.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");e.Scale.prototype.initialize.call(this)},getLabelMoment:function(e,t){return"undefined"!=typeof this.labelMoments[e]?this.labelMoments[e][t]:null},getMomentStartOf:function(e){var t=this;return"week"===t.options.time.unit&&t.options.time.isoWeekday!==!1?e.clone().startOf("isoWeek").isoWeekday(t.options.time.isoWeekday):e.clone().startOf(t.tickUnit)},determineDataLimits:function(){var e=this;e.labelMoments=[];var n=[];e.chart.data.labels&&e.chart.data.labels.length>0?(t.each(e.chart.data.labels,function(t){var i=e.parseTime(t);i.isValid()&&(e.options.time.round&&i.startOf(e.options.time.round),n.push(i))},e),e.firstTick=i.min.call(e,n),e.lastTick=i.max.call(e,n)):(e.firstTick=null,e.lastTick=null),t.each(e.chart.data.datasets,function(a,o){var r=[],s=e.chart.isDatasetVisible(o);"object"==typeof a.data[0]&&null!==a.data[0]?t.each(a.data,function(t){var n=e.parseTime(e.getRightValue(t));n.isValid()&&(e.options.time.round&&n.startOf(e.options.time.round),r.push(n),s&&(e.firstTick=null!==e.firstTick?i.min(e.firstTick,n):n,e.lastTick=null!==e.lastTick?i.max(e.lastTick,n):n))},e):r=n,e.labelMoments.push(r)},e),e.options.time.min&&(e.firstTick=e.parseTime(e.options.time.min)),e.options.time.max&&(e.lastTick=e.parseTime(e.options.time.max)),e.firstTick=(e.firstTick||i()).clone(),e.lastTick=(e.lastTick||i()).clone()},buildTicks:function(){var i=this;i.ctx.save();var a=t.getValueOrDefault(i.options.ticks.fontSize,e.defaults.global.defaultFontSize),o=t.getValueOrDefault(i.options.ticks.fontStyle,e.defaults.global.defaultFontStyle),r=t.getValueOrDefault(i.options.ticks.fontFamily,e.defaults.global.defaultFontFamily),s=t.fontString(a,o,r);if(i.ctx.font=s,i.ticks=[],i.unitScale=1,i.scaleSizeInUnits=0,i.options.time.unit)i.tickUnit=i.options.time.unit||"day",i.displayFormat=i.options.time.displayFormats[i.tickUnit],i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0),i.unitScale=t.getValueOrDefault(i.options.time.unitStepSize,1);else{var l=i.isHorizontal()?i.width-(i.paddingLeft+i.paddingRight):i.height-(i.paddingTop+i.paddingBottom),c=i.tickFormatFunction(i.firstTick,0,[]),d=i.ctx.measureText(c).width,u=Math.cos(t.toRadians(i.options.ticks.maxRotation)),p=Math.sin(t.toRadians(i.options.ticks.maxRotation));d=d*u+a*p;var m=l/d;i.tickUnit="millisecond",i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0),i.displayFormat=i.options.time.displayFormats[i.tickUnit];for(var f=0,h=n.units[f];f<n.units.length;){if(i.unitScale=1,t.isArray(h.steps)&&Math.ceil(i.scaleSizeInUnits/m)<t.max(h.steps)){for(var g=0;g<h.steps.length;++g)if(h.steps[g]>=Math.ceil(i.scaleSizeInUnits/m)){i.unitScale=t.getValueOrDefault(i.options.time.unitStepSize,h.steps[g]);break}break}if(h.maxStep===!1||Math.ceil(i.scaleSizeInUnits/m)<h.maxStep){i.unitScale=t.getValueOrDefault(i.options.time.unitStepSize,Math.ceil(i.scaleSizeInUnits/m));break}++f,h=n.units[f],i.tickUnit=h.name;var v=i.firstTick.diff(i.getMomentStartOf(i.firstTick),i.tickUnit,!0),b=i.getMomentStartOf(i.lastTick.clone().add(1,i.tickUnit)).diff(i.lastTick,i.tickUnit,!0);i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0)+v+b,i.displayFormat=i.options.time.displayFormats[h.name]}}var y;if(i.options.time.min?y=i.getMomentStartOf(i.firstTick):(i.firstTick=i.getMomentStartOf(i.firstTick),y=i.firstTick),!i.options.time.max){var w=i.getMomentStartOf(i.lastTick),x=w.diff(i.lastTick,i.tickUnit,!0);0>x?i.lastTick=i.getMomentStartOf(i.lastTick.add(1,i.tickUnit)):x>=0&&(i.lastTick=w),i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0)}i.smallestLabelSeparation=i.width,t.each(i.chart.data.datasets,function(e,t){for(var n=1;n<i.labelMoments[t].length;n++)i.smallestLabelSeparation=Math.min(i.smallestLabelSeparation,i.labelMoments[t][n].diff(i.labelMoments[t][n-1],i.tickUnit,!0))},i),i.options.time.displayFormat&&(i.displayFormat=i.options.time.displayFormat),i.ticks.push(i.firstTick.clone());for(var _=1;_<=i.scaleSizeInUnits;++_){var $=y.clone().add(_,i.tickUnit);if(i.options.time.max&&$.diff(i.lastTick,i.tickUnit,!0)>=0)break;_%i.unitScale===0&&i.ticks.push($)}var k=i.ticks[i.ticks.length-1].diff(i.lastTick,i.tickUnit);(0!==k||0===i.scaleSizeInUnits)&&(i.options.time.max?(i.ticks.push(i.lastTick.clone()),i.scaleSizeInUnits=i.lastTick.diff(i.ticks[0],i.tickUnit,!0)):(i.ticks.push(i.lastTick.clone()),i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0))),i.ctx.restore()},getLabelForIndex:function(e,t){var n=this,i=n.chart.data.labels&&e<n.chart.data.labels.length?n.chart.data.labels[e]:"";return"object"==typeof n.chart.data.datasets[t].data[0]&&(i=n.getRightValue(n.chart.data.datasets[t].data[e])),n.options.time.tooltipFormat&&(i=n.parseTime(i).format(n.options.time.tooltipFormat)),i},tickFormatFunction:function(e,n,i){var a=e.format(this.displayFormat),o=this.options.ticks,r=t.getValueOrDefault(o.callback,o.userCallback);return r?r(a,n,i):a},convertTicksToLabels:function(){var e=this;e.tickMoments=e.ticks,e.ticks=e.ticks.map(e.tickFormatFunction,e)},getPixelForValue:function(e,t,n){var a=this;e&&e.isValid||(e=i(a.getRightValue(e)));var o=e&&e.isValid&&e.isValid()?e:a.getLabelMoment(n,t);if(o){var r=o.diff(a.firstTick,a.tickUnit,!0),s=0!==r?r/a.scaleSizeInUnits:r;if(a.isHorizontal()){var l=a.width-(a.paddingLeft+a.paddingRight),c=l*s+a.paddingLeft;return a.left+Math.round(c)}var d=a.height-(a.paddingTop+a.paddingBottom),u=d*s+a.paddingTop;return a.top+Math.round(u)}},getPixelForTick:function(e){return this.getPixelForValue(this.tickMoments[e],null,null)},getValueForPixel:function(e){var t=this,n=t.isHorizontal()?t.width-(t.paddingLeft+t.paddingRight):t.height-(t.paddingTop+t.paddingBottom),a=(e-(t.isHorizontal()?t.left+t.paddingLeft:t.top+t.paddingTop))/n;return a*=t.scaleSizeInUnits,t.firstTick.clone().add(i.duration(a,t.tickUnit).asSeconds(),"seconds")},parseTime:function(e){var t=this;return"string"==typeof t.options.time.parser?i(e,t.options.time.parser):"function"==typeof t.options.time.parser?t.options.time.parser(e):"function"==typeof e.getMonth||"number"==typeof e?i(e):e.isValid&&e.isValid()?e:"string"!=typeof t.options.time.format&&t.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),t.options.time.format(e)):i(e,t.options.time.format)}});e.scaleService.registerScaleType("time",o,a)}},{6:6}]},{},[7])(7)}),function(e){"use strict";if("object"==typeof exports)module.exports=e("undefined"!=typeof angular?angular:require("angular"),"undefined"!=typeof Chart?Chart:require("chart.js"));else if("function"==typeof define&&define.amd)define(["angular","chart"],e);else{if("undefined"==typeof angular)throw new Error("AngularJS framework needs to be included, see https://angularjs.org/");if("undefined"==typeof Chart)throw new Error("Chart.js library needs to be included, see http://jtblin.github.io/angular-chart.js/");e(angular,Chart)}}(function(e,t){"use strict";function n(){var n={responsive:!0},i={Chart:t,getOptions:function(t){var i=t&&n[t]||{};return e.extend({},n,i)}};this.setOptions=function(t,a){a?n[t]=e.merge(n[t]||{},a):(a=t,n=e.merge(n,a)),e.merge(i.Chart.defaults,n)},this.$get=function(){return i}}function i(n,i){function o(e,t,i){var a=_(e,t);if(v(t)&&C(e,t,i,a)){var o=i[0],r=o.getContext("2d");t.chartGetColor=b(t);var s=y(e,t);D(t),t.chart=new n.Chart(r,{type:e,data:s,options:a}),t.$emit("chart-create",t.chart),$(o,t)}}function r(e,t){return!!(e&&t&&e.length&&t.length)&&(Array.isArray(e[0])?e.length===t.length&&e.every(function(e,n){return e.length===t[n].length}):t.reduce(s,0)>0&&e.length===t.length)}function s(e,t){return e+t}function l(t,n,i){var a={point:void 0,points:void 0};return function(o){var r=t.chart.getElementAtEvent||t.chart.getPointAtEvent,s=t.chart.getElementsAtEvent||t.chart.getPointsAtEvent;if(s){var l=s.call(t.chart,o),c=r?r.call(t.chart,o)[0]:void 0;i!==!1&&(e.equals(a.points,l)||e.equals(a.point,c))||(a.point=c,a.points=l,t[n](l,o,c))}}}function c(i,a){for(var o=e.copy(a.chartColors||n.getOptions(i).chartColors||t.defaults.global.colors),r=o.length<a.chartData.length;o.length<a.chartData.length;)o.push(a.chartGetColor());return r&&(a.chartColors=o),o.map(d)}function d(e){return"string"==typeof e&&"r"===e[0]?p(g(e)):"string"==typeof e&&"#"===e[0]?p(h(e.substr(1))):"object"==typeof e&&null!==e?e:u()}function u(){var e=[m(0,255),m(0,255),m(0,255)];return p(e)}function p(e){var t=e[3]||1;return e=e.slice(0,3),{backgroundColor:f(e,.2),pointBackgroundColor:f(e,t),pointHoverBackgroundColor:f(e,.8),borderColor:f(e,t),pointBorderColor:"#fff",pointHoverBorderColor:f(e,t)}}function m(e,t){return Math.floor(Math.random()*(t-e+1))+e}function f(e,t){return a?"rgb("+e.join(",")+")":"rgba("+e.concat(t).join(",")+")"}function h(e){var t=parseInt(e,16),n=t>>16&255,i=t>>8&255,a=255&t;return[n,i,a]}function g(e){var t=e.match(/^rgba?\(([\d,.]+)\)$/);if(!t)throw new Error("Cannot parse rgb value");return e=t[1].split(","),e.map(Number)}function v(e){return e.chartData&&e.chartData.length}function b(e){return"function"==typeof e.chartGetColor?e.chartGetColor:u}function y(e,t){var n=c(e,t);return Array.isArray(t.chartData[0])?w(t.chartLabels,t.chartData,t.chartSeries||[],n,t.chartDatasetOverride):x(t.chartLabels,t.chartData,n,t.chartDatasetOverride)}function w(t,n,i,a,o){return{labels:t,datasets:n.map(function(t,n){var r=e.extend({},a[n],{label:i[n],data:t});return o&&o.length>=n&&e.merge(r,o[n]),r})}}function x(t,n,i,a){var o={labels:t,datasets:[{data:n,backgroundColor:i.map(function(e){return e.pointBackgroundColor}),hoverBackgroundColor:i.map(function(e){return e.backgroundColor})}]};return a&&e.merge(o.datasets[0],a),o}function _(t,i){return e.extend({},n.getOptions(t),i.chartOptions)}function $(t,n){t.onclick=n.chartClick?l(n,"chartClick",!1):e.noop,t.onmousemove=n.chartHover?l(n,"chartHover",!0):e.noop}function k(e,t){Array.isArray(t.chartData[0])?t.chart.data.datasets.forEach(function(t,n){t.data=e[n]}):t.chart.data.datasets[0].data=e,t.chart.update(),t.$emit("chart-update",t.chart)}function S(e){return!e||Array.isArray(e)&&!e.length||"object"==typeof e&&!Object.keys(e).length}function C(e,t,n,a){return!a.responsive||0!==n[0].clientHeight||(i(function(){o(e,t,n)},50,!1),!1)}function D(e){e.chart&&(e.chart.destroy(),e.$emit("chart-destroy",e.chart))}return function(t){return{restrict:"CA",scope:{chartGetColor:"=?",chartType:"=",chartData:"=?",chartLabels:"=?",chartOptions:"=?",chartSeries:"=?",chartColors:"=?",chartClick:"=?",chartHover:"=?",chartDatasetOverride:"=?"},link:function(n,i){function s(e,a){if(!e||!e.length||Array.isArray(e[0])&&!e[0].length)return void D(n);var s=t||n.chartType;if(s)return n.chart&&r(e,a)?k(e,n):void o(s,n,i)}function l(a,r){if(!S(a)&&!e.equals(a,r)){var s=t||n.chartType;s&&o(s,n,i)}}function c(t,a){S(t)||e.equals(t,a)||o(t,n,i)}a&&window.G_vmlCanvasManager.initElement(i[0]),n.$watch("chartData",s,!0),n.$watch("chartSeries",l,!0),n.$watch("chartLabels",l,!0),n.$watch("chartOptions",l,!0),n.$watch("chartColors",l,!0),n.$watch("chartDatasetOverride",l,!0),n.$watch("chartType",c,!1),n.$on("$destroy",function(){D(n)}),n.$on("$resize",function(){n.chart&&n.chart.resize()})}}}}t.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",t.defaults.global.tooltips.mode="label",t.defaults.global.elements.line.borderWidth=2,t.defaults.global.elements.rectangle.borderWidth=2,t.defaults.global.legend.display=!0,
t.defaults.global.colors=["#7266ba","#23b7e5","#97BBCD","#F7464A","#46BFBD","#FDB45C","#DCDCDC","#949FB1","#4D5360"];var a="object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement;return a&&(t.defaults.global.animation=!1),e.module("chart.js",[]).provider("ChartJs",n).factory("ChartJsFactory",["ChartJs","$timeout",i]).directive("chartBase",["ChartJsFactory",function(e){return new e}]).directive("chartLine",["ChartJsFactory",function(e){return new e("line")}]).directive("chartBar",["ChartJsFactory",function(e){return new e("bar")}]).directive("chartHorizontalBar",["ChartJsFactory",function(e){return new e("horizontalBar")}]).directive("chartRadar",["ChartJsFactory",function(e){return new e("radar")}]).directive("chartDoughnut",["ChartJsFactory",function(e){return new e("doughnut")}]).directive("chartPie",["ChartJsFactory",function(e){return new e("pie")}]).directive("chartPolarArea",["ChartJsFactory",function(e){return new e("polarArea")}]).directive("chartBubble",["ChartJsFactory",function(e){return new e("bubble")}]).name}),angular.module("ui.colorpicker",[]).factory("colorpicker.helper",["$document",function(e){return{setCookie:function(e,t){var n=30,i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+i.toGMTString()},getCookie:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(n))?unescape(t[2]):null},deleteCookie:function(e){var t=new Date;t.setTime(t.getTime()-1);var n=getCookie(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())},enabledCookie:function(e){return"string"==typeof this.getCookie(e)},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}]}}]).factory("colorpicker.transColor",["colorpicker.helper",function(e){return{value:{h:1,s:1,b:1,a:1},rgb:function(){var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(e,t,n,i){e/=255,t/=255,n/=255;var a,o,r,s;return r=Math.max(e,t,n),s=r-Math.min(e,t,n),a=0===s?null:r===e?(t-n)/s:r===t?(n-e)/s+2:(e-t)/s+4,a=(a+360)%6*60/360,o=0===s?0:s/r,{h:a||1,s:o,b:r,a:i||1}},setColor:function(t){angular.isDefined(t)&&(t=t.toLowerCase());for(var n in e.stringParsers)if(e.stringParsers.hasOwnProperty(n)){var i=e.stringParsers[n],a=i.re.exec(t),o=a&&i.parse(a);if(o)return this.value=this.RGBtoHSB.apply(null,o),!1}},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,n,i){e||(e=this.value.h,t=this.value.s,n=this.value.b),e*=360;var a,o,r,s,l;return e=e%360/60,l=n*t,s=l*(1-Math.abs(e%2-1)),a=o=r=n-l,e=~~e,a+=[l,s,0,0,s,l][e],o+=[s,l,l,s,0,0][e],r+=[0,0,s,l,l,s][e],{r:Math.round(255*a),g:Math.round(255*o),b:Math.round(255*r),a:i||this.value.a}},toHex:function(e,t,n,i){var a=this.toRGB(e,t,n,i);return"#"+(1<<24|parseInt(a.r,10)<<16|parseInt(a.g,10)<<8|parseInt(a.b,10)).toString(16).substr(1)}}}]).factory("colorpicker.slider",function(){"use strict";var e={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},t={};return{getOffset:function(e){for(var t=0,n=0,i=e.getBoundingClientRect();e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)"BODY"===e.tagName?(t+=document.documentElement.scrollLeft||e.scrollLeft,n+=document.documentElement.scrollTop||e.scrollTop):(t+=e.scrollLeft,n+=e.scrollTop),e=e.offsetParent;return{top:i.top+window.pageYOffset,left:i.left-130+window.pageXOffset,scrollX:t,scrollY:n}},closestSlider:function(e){var t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return t.bind(e)("I")?e.parentNode:e},getSlider:function(){return e},getLeftPosition:function(n){return Math.max(0,Math.min(e.maxLeft,e.left+((n.pageX||t.left)-t.left)))},getTopPosition:function(n){return Math.max(0,Math.min(e.maxTop,e.top+((n.pageY||t.top)-t.top)))},setSlider:function(n){var i=this.closestSlider(n.target),a=this.getOffset(i),o=i.getBoundingClientRect(),r=n.clientX-o.left,s=n.clientY-o.top;e.knob=i.children[0].style,e.left=n.pageX-a.left-window.pageXOffset+a.scrollX,e.top=n.pageY-a.top-window.pageYOffset+a.scrollY,t={left:n.pageX-(r-e.left),top:n.pageY-(s-e.top)}},setSaturation:function(t){e={maxLeft:200,maxTop:200,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(t)},setHue:function(t){e={maxLeft:0,maxTop:200,callLeft:!1,callTop:"setHue"},this.setSlider(t)},setAlpha:function(t){e={maxLeft:0,maxTop:200,callLeft:!1,callTop:"setAlpha"},this.setSlider(t)},setKnob:function(t,n){e.knob.top=t+"px",e.knob.left=n+"px"}}}).directive("colorpicker",["$document","$compile","colorpicker.transColor","colorpicker.slider","colorpicker.helper",function(e,t,n,i,a){"use strict";return{restrict:"AE",replace:!0,scope:{color:"="},require:"^ngModel",template:'<div class="colorpicker-circle">    <div class="circle-inner" ng-style="{\'background-color\':color}"></div></div>',link:function(o,r,s,l){function c(){clearTimeout(S),S=setTimeout(function(){g.css(O()),clearTimeout(S)},100)}o.show=!1,o.colorTab=1,o.colorboxs=["rgba(81,167,249,1)","rgba(112,191,65,1)","rgba(245,211,40,1)","rgba(243,144,25,1)","rgba(236,93,87,1)","rgba(179,106,226,1)","rgba(3,101,192,1)","rgba(0,136,43,1)","rgba(220,189,35,1)","rgba(222,106,16,1)","rgba(200,37,6,1)","rgba(119,63,155,1)","rgba(22,79,134,1)","rgba(11,93,24,1)","rgba(195,151,26,1)","rgba(189,91,12,1)","rgba(134,16,1,1)","rgba(95,50,124,1)","rgba(0,36,82,1)","rgba(5,65,9,1)","rgba(163,117,18,1)","rgba(146,70,7,1)","rgba(87,7,6,1)","rgba(59,31,78,1)","rgba(255,255,255,1)","rgba(220,222,224,1)","rgba(166,170,169,1)","rgba(114,114,114,1)","rgba(83,88,95,1)","rgba(0,0,0,1)"],o.historyColorboxs=[];var d=s.colorType||"hex",u="historyColor-"+d,p=angular.element(document.body),m='<div class="colorpicker-mask" ng-show="show" ng-click="select()"></div><div class="colorpicker dropdown" ng-show="show">     <div class="colorpicker-preview">       <div class="inner">       <div class="color-text"></div>       <div class="color-tabs">        <div class="color-tab" ng-class="{true: \'active\', false: \'\'}[colorTab === 1]" ng-click="toggleTab(1)">Pallete</div>        <div class="color-tab" ng-class="{true: \'active\', false: \'\'}[colorTab === 2]" ng-click="toggleTab(2)">Wheel</div>        <div class="color-tab" ng-class="{true: \'active\', false: \'\'}[colorTab === 3]" ng-click="toggleTab(3)">History</div>       </div>       </div>     </div>     <div class="tab-colorbox" ng-show="colorTab ===1">       <div ng-repeat="item in colorboxs">          <div class="color-unit" ng-attr-style="background-color:{{::item}}" ng-class="{true:\'active\',false:\'\'}[color === item]" ng-click="selectColorBox(item,$index)"></div>       </div>     </div>     <div class="tab-slider" ng-show="colorTab ===2">       <div class="colorpicker-saturation"><i></i></div>       <div class="colorpicker-hue"><i></i></div>       <div class="colorpicker-alpha"><i></i></div>     </div>     <div class="tab-historyColorbox" ng-show="colorTab ===3">       <div ng-repeat="item in historyColorboxs">           <div class="color-unit-wrap">               <div class="color-unit" ng-attr-style="background-color:{{::item}}" ng-class="{true:\'active\',false:\'\'}[color === item]" ng-click="selectColorBox(item,$index)"></div>           </div>       </div>     </div>     <div class="btn-group">        <div class="cancel" ng-click="cancel()">Cancel</div>        <div class="select" ng-click="select()">Select</div>     </div>     <div class="colorpicker-caret"></div></div>',f=angular.element(m),h=f.eq(0),g=f.eq(1),v=g.find(".colorpicker-hue"),b=g.find(".colorpicker-saturation"),y=g.find(".colorpicker-preview"),w=g.find("i"),x=g.find(".colorpicker-caret");t(f)(o),p.append(f);var _,k,S,C=n,D=24;o.$on("$destroy",function(){f.remove()}),o.toggleTab=function(e){o.colorTab=e,A()},o.selectColorBox=function(e,t){C.setColor(e),o.color=C[d](),l.$setViewValue(C[d]()),l.$render(),E()},o.cancel=function(){o.color=k,l.$setViewValue(k),l.$render(),F("cancel")},o.select=function(){F()};var T=function(){e.on("mousemove",I),e.on("mouseup",M)};"rgba"===d&&(g.addClass("alpha"),_=g.find(".colorpicker-alpha"),_.on("click",function(e){i.setAlpha(e),I(e)}).on("mousedown",function(e){i.setAlpha(e),T()})),v.on("click",function(e){i.setHue(e),I(e)}).on("mousedown",function(e){i.setHue(e),T()}),b.on("click",function(e){i.setSaturation(e),I(e)}).on("mousedown",function(e){i.setSaturation(e),T()});var E=function(){var e=C.value.b>.5?"#000000":"#FFFFFF",t=C[d]();y.find(".color-text").text(t),y.find(".inner").css("backgroundColor",t),y.find(".color-tabs").css("color",e),y.find(".color-text").css("color",e),b.css("backgroundColor",C.toHex(C.value.h,1,1,1)),g.hasClass("position-left")||g.hasClass("position-right")?x.css("border-color",t):x.css("border-color","#fff")},I=function(e){var t=i.getLeftPosition(e),n=i.getTopPosition(e),a=i.getSlider();i.setKnob(n,t),a.callLeft&&C[a.callLeft].call(C,t/200),a.callTop&&C[a.callTop].call(C,n/200),E();var r=C[d]();return g.find(".colorpicker-alpha").css({"background-color":r}),o.$apply(function(){o.color=r}),!1},M=function(){e.off("mousemove",I),e.off("mouseup",M)},A=function(){var e=C[d]();C.setColor(e),w.eq(0).css({left:200*C.value.s+"px",top:200-200*C.value.b+"px"}),g.find(".colorpicker-alpha").css({"background-color":e}),w.eq(1).css("top",200*(1-C.value.h)+"px"),w.eq(2).css("top",200*(1-C.value.a)+"px"),E()},O=function(){var e,t=g.width(),n=g.height(),i=r[0].getBoundingClientRect(),a=i.left,o=i.top,s=($(window).width(),$(window).height());return g.removeClass("position-top"),g.removeClass("position-right"),g.removeClass("position-bottom"),g.removeClass("position-left"),a>t&&s-o>=n?(e={top:o-6,left:a-t+10},g.addClass("position-left")):a<t&&s-o>=n?(e={top:o-6,left:a+20},g.addClass("position-right")):a>t&&s-o<n?(e={top:o-n+35,left:a-t+10},g.addClass("position-top")):(e={top:o-n+35,left:a+20},g.addClass("position-bottom")),{top:e.top+"px",left:e.left+"px"}},P=function(e){k=angular.copy(o.color),C.setColor(k),A();var t=a.getCookie(u);t=null===t?[]:t.split("|"),o.$apply(function(){o.show=!0,o.historyColorboxs=t}),g.css(O()),h.css({"z-index":parseInt((new Date).getTime(),10)}),g.css({"z-index":parseInt((new Date).getTime(),10)})};r.on("click",P),g.on("mousedown",function(e){e.stopPropagation(),e.preventDefault()});var F=function(e){o.show=!1,"cancel"!==e&&N()},N=function(){var e=C[d]();if(a.enabledCookie(u)){for(var t=a.getCookie(u),n=t.split("|"),i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),n.unshift(e),void a.setCookie(u,n.join("|"));n.length>=D?(n.pop(),n.unshift(e),a.setCookie(u,n.join("|"))):a.setCookie(u,e+"|"+t)}else a.setCookie(u,e)};e.bind("scroll",function(){c()}),$(window).on("resize",function(){c()})}}}]),!function(e,t,n){"use strict";function i(e,t){return("string"==typeof t||t instanceof String)&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every(function(t){return i(e,t)}):t&&Array.isArray(t.or)?t.or.some(function(t){return i(e,t)}):!(!t||!t.not)&&!i(e,t.not)}function a(e,t){return("string"==typeof t||t instanceof String)&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce(function(t,n){return t?t:a(e,n)},null):null}n&&n.module("reTree",[]).factory("reTree",[function(){return{test:i,exec:a}}]),t&&(t.reTree={test:i,exec:a}),e&&(e.exports={test:i,exec:a})}("undefined"==typeof module?null:module,"undefined"==typeof window?null:window,"undefined"==typeof angular?null:angular),!function(e){"use strict";e.module("ng.deviceDetector",["reTree"]).constant("BROWSERS",{CHROME:"chrome",FIREFOX:"firefox",SAFARI:"safari",OPERA:"opera",IE:"ie",MS_EDGE:"ms-edge",FB_MESSANGER:"fb-messanger",UNKNOWN:"unknown"}).constant("DEVICES",{ANDROID:"android",I_PAD:"ipad",IPHONE:"iphone",I_POD:"ipod",BLACKBERRY:"blackberry",FIREFOX_OS:"firefox-os",CHROME_BOOK:"chrome-book",WINDOWS_PHONE:"windows-phone",PS4:"ps4",VITA:"vita",CHROMECAST:"chromecast",APPLE_TV:"apple-tv",GOOGLE_TV:"google-tv",UNKNOWN:"unknown"}).constant("OS",{WINDOWS:"windows",MAC:"mac",IOS:"ios",ANDROID:"android",LINUX:"linux",UNIX:"unix",FIREFOX_OS:"firefox-os",CHROME_OS:"chrome-os",WINDOWS_PHONE:"windows-phone",UNKNOWN:"unknown"}).constant("OS_VERSIONS",{WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",UNKNOWN:"unknown"}).service("detectUtils",["deviceDetector","DEVICES","BROWSERS","OS",function(e,t,n,i){var a=e;this.isMobile=function(){return"unknown"!==a.device},this.isAndroid=function(){return a.device===t.ANDROID||a.OS===i.ANDROID},this.isIOS=function(){return a.os===i.IOS||a.device===t.I_POD||a.device===t.IPHONE}}]).factory("deviceDetector",["$window","DEVICES","BROWSERS","OS","OS_VERSIONS","reTree",function(e,t,n,i,a,o){Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(a){if("object"!=typeof a&&("function"!=typeof a||null===a))throw new TypeError("Object.keys called on non-object");var o,r,s=[];for(o in a)e.call(a,o)&&s.push(o);if(t)for(r=0;i>r;r++)e.call(a,n[r])&&s.push(n[r]);return s}}()),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),i=n.length>>>0,a=0;if(2==arguments.length)t=arguments[1];else{for(;i>a&&!(a in n);)a++;if(a>=i)throw new TypeError("Reduce of empty array with no initial value");t=n[a++]}for(;i>a;a++)a in n&&(t=e(t,n[a],a,n));return t});var r={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:/Windows Phone/}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/Windows Phone/}]},ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},s={CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/]},{not:{or:[/\bOPR\b/,/\bEdge\b/]}}]},FIREFOX:/\bFirefox\b/,SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdge\b/,/Windows Phone/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdge\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/},l={ANDROID:{and:[/\bAndroid\b/,{not:/Windows Phone/}]},I_PAD:/\biPad\b/,IPHONE:{and:[/\biPhone\b/,{not:/Windows Phone/}]},I_POD:/\biPod\b/,BLACKBERRY:/\bblackberry\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},c={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]}},d={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/],FIREFOX:/\bFirefox\/([\d\.]+)\b/,SAFARI:/\bVersion\/([\d\.]+)\b/,OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdge\/([\d\.]+)\b/},u=Object.keys(d).reduce(function(e,t){return e[n[t]]=d[t],e},{}),p=e.navigator.userAgent,m={raw:{userAgent:p,os:{},browser:{},device:{}}};if(m.raw.os=Object.keys(i).reduce(function(e,t){return e[i[t]]=o.test(p,r[t]),e},{}),m.raw.browser=Object.keys(n).reduce(function(e,t){return e[n[t]]=o.test(p,s[t]),e},{}),m.raw.device=Object.keys(t).reduce(function(e,n){return e[t[n]]=o.test(p,l[n]),e},{}),m.raw.os_version=Object.keys(a).reduce(function(e,t){return e[a[t]]=o.test(p,c[t]),e},{}),m.os=[i.WINDOWS,i.IOS,i.MAC,i.ANDROID,i.LINUX,i.UNIX,i.FIREFOX_OS,i.CHROME_OS,i.WINDOWS_PHONE].reduce(function(e,t){return e===i.UNKNOWN&&m.raw.os[t]?t:e},i.UNKNOWN),m.browser=[n.CHROME,n.FIREFOX,n.SAFARI,n.OPERA,n.IE,n.MS_EDGE,n.FB_MESSANGER].reduce(function(e,t){return e===n.UNKNOWN&&m.raw.browser[t]?t:e},n.UNKNOWN),m.device=[t.ANDROID,t.I_PAD,t.IPHONE,t.I_POD,t.BLACKBERRY,t.FIREFOX_OS,t.CHROME_BOOK,t.WINDOWS_PHONE,t.PS4,t.CHROMECAST,t.APPLE_TV,t.GOOGLE_TV,t.VITA].reduce(function(e,n){return e===t.UNKNOWN&&m.raw.device[n]?n:e},t.UNKNOWN),m.os_version=[a.WINDOWS_3_11,a.WINDOWS_95,a.WINDOWS_ME,a.WINDOWS_98,a.WINDOWS_CE,a.WINDOWS_2000,a.WINDOWS_XP,a.WINDOWS_SERVER_2003,a.WINDOWS_VISTA,a.WINDOWS_7,a.WINDOWS_8_1,a.WINDOWS_8,a.WINDOWS_10,a.WINDOWS_PHONE_7_5,a.WINDOWS_PHONE_8_1,a.WINDOWS_PHONE_10,a.WINDOWS_NT_4_0].reduce(function(e,t){return e===a.UNKNOWN&&m.raw.os_version[t]?t:e},a.UNKNOWN),m.browser_version="0",m.browser!==n.UNKNOWN){var f=u[m.browser],h=o.exec(p,f);h&&(m.browser_version=h[1])}return m.isMobile=function(){return[t.ANDROID,t.I_PAD,t.IPHONE,t.I_POD,t.BLACKBERRY,t.FIREFOX_OS,t.WINDOWS_PHONE,t.VITA].some(function(e){return m.device==e})},m.isTablet=function(){return[t.I_PAD,t.FIREFOX_OS].some(function(e){return m.device==e})},m.isDesktop=function(){return[t.PS4,t.CHROME_BOOK,t.UNKNOWN].some(function(e){return m.device==e})},m}]).directive("deviceDetector",["deviceDetector",function(e){return{restrict:"A",link:function(t,n){n.addClass("os-"+e.os),n.addClass("browser-"+e.browser),n.addClass("device-"+e.device)}}}])}(angular),!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(e){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,i){e.__listeners[n]=i,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,i,a){n(this),this.__url=i;try{e.apply(this,[t,i,a])}catch(n){n.message.indexOf("Access is denied")>-1&&(this.__origError=n,e.apply(this,[t,"_fix_for_ie_crossdomain__",a]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){n(this);var a=i(this);a instanceof Function&&a(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=i,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var i=arguments[0],a={url:n.__url,jsonp:!1,cache:!0,complete:function(e,i){e&&angular.isString(e)&&-1!==e.indexOf("#2174")&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==i.status&&t(n,"status",function(){return 0===i.status&&e&&"abort"!==e?500:i.status}),void 0!==i.statusText&&t(n,"statusText",function(){return i.statusText}),t(n,"readyState",function(){return 4}),void 0!==i.response&&t(n,"response",function(){return i.response});var a=i.responseText||(e&&0===i.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return a}),t(n,"response",function(){return a}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=i,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};a.data={},a.files={};for(var o=0;o<i.data.length;o++){var r=i.data[o];null!=r.val&&null!=r.val.name&&null!=r.val.size&&null!=r.val.type?a.files[r.key]=r.val:a.data[r.key]=r.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(a)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(e){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=t(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var i,a,o,r,s,l=document.createElement("script"),c=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)i=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)a=window.FileAPI.jsPath;else for(o=0;o<c.length;o++)if(s=c[o].src,r=s.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),r>-1){a=s.substring(0,r+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=a),l.setAttribute("src",i||a+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(l)}FileAPI.ngfFixIE=function(i,a,o){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var r=function(){var t=a.parent();i.attr("disabled")?t&&t.removeClass("js-fileapi-wrapper"):(a.attr("__ngf_flash_")||(a.unbind("change"),a.unbind("click"),a.bind("change",function(e){s.apply(this,[e]),o.apply(this,[e])}),a.attr("__ngf_flash_","true")),t.addClass("js-fileapi-wrapper"),e(i)||(t.css("position","absolute").css("top",n(i[0]).top+"px").css("left",n(i[0]).left+"px").css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",i.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),a.css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};i.bind("mouseenter",r);var s=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var i=0;i<n.length;i++)n[i].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var i={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i},i=function(i){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",i)));var a;"load"===i.type?(e.onloadend&&e.onloadend(n("loadend",i)),a=n("load",i),e.onload&&e.onload(a),e.dispatchEvent(a)):"progress"===i.type?(a=n("progress",i),e.onprogress&&e.onprogress(a),e.dispatchEvent(a)):(a=n("error",i),e.onerror&&e.onerror(a),e.dispatchEvent(a))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,i)},this.readAsText=function(e){FileAPI.readAsText(e,i)}}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var i=n(this);i instanceof Function&&i(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);if(ngFileUpload.version="12.2.8",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function i(i){function a(e){c.notify&&c.notify(e),d.progressFunc&&n(function(){d.progressFunc(e)})}function s(e){return null!=i._start&&r?{loaded:e.loaded+i._start,total:i._file&&i._file.size||e.total,type:e.type,config:i,lengthComputable:!0,target:e.target}:e}function l(){e(i).then(function(e){if(r&&i._chunkSize&&!i._finished&&i._file){var t=i._file&&i._file.size||0;a({loaded:Math.min(i._end,t),total:t,config:i,type:"progress"}),o.upload(i,!0)}else i._finished&&delete i._finished,c.resolve(e)},function(e){c.reject(e)},function(e){c.notify(e)})}i.method=i.method||"POST",i.headers=i.headers||{};var c=i._deferred=i._deferred||t.defer(),d=c.promise;return i.disableProgress||(i.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(i.__XHR=e,i.xhrFn&&i.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=i,a(s(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=i,a(s(e)))},!1))}}),r?i._chunkSize&&i._end&&!i._finished?(i._start=i._end,i._end+=i._chunkSize,l()):i.resumeSizeUrl?e.get(i.resumeSizeUrl).then(function(e){i._start=i.resumeSizeResponseReader?i.resumeSizeResponseReader(e.data):parseInt((null==e.data.size?e.data:e.data.size).toString()),i._chunkSize&&(i._end=i._start+i._chunkSize),l()},function(e){throw e}):i.resumeSize?i.resumeSize().then(function(e){i._start=e,i._chunkSize&&(i._end=i._start+i._chunkSize),l()},function(e){throw e}):(i._chunkSize&&(i._start=0,i._end=i._start+i._chunkSize),l()):l(),d.success=function(e){return d.then(function(t){e(t.data,t.status,t.headers,i)}),d},d.error=function(e){return d.then(null,function(t){e(t.data,t.status,t.headers,i)}),d},d.progress=function(e){return d.progressFunc=e,d.then(null,null,function(t){e(t)}),d},d.abort=d.pause=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),d},d.xhr=function(e){return i.xhrFn=function(t){return function(){t&&t.apply(d,arguments),e.apply(d,arguments)}}(i.xhrFn),d},o.promisesCount++,d.finally&&d.finally instanceof Function&&d.finally(function(){o.promisesCount--}),d}function a(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var r=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&r){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var i=t.slice(e._start,e._end||t.size);return i.name=t.name,i.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),i}return t}function s(t,i,a){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))t.append(a,i);else if(o.isFile(i)){var r=n(i,t),l=a.split(",");l[1]&&(r.ngfName=l[1].replace(/^\s+|\s+$/g,""),a=l[0]),e._fileKey=e._fileKey||a,t.append(a,r,r.ngfName||r.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+a;i.$$ngfCircularDetection=!0;try{for(var c in i)if(i.hasOwnProperty(c)&&"$$ngfCircularDetection"!==c){var d=null==e.objectKey?"[i]":e.objectKey;i.length&&parseInt(c)>-1&&(d=null==e.arrayKey?d:e.arrayKey),s(t,i[c],a+d.replace(/[ik]/g,c))}}finally{delete i.$$ngfCircularDetection}}else t.append(a,i)}function l(){e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,i=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var a=t[n];e.formDataAppender?e.formDataAppender(i,n,a):s(i,a,n)}return i})}return t||(e=a(e)),e._isDigested||(e._isDigested=!0,l()),i(e)},this.http=function(t){return t=a(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,i(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));
if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var i=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),a=e.headers("content-type")||"image/WebP",o=new window.Blob([t],{type:a}),r=n.match(/.*\/(.+?)(\?.*)?$/);r.length>1&&(o.name=r[1]),i.resolve(o)},function(e){i.reject(e)}),i.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,i,a){function o(e,t,n){var a=[l.emptyPromise()];return angular.forEach(e,function(i,o){0===i.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",t,n,{$file:i})&&a.push(l.happyPromise(l.applyExifRotation(i),i).then(function(t){e.splice(o,1,t)}))}),i.all(a)}function r(e,t,n){var a=l.attrGetter("ngfResize",t,n);if(!a||!l.isResizeSupported()||!e.length)return l.emptyPromise();if(a instanceof Function){var o=i.defer();return a(e).then(function(i){s(i,e,t,n).then(function(e){o.resolve(e)},function(e){o.reject(e)})},function(e){o.reject(e)})}return s(a,e,t,n)}function s(e,t,n,a){function o(i,o){if(0===i.type.indexOf("image")){if(e.pattern&&!l.validatePattern(i,e.pattern))return;e.resizeIf=function(e,t){return l.attrGetter("ngfResizeIf",n,a,{$width:e,$height:t,$file:i})};var s=l.resize(i,e);r.push(s),s.then(function(e){t.splice(o,1,e)},function(e){i.$error="resize",i.$errorParam=(e?(e.message?e.message:e)+": ":"")+(i&&i.name)})}}for(var r=[l.emptyPromise()],s=0;s<t.length;s++)o(t[s],s);return i.all(r)}var l=a;return l.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=l.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(t,n,i,a){var o=this.getAttrWithDefaults(n,t);if(!i)return o;try{return a?e(o)(i,a):e(o)(i)}catch(e){if(t.search(/min|max|pattern/i))return o;throw e}},l.shouldUpdateOn=function(e,t,n){var i=l.attrGetter("ngfModelOptions",t,n);return!i||!i.updateOn||i.updateOn.split(" ").indexOf(e)>-1},l.emptyPromise=function(){var e=i.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},l.rejectPromise=function(){var e=i.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},l.happyPromise=function(e,n){var a=i.defer();return e.then(function(e){a.resolve(e)},function(e){t(function(){throw e}),a.resolve(n)}),a.promise},l.updateModel=function(n,i,a,s,c,d,u){function p(o,r,c,u,p){i.$$ngfPrevValidFiles=o,i.$$ngfPrevInvalidFiles=r;var m=o&&o.length?o[0]:null,f=r&&r.length?r[0]:null;n&&(l.applyModelValidation(n,o),n.$setViewValue(p?m:o)),s&&e(s)(a,{$files:o,$file:m,$newFiles:c,$duplicateFiles:u,$invalidFiles:r,$invalidFile:f,$event:d});var h=l.attrGetter("ngfModelInvalid",i);h&&t(function(){e(h).assign(a,p?f:r)}),t(function(){})}function m(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}function t(t){var n;for(n=0;n<v.length;n++)if(e(t,v[n]))return!0;for(n=0;n<b.length;n++)if(e(t,b[n]))return!0;return!1}if(c){g=[],y=[];for(var n=0;n<c.length;n++)t(c[n])?y.push(c[n]):g.push(c[n])}}function f(e){return angular.isArray(e)?e:[e]}function h(){function e(){t(function(){p(_?v.concat(x):x,_?b.concat(w):w,c,y,$)},S&&S.debounce?S.debounce.change||S.debounce:0)}r(k?g:x,i,a).then(function(){k?l.validate(g,_?v.length:0,n,i,a).then(function(t){x=t.validsFiles,w=t.invalidsFiles,e()}):e()},function(e){throw"Could not resize files "+e})}var g,v,b,y=[],w=[],x=[];v=i.$$ngfPrevValidFiles||[],b=i.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(v=f(n.$modelValue));var _=l.attrGetter("ngfKeep",i,a);g=(c||[]).slice(0),("distinct"===_||l.attrGetter("ngfKeepDistinct",i,a)===!0)&&m(i,a);var $=!_&&!l.attrGetter("ngfMultiple",i,a)&&!l.attrGetter("multiple",i);if(!_||g.length){l.attrGetter("ngfBeforeModelChange",i,a,{$files:c,$file:c&&c.length?c[0]:null,$newFiles:g,$duplicateFiles:y,$event:d});var k=l.attrGetter("ngfValidateAfterResize",i,a),S=l.attrGetter("ngfModelOptions",i,a);l.validate(g,_?v.length:0,n,i,a).then(function(e){u?p(g,[],c,y,$):(S&&S.allowInvalid||k?x=g:(x=e.validFiles,w=e.invalidFiles),l.attrGetter("ngfFixOrientation",i,a)&&l.isExifSupported()?o(x,i,a).then(function(){h()}):h())})}},l}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,i){function a(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=i.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function o(e,t,n,i,o,s,l,c){function d(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function u(){return y("ngfChange")||y("ngfSelect")}function p(t){if(c.shouldUpdateOn("change",n,e)){var a=t.__files_||t.target&&t.target.files,o=[];if(!a)return;for(var r=0;r<a.length;r++)o.push(a[r]);c.updateModel(i,n,e,u(),o.length?o:null,t)}}function m(e){for(var n=0;n<t[0].attributes.length;n++){var i=t[0].attributes[n];"type"!==i.name&&"class"!==i.name&&"style"!==i.name&&((null==i.value||""===i.value)&&("required"===i.name&&(i.value="required"),"multiple"===i.name&&(i.value="multiple")),e.attr(i.name,"id"===i.name?"ngf-"+i.value:i.value))}}function f(){if(d())return t;var e=angular.element('<input type="file">');m(e);var n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),t.attr("id")&&n.attr("id","ngf-label-"+t.attr("id")),r.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}function h(n){if(t.attr("disabled"))return!1;if(!y("ngfSelectDisabled",e)){var i=g(n);if(null!=i)return i;v(n);try{d()||document.body.contains($[0])||(r.push({el:t,ref:$.parent()}),document.body.appendChild($.parent()[0]),$.bind("change",p))}catch(e){}return a(navigator.userAgent)?setTimeout(function(){$[0].click()},0):$[0].click(),!1}}function g(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return _=t[0].clientX,x=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientX,i=t[0].clientY;if(Math.abs(n-_)>20||Math.abs(i-x)>20)return e.stopPropagation(),e.preventDefault(),!1}return!0}}function v(t){c.shouldUpdateOn("click",n,e)&&$.val()&&($.val(null),c.updateModel(i,n,e,u(),null,t,!0))}function b(e){if($&&!$.attr("__ngf_ie10_Fix_")){if(!$[0].parentNode)return void($=null);e.preventDefault(),e.stopPropagation(),$.unbind("click");var t=$.clone();return $.replaceWith(t),$=t,$.attr("__ngf_ie10_Fix_","true"),$.bind("change",p),$.bind("click",b),$[0].click(),!1}$.removeAttr("__ngf_ie10_Fix_")}var y=function(e,t){return c.attrGetter(e,n,t)};c.registerModelChangeValidator(i,n,e);var w=[];y("ngfMultiple")&&w.push(e.$watch(y("ngfMultiple"),function(){$.attr("multiple",y("ngfMultiple",e))})),y("ngfCapture")&&w.push(e.$watch(y("ngfCapture"),function(){$.attr("capture",y("ngfCapture",e))})),y("ngfAccept")&&w.push(e.$watch(y("ngfAccept"),function(){$.attr("accept",y("ngfAccept",e))})),n.$observe("accept",function(){$.attr("accept",y("accept"))}),w.push(function(){n.$$observers&&delete n.$$observers.accept});var x=0,_=0,$=t;d()||($=f()),$.bind("change",p),d()?t.bind("click",v):t.bind("click touchstart touchend",h),-1!==navigator.appVersion.indexOf("MSIE 10")&&$.bind("click",b),i&&i.$formatters.push(function(e){return(null==e||0===e.length)&&$.val()&&$.val(null),e}),e.$on("$destroy",function(){d()||$.parent().remove(),angular.forEach(w,function(e){e()})}),s(function(){for(var e=0;e<r.length;e++){var t=r[e];document.body.contains(t.el[0])||(r.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,$,p)}var r=[];return{restrict:"AEC",require:"?ngModel",link:function(a,r,s,l){o(a,r,s,l,e,t,n,i)}}}]),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function t(t,n,i,a,o,r,s,l){function c(e){var r=t.attrGetter("ngfNoObjectUrl",o,i);t.dataUrl(e,r).finally(function(){n(function(){var t=(r?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;l?a.css("background-image","url('"+(t||"")+"')"):a.attr("src",t),t?a.removeClass("ng-hide"):a.addClass("ng-hide")})})}n(function(){var n=i.$watch(o[r],function(n){var d=s;if("ngfThumbnail"===r&&(d||(d={width:a[0].naturalWidth||a[0].clientWidth,height:a[0].naturalHeight||a[0].clientHeight}),0===d.width&&window.getComputedStyle)){var u=getComputedStyle(a[0]);d={width:parseInt(u.width.slice(0,-2)),height:parseInt(u.height.slice(0,-2))}}return angular.isString(n)?(a.removeClass("ng-hide"),l?a.css("background-image","url('"+n+"')"):a.attr("src",n)):void(!n||!n.type||0!==n.type.search(e(a[0]))||l&&0!==n.type.indexOf("image")?a.addClass("ng-hide"):d&&t.isResizeSupported()?(d.resizeIf=function(e,a){return t.attrGetter("ngfResizeIf",o,i,{$width:e,$height:a,$file:n})},t.resize(n,d).then(function(e){c(e)},function(e){throw e})):c(n))});i.$on("$destroy",function(){n()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var i=e;return i.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),a=0;return angular.forEach(e,function(n){i.dataUrl(n,!0).finally(function(){if(a++,a===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return i.dataUrl(e,!0)},i.dataUrl=function(e,a){if(!e)return i.emptyPromise(e,e);if(a&&null!=e.$ngfDataUrl||!a&&null!=e.$ngfBlobUrl)return i.emptyPromise(a?e.$ngfDataUrl:e.$ngfBlobUrl,e);var o=a?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(o)return o;var r=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!a){var o;try{o=n.createObjectURL(e)}catch(n){return void t(function(){e.$ngfBlobUrl="",r.reject()})}t(function(){if(e.$ngfBlobUrl=o,o){r.resolve(o,e),i.blobUrls=i.blobUrls||[],i.blobUrlsTotalSize=i.blobUrlsTotalSize||0,i.blobUrls.push({url:o,size:e.size}),i.blobUrlsTotalSize+=e.size||0;for(var t=i.defaults.blobUrlsMaxMemory||268435456,a=i.defaults.blobUrlsMaxQueueSize||200;(i.blobUrlsTotalSize>t||i.blobUrls.length>a)&&i.blobUrls.length>1;){var s=i.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),i.blobUrlsTotalSize-=s.size}}})}else{var s=new FileReader;s.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,r.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},s.onerror=function(){t(function(){e.$ngfDataUrl="",r.reject()})},s.readAsDataURL(e)}}else t(function(){e[a?"$ngfDataUrl":"$ngfBlobUrl"]="",r.reject()})}),o=a?e.$$ngfDataUrlPromise=r.promise:e.$$ngfBlobUrlPromise=r.promise,o.finally(function(){delete e[a?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},i}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,a,o){t(e,n,i,a,o,"ngfSrc",e.attrGetter("ngfResize",o,i),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,a,o){t(e,n,i,a,o,"ngfBackground",e.attrGetter("ngfResize",o,i),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,a,o){var r=e.attrGetter("ngfSize",o,i);t(e,n,i,a,o,"ngfThumbnail",r,e.attrGetter("ngfAsBackground",o,i))}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,i,a){if(angular.isString(n))return t.trustAsResourceUrl(n);var o=n&&((i?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,i)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?a?t.trustAsResourceUrl(o):o:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function i(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var a=e.split(",");if(a.length>1)for(var o=0;o<a.length;o++){var r=i(a[o]);r.regexp?(t+="("+r.regexp+")",o<a.length-1&&(t+="|")):n=n.concat(r.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+i(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function a(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var o=e;return o.validatePattern=function(e,t){if(!t)return!0;var n=i(t),a=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");a=null!=e.type&&o.test(e.type)||null!=e.name&&o.test(e.name)}for(var r=n.excludes.length;r--;){var s=new RegExp(n.excludes[r],"i");a=a&&(null==e.type||s.test(e.type))&&(null==e.name||s.test(e.name))}return a},o.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},o.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(i){e.$dirty&&(i&&!angular.isArray(i)&&(i=[i]),o.validate(i,0,e,t,n).then(function(){o.applyModelValidation(e,i)}))})},o.applyModelValidation=function(e,t){a(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},o.getValidationAttr=function(e,t,n,i,a){var r="ngf"+n[0].toUpperCase()+n.substr(1),s=o.attrGetter(r,e,t,{$file:a});if(null==s&&(s=o.attrGetter("ngfValidate",e,t,{$file:a}))){var l=(i||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},o.validate=function(e,n,i,a,r){function s(t,n,s){if(e){for(var l=e.length,c=null;l--;){var m=e[l];if(m){var f=o.getValidationAttr(a,r,t,n,m);null!=f&&(s(m,f,l)||(-1===d.indexOf(t)?(m.$error=t,(m.$errorMessages=m.$errorMessages||{})[t]=!0,m.$errorParam=f,-1===p.indexOf(m)&&p.push(m),u||e.splice(l,1),c=!1):e.splice(l,1)))}}null!==c&&i.$ngfValidations.push({name:t,valid:c})}}function l(n,s,l,m,f){function h(t,i,a){function o(o){o()?(-1===d.indexOf(n)?(i.$error=n,(i.$errorMessages=i.$errorMessages||{})[n]=!0,i.$errorParam=a,-1===p.indexOf(i)&&p.push(i),u||e.splice(e.indexOf(i),1)):e.splice(e.indexOf(i),1),t.resolve(!1)):t.resolve(!0)}null!=a?m(i,a).then(function(e){o(function(){return!f(e,a)})},function(){o(function(){return c("ngfValidateForce",{$file:i})})}):t.resolve(!0)}var g=[o.emptyPromise(!0)];e&&(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var i=t.defer();return g.push(i.promise),!l||null!=e.type&&0===e.type.search(l)?void("dimensions"===n&&null!=o.attrGetter("ngfDimensions",a)?o.imageDimensions(e).then(function(t){h(i,e,c("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){i.resolve(!1)}):"duration"===n&&null!=o.attrGetter("ngfDuration",a)?o.mediaDuration(e).then(function(t){h(i,e,c("ngfDuration",{$file:e,$duration:t}))},function(){i.resolve(!1)}):h(i,e,o.getValidationAttr(a,r,n,s,e))):void i.resolve(!0)}));var v=t.defer();return t.all(g).then(function(e){for(var t=!0,a=0;a<e.length;a++)if(!e[a]){t=!1;break}i.$ngfValidations.push({name:n,valid:t}),v.resolve(t)}),v.promise}i=i||{},i.$ngfValidations=i.$ngfValidations||[],angular.forEach(i.$ngfValidations,function(e){e.valid=!0});var c=function(e,t){return o.attrGetter(e,a,r,t)},d=(o.attrGetter("ngfIgnoreInvalid",a,r)||"").split(" "),u=o.attrGetter("ngfRunAllValidations",a,r);if(null==e||0===e.length)return o.emptyPromise({validFiles:e,invalidFiles:[]});e=void 0===e.length?[e]:e.slice(0);var p=[];s("pattern",null,o.validatePattern),s("minSize","size.min",function(e,t){return e.size+.1>=o.translateScalars(t)}),s("maxSize","size.max",function(e,t){return e.size-.1<=o.translateScalars(t)});var m=0;if(s("maxTotalSize",null,function(t,n){return m+=t.size,!(m>o.translateScalars(n))||(e.splice(0,e.length),!1)}),s("validateFn",null,function(e,t){return t===!0||null===t||""===t}),!e.length)return o.emptyPromise({validFiles:[],invalidFiles:p});var f=t.defer(),h=[];return h.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t})),h.push(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t})),h.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t})),h.push(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t})),h.push(l("dimensions",null,/image/,function(e,t){return o.emptyPromise(t)},function(e){return e})),h.push(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),i=!1,a=0;a<n.length;a++)Math.abs(e.width/e.height-o.ratioToFloat(n[a]))<.01&&(i=!0);return i})),h.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)<1e-4})),h.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)>-1e-4})),h.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=o.translateScalars(t)})),h.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=o.translateScalars(t)})),h.push(l("duration",null,/audio|video/,function(e,t){return o.emptyPromise(t)},function(e){return e})),h.push(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return e===!0||null===e||""===e})),t.all(h).then(function(){if(u)for(var t=0;t<e.length;t++){var i=e[t];i.$error&&e.splice(t--,1)}u=!1,s("maxFiles",null,function(e,t,i){return t>n+i}),f.resolve({validFiles:e,invalidFiles:p})}),f.promise},o.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var i=t.defer();return n(function(){i.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),i.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var a=t.defer();return n(function(){return 0!==e.type.indexOf("image")?void a.reject("not image"):void o.dataUrl(e).then(function(t){function i(){var t=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),e.$ngfWidth=t,e.$ngfHeight=n,a.resolve({width:t,height:n})}function o(){s.remove(),a.reject("load error")}function r(){n(function(){s[0].parentNode&&(s[0].clientWidth?i():l++>10?o():r())},1e3)}var s=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",i),s.on("error",o);var l=0;r(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){a.reject("load error")})}),e.$ngfDimensionPromise=a.promise,e.$ngfDimensionPromise.finally(function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},o.mediaDuration=function(e){if(e.$ngfDuration){var i=t.defer();return n(function(){i.resolve(e.$ngfDuration)}),i.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var a=t.defer();return n(function(){return 0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video")?void a.reject("not media"):void o.dataUrl(e).then(function(t){function i(){var t=s[0].duration;e.$ngfDuration=t,s.remove(),a.resolve(t)}function o(){s.remove(),a.reject("load error")}function r(){n(function(){s[0].parentNode&&(s[0].duration?i():l>10?o():r())},1e3)}var s=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");s.on("loadedmetadata",i),s.on("error",o);var l=0;r(),angular.element(document.body).append(s)},function(){a.reject("load error")})}),e.$ngfDurationPromise=a.promise,e.$ngfDurationPromise.finally(function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,i=function(e,t,n,i,a){var o=a?Math.max(n/e,i/t):Math.min(n/e,i/t);return{width:e*o,height:t*o,marginX:e*o-n,marginY:t*o-i}},a=function(e,a,o,r,s,l,c,d){var u=t.defer(),p=document.createElement("canvas"),m=document.createElement("img");return m.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(m),m.onload=function(){var e=m.width,t=m.height;if(m.parentNode.removeChild(m),null!=d&&d(e,t)===!1)return void u.reject("resizeIf");try{if(l){var f=n.ratioToFloat(l),h=e/t;f>h?(a=e,o=a/f):(o=t,a=o*f)}a||(a=e),o||(o=t);var g=i(e,t,a,o,c);p.width=Math.min(g.width,a),p.height=Math.min(g.height,o);var v=p.getContext("2d");v.drawImage(m,Math.min(0,-g.marginX/2),Math.min(0,-g.marginY/2),g.width,g.height),u.resolve(p.toDataURL(s||"image/WebP",r||.934))}catch(e){u.reject(e)}},m.onerror=function(){m.parentNode.removeChild(m),u.reject()},m.src=e,u.promise};return n.dataUrltoBlob=function(e,t,n){for(var i=e.split(","),a=i[0].match(/:(.*?);/)[1],o=atob(i[1]),r=o.length,s=new Uint8Array(r);r--;)s[r]=o.charCodeAt(r);var l=new window.Blob([s],{type:a});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,i){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var o=t.defer();return n.dataUrl(e,!0).then(function(t){a(t,i.width,i.height,i.quality,i.type||e.type,i.ratio,i.centerCrop,i.resizeIf).then(function(a){if("image/jpeg"===e.type&&i.restoreExif!==!1)try{a=n.restoreExif(t,a)}catch(e){setTimeout(function(){throw e},1)}try{var r=n.dataUrltoBlob(a,e.name,e.size);o.resolve(r)}catch(e){o.reject(e)}},function(t){"resizeIf"===t&&o.resolve(e),o.reject(t)})},function(e){o.reject(e)}),o.promise},n}]),function(){function e(e,n,i,a,o,r,s,l,c,d){function u(){return n.attr("disabled")||v("ngfDropDisabled",e)}function p(t,n){l.updateModel(a,i,e,v("ngfChange")||v("ngfDrop"),t,n)}function m(t,n){if(!l.shouldUpdateOn(t,i,e)||"string"!=typeof n)return l.rejectPromise([]);var a=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){a.push(n)});var o=[],r=[];if(a.length){angular.forEach(a,function(e){o.push(l.urlToBlob(e).then(function(e){r.push(e)}))});var s=d.defer();return d.all(o).then(function(){s.resolve(r)},function(e){s.reject(e)}),s.promise}return l.emptyPromise()}function f(e,t,n,i){var a=v("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(a))o=a;else if(a&&(a.delay&&(x=a.delay),a.accept||a.reject)){var r=n.dataTransfer.items;if(null!=r&&r.length)for(var s=a.pattern||v("ngfPattern",e,{$event:n}),c=r.length;c--;){if(!l.validatePattern(r[c],s)){o=a.reject;break}o=a.accept}else o=a.accept}i(o)}function h(t,n,a,o){function r(e,t){var n=d.defer();if(null!=e)if(e.isDirectory){var i=[l.emptyPromise()];if(p){var a={type:"directory"};a.name=a.path=(t||"")+e.name,m.push(a)}var o=e.createReader(),s=[],h=function(){o.readEntries(function(a){try{a.length?(s=s.concat(Array.prototype.slice.call(a||[],0)),h()):(angular.forEach(s.slice(0),function(n){m.length<=c&&u>=f&&i.push(r(n,(t?t:"")+e.name+"/"))}),d.all(i).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(e){n.reject(e)}},function(e){n.reject(e)})};h()}else e.file(function(e){try{e.path=(t?t:"")+e.name,p&&(e=l.rename(e,e.path)),m.push(e),f+=e.size,n.resolve()}catch(e){n.reject(e)}},function(e){n.reject(e)});return n.promise}var c=l.getValidationAttr(i,e,"maxFiles");null==c&&(c=Number.MAX_VALUE);var u=l.getValidationAttr(i,e,"maxTotalSize");null==u&&(u=Number.MAX_VALUE);var p=v("ngfIncludeDir",e),m=[],f=0,h=[l.emptyPromise()];if(t&&t.length>0&&"file:"!==s.location.protocol)for(var g=0;g<t.length;g++){if(t[g].webkitGetAsEntry&&t[g].webkitGetAsEntry()&&t[g].webkitGetAsEntry().isDirectory){var b=t[g].webkitGetAsEntry();if(b.isDirectory&&!a)continue;null!=b&&h.push(r(b))}else{var y=t[g].getAsFile();null!=y&&(m.push(y),f+=y.size)}if(m.length>c||f>u||!o&&m.length>0)break}else if(null!=n)for(var w=0;w<n.length;w++){var x=n.item(w);if((x.type||x.size>0)&&(m.push(x),f+=x.size),m.length>c||f>u||!o&&m.length>0)break}var _=d.defer();return d.all(h).then(function(){if(o||p||!m.length)_.resolve(m);else{for(var e=0;m[e]&&"directory"===m[e].type;)e++;_.resolve([m[e]])}},function(e){_.reject(e)}),_.promise}var g=t(),v=function(e,t,n){return l.attrGetter(e,i,t,n)};if(v("dropAvailable")&&r(function(){e[v("dropAvailable")]?e[v("dropAvailable")].value=g:e[v("dropAvailable")]=g}),!g)return void(v("ngfHideOnDropNotAvailable",e)===!0&&n.css("display","none"));null==v("ngfSelect")&&l.registerModelChangeValidator(a,i,e);var b,y=null,w=o(v("ngfStopPropagation")),x=1;n[0].addEventListener("dragover",function(t){if(!u()&&l.shouldUpdateOn("drop",i,e)){if(t.preventDefault(),w(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var a=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===a||"linkMove"===a?"move":"copy"}r.cancel(y),b||(b="C",f(e,i,t,function(i){b=i,n.addClass(b),v("ngfDrag",e,{$isDragging:!0,$class:b,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(t){!u()&&l.shouldUpdateOn("drop",i,e)&&(t.preventDefault(),w(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(t){!u()&&l.shouldUpdateOn("drop",i,e)&&(t.preventDefault(),w(e)&&t.stopPropagation(),y=r(function(){b&&n.removeClass(b),b=null,v("ngfDrag",e,{$isDragging:!1,$event:t})},x||100))},!1),n[0].addEventListener("drop",function(t){if(!u()&&l.shouldUpdateOn("drop",i,e)){t.preventDefault(),w(e)&&t.stopPropagation(),b&&n.removeClass(b),b=null;var a,o=t.dataTransfer.items;try{a=t.dataTransfer&&t.dataTransfer.getData&&t.dataTransfer.getData("text/html")}catch(e){}h(o,t.dataTransfer.files,v("ngfAllowDir",e)!==!1,v("multiple")||v("ngfMultiple",e)).then(function(e){e.length?p(e,t):m("dropUrl",a).then(function(e){p(e,t)})})}},!1),n[0].addEventListener("paste",function(t){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!u()&&l.shouldUpdateOn("paste",i,e)){var n=[],a=t.clipboardData||t.originalEvent.clipboardData;if(a&&a.items)for(var o=0;o<a.items.length;o++)-1!==a.items[o].type.indexOf("image")&&n.push(a.items[o].getAsFile());n.length?p(n,t):m("pasteUrl",a).then(function(e){p(e,t)})}},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(t,n,i,a,o,r){return{restrict:"AEC",require:"?ngModel",link:function(s,l,c,d){e(s,l,c,d,t,n,i,a,o,r)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,i){return function(a,o,r){if(t()){var s=e(i.attrGetter("ngfDropAvailable",r));n(function(){s(a),s.assign&&s.assign(a,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,i){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,i);case 4:return e.transform(1,0,0,-1,0,i);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,i,0);case 7:return e.transform(0,-1,-1,0,i,n);case 8:return e.transform(0,-1,1,0,0,n)}}function i(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,a=0;i>a;a++)t+=String.fromCharCode(n[a]);return window.btoa(t)}var a=e;return a.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&a.isResizeSupported()},a.readOrientation=function(e){var n=t.defer(),i=new FileReader,a=e.slice?e.slice(0,65536):e;return i.readAsArrayBuffer(a),i.onerror=function(e){return n.reject(e)},i.onload=function(e){var t={orientation:1},i=new DataView(this.result);if(65496!==i.getUint16(0,!1))return n.resolve(t);for(var a=i.byteLength,o=2;a>o;){var r=i.getUint16(o,!1);if(o+=2,65505===r){if(1165519206!==i.getUint32(o+=2,!1))return n.resolve(t);var s=18761===i.getUint16(o+=6,!1);o+=i.getUint32(o+4,s);var l=i.getUint16(o,s);o+=2;for(var c=0;l>c;c++)if(274===i.getUint16(o+12*c,s)){var d=i.getUint16(o+12*c+8,s);return d>=2&&8>=d&&(i.setUint16(o+12*c+8,1,s),t.fixedArrayBuffer=e.target.result),t.orientation=d,n.resolve(t)}}else{if(65280!==(65280&r))break;o+=i.getUint16(o,!1)}}return n.resolve(t)},n.promise},a.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return a.emptyPromise(e);var o=t.defer();return a.readOrientation(e).then(function(t){return t.orientation<2||t.orientation>8?o.resolve(e):void a.dataUrl(e,!0).then(function(r){var s=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{s.width=t.orientation>4?l.height:l.width,s.height=t.orientation>4?l.width:l.height;var r=s.getContext("2d");n(r,t.orientation,l.width,l.height),r.drawImage(l,0,0);var c=s.toDataURL(e.type||"image/WebP",.934);c=a.restoreExif(i(t.fixedArrayBuffer),c);var d=a.dataUrltoBlob(c,e.name);o.resolve(d)}catch(e){return o.reject(e)}},l.onerror=function(){o.reject()},l.src=r},function(e){o.reject(e)})},function(e){o.reject(e)}),o.promise},a.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,i,a,o,r="",s="",l="",c=0;do t=e[c++],n=e[c++],s=e[c++],i=t>>2,a=(3&t)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),r=r+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=s="",i=a=o=l="";while(c<e.length);return r},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),i=this.slice2Segments(n),a=this.exifManipulation(t,i);return"data:image/jpeg;base64,"+this.encode64(a)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)},n.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255===t[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),a=i.indexOf(255,3),o=i.slice(0,a),r=i.slice(a),s=o;return s=s.concat(t),s=s.concat(r)},n.slice2Segments=function(e){for(var t=0,n=[];!(255===e[t]&218===e[t+1]);){if(255===e[t]&216===e[t+1])t+=2;else{var i=256*e[t+2]+e[t+3],a=t+i+2,o=e.slice(t,a);n.push(o),t=a}if(t>e.length)break}return n},n.decode64=function(e){var t,n,i,a,o,r="",s="",l=0,c=[],d=/[^A-Za-z0-9\+\/\=]/g;d.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do i=this.KEY_STR.indexOf(e.charAt(l++)),a=this.KEY_STR.indexOf(e.charAt(l++)),o=this.KEY_STR.indexOf(e.charAt(l++)),s=this.KEY_STR.indexOf(e.charAt(l++)),t=i<<2|a>>4,n=(15&a)<<4|o>>2,r=(3&o)<<6|s,c.push(t),64!==o&&c.push(n),64!==s&&c.push(r),t=n=r="",i=a=o=s="";while(l<e.length);return c},n.restore(e,t)},a}]),!function(e,t){"use strict";e.module("smart-table",[]).run(["$templateCache",function(e){e.put("template/smart-table/pagination.html",'<nav ng-if="numPages && pages.length >= 2"><ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a href="javascript: void(0);" ng-click="selectPage(page)">{{page}}</a></li></ul></nav>');
}]),e.module("smart-table").constant("stConfig",{pagination:{template:"template/smart-table/pagination.html",itemsByPage:10,displayedPages:5},search:{delay:400,inputEvent:"input"},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"st-sort-ascent",descentClass:"st-sort-descent",descendingFirst:!1,skipNatural:!1,delay:300},pipe:{delay:100}}),e.module("smart-table").controller("stTableController",["$scope","$parse","$filter","$attrs",function(n,i,a,o){function r(e){return e?[].concat(e):[]}function s(){v=r(c(n)),y===!0&&w.pipe()}function l(e,t){if(-1!=t.indexOf(".")){var n=t.split("."),a=n.pop(),o=n.join("."),r=i(o)(e);delete r[a],0==Object.keys(r).length&&l(e,o)}else delete e[t]}var c,d,u,p=o.stTable,m=i(p),f=m.assign,h=a("orderBy"),g=a("filter"),v=r(m(n)),b={sort:{},search:{},pagination:{start:0,totalItemCount:0}},y=!0,w=this;o.stSafeSrc&&(c=i(o.stSafeSrc),n.$watch(function(){var e=c(n);return e&&e.length?e[0]:t},function(e,t){e!==t&&s()}),n.$watch(function(){var e=c(n);return e?e.length:0},function(e,t){e!==v.length&&s()}),n.$watch(function(){return c(n)},function(e,t){e!==t&&(b.pagination.start=0,s())})),this.sortBy=function(t,n){return b.sort.predicate=t,b.sort.reverse=n===!0,e.isFunction(t)?b.sort.functionName=t.name:delete b.sort.functionName,b.pagination.start=0,this.pipe()},this.search=function(t,n){var a=b.search.predicateObject||{},o=n?n:"$";return t=e.isString(t)?t.trim():t,i(o).assign(a,t),t||l(a,o),b.search.predicateObject=a,b.pagination.start=0,this.pipe()},this.pipe=function(){var e,i=b.pagination;d=b.search.predicateObject?g(v,b.search.predicateObject):v,b.sort.predicate&&(d=h(d,b.sort.predicate,b.sort.reverse)),i.totalItemCount=d.length,i.number!==t&&(i.numberOfPages=d.length>0?Math.ceil(d.length/i.number):1,i.start=i.start>=d.length?(i.numberOfPages-1)*i.number:i.start,e=d.slice(i.start,i.start+parseInt(i.number))),f(n,e||d)},this.select=function(e,i){var a=r(m(n)),o=a.indexOf(e);-1!==o&&("single"===i?(e.isSelected=e.isSelected!==!0,u&&(u.isSelected=!1),u=e.isSelected===!0?e:t):a[o].isSelected=!a[o].isSelected)},this.slice=function(e,t){return b.pagination.start=e,b.pagination.number=t,this.pipe()},this.tableState=function(){return b},this.getFilteredCollection=function(){return d||v},this.setFilterFunction=function(e){g=a(e)},this.setSortFunction=function(e){h=a(e)},this.preventPipeOnWatch=function(){y=!1}}]).directive("stTable",function(){return{restrict:"A",controller:"stTableController",link:function(e,t,n,i){n.stSetFilter&&i.setFilterFunction(n.stSetFilter),n.stSetSort&&i.setSortFunction(n.stSetSort)}}}),e.module("smart-table").directive("stSearch",["stConfig","$timeout","$parse",function(e,t,n){return{require:"^stTable",link:function(i,a,o,r){var s=r,l=null,c=o.stDelay||e.search.delay,d=o.stInputEvent||e.search.inputEvent;o.$observe("stSearch",function(e,t){var n=a[0].value;e!==t&&n&&(r.tableState().search={},s.search(n,e))}),i.$watch(function(){return r.tableState().search},function(e,t){var i=o.stSearch||"$";e.predicateObject&&n(i)(e.predicateObject)!==a[0].value&&(a[0].value=n(i)(e.predicateObject)||"")},!0),a.bind(d,function(e){e=e.originalEvent||e,null!==l&&t.cancel(l),l=t(function(){s.search(e.target.value,o.stSearch||""),l=null},c)})}}}]),e.module("smart-table").directive("stSelectRow",["stConfig",function(e){return{restrict:"A",require:"^stTable",scope:{row:"=stSelectRow"},link:function(t,n,i,a){var o=i.stSelectMode||e.select.mode;n.bind("click",function(){t.$apply(function(){a.select(t.row,o)})}),t.$watch("row.isSelected",function(t){t===!0?n.addClass(e.select.selectedClass):n.removeClass(e.select.selectedClass)})}}}]),e.module("smart-table").directive("stSort",["stConfig","$parse","$timeout",function(n,i,a){return{restrict:"A",require:"^stTable",link:function(o,r,s,l){function c(){b?m=0===m?2:m-1:m++;var t;u=e.isFunction(p(o))||e.isArray(p(o))?p(o):s.stSort,m%3===0&&1!=!!v?(m=0,l.tableState().sort={},l.tableState().pagination.start=0,t=l.pipe.bind(l)):t=l.sortBy.bind(l,u,m%2===0),null!==y&&a.cancel(y),0>w?t():y=a(t,w)}var d,u=s.stSort,p=i(u),m=0,f=s.stClassAscent||n.sort.ascentClass,h=s.stClassDescent||n.sort.descentClass,g=[f,h],v=s.stSkipNatural!==t?s.stSkipNatural:n.sort.skipNatural,b=s.stDescendingFirst!==t?s.stDescendingFirst:n.sort.descendingFirst,y=null,w=s.stDelay||n.sort.delay;s.stSortDefault&&(d=o.$eval(s.stSortDefault)!==t?o.$eval(s.stSortDefault):s.stSortDefault),r.bind("click",function(){u&&o.$apply(c)}),d&&(m="reverse"===d?1:0,c()),o.$watch(function(){return l.tableState().sort},function(e){e.predicate!==u?(m=0,r.removeClass(f).removeClass(h)):(m=e.reverse===!0?2:1,r.removeClass(g[m%2]).addClass(g[m-1]))},!0)}}}]),e.module("smart-table").directive("stPagination",["stConfig","$anchorScroll","$timeout",function(e,t,n){return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageChange:"&"},templateUrl:function(t,n){return n.stTemplate?n.stTemplate:e.pagination.template},link:function(i,a,o,r){function s(){var e,t,n=r.tableState().pagination,a=1,o=i.currentPage;for(i.totalItemCount=n.totalItemCount,i.currentPage=Math.floor(n.start/n.number)+1,a=Math.max(a,i.currentPage-Math.abs(Math.floor(i.stDisplayedPages/2))),e=a+i.stDisplayedPages,e>n.numberOfPages&&(e=n.numberOfPages+1,a=Math.max(1,e-i.stDisplayedPages)),i.pages=[],i.numPages=n.numberOfPages,t=a;e>t;t++)i.pages.push(t);o!==i.currentPage&&i.stPageChange({newPage:i.currentPage})}i.stItemsByPage=i.stItemsByPage?+i.stItemsByPage:e.pagination.itemsByPage,i.stDisplayedPages=i.stDisplayedPages?+i.stDisplayedPages:e.pagination.displayedPages,i.currentPage=1,i.pages=[],i.to_top=function(){n(function(){t()},100)},i.$watch(function(){return r.tableState().pagination},s,!0),i.$watch("stItemsByPage",function(e,t){e!==t&&i.selectPage(1)}),i.$watch("stDisplayedPages",s),i.selectPage=function(e){e>0&&e<=i.numPages&&r.slice((e-1)*i.stItemsByPage,i.stItemsByPage)},r.tableState().pagination.number||r.slice(0,i.stItemsByPage)}}}]),e.module("smart-table").directive("stPipe",["stConfig","$timeout",function(t,n){return{require:"stTable",scope:{stPipe:"="},link:{pre:function(i,a,o,r){var s=null;e.isFunction(i.stPipe)&&(r.preventPipeOnWatch(),r.pipe=function(){return null!==s&&n.cancel(s),s=n(function(){i.stPipe(r.tableState(),r)},t.pipe.delay)})},post:function(e,t,n,i){i.pipe()}}}}])}(angular),!function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=e():"undefined"!=typeof Package?Sortable=e():window.Sortable=e()}(function(){"use strict";function e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=y({},t),e[U]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var i in n)!(i in t)&&(t[i]=n[i]);te(t);for(var a in this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&G,o(e,"mousedown",this._onTapStart),o(e,"touchstart",this._onTapStart),o(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(o(e,"dragover",this),o(e,"dragenter",this)),Z.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function t(e){k&&k.state!==e&&(l(k,"display",e?"none":""),!e&&k.state&&S.insertBefore(k,x),k.state=e)}function n(e,t,n){if(e){n=n||W;do if(">*"===t&&e.parentNode===n||v(e,t))return e;while(e=i(e))}return null}function i(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function a(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function o(e,t,n){e.addEventListener(t,n,!1)}function r(e,t,n){e.removeEventListener(t,n,!1)}function s(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(z," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(z," ")}}function l(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return W.defaultView&&W.defaultView.getComputedStyle?n=W.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function c(e,t,n){if(e){var i=e.getElementsByTagName(t),a=0,o=i.length;if(n)for(;a<o;a++)n(i[a],a);return i}return[]}function d(e,t,n,i,a,o,r){e=e||t[U];var s=W.createEvent("Event"),l=e.options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);s.initEvent(n,!0,!0),s.to=t,s.from=a||t,s.item=i||t,s.clone=k,s.oldIndex=o,s.newIndex=r,t.dispatchEvent(s),l[c]&&l[c].call(e,s)}function u(e,t,n,i,a,o,r){var s,l,c=e[U],d=c.options.onMove;return s=W.createEvent("Event"),s.initEvent("move",!0,!0),s.to=t,s.from=e,s.dragged=n,s.draggedRect=i,s.related=a||t,s.relatedRect=o||t.getBoundingClientRect(),e.dispatchEvent(s),d&&(l=d.call(c,s,r)),l}function p(e){e.draggable=!1}function m(){X=!1}function f(e,t){var n=e.lastElementChild,i=n.getBoundingClientRect();return(t.clientY-(i.top+i.height)>5||t.clientX-(i.right+i.width)>5)&&n}function h(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function g(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!v(e,t)||n++;return n}function v(e,t){if(e){t=t.split(".");var n=t.shift().toUpperCase(),i=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(i)||[]).length!=t.length)}return!1}function b(e,t){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),n=void 0},t))}}function y(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function w(e){return V?V(e).clone(!0)[0]:Y&&Y.dom?Y.dom(e).cloneNode(!0):e.cloneNode(!0)}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var x,_,$,k,S,C,D,T,E,I,M,A,O,P,F,N,R,L,B,j={},z=/\s+/g,U="Sortable"+(new Date).getTime(),H=window,W=H.document,q=H.parseInt,V=H.jQuery||H.Zepto,Y=H.Polymer,G=!!("draggable"in W.createElement("div")),K=function(e){return!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&(e=W.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents)}(),X=!1,J=Math.abs,Q=Math.min,Z=([].slice,[]),ee=b(function(e,t,n){if(n&&t.scroll){var i,a,o,r,s,l,c=t.scrollSensitivity,d=t.scrollSpeed,u=e.clientX,p=e.clientY,m=window.innerWidth,f=window.innerHeight;if(T!==n&&(D=t.scroll,T=n,E=t.scrollFn,D===!0)){D=n;do if(D.offsetWidth<D.scrollWidth||D.offsetHeight<D.scrollHeight)break;while(D=D.parentNode)}D&&(i=D,a=D.getBoundingClientRect(),o=(J(a.right-u)<=c)-(J(a.left-u)<=c),r=(J(a.bottom-p)<=c)-(J(a.top-p)<=c)),o||r||(o=(m-u<=c)-(u<=c),r=(f-p<=c)-(p<=c),(o||r)&&(i=H)),j.vx===o&&j.vy===r&&j.el===i||(j.el=i,j.vx=o,j.vy=r,clearInterval(j.pid),i&&(j.pid=setInterval(function(){return l=r?r*d:0,s=o?o*d:0,"function"==typeof E?E.call(_this,s,l,e):void(i===H?H.scrollTo(H.pageXOffset+s,H.pageYOffset+l):(i.scrollTop+=l,i.scrollLeft+=s))},24)))}},30),te=function(e){function t(e,t){return void 0!==e&&e!==!0||(e=n.name),"function"==typeof e?e:function(n,i){var a=i.options.group.name;return t?e:e&&(e.join?e.indexOf(a)>-1:a==e)}}var n={},i=e.group;i&&"object"==typeof i||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),e.group=n};return e.prototype={constructor:e,_onTapStart:function(e){var t,i=this,a=this.el,o=this.options,r=e.type,s=e.touches&&e.touches[0],l=(s||e).target,c=e.target.shadowRoot&&e.path[0]||l,u=o.filter;if(!x&&!("mousedown"===r&&0!==e.button||o.disabled)&&(!o.handle||n(c,o.handle,a))&&(l=n(l,o.draggable,a))){if(t=g(l,o.draggable),"function"==typeof u){if(u.call(this,e,l,this))return d(i,c,"filter",l,a,t),void e.preventDefault()}else if(u&&(u=u.split(",").some(function(e){if(e=n(c,e.trim(),a))return d(i,e,"filter",l,a,t),!0})))return void e.preventDefault();this._prepareDragStart(e,s,l,t)}},_prepareDragStart:function(e,t,n,i){var a,r=this,l=r.el,u=r.options,m=l.ownerDocument;n&&!x&&n.parentNode===l&&(R=e,S=l,x=n,_=x.parentNode,C=x.nextSibling,F=u.group,O=i,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,x.style["will-change"]="transform",a=function(){r._disableDelayedDrag(),x.draggable=r.nativeDraggable,s(x,u.chosenClass,!0),r._triggerDragStart(e,t),d(r,S,"choose",x,S,O)},u.ignore.split(",").forEach(function(e){c(x,e.trim(),p)}),o(m,"mouseup",r._onDrop),o(m,"touchend",r._onDrop),o(m,"touchcancel",r._onDrop),o(m,"pointercancel",r._onDrop),u.delay?(o(m,"mouseup",r._disableDelayedDrag),o(m,"touchend",r._disableDelayedDrag),o(m,"touchcancel",r._disableDelayedDrag),o(m,"mousemove",r._disableDelayedDrag),o(m,"touchmove",r._disableDelayedDrag),o(m,"pointermove",r._disableDelayedDrag),r._dragStartTimer=setTimeout(a,u.delay)):a())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),r(e,"mouseup",this._disableDelayedDrag),r(e,"touchend",this._disableDelayedDrag),r(e,"touchcancel",this._disableDelayedDrag),r(e,"mousemove",this._disableDelayedDrag),r(e,"touchmove",this._disableDelayedDrag),r(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,t){t=t||("touch"==e.pointerType?e:null),t?(R={target:x,clientX:t.clientX,clientY:t.clientY},this._onDragStart(R,"touch")):this.nativeDraggable?(o(x,"dragend",this),o(S,"dragstart",this._onDragStart)):this._onDragStart(R,!0);try{W.selection?setTimeout(function(){W.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(S&&x){var t=this.options;s(x,t.ghostClass,!0),s(x,t.dragClass,!1),e.active=this,d(this,S,"start",x,S,O)}},_emulateDragOver:function(){if(L){if(this._lastX===L.clientX&&this._lastY===L.clientY)return;this._lastX=L.clientX,this._lastY=L.clientY,K||l($,"display","none");var e=W.elementFromPoint(L.clientX,L.clientY),t=e,n=Z.length;if(t)do{if(t[U]){for(;n--;)Z[n]({clientX:L.clientX,clientY:L.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);K||l($,"display","")}},_onTouchMove:function(t){if(R){var n=this.options,i=n.fallbackTolerance,a=n.fallbackOffset,o=t.touches?t.touches[0]:t,r=o.clientX-R.clientX+a.x,s=o.clientY-R.clientY+a.y,c=t.touches?"translate3d("+r+"px,"+s+"px,0)":"translate("+r+"px,"+s+"px)";if(!e.active){if(i&&Q(J(o.clientX-this._lastX),J(o.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),B=!0,L=o,l($,"webkitTransform",c),l($,"mozTransform",c),l($,"msTransform",c),l($,"transform",c),t.preventDefault()}},_appendGhost:function(){if(!$){var e,t=x.getBoundingClientRect(),n=l(x),i=this.options;$=x.cloneNode(!0),s($,i.ghostClass,!1),s($,i.fallbackClass,!0),s($,i.dragClass,!0),l($,"top",t.top-q(n.marginTop,10)),l($,"left",t.left-q(n.marginLeft,10)),l($,"width",t.width),l($,"height",t.height),l($,"opacity","0.8"),l($,"position","fixed"),l($,"zIndex","100000"),l($,"pointerEvents","none"),i.fallbackOnBody&&W.body.appendChild($)||S.appendChild($),e=$.getBoundingClientRect(),l($,"width",2*t.width-e.width),l($,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,i=this.options;this._offUpEvents(),"clone"==F.checkPull(this,this,x,e)&&(k=w(x),l(k,"display","none"),S.insertBefore(k,x),d(this,S,"clone",x)),s(x,i.dragClass,!0),t?("touch"===t?(o(W,"touchmove",this._onTouchMove),o(W,"touchend",this._onDrop),o(W,"touchcancel",this._onDrop),o(W,"pointermove",this._onTouchMove),o(W,"pointerup",this._onDrop)):(o(W,"mousemove",this._onTouchMove),o(W,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,x)),o(W,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(i){var a,o,r,s,c=this.el,d=this.options,p=d.group,h=e.active,g=F===p,v=d.sort;if(void 0!==i.preventDefault&&(i.preventDefault(),!d.dragoverBubble&&i.stopPropagation()),B=!0,F&&!d.disabled&&(g?v||(s=!S.contains(x)):N===this||F.checkPull(this,h,x,i)&&p.checkPut(this,h,x,i))&&(void 0===i.rootEl||i.rootEl===this.el)){if(ee(i,d,this.el),X)return;if(a=n(i.target,d.draggable,c),o=x.getBoundingClientRect(),N=this,s)return t(!0),_=S,void(k||C?S.insertBefore(x,k||C):v||S.appendChild(x));if(0===c.children.length||c.children[0]===$||c===i.target&&(a=f(c,i))){if(a){if(a.animated)return;r=a.getBoundingClientRect()}t(g),u(S,c,x,o,a,r,i)!==!1&&(x.contains(c)||(c.appendChild(x),_=c),this._animate(o,x),a&&this._animate(r,a))}else if(a&&!a.animated&&a!==x&&void 0!==a.parentNode[U]){I!==a&&(I=a,M=l(a),A=l(a.parentNode)),r=a.getBoundingClientRect();var b,y=r.right-r.left,w=r.bottom-r.top,D=/left|right|inline/.test(M.cssFloat+M.display)||"flex"==A.display&&0===A["flex-direction"].indexOf("row"),T=a.offsetWidth>x.offsetWidth,E=a.offsetHeight>x.offsetHeight,O=(D?(i.clientX-r.left)/y:(i.clientY-r.top)/w)>.5,P=a.nextElementSibling,R=u(S,c,x,o,a,r,i);if(R!==!1){if(X=!0,setTimeout(m,30),t(g),1===R||R===-1)b=1===R;else if(D){var L=x.offsetTop,j=a.offsetTop;b=L===j?a.previousElementSibling===x&&!T||O&&T:a.previousElementSibling===x||x.previousElementSibling===a?(i.clientY-r.top)/w>.5:j>L}else b=P!==x&&!E||O&&E;x.contains(c)||(b&&!P?c.appendChild(x):a.parentNode.insertBefore(x,b?P:a)),_=x.parentNode,this._animate(o,x),this._animate(r,a)}}}},_animate:function(e,t){var n=this.options.animation;if(n){var i=t.getBoundingClientRect();l(t,"transition","none"),l(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,l(t,"transition","all "+n+"ms"),l(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){l(t,"transition",""),l(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;r(W,"touchmove",this._onTouchMove),r(W,"pointermove",this._onTouchMove),r(e,"mouseup",this._onDrop),r(e,"touchend",this._onDrop),r(e,"pointerup",this._onDrop),r(e,"touchcancel",this._onDrop)},_onDrop:function(t){var n=this.el,i=this.options;clearInterval(this._loopId),clearInterval(j.pid),clearTimeout(this._dragStartTimer),r(W,"mousemove",this._onTouchMove),this.nativeDraggable&&(r(W,"drop",this),r(n,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(B&&(t.preventDefault(),!i.dropBubble&&t.stopPropagation()),$&&$.parentNode.removeChild($),x&&(this.nativeDraggable&&r(x,"dragend",this),p(x),x.style["will-change"]="",s(x,this.options.ghostClass,!1),s(x,this.options.chosenClass,!1),S!==_?(P=g(x,i.draggable),P>=0&&(d(null,_,"add",x,S,O,P),d(this,S,"remove",x,S,O,P),d(null,_,"sort",x,S,O,P),d(this,S,"sort",x,S,O,P))):(k&&k.parentNode.removeChild(k),x.nextSibling!==C&&(P=g(x,i.draggable),P>=0&&(d(this,S,"update",x,S,O,P),d(this,S,"sort",x,S,O,P)))),e.active&&(null!=P&&P!==-1||(P=O),d(this,S,"end",x,S,O,P),this.save()))),this._nulling()},_nulling:function(){S=x=_=$=C=k=D=T=R=L=B=P=I=M=N=F=e.active=null},handleEvent:function(e){var t=e.type;"dragover"===t||"dragenter"===t?x&&(this._onDragOver(e),a(e)):"drop"!==t&&"dragend"!==t||this._onDrop(e)},toArray:function(){for(var e,t=[],i=this.el.children,a=0,o=i.length,r=this.options;a<o;a++)e=i[a],n(e,r.draggable,this.el)&&t.push(e.getAttribute(r.dataIdAttr)||h(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,a){var o=i.children[a];n(o,this.options.draggable,i)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return n(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;return void 0===t?n[e]:(n[e]=t,void("group"===e&&te(n)))},destroy:function(){var e=this.el;e[U]=null,r(e,"mousedown",this._onTapStart),r(e,"touchstart",this._onTapStart),r(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(r(e,"dragover",this),r(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),Z.splice(Z.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},e.utils={on:o,off:r,css:l,find:c,is:function(e,t){return!!n(e,t,e)},extend:y,throttle:b,closest:n,toggleClass:s,clone:w,index:g},e.create=function(t,n){return new e(t,n)},e.version="1.5.0-rc1",e}),function(e){"use strict";"function"==typeof define&&define.amd?define(["angular","sortablejs"],e):"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?(require("angular"),e(angular,require("sortablejs")),module.exports="ng-sortable"):window.angular&&window.Sortable&&e(angular,Sortable)}(function(e,t){"use strict";var n="Sortable:ng-sortable";e.module("ng-sortable",[]).constant("ngSortableVersion","0.4.1").constant("ngSortableConfig",{animation:350,chosenClass:"sortable-chosen",handle:".sortable-handle",forceFallback:!1}).directive("ngSortable",["$parse","ngSortableConfig",function(i,a){function o(e){return e.getAttribute("ng-repeat")||e.getAttribute("data-ng-repeat")||e.getAttribute("x-ng-repeat")||e.getAttribute("dir-paginate")}var r,s;return{restrict:"AC",scope:{ngSortable:"=?"},priority:1001,compile:function(l,c){var d=[].filter.call(l[0].childNodes,function(e){return e.nodeType===Node.ELEMENT_NODE&&o(e)})[0];if(d){var u=o(d).match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(u){var p=u[2];return function(o,l){function c(e,t){var n="on"+e.type.charAt(0).toUpperCase()+e.type.substr(1),i=g();b[n]&&b[n]({model:t||i[e.newIndex],models:i,oldIndex:e.oldIndex,newIndex:e.newIndex,originalEvent:e})}function d(i){var a=g();if(a){var l=i.oldIndex,c=i.newIndex;if(v!==i.from){var d=i.from[n]();r=d[l],i.clone?(r=e.copy(r),d.splice(t.utils.index(i.clone,f.options.draggable),0,d.splice(l,1)[0]),i.from.removeChild(i.clone)):d.splice(l,1),a.splice(c,0,r),i.from.insertBefore(i.item,s)}else a.splice(c,0,a.splice(l,1)[0]),s.nodeType===Node.COMMENT_NODE&&i.from.insertBefore(s,i.item.nextSibling);o.$apply()}}function u(){m(),e.forEach(y,function(e){e()}),f.destroy(),v[n]=null,v=null,y=null,f=null,s=null}var m,f,h=i(p),g=function(){return h(o.$parent)||[]},v=l[0],b=e.extend(o.ngSortable||{},a),y=[];v[n]=g,f=t.create(v,Object.keys(b).reduce(function(e,t){return e[t]=e[t]||b[t],e},{onStart:function(e){s=e.from===e.item.parentNode?e.item.nextSibling:e.clone.nextSibling,c(e),o.$apply()},onEnd:function(e){c(e,r),o.$apply()},onAdd:function(e){d(e),c(e,r),o.$apply()},onUpdate:function(e){d(e),c(e)},onRemove:function(e){c(e,r)},onSort:function(e){c(e)}})),e.forEach(["sort","disabled","draggable","handle","animation","group","ghostClass","filter","onStart","onEnd","onAdd","onUpdate","onRemove","onSort","onMove","onClone","setData"],function(e){y.push(o.$watch("ngSortable."+e,function(t){void 0!==t&&(b[e]=t,/^on[A-Z]/.test(e)||f.option(e,t))}))}),m=o.$on("$destroy",u)}}}}}}])}),!function(e,t){"use strict";var n=["ng","oc.lazyLoad"],i={},a=[],o=[],r=[],s=[],l=e.noop,c={},d=[],u=e.module("oc.lazyLoad",["ng"]);u.provider("$ocLazyLoad",["$controllerProvider","$provide","$compileProvider","$filterProvider","$injector","$animateProvider",function(u,p,h,g,v,b){function y(t,i,a){if(i){var o,s,u,p=[];for(o=i.length-1;o>=0;o--)if(s=i[o],e.isString(s)||(s=_(s)),s&&-1===d.indexOf(s)&&(!k[s]||-1!==r.indexOf(s))){var m=-1===n.indexOf(s);if(u=f(s),m&&(n.push(s),y(t,u.requires,a)),u._runBlocks.length>0)for(c[s]=[];u._runBlocks.length>0;)c[s].push(u._runBlocks.shift());e.isDefined(c[s])&&(m||a.rerun)&&(p=p.concat(c[s])),x(t,u._invokeQueue,s,a.reconfig),x(t,u._configBlocks,s,a.reconfig),l(m?"ocLazyLoad.moduleLoaded":"ocLazyLoad.moduleReloaded",s),i.pop(),d.push(s)}var h=t.getInstanceInjector();e.forEach(p,function(e){h.invoke(e)})}}function w(t,n){function a(t,n){var i,a=!0;return n.length&&(i=o(t),e.forEach(n,function(e){a=a&&o(e)!==i})),a}function o(t){return e.isArray(t)?M(t.toString()):e.isObject(t)?M(I(t)):e.isDefined(t)&&null!==t?M(t.toString()):t}var r=t[2][0],s=t[1],c=!1;e.isUndefined(i[n])&&(i[n]={}),e.isUndefined(i[n][s])&&(i[n][s]={});var d=function(e,t){i[n][s].hasOwnProperty(e)||(i[n][s][e]=[]),a(t,i[n][s][e])&&(c=!0,i[n][s][e].push(t),l("ocLazyLoad.componentLoaded",[n,s,e]))};if(e.isString(r))d(r,t[2][1]);else{if(!e.isObject(r))return!1;e.forEach(r,function(t,n){e.isString(t)?d(t,r[1]):d(n,t)})}return c}function x(t,n,i,o){if(n){var r,s,l,c;for(r=0,s=n.length;s>r;r++)if(l=n[r],e.isArray(l)){if(null!==t){if(!t.hasOwnProperty(l[0]))throw new Error("unsupported provider "+l[0]);c=t[l[0]]}var d=w(l,i);if("invoke"!==l[1])d&&e.isDefined(c)&&c[l[1]].apply(c,l[2]);else{var u=function(t){var n=a.indexOf(i+"-"+t);(-1===n||o)&&(-1===n&&a.push(i+"-"+t),e.isDefined(c)&&c[l[1]].apply(c,l[2]))};if(e.isFunction(l[2][0]))u(l[2][0]);else if(e.isArray(l[2][0]))for(var p=0,m=l[2][0].length;m>p;p++)e.isFunction(l[2][0][p])&&u(l[2][0][p])}}}}function _(t){var n=null;return e.isString(t)?n=t:e.isObject(t)&&t.hasOwnProperty("name")&&e.isString(t.name)&&(n=t.name),n}function $(t){if(!e.isString(t))return!1;try{return f(t)}catch(e){if(/No module/.test(e)||e.message.indexOf("$injector:nomod")>-1)return!1}}var k={},S={$controllerProvider:u,$compileProvider:h,$filterProvider:g,$provide:p,$injector:v,$animateProvider:b},C=!1,D=!1,T=[],E={};T.push=function(e){-1===this.indexOf(e)&&Array.prototype.push.apply(this,arguments)},this.config=function(t){e.isDefined(t.modules)&&(e.isArray(t.modules)?e.forEach(t.modules,function(e){k[e.name]=e}):k[t.modules.name]=t.modules),e.isDefined(t.debug)&&(C=t.debug),e.isDefined(t.events)&&(D=t.events)},this._init=function(i){if(0===o.length){var a=[i],r=["ng:app","ng-app","x-ng-app","data-ng-app"],l=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/,c=function(e){return e&&a.push(e)};e.forEach(r,function(t){r[t]=!0,c(document.getElementById(t)),t=t.replace(":","\\:"),"undefined"!=typeof i[0]&&i[0].querySelectorAll&&(e.forEach(i[0].querySelectorAll("."+t),c),e.forEach(i[0].querySelectorAll("."+t+"\\:"),c),e.forEach(i[0].querySelectorAll("["+t+"]"),c))}),e.forEach(a,function(t){if(0===o.length){var n=" "+i.className+" ",a=l.exec(n);a?o.push((a[2]||"").replace(/\s+/g,",")):e.forEach(t.attributes,function(e){0===o.length&&r[e.name]&&o.push(e.value)})}})}0!==o.length||(t.jasmine||t.mocha)&&e.isDefined(e.mock)||console.error("No module found during bootstrap, unable to init ocLazyLoad. You should always use the ng-app directive or angular.boostrap when you use ocLazyLoad.");var d=function t(i){if(-1===n.indexOf(i)){n.push(i);var a=e.module(i);x(null,a._invokeQueue,i),x(null,a._configBlocks,i),e.forEach(a.requires,t)}};e.forEach(o,function(e){d(e)}),o=[],s.pop()};var I=function(t){try{return JSON.stringify(t)}catch(i){var n=[];return JSON.stringify(t,function(t,i){if(e.isObject(i)&&null!==i){if(-1!==n.indexOf(i))return;n.push(i)}return i})}},M=function(e){var t,n,i,a=0;if(0==e.length)return a;for(t=0,i=e.length;i>t;t++)n=e.charCodeAt(t),a=(a<<5)-a+n,a|=0;return a};this.$get=["$log","$rootElement","$rootScope","$cacheFactory","$q",function(t,a,r,c,u){function p(e){var n=u.defer();return t.error(e.message),n.reject(e),n.promise}var h,g=c("ocLazyLoad");return C||(t={},t.error=e.noop,t.warn=e.noop,t.info=e.noop),S.getInstanceInjector=function(){return h?h:h=a.data("$injector")||e.injector()},l=function(e,n){D&&r.$broadcast(e,n),C&&t.info(e,n)},{_broadcast:l,_$log:t,_getFilesCache:function(){return g},toggleWatch:function(e){e?s.push(!0):s.pop()},getModuleConfig:function(t){if(!e.isString(t))throw new Error("You need to give the name of the module to get");return k[t]?e.copy(k[t]):null},setModuleConfig:function(t){if(!e.isObject(t))throw new Error("You need to give the module config object to set");return k[t.name]=t,t},getModules:function(){return n},isLoaded:function(t){var i=function(e){var t=n.indexOf(e)>-1;return t||(t=!!$(e)),t};if(e.isString(t)&&(t=[t]),e.isArray(t)){var a,o;for(a=0,o=t.length;o>a;a++)if(!i(t[a]))return!1;return!0}throw new Error("You need to define the module(s) name(s)")},_getModuleName:_,_getModule:function(e){try{return f(e)}catch(t){throw(/No module/.test(t)||t.message.indexOf("$injector:nomod")>-1)&&(t.message='The module "'+I(e)+'" that you are trying to load does not exist. '+t.message),t}},moduleExists:$,_loadDependencies:function(t,n){var i,a,o,r=[],s=this;if(t=s._getModuleName(t),null===t)return u.when();try{i=s._getModule(t)}catch(e){return p(e)}return a=s.getRequires(i),e.forEach(a,function(i){if(e.isString(i)){var a=s.getModuleConfig(i);if(null===a)return void T.push(i);i=a,a.name=void 0}if(s.moduleExists(i.name))return o=i.files.filter(function(e){return s.getModuleConfig(i.name).files.indexOf(e)<0}),0!==o.length&&s._$log.warn('Module "',t,'" attempted to redefine configuration for dependency. "',i.name,'"\n Additional Files Loaded:',o),e.isDefined(s.filesLoader)?void r.push(s.filesLoader(i,n).then(function(){return s._loadDependencies(i)})):p(new Error("Error: New dependencies need to be loaded from external files ("+i.files+"), but no loader has been defined."));if(e.isArray(i)){var l=[];e.forEach(i,function(e){var t=s.getModuleConfig(e);null===t?l.push(e):t.files&&(l=l.concat(t.files))}),l.length>0&&(i={files:l})}else e.isObject(i)&&i.hasOwnProperty("name")&&i.name&&(s.setModuleConfig(i),T.push(i.name));if(e.isDefined(i.files)&&0!==i.files.length){if(!e.isDefined(s.filesLoader))return p(new Error('Error: the module "'+i.name+'" is defined in external files ('+i.files+"), but no loader has been defined."));r.push(s.filesLoader(i,n).then(function(){return s._loadDependencies(i)}))}}),u.all(r)},inject:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],a=this,r=u.defer();if(e.isDefined(t)&&null!==t){if(e.isArray(t)){var s=[];return e.forEach(t,function(e){s.push(a.inject(e,n,i))}),u.all(s)}a._addToLoadList(a._getModuleName(t),!0,i)}if(o.length>0){var l=o.slice(),c=function e(t){T.push(t),E[t]=r.promise,a._loadDependencies(t,n).then(function(){try{d=[],y(S,T,n)}catch(e){return a._$log.error(e.message),void r.reject(e)}o.length>0?e(o.shift()):r.resolve(l)},function(e){r.reject(e)})};c(o.shift())}else{if(n&&n.name&&E[n.name])return E[n.name];r.resolve()}return r.promise},getRequires:function(t){var i=[];return e.forEach(t.requires,function(e){-1===n.indexOf(e)&&i.push(e)}),i},_invokeQueue:x,_registerInvokeList:w,_register:y,_addToLoadList:m,_unregister:function(t){e.isDefined(t)&&e.isArray(t)&&e.forEach(t,function(e){i[e]=void 0})}}}],this._init(e.element(t.document))}]);var p=e.bootstrap;e.bootstrap=function(t,n,i){return e.forEach(n.slice(),function(e){m(e,!0,!0)}),p(t,n,i)};var m=function(t,n,i){(s.length>0||n)&&e.isString(t)&&-1===o.indexOf(t)&&(o.push(t),i&&r.push(t))},f=e.module;e.module=function(e,t,n){return m(e,!1,!0),f(e,t,n)},"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="oc.lazyLoad")}(angular,window),function(e){"use strict";e.module("oc.lazyLoad").directive("ocLazyLoad",["$ocLazyLoad","$compile","$animate","$parse","$timeout",function(t,n,i,a,o){return{restrict:"A",terminal:!0,priority:1e3,compile:function(o,r){var s=o[0].innerHTML;return o.html(""),function(o,r,l){var c=a(l.ocLazyLoad);o.$watch(function(){return c(o)||l.ocLazyLoad},function(a){e.isDefined(a)&&t.load(a).then(function(){i.enter(s,r),n(r.contents())(o)})},!0)}}}}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q","$window","$interval",function(t,n,i,a){var o=!1,r=!1,s=i.document.getElementsByTagName("head")[0]||i.document.getElementsByTagName("body")[0];return t.buildElement=function(l,c,d){var u,p,m=n.defer(),f=t._getFilesCache(),h=function(e){
var t=(new Date).getTime();return e.indexOf("?")>=0?"&"===e.substring(0,e.length-1)?e+"_dc="+t:e+"&_dc="+t:e+"?_dc="+t},g=c.indexOf("?")>=0?"&":"?";switch(e.isDefined(window.vars.version)&&(c=c+g+"_="+window.vars.version),e.isUndefined(f.get(c))&&f.put(c,m.promise),l){case"css":u=i.document.createElement("link"),u.type="text/css",u.rel="stylesheet",u.href=d.cache===!1?h(c):c;break;case"js":u=i.document.createElement("script"),u.src=d.cache===!1?h(c):c;break;default:f.remove(c),m.reject(new Error('Requested type "'+l+'" is not known. Could not inject "'+c+'"'))}u.onload=u.onreadystatechange=function(e){u.readyState&&!/^c|loade/.test(u.readyState)||p||(u.onload=u.onreadystatechange=null,p=1,t._broadcast("ocLazyLoad.fileLoaded",c),m.resolve())},u.onerror=function(){f.remove(c),m.reject(new Error("Unable to load "+c))},u.async=d.serie?0:1;var v=s.lastChild;if(d.insertBefore){var b=e.element(e.isDefined(window.jQuery)?d.insertBefore:document.querySelector(d.insertBefore));b&&b.length>0&&(v=b[0])}if(v.parentNode.insertBefore(u,v),"css"==l){if(!o){var y=i.navigator.userAgent.toLowerCase();if(/iP(hone|od|ad)/.test(i.navigator.platform)){var w=i.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),x=parseFloat([parseInt(w[1],10),parseInt(w[2],10),parseInt(w[3]||0,10)].join("."));r=6>x}else if(y.indexOf("android")>-1){var _=parseFloat(y.slice(y.indexOf("android")+8));r=4.4>_}else if(y.indexOf("safari")>-1){var $=y.match(/version\/([\.\d]+)/i);r=$&&$[1]&&parseFloat($[1])<6}}if(r)var k=1e3,S=a(function(){try{u.sheet.cssRules,a.cancel(S),u.onload()}catch(e){--k<=0&&u.onerror()}},20)}return m.promise},t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.filesLoader=function(i){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=[],r=[],s=[],l=[],c=null,d=t._getFilesCache();t.toggleWatch(!0),e.extend(a,i);var u=function(n){var i,u=null;if(e.isObject(n)&&(u=n.type,n=n.path),c=d.get(n),e.isUndefined(c)||a.cache===!1){if(null!==(i=/^(css|less|html|htm|js)?(?=!)/.exec(n))&&(u=i[1],n=n.substr(i[1].length+1,n.length)),!u)if(null!==(i=/[.](css|less|html|htm|js)?((\?|#).*)?$/.exec(n)))u=i[1];else{if(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||!t.jsLoader.hasOwnProperty("requirejs"))return void t._$log.error("File type could not be determined. "+n);u="js"}"css"!==u&&"less"!==u||-1!==o.indexOf(n)?"html"!==u&&"htm"!==u||-1!==r.indexOf(n)?"js"===u||-1===s.indexOf(n)?s.push(n):t._$log.error("File type is not valid. "+n):r.push(n):o.push(n)}else c&&l.push(c)};if(a.serie?u(a.files.shift()):e.forEach(a.files,function(e){u(e)}),o.length>0){var p=n.defer();t.cssLoader(o,function(n){e.isDefined(n)&&t.cssLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(n),p.reject(n)):p.resolve()},a),l.push(p.promise)}if(r.length>0){var m=n.defer();t.templatesLoader(r,function(n){e.isDefined(n)&&t.templatesLoader.hasOwnProperty("ocLazyLoadLoader")?(t._$log.error(n),m.reject(n)):m.resolve()},a),l.push(m.promise)}if(s.length>0){var f=n.defer();t.jsLoader(s,function(n){e.isDefined(n)&&(t.jsLoader.hasOwnProperty("ocLazyLoadLoader")||t.jsLoader.hasOwnProperty("requirejs"))?(t._$log.error(n),f.reject(n)):f.resolve()},a),l.push(f.promise)}if(0===l.length){var h=n.defer(),g="Error: no file to load has been found, if you're trying to load an existing module you should use the 'inject' method instead of 'load'.";return t._$log.error(g),h.reject(g),h.promise}return a.serie&&a.files.length>0?n.all(l).then(function(){return t.filesLoader(i,a)}):n.all(l).finally(function(e){return t.toggleWatch(!1),e})},t.load=function(i){var a,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=this,s=null,l=[],c=n.defer(),d=e.copy(i),u=e.copy(o);if(e.isArray(d))return e.forEach(d,function(e){l.push(r.load(e,u))}),n.all(l).then(function(e){c.resolve(e)},function(e){c.reject(e)}),c.promise;if(e.isString(d)?(s=r.getModuleConfig(d),s||(s={files:[d]})):e.isObject(d)&&(s=e.isDefined(d.path)&&e.isDefined(d.type)?{files:[d]}:r.setModuleConfig(d)),null===s){var p=r._getModuleName(d);return a='Module "'+(p||"unknown")+'" is not configured, cannot load.',t._$log.error(a),c.reject(new Error(a)),c.promise}e.isDefined(s.template)&&(e.isUndefined(s.files)&&(s.files=[]),e.isString(s.template)?s.files.push(s.template):e.isArray(s.template)&&s.files.concat(s.template));var m=e.extend({},u,s);return e.isUndefined(s.files)&&e.isDefined(s.name)&&t.moduleExists(s.name)?t.inject(s.name,m,!0):(t.filesLoader(s,m).then(function(){t.inject(null,m).then(function(e){c.resolve(e)},function(e){c.reject(e)})},function(e){c.reject(e)}),c.promise)},t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.cssLoader=function(i,a,o){var r=[];e.forEach(i,function(e){r.push(t.buildElement("css",e,o))}),n.all(r).then(function(){a()},function(e){a(e)})},t.cssLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$q",function(t,n){return t.jsLoader=function(i,a,o){var r=[];e.forEach(i,function(e){r.push(t.buildElement("js",e,o))}),n.all(r).then(function(){a()},function(e){a(e)})},t.jsLoader.ocLazyLoadLoader=!0,t}])}])}(angular),function(e){"use strict";e.module("oc.lazyLoad").config(["$provide",function(t){t.decorator("$ocLazyLoad",["$delegate","$templateCache","$q","$http",function(t,n,i,a){return t.templatesLoader=function(o,r,s){var l=[],c=t._getFilesCache();return e.forEach(o,function(t){var o=i.defer();l.push(o.promise),a.get(t,s).success(function(i){e.isString(i)&&i.length>0&&e.forEach(e.element(i),function(e){"SCRIPT"===e.nodeName&&"text/ng-template"===e.type&&n.put(e.id,e.innerHTML)}),e.isUndefined(c.get(t))&&c.put(t,!0),o.resolve()}).error(function(e){o.reject(new Error('Unable to load template file "'+t+'": '+e))})}),i.all(l).then(function(){r()},function(e){r(e)})},t.templatesLoader.ocLazyLoadLoader=!0,t}])}])}(angular),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),a=i.length>>>0;if(0===a)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),o>=a)return-1;for(n=Math.max(o>=0?o:a-Math.abs(o),0);a>n;){if(n in i&&i[n]===e)return n;n++}return-1}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function($){"use strict";var func=function(){var e=function(e){return function(t){return e===t}},t=function(e,t){return e===t},n=function(e){return function(t,n){return t[e]===n[e]}},i=function(){return!0},a=function(){return!1},o=function(e){return function(){return!e.apply(e,arguments)}},r=function(e,t){return function(n){return e(n)&&t(n)}},s=function(e){return e},l=function(e,t){return function(){return e[t].apply(e,arguments)}},c=0,d=function(e){var t=++c+"";return e?e+t:t},u=function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},p=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},m=function(e,t){return t=t||"",t+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},f=function(e,t,n){var i;return function(){var a=this,o=arguments,r=function(){i=null,n||e.apply(a,o)},s=n&&!i;clearTimeout(i),i=setTimeout(r,t),s&&e.apply(a,o)}};return{eq:e,eq2:t,peq2:n,ok:i,fail:a,self:s,not:o,and:r,invoke:l,uniqueId:d,rect2bnd:u,invertObject:p,namespaceToCamel:m,debounce:f}}(),list=function(){var e=function(e){return e[0]},t=function(e){return e[e.length-1]},n=function(e){return e.slice(0,e.length-1)},i=function(e){return e.slice(1)},a=function(e,t){for(var n=0,i=e.length;i>n;n++){var a=e[n];if(t(a))return a}},o=function(e,t){for(var n=0,i=e.length;i>n;n++)if(!t(e[n]))return!1;return!0},r=function(e,t){return $.inArray(t,e)},s=function(e,t){return-1!==r(e,t)},l=function(e,t){return t=t||func.self,e.reduce(function(e,n){return e+t(n)},0)},c=function(e){for(var t=[],n=-1,i=e.length;++n<i;)t[n]=e[n];return t},d=function(e){return!e||!e.length},u=function(n,a){if(!n.length)return[];var o=i(n);return o.reduce(function(e,n){var i=t(e);return a(t(i),n)?i[i.length]=n:e[e.length]=[n],e},[[e(n)]])},p=function(e){for(var t=[],n=0,i=e.length;i>n;n++)e[n]&&t.push(e[n]);return t},m=function(e){for(var t=[],n=0,i=e.length;i>n;n++)s(t,e[n])||t.push(e[n]);return t},f=function(e,t){var n=r(e,t);return-1===n?null:e[n+1]},h=function(e,t){var n=r(e,t);return-1===n?null:e[n-1]};return{head:e,last:t,initial:n,tail:i,prev:h,next:f,find:a,contains:s,all:o,sum:l,from:c,isEmpty:d,clusterBy:u,compact:p,unique:m}}(),isSupportAmd="function"==typeof define&&define.amd,isFontInstalled=function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n=$("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),i=n.css("fontFamily",t).width(),a=n.css("fontFamily",e+","+t).width();return n.remove(),i!==a},userAgent=navigator.userAgent,isMSIE=/MSIE|Trident/i.test(userAgent),browserVersion;if(isMSIE){var matches=/MSIE (\d+[.]\d+)/.exec(userAgent);matches&&(browserVersion=parseFloat(matches[1])),matches=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(userAgent),matches&&(browserVersion=parseFloat(matches[1]))}var isEdge=/Edge\/\d+/.test(userAgent),hasCodeMirror=!!window.CodeMirror;if(!hasCodeMirror&&isSupportAmd&&"undefined"!=typeof require)if("undefined"!=typeof require.resolve)try{require.resolve("codemirror"),hasCodeMirror=!0}catch(e){}else"undefined"!=typeof eval("require").specified&&(hasCodeMirror=eval("require").specified("codemirror"));var agent={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:isMSIE,isEdge:isEdge,isFF:!isEdge&&/firefox/i.test(userAgent),isPhantom:/PhantomJS/i.test(userAgent),isWebkit:!isEdge&&/webkit/i.test(userAgent),isChrome:!isEdge&&/chrome/i.test(userAgent),isSafari:!isEdge&&/safari/i.test(userAgent),browserVersion:browserVersion,jqueryVersion:parseFloat($.fn.jquery),isSupportAmd:isSupportAmd,hasCodeMirror:hasCodeMirror,isFontInstalled:isFontInstalled,isW3CRangeSupport:!!document.createRange},NBSP_CHAR=String.fromCharCode(160),ZERO_WIDTH_NBSP_CHAR="\ufeff",dom=function(){var e=function(e){return e&&$(e).hasClass("note-editable")},t=function(e){return e&&$(e).hasClass("note-control-sizing")},n=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}},i=function(e){return e&&3===e.nodeType},a=function(e){return e&&1===e.nodeType},o=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(e.nodeName.toUpperCase())},r=function(t){return!e(t)&&(t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()))},s=function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},l=n("PRE"),c=n("LI"),d=function(e){return r(e)&&!c(e)},u=n("TABLE"),p=n("DATA"),m=function(e){return!(b(e)||f(e)||h(e)||r(e)||u(e)||v(e)||p(e))},f=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},h=n("HR"),g=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},v=n("BLOCKQUOTE"),b=function(t){return g(t)||v(t)||e(t)},y=n("A"),w=function(e){return m(e)&&!!I(e,r)},x=function(e){return m(e)&&!I(e,r)},_=n("BODY"),k=function(e,t){return e.nextSibling===t||e.previousSibling===t},S=function(e,t){t=t||func.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},C=agent.isMSIE&&agent.browserVersion<11?"&nbsp;":"<br>",D=function(e){return i(e)?e.nodeValue.length:e?e.childNodes.length:0},T=function(e){var t=D(e);return 0===t||(!i(e)&&1===t&&e.innerHTML===C||!(!list.all(e.childNodes,i)||""!==e.innerHTML))},E=function(e){o(e)||D(e)||(e.innerHTML=C)},I=function(t,n){for(;t;){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},M=function(t,n){for(t=t.parentNode;t&&1===D(t);){if(n(t))return t;if(e(t))break;t=t.parentNode}return null},A=function(t,n){n=n||func.fail;var i=[];return I(t,function(t){return e(t)||i.push(t),n(t)}),i},O=function(e,t){var n=A(e);return list.last(n.filter(t))},P=function(e,t){for(var n=A(e),i=t;i;i=i.parentNode)if($.inArray(i,n)>-1)return i;return null},F=function(e,t){t=t||func.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},N=function(e,t){t=t||func.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n},R=function(e,t){var n=[];return t=t||func.ok,function i(a){e!==a&&t(a)&&n.push(a);for(var o=0,r=a.childNodes.length;r>o;o++)i(a.childNodes[o])}(e),n},L=function(e,t){var n=e.parentNode,i=$("<"+t+">")[0];return n.insertBefore(i,e),i.appendChild(e),i},B=function(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e},j=function(e,t){return $.each(t,function(t,n){e.appendChild(n)}),e},z=function(e){return 0===e.offset},U=function(e){return e.offset===D(e.node)},H=function(e){return z(e)||U(e)},W=function(e,t){for(;e&&e!==t;){if(0!==G(e))return!1;e=e.parentNode}return!0},q=function(e,t){if(!t)return!1;for(;e&&e!==t;){if(G(e)!==D(e.parentNode)-1)return!1;e=e.parentNode}return!0},V=function(e,t){return z(e)&&W(e.node,t)},Y=function(e,t){return U(e)&&q(e.node,t)},G=function(e){for(var t=0;e=e.previousSibling;)t+=1;return t},K=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},X=function(t,n){var i,a;if(0===t.offset){if(e(t.node))return null;i=t.node.parentNode,a=G(t.node)}else K(t.node)?(i=t.node.childNodes[t.offset-1],a=D(i)):(i=t.node,a=n?0:t.offset-1);return{node:i,offset:a}},J=function(t,n){var i,a;if(D(t.node)===t.offset){if(e(t.node))return null;i=t.node.parentNode,a=G(t.node)+1}else K(t.node)?(i=t.node.childNodes[t.offset],a=0):(i=t.node,a=n?D(t.node):t.offset+1);return{node:i,offset:a}},Q=function(e,t){return e.node===t.node&&e.offset===t.offset},Z=function(e){if(i(e.node)||!K(e.node)||T(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!o(t)||n&&!o(n))},ee=function(e,t){for(;e;){if(t(e))return e;e=X(e)}return null},te=function(e,t){for(;e;){if(t(e))return e;e=J(e)}return null},ne=function(e){if(!i(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==NBSP_CHAR},ie=function(e,t,n,i){for(var a=e;a&&(n(a),!Q(a,t));){var o=i&&e.node!==a.node&&t.node!==a.node;a=J(a,o)}},ae=function(e,t){var n=A(t,func.eq(e));return n.map(G).reverse()},oe=function(e,t){for(var n=e,i=0,a=t.length;a>i;i++)n=n.childNodes.length<=t[i]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[i]];return n},re=function(e,t){var n=t&&t.isSkipPaddingBlankHTML,a=t&&t.isNotSplitEdgePoint;if(H(e)&&(i(e.node)||a)){if(z(e))return e.node;if(U(e))return e.node.nextSibling}if(i(e.node))return e.node.splitText(e.offset);var o=e.node.childNodes[e.offset],r=B(e.node.cloneNode(!1),e.node);return j(r,N(o)),n||(E(e.node),E(r)),r},se=function(e,t,n){var i=A(t.node,func.eq(e));return i.length?1===i.length?re(t,n):i.reduce(function(e,i){return e===t.node&&(e=re(t,n)),re({node:i,offset:e?dom.position(e):D(i)},n)}):null},le=function(e,t){var n,i,a=t?r:b,o=A(e.node,a),s=list.last(o)||e.node;a(s)?(n=o[o.length-2],i=s):(n=s,i=n.parentNode);var l=n&&se(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return l||i!==e.node||(l=e.node.childNodes[e.offset]),{rightNode:l,container:i}},ce=function(e){return document.createElement(e)},de=function(e){return document.createTextNode(e)},ue=function(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var i,a,o=[];for(i=0,a=e.childNodes.length;a>i;i++)o.push(e.childNodes[i]);for(i=0,a=o.length;a>i;i++)n.insertBefore(o[i],e)}n.removeChild(e)}},pe=function(t,n){for(;t&&!e(t)&&n(t);){var i=t.parentNode;ue(t),t=i}},me=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=ce(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),j(n,list.from(e.childNodes)),B(n,e),ue(e),n},fe=n("TEXTAREA"),he=function(e,t){var n=fe(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n},ge=function(e,t){var n=he(e);if(t){var i=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;n=n.replace(i,function(e,t,n){n=n.toUpperCase();var i=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,a=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(i||a?"\n":"")}),n=$.trim(n)}return n},ve=function(e){var t=$(e),n=t.offset(),i=t.outerHeight(!0);return{left:n.left,top:n.top+i}},be=function(e,t){Object.keys(t).forEach(function(n){e.on(n,t[n])})},ye=function(e,t){Object.keys(t).forEach(function(n){e.off(n,t[n])})};return{NBSP_CHAR:NBSP_CHAR,ZERO_WIDTH_NBSP_CHAR:ZERO_WIDTH_NBSP_CHAR,blank:C,emptyPara:"<p>"+C+"</p>",makePredByNodeName:n,isEditable:e,isControlSizing:t,isText:i,isElement:a,isVoid:o,isPara:r,isPurePara:d,isHeading:s,isInline:m,isBlock:func.not(m),isBodyInline:x,isBody:_,isParaInline:w,isPre:l,isList:f,isTable:u,isData:p,isCell:g,isBlockquote:v,isBodyContainer:b,isAnchor:y,isDiv:n("DIV"),isLi:c,isBR:n("BR"),isSpan:n("SPAN"),isB:n("B"),isU:n("U"),isS:n("S"),isI:n("I"),isImg:n("IMG"),isTextarea:fe,isEmpty:T,isEmptyAnchor:func.and(y,T),isClosestSibling:k,withClosestSiblings:S,nodeLength:D,isLeftEdgePoint:z,isRightEdgePoint:U,isEdgePoint:H,isLeftEdgeOf:W,isRightEdgeOf:q,isLeftEdgePointOf:V,isRightEdgePointOf:Y,prevPoint:X,nextPoint:J,isSamePoint:Q,isVisiblePoint:Z,prevPointUntil:ee,nextPointUntil:te,isCharPoint:ne,walkPoint:ie,ancestor:I,singleChildAncestor:M,listAncestor:A,lastAncestor:O,listNext:N,listPrev:F,listDescendant:R,commonAncestor:P,wrap:L,insertAfter:B,appendChildNodes:j,position:G,hasChildren:K,makeOffsetPath:ae,fromOffsetPath:oe,splitTree:se,splitPoint:le,create:ce,createText:de,remove:ue,removeWhile:pe,replace:me,html:ge,value:he,posFromPlaceholder:ve,attachEvents:be,detachEvents:ye}}(),Context=function(e,t){var n=this,i=$.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize=function(){return this.layoutInfo=i.createLayout(e,t),this._initialize(),e.hide(),this},this.destroy=function(){this._destroy(),e.removeData("summernote"),i.removeLayout(e,this.layoutInfo)},this.reset=function(){var e=n.isDisabled();this.code(dom.emptyPara),this._destroy(),this._initialize(),e&&n.disable()},this._initialize=function(){var e=$.extend({},this.options.buttons);Object.keys(e).forEach(function(t){n.memo("button."+t,e[t])});var t=$.extend({},this.options.modules,$.summernote.plugins||{});Object.keys(t).forEach(function(e){n.module(e,t[e],!0)}),Object.keys(this.modules).forEach(function(e){n.initializeModule(e)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(e){n.removeModule(e)}),Object.keys(this.memos).forEach(function(e){n.removeMemo(e)})},this.code=function(t){var n=this.invoke("codeview.isActivated");return void 0===t?(this.invoke("codeview.sync"),n?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(n?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),e.val(t),void this.triggerEvent("change",t))},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var t=list.head(arguments),n=list.tail(list.from(arguments)),i=this.options.callbacks[func.namespaceToCamel(t,"on")];i&&i.apply(e[0],n),e.trigger("summernote."+t,n)},this.initializeModule=function(t){var n=this.modules[t];n.shouldInitialize=n.shouldInitialize||func.ok,n.shouldInitialize()&&(n.initialize&&n.initialize(),n.events&&dom.attachEvents(e,n.events))},this.module=function(e,t,n){return 1===arguments.length?this.modules[e]:(this.modules[e]=new t(this),void(n||this.initializeModule(e)))},this.removeModule=function(t){var n=this.modules[t];n.shouldInitialize()&&(n.events&&dom.detachEvents(e,n.events),n.destroy&&n.destroy()),delete this.modules[t]},this.memo=function(e,t){return 1===arguments.length?this.memos[e]:void(this.memos[e]=t)},this.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},this.createInvokeHandler=function(e,t){return function(i){i.preventDefault(),n.invoke(e,t||$(i.target).closest("[data-value]").data("value"))}},this.invoke=function(){var e=list.head(arguments),t=list.tail(list.from(arguments)),n=e.split("."),i=n.length>1,a=i&&list.head(n),o=i?list.last(n):list.head(n),r=this.modules[a||"editor"];return!a&&this[o]?this[o].apply(this,t):r&&r[o]&&r.shouldInitialize()?r[o].apply(r,t):void 0},this.initialize()};$.fn.extend({summernote:function(){var e=$.type(list.head(arguments)),t="string"===e,n="object"===e,i=n?list.head(arguments):{};i=$.extend({},$.summernote.options,i),i.langInfo=$.extend(!0,{},$.summernote.lang["en-US"],$.summernote.lang[i.lang]),i.icons=$.extend(!0,{},$.summernote.options.icons,i.icons),this.each(function(e,t){var n=$(t);if(!n.data("summernote")){var a=new Context(n,i);n.data("summernote",a),n.data("summernote").triggerEvent("init",a.layoutInfo)}});var a=this.first();if(a.length){var o=a.data("summernote");if(t)return o.invoke.apply(o,list.from(arguments));i.focus&&o.invoke("editor.focus")}return this}});var Renderer=function(e,t,n,i){this.render=function(a){var o=$(e);if(n&&n.contents&&o.html(n.contents),n&&n.className&&o.addClass(n.className),n&&n.data&&$.each(n.data,function(e,t){o.attr("data-"+e,t)}),n&&n.click&&o.on("click",n.click),t){var r=o.find(".note-children-container");t.forEach(function(e){e.render(r.length?r:o)})}return i&&i(o,n),n&&n.callback&&n.callback(o),a&&a.append(o),o}},renderer={create:function(e,t){return function(){var n=$.isArray(arguments[0])?arguments[0]:[],i="object"==typeof arguments[1]?arguments[1]:arguments[0];return i&&i.children&&(n=i.children),new Renderer(e,n,i,t)}}},editor=renderer.create('<div class="note-editor note-frame panel panel-default"/>'),toolbar=renderer.create('<div class="note-toolbar panel-heading"/>'),editingArea=renderer.create('<div class="note-editing-area"/>'),codable=renderer.create('<textarea class="note-codable"/>'),editable=renderer.create('<div class="note-editable panel-body" contentEditable="true"/>'),statusbar=renderer.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),airEditor=renderer.create('<div class="note-editor"/>'),airEditable=renderer.create('<div class="note-editable" contentEditable="true"/>'),buttonGroup=renderer.create('<div class="note-btn-group btn-group">'),button=renderer.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dropdown=renderer.create('<div class="dropdown-menu">',function(e,t){var n=$.isArray(t.items)?t.items.map(function(e){var n="string"==typeof e?e:e.value||"",i=t.template?t.template(e):e;return'<li><a href="#" data-value="'+n+'">'+i+"</a></li>"}).join(""):t.items;e.html(n)}),dropdownCheck=renderer.create('<div class="dropdown-menu note-check">',function(e,t){var n=$.isArray(t.items)?t.items.map(function(e){var n="string"==typeof e?e:e.value||"",i=t.template?t.template(e):e;return'<li><a href="#" data-value="'+n+'">'+icon(t.checkClassName)+" "+i+"</a></li>"}).join(""):t.items;e.html(n)}),palette=renderer.create('<div class="note-color-palette"/>',function(e,t){for(var n=[],i=0,a=t.colors.length;a>i;i++){for(var o=t.eventName,r=t.colors[i],s=[],l=0,c=r.length;c>l;l++){var d=r[l];s.push(['<button type="button" class="note-color-btn"','style="background-color:',d,'" ','data-event="',o,'" ','data-value="',d,'" ','title="',d,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}n.push('<div class="note-color-row">'+s.join("")+"</div>")}e.html(n.join("")),e.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dialog=renderer.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(e,t){t.fade&&e.addClass("fade"),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+t.title+"</h4>    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),popover=renderer.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var n="undefined"!=typeof t.direction?t.direction:"bottom";e.addClass(n),t.hideArrow&&e.find(".arrow").hide()}),icon=function(e,t){return t=t||"i","<"+t+' class="'+e+'"/>'},ui={editor:editor,toolbar:toolbar,editingArea:editingArea,codable:codable,editable:editable,statusbar:statusbar,airEditor:airEditor,airEditable:airEditable,buttonGroup:buttonGroup,button:button,dropdown:dropdown,dropdownCheck:dropdownCheck,palette:palette,dialog:dialog,popover:popover,icon:icon,toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){var n=(t.airMode?ui.airEditor([ui.editingArea([ui.airEditable()])]):ui.editor([ui.toolbar(),ui.editingArea([ui.codable(),ui.editable()]),ui.statusbar()])).render();return n.insertAfter(e),{note:e,editor:n,toolbar:n.find(".note-toolbar"),editingArea:n.find(".note-editing-area"),editable:n.find(".note-editable"),codable:n.find(".note-codable"),statusbar:n.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};$.summernote=$.summernote||{lang:{}},$.extend($.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var key=function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(t){return list.contains([e.BACKSPACE,e.TAB,e.ENTER,e.SPACE],t)},isMove:function(t){return list.contains([e.LEFT,e.UP,e.RIGHT,e.DOWN],t)},nameFromCode:func.invertObject(e),code:e}}(),range=function(){var e=function(e,t){var n,i,a=e.parentElement(),o=document.body.createTextRange(),r=list.from(a.childNodes);for(n=0;n<r.length;n++)if(!dom.isText(r[n])){if(o.moveToElementText(r[n]),o.compareEndPoints("StartToStart",e)>=0)break;i=r[n]}if(0!==n&&dom.isText(r[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(i||a),s.collapse(!i),l=i?i.nextSibling:a.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",s);for(var d=c.text.replace(/[\r\n]/g,"").length;d>l.nodeValue.length&&l.nextSibling;)d-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&dom.isText(l.nextSibling)&&d===l.nodeValue.length&&(d-=l.nodeValue.length,l=l.nextSibling),a=l,n=d}return{cont:a,offset:n}},t=function(e){var t=function(e,n){var i,a;if(dom.isText(e)){var o=dom.listPrev(e,func.not(dom.isText)),r=list.last(o).previousSibling;i=r||e.parentNode,n+=list.sum(list.tail(o),dom.nodeLength),a=!r}else{if(i=e.childNodes[n]||e,dom.isText(i))return t(i,0);n=0,a=!1}return{node:i,collapseToStart:a,offset:n}},n=document.body.createTextRange(),i=t(e.node,e.offset);return n.moveToElementText(i.node),n.collapse(i.collapseToStart),n.moveStart("character",i.offset),n},n=function(e,i,a,o){this.sc=e,this.so=i,this.ec=a,this.eo=o;var r=function(){if(agent.isW3CRangeSupport){var n=document.createRange();return n.setStart(e,i),n.setEnd(a,o),n}var r=t({node:e,offset:i});return r.setEndPoint("EndToEnd",t({node:a,offset:o})),r};this.getPoints=function(){return{sc:e,so:i,ec:a,eo:o}},this.getStartPoint=function(){return{node:e,offset:i}},this.getEndPoint=function(){return{node:a,offset:o}},this.select=function(){var e=r();if(agent.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},this.scrollIntoView=function(e){var t=$(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},this.normalize=function(){var e=function(e,t){if(dom.isVisiblePoint(e)&&!dom.isEdgePoint(e)||dom.isVisiblePoint(e)&&dom.isRightEdgePoint(e)&&!t||dom.isVisiblePoint(e)&&dom.isLeftEdgePoint(e)&&t||dom.isVisiblePoint(e)&&dom.isBlock(e.node)&&dom.isEmpty(e.node))return e;
var n=dom.ancestor(e.node,dom.isBlock);if((dom.isLeftEdgePointOf(e,n)||dom.isVoid(dom.prevPoint(e).node))&&!t||(dom.isRightEdgePointOf(e,n)||dom.isVoid(dom.nextPoint(e).node))&&t){if(dom.isVisiblePoint(e))return e;t=!t}var i=t?dom.nextPointUntil(dom.nextPoint(e),dom.isVisiblePoint):dom.prevPointUntil(dom.prevPoint(e),dom.isVisiblePoint);return i||e},t=e(this.getEndPoint(),!1),i=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new n(i.node,i.offset,t.node,t.offset)},this.nodes=function(e,t){e=e||func.ok;var n=t&&t.includeAncestor,i=t&&t.fullyContains,a=this.getStartPoint(),o=this.getEndPoint(),r=[],s=[];return dom.walkPoint(a,o,function(t){if(!dom.isEditable(t.node)){var a;i?(dom.isLeftEdgePoint(t)&&s.push(t.node),dom.isRightEdgePoint(t)&&list.contains(s,t.node)&&(a=t.node)):a=n?dom.ancestor(t.node,e):t.node,a&&e(a)&&r.push(a)}},!0),list.unique(r)},this.commonAncestor=function(){return dom.commonAncestor(e,a)},this.expand=function(t){var r=dom.ancestor(e,t),s=dom.ancestor(a,t);if(!r&&!s)return new n(e,i,a,o);var l=this.getPoints();return r&&(l.sc=r,l.so=0),s&&(l.ec=s,l.eo=dom.nodeLength(s)),new n(l.sc,l.so,l.ec,l.eo)},this.collapse=function(t){return t?new n(e,i,e,i):new n(a,o,a,o)},this.splitText=function(){var t=e===a,r=this.getPoints();return dom.isText(a)&&!dom.isEdgePoint(this.getEndPoint())&&a.splitText(o),dom.isText(e)&&!dom.isEdgePoint(this.getStartPoint())&&(r.sc=e.splitText(i),r.so=0,t&&(r.ec=r.sc,r.eo=o-i)),new n(r.sc,r.so,r.ec,r.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),i=dom.prevPointUntil(e.getStartPoint(),function(e){return!list.contains(t,e.node)}),a=[];return $.each(t,function(e,t){var n=t.parentNode;i.node!==n&&1===dom.nodeLength(n)&&a.push(n),dom.remove(t,!1)}),$.each(a,function(e,t){dom.remove(t,!1)}),new n(i.node,i.offset,i.node,i.offset).normalize()};var s=function(t){return function(){var n=dom.ancestor(e,t);return!!n&&n===dom.ancestor(a,t)}};this.isOnEditable=s(dom.isEditable),this.isOnList=s(dom.isList),this.isOnAnchor=s(dom.isAnchor),this.isOnCell=s(dom.isCell),this.isOnData=s(dom.isData),this.isLeftEdgeOf=function(e){if(!dom.isLeftEdgePoint(this.getStartPoint()))return!1;var t=dom.ancestor(this.sc,e);return t&&dom.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return e===a&&i===o},this.wrapBodyInlineWithPara=function(){if(dom.isBodyContainer(e)&&dom.isEmpty(e))return e.innerHTML=dom.emptyPara,new n(e.firstChild,0,e.firstChild,0);var t=this.normalize();if(dom.isParaInline(e)||dom.isPara(e))return t;var i;if(dom.isInline(t.sc)){var a=dom.listAncestor(t.sc,func.not(dom.isInline));i=list.last(a),dom.isInline(i)||(i=a[a.length-2]||t.sc.childNodes[t.so])}else i=t.sc.childNodes[t.so>0?t.so-1:0];var o=dom.listPrev(i,dom.isParaInline).reverse();if(o=o.concat(dom.listNext(i.nextSibling,dom.isParaInline)),o.length){var r=dom.wrap(list.head(o),"p");dom.appendChildNodes(r,list.tail(o))}return this.normalize()},this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=dom.splitPoint(t.getStartPoint(),dom.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},this.pasteHTML=function(e){var t=$("<div></div>").html(e)[0],n=list.from(t.childNodes),i=this.wrapBodyInlineWithPara().deleteContents();return n.reverse().map(function(e){return i.insertNode(e)}).reverse()},this.toString=function(){var e=r();return agent.isW3CRangeSupport?e.toString():e.text},this.getWordRange=function(e){var t=this.getEndPoint();if(!dom.isCharPoint(t))return this;var i=dom.prevPointUntil(t,function(e){return!dom.isCharPoint(e)});return e&&(t=dom.nextPointUntil(t,function(e){return!dom.isCharPoint(e)})),new n(i.node,i.offset,t.node,t.offset)},this.bookmark=function(t){return{s:{path:dom.makeOffsetPath(t,e),offset:i},e:{path:dom.makeOffsetPath(t,a),offset:o}}},this.paraBookmark=function(t){return{s:{path:list.tail(dom.makeOffsetPath(list.head(t),e)),offset:i},e:{path:list.tail(dom.makeOffsetPath(list.last(t),a)),offset:o}}},this.getClientRects=function(){var e=r();return e.getClientRects()}};return{create:function(e,t,i,a){if(4===arguments.length)return new n(e,t,i,a);if(2===arguments.length)return i=e,a=t,new n(e,t,i,a);var o=this.createFromSelection();return o||1!==arguments.length?o:(o=this.createFromNode(arguments[0]),o.collapse(dom.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var t,i,a,o;if(agent.isW3CRangeSupport){var r=document.getSelection();if(!r||0===r.rangeCount)return null;if(dom.isBody(r.anchorNode))return null;var s=r.getRangeAt(0);t=s.startContainer,i=s.startOffset,a=s.endContainer,o=s.endOffset}else{var l=document.selection.createRange(),c=l.duplicate();c.collapse(!1);var d=l;d.collapse(!0);var u=e(d,!0),p=e(c,!1);dom.isText(u.node)&&dom.isLeftEdgePoint(u)&&dom.isTextNode(p.node)&&dom.isRightEdgePoint(p)&&p.node.nextSibling===u.node&&(u=p),t=u.cont,i=u.offset,a=p.cont,o=p.offset}return new n(t,i,a,o)},createFromNode:function(e){var t=e,n=0,i=e,a=dom.nodeLength(i);return dom.isVoid(t)&&(n=dom.listPrev(t).length-1,t=t.parentNode),dom.isBR(i)?(a=dom.listPrev(i).length-1,i=i.parentNode):dom.isVoid(i)&&(a=dom.listPrev(i).length,i=i.parentNode),this.create(t,n,i,a)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var i=dom.fromOffsetPath(e,t.s.path),a=t.s.offset,o=dom.fromOffsetPath(e,t.e.path),r=t.e.offset;return new n(i,a,o,r)},createFromParaBookmark:function(e,t){var i=e.s.offset,a=e.e.offset,o=dom.fromOffsetPath(list.head(t),e.s.path),r=dom.fromOffsetPath(list.last(t),e.e.path);return new n(o,i,r,a)}}}(),async=function(){var e=function(e){return $.Deferred(function(t){$.extend(new FileReader,{onload:function(e){var n=e.target.result;t.resolve(n)},onerror:function(){t.reject(this)}}).readAsDataURL(e)}).promise()},t=function(e){return $.Deferred(function(t){var n=$("<img>");n.one("load",function(){n.off("error abort"),t.resolve(n)}).one("error abort",function(){n.off("load").detach(),t.reject(n)}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()};return{readFileAsDataURL:e,createImage:t}}(),History=function(e){var t=[],n=-1,i=e[0],a=function(){var t=range.create(i),n={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(i):n}},o=function(t){null!==t.contents&&e.html(t.contents),null!==t.bookmark&&range.createFromBookmark(i,t.bookmark).select()};this.rewind=function(){e.html()!==t[n].contents&&this.recordUndo(),n=0,o(t[n])},this.reset=function(){t=[],n=-1,e.html(""),this.recordUndo()},this.undo=function(){e.html()!==t[n].contents&&this.recordUndo(),n>0&&(n--,o(t[n]))},this.redo=function(){t.length-1>n&&(n++,o(t[n]))},this.recordUndo=function(){n++,t.length>n&&(t=t.slice(0,n)),t.push(a())}},Style=function(){var e=function(e,t){if(agent.jqueryVersion<1.9){var n={};return $.each(t,function(t,i){n[i]=e.css(i)}),n}return e.css.call(e,t)};this.fromNode=function(t){var n=["font-family","font-size","text-align","list-style-type","line-height"],i=e(t,n)||{};return i["font-size"]=parseInt(i["font-size"],10),i},this.stylePara=function(e,t){$.each(e.nodes(dom.isPara,{includeAncestor:!0}),function(e,n){$(n).css(t)})},this.styleNodes=function(e,t){e=e.splitText();var n=t&&t.nodeName||"SPAN",i=!(!t||!t.expandClosestSibling),a=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(dom.create(n))];var o=dom.makePredByNodeName(n),r=e.nodes(dom.isText,{fullyContains:!0}).map(function(e){return dom.singleChildAncestor(e,o)||dom.wrap(e,n)});if(i){if(a){var s=e.nodes();o=func.and(o,function(e){return list.contains(s,e)})}return r.map(function(e){var t=dom.withClosestSiblings(e,o),n=list.head(t),i=list.tail(t);return $.each(i,function(e,t){dom.appendChildNodes(n,t.childNodes),dom.remove(t)}),list.head(t)})}return r},this.current=function(e){var t=$(dom.isElement(e.sc)?e.sc:e.sc.parentNode),n=this.fromNode(t);try{n=$.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(e){}if(e.isOnList()){var i=["circle","disc","disc-leading-zero","square"],a=$.inArray(n["list-style-type"],i)>-1;n["list-style"]=a?"unordered":"ordered"}else n["list-style"]="none";var o=dom.ancestor(e.sc,dom.isPara);if(o&&o.style["line-height"])n["line-height"]=o.style.lineHeight;else{var r=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=r.toFixed(1)}return n.anchor=e.isOnAnchor()&&dom.ancestor(e.sc,dom.isAnchor),n.ancestors=dom.listAncestor(e.sc,dom.isEditable),n.range=e,n}},Bullet=function(){var e=this;this.insertOrderedList=function(e){this.toggleList("OL",e)},this.insertUnorderedList=function(e){this.toggleList("UL",e)},this.indent=function(e){var t=this,n=range.create(e).wrapBodyInlineWithPara(),i=n.nodes(dom.isPara,{includeAncestor:!0}),a=list.clusterBy(i,func.peq2("parentNode"));$.each(a,function(e,n){var i=list.head(n);dom.isLi(i)?t.wrapList(n,i.parentNode.nodeName):$.each(n,function(e,t){$(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),n.select()},this.outdent=function(e){var t=this,n=range.create(e).wrapBodyInlineWithPara(),i=n.nodes(dom.isPara,{includeAncestor:!0}),a=list.clusterBy(i,func.peq2("parentNode"));$.each(a,function(e,n){var i=list.head(n);dom.isLi(i)?t.releaseList([n]):$.each(n,function(e,t){$(t).css("marginLeft",function(e,t){return t=parseInt(t,10)||0,t>25?t-25:""})})}),n.select()},this.toggleList=function(t,n){var i=range.create(n).wrapBodyInlineWithPara(),a=i.nodes(dom.isPara,{includeAncestor:!0}),o=i.paraBookmark(a),r=list.clusterBy(a,func.peq2("parentNode"));if(list.find(a,dom.isPurePara)){var s=[];$.each(r,function(n,i){s=s.concat(e.wrapList(i,t))}),a=s}else{var l=i.nodes(dom.isList,{includeAncestor:!0}).filter(function(e){return!$.nodeName(e,t)});l.length?$.each(l,function(e,n){dom.replace(n,t)}):a=this.releaseList(r,!0)}range.createFromParaBookmark(o,a).select()},this.wrapList=function(e,t){var n=list.head(e),i=list.last(e),a=dom.isList(n.previousSibling)&&n.previousSibling,o=dom.isList(i.nextSibling)&&i.nextSibling,r=a||dom.insertAfter(dom.create(t||"UL"),i);return e=e.map(function(e){return dom.isPurePara(e)?dom.replace(e,"LI"):e}),dom.appendChildNodes(r,e),o&&(dom.appendChildNodes(r,list.from(o.childNodes)),dom.remove(o)),e},this.releaseList=function(e,t){var n=[];return $.each(e,function(e,i){var a=list.head(i),o=list.last(i),r=t?dom.lastAncestor(a,dom.isList):a.parentNode,s=r.childNodes.length>1?dom.splitTree(r,{node:o.parentNode,offset:dom.position(o)+1},{isSkipPaddingBlankHTML:!0}):null,l=dom.splitTree(r,{node:a.parentNode,offset:dom.position(a)},{isSkipPaddingBlankHTML:!0});i=t?dom.listDescendant(l,dom.isLi):list.from(l.childNodes).filter(dom.isLi),(t||!dom.isList(r.parentNode))&&(i=i.map(function(e){return dom.replace(e,"P")})),$.each(list.from(i).reverse(),function(e,t){dom.insertAfter(t,r)});var c=list.compact([r,l,s]);$.each(c,function(e,t){var n=[t].concat(dom.listDescendant(t,dom.isList));$.each(n.reverse(),function(e,t){dom.nodeLength(t)||dom.remove(t,!0)})}),n=n.concat(i)}),n}},Typing=function(){var e=new Bullet;this.insertTab=function(e,t){var n=dom.createText(new Array(t+1).join(dom.NBSP_CHAR));e=e.deleteContents(),e.insertNode(n,!0),e=range.create(n,t),e.select()},this.insertParagraph=function(t){var n=range.create(t);n=n.deleteContents(),n=n.wrapBodyInlineWithPara();var i,a=dom.ancestor(n.sc,dom.isPara);if(a){if(dom.isEmpty(a)&&dom.isLi(a))return void e.toggleList(a.parentNode.nodeName);if(dom.isEmpty(a)&&dom.isPara(a)&&dom.isBlockquote(a.parentNode))dom.insertAfter(a,a.parentNode),i=a;else{i=dom.splitTree(a,n.getStartPoint());var o=dom.listDescendant(a,dom.isEmptyAnchor);o=o.concat(dom.listDescendant(i,dom.isEmptyAnchor)),$.each(o,function(e,t){dom.remove(t)}),(dom.isHeading(i)||dom.isPre(i))&&dom.isEmpty(i)&&(i=dom.replace(i,"p"))}}else{var r=n.sc.childNodes[n.so];i=$(dom.emptyPara)[0],r?n.sc.insertBefore(i,r):n.sc.appendChild(i)}range.create(i,0).normalize().select().scrollIntoView(t)}},Table=function(){this.tab=function(e,t){var n=dom.ancestor(e.commonAncestor(),dom.isCell),i=dom.ancestor(n,dom.isTable),a=dom.listDescendant(i,dom.isCell),o=list[t?"prev":"next"](a,n);o&&range.create(o,0).select()},this.createTable=function(e,t,n){for(var i,a=[],o=0;e>o;o++)a.push("<td>"+dom.blank+"</td>");i=a.join("");for(var r,s=[],l=0;t>l;l++)s.push("<tr>"+i+"</tr>");r=s.join("");var c=$("<table>"+r+"</table>");return n&&n.tableClassName&&c.addClass(n.tableClassName),c[0]}},KEY_BOGUS="bogus",Editor=function(e){var t=this,n=e.layoutInfo.note,i=e.layoutInfo.editor,a=e.layoutInfo.editable,o=e.options,r=o.langInfo,s=a[0],l=null,c=new Style,d=new Table,u=new Typing,p=new Bullet,m=new History(a);this.initialize=function(){a.on("keydown",function(n){n.keyCode===key.code.ENTER&&e.triggerEvent("enter",n),e.triggerEvent("keydown",n),n.isDefaultPrevented()||(o.shortcuts?t.handleKeyMap(n):t.preventDefaultEditableShortCuts(n))}).on("keyup",function(t){e.triggerEvent("keyup",t)}).on("focus",function(t){e.triggerEvent("focus",t)}).on("blur",function(t){e.triggerEvent("blur",t)}).on("mousedown",function(t){e.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.triggerEvent("mouseup",t)}).on("scroll",function(t){e.triggerEvent("scroll",t)}).on("paste",function(t){e.triggerEvent("paste",t)}),a.html(dom.html(n)||dom.emptyPara);var r=agent.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";a.on(r,func.debounce(function(){e.triggerEvent("change",a.html())},250)),i.on("focusin",function(t){e.triggerEvent("focusin",t)}).on("focusout",function(t){e.triggerEvent("focusout",t)}),o.airMode||(o.width&&i.outerWidth(o.width),o.height&&a.outerHeight(o.height),o.maxHeight&&a.css("max-height",o.maxHeight),o.minHeight&&a.css("min-height",o.minHeight)),m.recordUndo()},this.destroy=function(){a.off()},this.handleKeyMap=function(t){var n=o.keyMap[agent.isMac?"mac":"pc"],i=[];t.metaKey&&i.push("CMD"),t.ctrlKey&&!t.altKey&&i.push("CTRL"),t.shiftKey&&i.push("SHIFT");var a=key.nameFromCode[t.keyCode];a&&i.push(a);var r=n[i.join("+")];r?(t.preventDefault(),e.invoke(r)):key.isEdit(t.keyCode)&&this.afterCommand()},this.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&list.contains([66,73,85],e.keyCode)&&e.preventDefault()},this.createRange=function(){return this.focus(),range.create(s)},this.saveRange=function(e){l=this.createRange(),e&&l.collapse().select()},this.restoreRange=function(){l&&(l.select(),this.focus())},this.saveTarget=function(e){a.data("target",e)},this.clearTarget=function(){a.removeData("target")},this.restoreTarget=function(){return a.data("target")},this.currentStyle=function(){var e=range.create();return e&&(e=e.normalize()),e?c.current(e):c.fromNode(a)},this.styleFromNode=function(e){return c.fromNode(e)},this.undo=function(){e.triggerEvent("before.command",a.html()),m.undo(),e.triggerEvent("change",a.html())},e.memo("help.undo",r.help.undo),this.redo=function(){e.triggerEvent("before.command",a.html()),m.redo(),e.triggerEvent("change",a.html())},e.memo("help.redo",r.help.redo);for(var f=this.beforeCommand=function(){e.triggerEvent("before.command",a.html()),t.focus()},h=this.afterCommand=function(t){m.recordUndo(),t||e.triggerEvent("change",a.html())},g=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],v=0,b=g.length;b>v;v++)this[g[v]]=function(e){return function(t){f(),document.execCommand(e,!1,t),h(!0)}}(g[v]),e.memo("help."+g[v],r.help[g[v]]);this.tab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()?d.tab(e):(f(),u.insertTab(e,o.tabSize),h())},e.memo("help.tab",r.help.tab),this.untab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()&&d.tab(e,!0)},e.memo("help.untab",r.help.untab),this.wrapCommand=function(e){return function(){f(),e.apply(t,arguments),h()}},this.insertParagraph=this.wrapCommand(function(){u.insertParagraph(s)}),e.memo("help.insertParagraph",r.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){p.insertOrderedList(s)}),e.memo("help.insertOrderedList",r.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){p.insertUnorderedList(s)}),e.memo("help.insertUnorderedList",r.help.insertUnorderedList),this.indent=this.wrapCommand(function(){p.indent(s)}),e.memo("help.indent",r.help.indent),this.outdent=this.wrapCommand(function(){p.outdent(s)}),e.memo("help.outdent",r.help.outdent),this.insertImage=function(t,n){return async.createImage(t,n).then(function(e){f(),"function"==typeof n?n(e):("string"==typeof n&&e.attr("data-filename",n),e.css("width",Math.min(a.width(),e.width()))),e.show(),range.create(s).insertNode(e[0]),range.createFromNodeAfter(e[0]).select(),h()}).fail(function(t){e.triggerEvent("image.upload.error",t)})},this.insertImages=function(n){$.each(n,function(n,i){var a=i.name;o.maximumImageFileSize&&o.maximumImageFileSize<i.size?e.triggerEvent("image.upload.error",r.image.maximumFileSizeError):async.readFileAsDataURL(i).then(function(e){return t.insertImage(e,a)}).fail(function(){e.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(t){var n=o.callbacks;n.onImageUpload?e.triggerEvent("image.upload",t):this.insertImages(t)},this.insertNode=this.wrapCommand(function(e){var t=this.createRange();t.insertNode(e),range.createFromNodeAfter(e).select()}),this.insertText=this.wrapCommand(function(e){var t=this.createRange(),n=t.insertNode(dom.createText(e));range.create(n,dom.nodeLength(n)).select()}),this.getSelectedText=function(){var e=this.createRange();return e.isOnAnchor()&&(e=range.createFromNode(dom.ancestor(e.sc,dom.isAnchor))),e.toString()},this.pasteHTML=this.wrapCommand(function(e){var t=this.createRange().pasteHTML(e);range.createFromNodeAfter(list.last(t)).select()}),this.formatBlock=this.wrapCommand(function(e){e=agent.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)}),this.formatPara=function(){this.formatBlock("P")},e.memo("help.formatPara",r.help.formatPara);for(var v=1;6>=v;v++)this["formatH"+v]=function(e){return function(){this.formatBlock("H"+e)}}(v),e.memo("help.formatH"+v,r.help["formatH"+v]);this.fontSize=function(e){var t=this.createRange();if(t&&t.isCollapsed()){var n=c.styleNodes(t),i=list.head(n);$(n).css({"font-size":e+"px"}),i&&!dom.nodeLength(i)&&(i.innerHTML=dom.ZERO_WIDTH_NBSP_CHAR,range.createFromNodeAfter(i.firstChild).select(),a.data(KEY_BOGUS,i))}else f(),$(c.styleNodes(t)).css({"font-size":e+"px"}),h()},this.insertHorizontalRule=this.wrapCommand(function(){var e=this.createRange().insertNode(dom.create("HR"));e.nextSibling&&range.create(e.nextSibling,0).normalize().select()}),e.memo("help.insertHorizontalRule",r.help.insertHorizontalRule),this.removeBogus=function(){var e=a.data(KEY_BOGUS);if(e){var t=list.find(list.from(e.childNodes),dom.isText),n=t.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);-1!==n&&t.deleteData(n,1),dom.isEmpty(e)&&dom.remove(e),a.removeData(KEY_BOGUS)}},this.lineHeight=this.wrapCommand(function(e){c.stylePara(this.createRange(),{lineHeight:e})}),this.unlink=function(){var e=this.createRange();if(e.isOnAnchor()){var t=dom.ancestor(e.sc,dom.isAnchor);e=range.createFromNode(t),e.select(),f(),document.execCommand("unlink"),h()}},this.createLink=this.wrapCommand(function(e){var t=e.url,n=e.text,i=e.isNewWindow,a=e.range||this.createRange(),r=a.toString()!==n;"string"==typeof t&&(t=t.trim()),o.onCreateLink&&(t=o.onCreateLink(t));var s=[];if(r){a=a.deleteContents();var l=a.insertNode($("<A>"+n+"</A>")[0]);s.push(l)}else s=c.styleNodes(a,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});$.each(s,function(e,n){t=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(t)?t:"http://"+t,$(n).attr("href",t),i?$(n).attr("target","_blank"):$(n).removeAttr("target")});var d=range.createFromNodeBefore(list.head(s)),u=d.getStartPoint(),p=range.createFromNodeAfter(list.last(s)),m=p.getEndPoint();range.create(u.node,u.offset,m.node,m.offset).select()}),this.getLinkInfo=function(){var e=this.createRange().expand(dom.isAnchor),t=$(list.head(e.nodes(dom.isAnchor)));return{range:e,text:e.toString(),isNewWindow:!!t.length&&"_blank"===t.attr("target"),url:t.length?t.attr("href"):""}},this.color=this.wrapCommand(function(e){var t=e.foreColor,n=e.backColor;t&&document.execCommand("foreColor",!1,t),n&&document.execCommand("backColor",!1,n)}),this.insertTable=this.wrapCommand(function(e){var t=e.split("x"),n=this.createRange().deleteContents();n.insertNode(d.createTable(t[0],t[1],o))}),this.floatMe=this.wrapCommand(function(e){var t=$(this.restoreTarget());t.css("float",e)}),this.resize=this.wrapCommand(function(e){var t=$(this.restoreTarget());t.css({width:100*e+"%",height:""})}),this.resizeTo=function(e,t,n){var i;if(n){var a=e.y/e.x,o=t.data("ratio");i={width:o>a?e.x:e.y/o,height:o>a?e.x*o:e.y}}else i={width:e.x,height:e.y};t.css(i)},this.removeMedia=this.wrapCommand(function(){var t=$(this.restoreTarget()).detach();e.triggerEvent("media.delete",t,a)}),this.hasFocus=function(){return a.is(":focus")},this.focus=function(){this.hasFocus()||a.focus()},this.isEmpty=function(){return dom.isEmpty(a[0])||dom.emptyPara===a.html()},this.empty=function(){e.invoke("code",dom.emptyPara)}},Clipboard=function(e){var t=this,n=e.layoutInfo.editable;this.events={"summernote.keydown":function(n,i){t.needKeydownHook()&&(i.ctrlKey||i.metaKey)&&i.keyCode===key.code.V&&(e.invoke("editor.saveRange"),t.$paste.focus(),setTimeout(function(){t.pasteByHook()},0))}},this.needKeydownHook=function(){return agent.isMSIE&&agent.browserVersion>10||agent.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=$('<div tabindex="-1" />').attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),n.before(this.$paste),this.$paste.on("paste",function(t){e.triggerEvent("paste",t)})):n.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var t=this.$paste[0].firstChild;if(dom.isImg(t)){for(var n=t.src,i=atob(n.split(",")[1]),a=new Uint8Array(i.length),o=0;o<i.length;o++)a[o]=i.charCodeAt(o);var r=new Blob([a],{type:"image/png"});r.name="clipboard.png",e.invoke("editor.restoreRange"),e.invoke("editor.focus"),e.invoke("editor.insertImagesOrCallback",[r])}else{var s=$("<div />").html(this.$paste.html()).html();e.invoke("editor.restoreRange"),e.invoke("editor.focus"),s&&e.invoke("editor.pasteHTML",s)}this.$paste.empty()},this.pasteByEvent=function(t){var n=t.originalEvent.clipboardData;if(n&&n.items&&n.items.length){var i=list.head(n.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&e.invoke("editor.insertImagesOrCallback",[i.getAsFile()]),e.invoke("editor.afterCommand")}}},Dropzone=function(e){var t=$(document),n=e.layoutInfo.editor,i=e.layoutInfo.editable,a=e.options,o=a.langInfo,r={},s=$(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(n),l=function(){Object.keys(r).forEach(function(e){t.off(e.substr(2).toLowerCase(),r[e])}),r={}};this.initialize=function(){a.disableDragAndDrop?(r.onDrop=function(e){e.preventDefault()},t.on("drop",r.onDrop)):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var a=$(),l=s.find(".note-dropzone-message");r.onDragenter=function(t){var i=e.invoke("codeview.isActivated"),r=n.width()>0&&n.height()>0;i||a.length||!r||(n.addClass("dragover"),s.width(n.width()),s.height(n.height()),l.text(o.image.dragImageHere)),a=a.add(t.target)},r.onDragleave=function(e){a=a.not(e.target),a.length||n.removeClass("dragover")},r.onDrop=function(){a=$(),n.removeClass("dragover")},t.on("dragenter",r.onDragenter).on("dragleave",r.onDragleave).on("drop",r.onDrop),s.on("dragenter",function(){s.addClass("hover"),l.text(o.image.dropImage)}).on("dragleave",function(){s.removeClass("hover"),l.text(o.image.dragImageHere)}),s.on("drop",function(t){var n=t.originalEvent.dataTransfer;n&&n.files&&n.files.length?(t.preventDefault(),i.focus(),e.invoke("editor.insertImagesOrCallback",n.files)):$.each(n.types,function(t,i){var a=n.getData(i);i.toLowerCase().indexOf("text")>-1?e.invoke("editor.pasteHTML",a):$(a).each(function(){e.invoke("editor.insertNode",this)})})}).on("dragover",!1)},this.destroy=function(){l()}},CodeMirror;agent.hasCodeMirror&&(agent.isSupportAmd?require(["codemirror"],function(e){CodeMirror=e}):CodeMirror=window.CodeMirror);var Codeview=function(e){var t=e.layoutInfo.editor,n=e.layoutInfo.editable,i=e.layoutInfo.codable,a=e.options;this.sync=function(){var e=this.isActivated();e&&agent.hasCodeMirror&&i.data("cmEditor").save()},this.isActivated=function(){return t.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),e.triggerEvent("codeview.toggled")},this.activate=function(){if(i.val(dom.html(n,a.prettifyHtml)),i.height(n.height()),e.invoke("toolbar.updateCodeview",!0),t.addClass("codeview"),i.focus(),agent.hasCodeMirror){var o=CodeMirror.fromTextArea(i[0],a.codemirror);if(a.codemirror.tern){var r=new CodeMirror.TernServer(a.codemirror.tern);o.ternServer=r,o.on("cursorActivity",function(e){r.updateArgHints(e)})}o.setSize(null,n.outerHeight()),i.data("cmEditor",o)}},this.deactivate=function(){if(agent.hasCodeMirror){var o=i.data("cmEditor");i.val(o.getValue()),o.toTextArea()}var r=dom.value(i,a.prettifyHtml)||dom.emptyPara,s=n.html()!==r;n.html(r),n.height(a.height?i.height():"auto"),t.removeClass("codeview"),s&&e.triggerEvent("change",n.html(),n),n.focus(),e.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},EDITABLE_PADDING=24,Statusbar=function(e){var t=$(document),n=e.layoutInfo.statusbar,i=e.layoutInfo.editable,a=e.options;this.initialize=function(){a.airMode||a.disableResizeEditor||n.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();var n=i.offset().top-t.scrollTop();t.on("mousemove",function(e){var t=e.clientY-(n+EDITABLE_PADDING);t=a.minheight>0?Math.max(t,a.minheight):t,t=a.maxHeight>0?Math.min(t,a.maxHeight):t,i.height(t)}).one("mouseup",function(){t.off("mousemove")})})},this.destroy=function(){n.off(),n.remove()}},Fullscreen=function(e){var t=e.layoutInfo.editor,n=e.layoutInfo.toolbar,i=e.layoutInfo.editable,a=e.layoutInfo.codable,o=$(window),r=$("html, body");this.toggle=function(){var s=function(e){i.css("height",e.h),a.css("height",e.h),a.data("cmeditor")&&a.data("cmeditor").setsize(null,e.h)};t.toggleClass("fullscreen"),this.isFullscreen()?(i.data("orgHeight",i.css("height")),o.on("resize",function(){s({h:o.height()-n.outerHeight()})}).trigger("resize"),r.css("overflow","hidden")):(o.off("resize"),s({h:i.data("orgHeight")}),r.css("overflow","visible")),e.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return t.hasClass("fullscreen")}},Handle=function(e){var t=this,n=$(document),i=e.layoutInfo.editingArea,a=e.options;this.events={"summernote.mousedown":function(e,n){t.update(n.target)&&n.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){t.update()}},this.initialize=function(){this.$handle=$(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',a.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',a.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(i),this.$handle.on("mousedown",function(i){if(dom.isControlSizing(i.target)){i.preventDefault(),i.stopPropagation();var a=t.$handle.find(".note-control-selection").data("target"),o=a.offset(),r=n.scrollTop();n.on("mousemove",function(n){e.invoke("editor.resizeTo",{x:n.clientX-o.left,y:n.clientY-(o.top-r)},a,!n.shiftKey),t.update(a[0])}).one("mouseup",function(t){t.preventDefault(),n.off("mousemove"),e.invoke("editor.afterCommand")}),a.data("ratio")||a.data("ratio",a.height()/a.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(t){var n=dom.isImg(t),i=this.$handle.find(".note-control-selection");if(e.invoke("imagePopover.update",t),n){var a=$(t),o=a.position(),r={w:a.outerWidth(!0),h:a.outerHeight(!0)};i.css({display:"block",left:o.left,top:o.top,width:r.w,height:r.h}).data("target",a);var s=r.w+"x"+r.h;i.find(".note-control-selection-info").text(s),e.invoke("editor.saveTarget",t)}else this.hide();return n},this.hide=function(){e.invoke("editor.clearTarget"),this.$handle.children().hide()}},AutoLink=function(e){var t=this,n="http://",i=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),a=t.match(i);if(a&&(a[1]||a[2])){var o=a[1]?t:n+t,r=$("<a />").html(t).attr("href",o)[0];this.lastWordRange.insertNode(r),this.lastWordRange=null,e.invoke("editor.focus")}}},this.handleKeydown=function(t){if(list.contains([key.code.ENTER,key.code.SPACE],t.keyCode)){var n=e.invoke("editor.createRange").getWordRange();this.lastWordRange=n}},this.handleKeyup=function(e){list.contains([key.code.ENTER,key.code.SPACE],e.keyCode)&&this.replace()}},AutoSync=function(e){var t=e.layoutInfo.note;this.events={"summernote.change":function(){t.val(e.invoke("code"))}},this.shouldInitialize=function(){return dom.isTextarea(t[0])}},Placeholder=function(e){var t=this,n=e.layoutInfo.editingArea,i=e.options;this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}},this.shouldInitialize=function(){return!!i.placeholder},this.initialize=function(){this.$placeholder=$('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.invoke("focus")}).text(i.placeholder).prependTo(n)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var t=!e.invoke("codeview.isActivated")&&e.invoke("editor.isEmpty");this.$placeholder.toggle(t)}},Buttons=function(e){var t=this,n=$.summernote.ui,i=e.layoutInfo.toolbar,a=e.options,o=a.langInfo,r=func.invertObject(a.keyMap[agent.isMac?"mac":"pc"]),s=this.representShortcut=function(e){var t=r[e];return a.shortcuts&&t?(agent.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧")),t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+t+")"):""};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(e){return t.fontInstalledMap.hasOwnProperty(e)||(t.fontInstalledMap[e]=agent.isFontInstalled(e)||list.contains(a.fontNamesIgnoreCheck,e)),t.fontInstalledMap[e]},this.addToolbarButtons=function(){e.memo("button.style",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(a.icons.magic)+" "+n.icon(a.icons.caret,"span"),tooltip:o.style.style,data:{toggle:"dropdown"}}),n.dropdown({className:"dropdown-style",items:e.options.styleTags,template:function(e){
"string"==typeof e&&(e={tag:e,title:o.style.hasOwnProperty(e)?o.style[e]:e});var t=e.tag,n=e.title,i=e.style?' style="'+e.style+'" ':"",a=e.className?' class="'+e.className+'"':"";return"<"+t+i+a+">"+n+"</"+t+">"},click:e.createInvokeHandler("editor.formatBlock")})]).render()}),e.memo("button.bold",function(){return n.button({className:"note-btn-bold",contents:n.icon(a.icons.bold),tooltip:o.font.bold+s("bold"),click:e.createInvokeHandler("editor.bold")}).render()}),e.memo("button.italic",function(){return n.button({className:"note-btn-italic",contents:n.icon(a.icons.italic),tooltip:o.font.italic+s("italic"),click:e.createInvokeHandler("editor.italic")}).render()}),e.memo("button.underline",function(){return n.button({className:"note-btn-underline",contents:n.icon(a.icons.underline),tooltip:o.font.underline+s("underline"),click:e.createInvokeHandler("editor.underline")}).render()}),e.memo("button.clear",function(){return n.button({contents:n.icon(a.icons.eraser),tooltip:o.font.clear+s("removeFormat"),click:e.createInvokeHandler("editor.removeFormat")}).render()}),e.memo("button.strikethrough",function(){return n.button({className:"note-btn-strikethrough",contents:n.icon(a.icons.strikethrough),tooltip:o.font.strikethrough+s("strikethrough"),click:e.createInvokeHandler("editor.strikethrough")}).render()}),e.memo("button.superscript",function(){return n.button({className:"note-btn-superscript",contents:n.icon(a.icons.superscript),tooltip:o.font.superscript,click:e.createInvokeHandler("editor.superscript")}).render()}),e.memo("button.subscript",function(){return n.button({className:"note-btn-subscript",contents:n.icon(a.icons.subscript),tooltip:o.font.subscript,click:e.createInvokeHandler("editor.subscript")}).render()}),e.memo("button.fontname",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+n.icon(a.icons.caret,"span"),tooltip:o.font.name,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontname",checkClassName:a.icons.menuCheck,items:a.fontNames.filter(t.isFontInstalled),template:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},click:e.createInvokeHandler("editor.fontName")})]).render()}),e.memo("button.fontsize",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+n.icon(a.icons.caret,"span"),tooltip:o.font.size,data:{toggle:"dropdown"}}),n.dropdownCheck({className:"dropdown-fontsize",checkClassName:a.icons.menuCheck,items:a.fontSizes,click:e.createInvokeHandler("editor.fontSize")})]).render()}),e.memo("button.color",function(){return n.buttonGroup({className:"note-color",children:[n.button({className:"note-current-color-button",contents:n.icon(a.icons.font+" note-recent-color"),tooltip:o.color.recent,click:function(t){var n=$(t.currentTarget);e.invoke("editor.color",{backColor:n.attr("data-backColor"),foreColor:n.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");t.css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00")}}),n.button({className:"dropdown-toggle",contents:n.icon(a.icons.caret,"span"),tooltip:o.color.more,data:{toggle:"dropdown"}}),n.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+o.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',o.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+o.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',o.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(e){e.find(".note-holder").each(function(){var e=$(this);e.append(n.palette({colors:a.colors,eventName:e.data("event")}).render())})},click:function(t){var n=$(t.target),i=n.data("event"),a=n.data("value");if(i&&a){var o="backColor"===i?"background-color":"color",r=n.closest(".note-color").find(".note-recent-color"),s=n.closest(".note-color").find(".note-current-color-button");r.css(o,a),s.attr("data-"+i,a),e.invoke("editor."+i,a)}}})]}).render()}),e.memo("button.ul",function(){return n.button({contents:n.icon(a.icons.unorderedlist),tooltip:o.lists.unordered+s("insertUnorderedList"),click:e.createInvokeHandler("editor.insertUnorderedList")}).render()}),e.memo("button.ol",function(){return n.button({contents:n.icon(a.icons.orderedlist),tooltip:o.lists.ordered+s("insertOrderedList"),click:e.createInvokeHandler("editor.insertOrderedList")}).render()});var i=n.button({contents:n.icon(a.icons.alignLeft),tooltip:o.paragraph.left+s("justifyLeft"),click:e.createInvokeHandler("editor.justifyLeft")}),r=n.button({contents:n.icon(a.icons.alignCenter),tooltip:o.paragraph.center+s("justifyCenter"),click:e.createInvokeHandler("editor.justifyCenter")}),l=n.button({contents:n.icon(a.icons.alignRight),tooltip:o.paragraph.right+s("justifyRight"),click:e.createInvokeHandler("editor.justifyRight")}),c=n.button({contents:n.icon(a.icons.alignJustify),tooltip:o.paragraph.justify+s("justifyFull"),click:e.createInvokeHandler("editor.justifyFull")}),d=n.button({contents:n.icon(a.icons.outdent),tooltip:o.paragraph.outdent+s("outdent"),click:e.createInvokeHandler("editor.outdent")}),u=n.button({contents:n.icon(a.icons.indent),tooltip:o.paragraph.indent+s("indent"),click:e.createInvokeHandler("editor.indent")});e.memo("button.justifyLeft",func.invoke(i,"render")),e.memo("button.justifyCenter",func.invoke(r,"render")),e.memo("button.justifyRight",func.invoke(l,"render")),e.memo("button.justifyFull",func.invoke(c,"render")),e.memo("button.outdent",func.invoke(d,"render")),e.memo("button.indent",func.invoke(u,"render")),e.memo("button.paragraph",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(a.icons.alignLeft)+" "+n.icon(a.icons.caret,"span"),tooltip:o.paragraph.paragraph,data:{toggle:"dropdown"}}),n.dropdown([n.buttonGroup({className:"note-align",children:[i,r,l,c]}),n.buttonGroup({className:"note-list",children:[d,u]})])]).render()}),e.memo("button.height",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(a.icons.textHeight)+" "+n.icon(a.icons.caret,"span"),tooltip:o.font.height,data:{toggle:"dropdown"}}),n.dropdownCheck({items:a.lineHeights,checkClassName:a.icons.menuCheck,className:"dropdown-line-height",click:e.createInvokeHandler("editor.lineHeight")})]).render()}),e.memo("button.table",function(){return n.buttonGroup([n.button({className:"dropdown-toggle",contents:n.icon(a.icons.table)+" "+n.icon(a.icons.caret,"span"),tooltip:o.table.table,data:{toggle:"dropdown"}}),n.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(n){var i=n.find(".note-dimension-picker-mousecatcher");i.css({width:a.insertTableMaxSize.col+"em",height:a.insertTableMaxSize.row+"em"}).mousedown(e.createInvokeHandler("editor.insertTable")).on("mousemove",t.tableMoveHandler)}}).render()}),e.memo("button.link",function(){return n.button({contents:n.icon(a.icons.link),tooltip:o.link.link+s("linkDialog.show"),click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.picture",function(){return n.button({contents:n.icon(a.icons.picture),tooltip:o.image.image,click:e.createInvokeHandler("imageDialog.show")}).render()}),e.memo("button.video",function(){return n.button({contents:n.icon(a.icons.video),tooltip:o.video.video,click:e.createInvokeHandler("videoDialog.show")}).render()}),e.memo("button.hr",function(){return n.button({contents:n.icon(a.icons.minus),tooltip:o.hr.insert+s("insertHorizontalRule"),click:e.createInvokeHandler("editor.insertHorizontalRule")}).render()}),e.memo("button.fullscreen",function(){return n.button({className:"btn-fullscreen",contents:n.icon(a.icons.arrowsAlt),tooltip:o.options.fullscreen,click:e.createInvokeHandler("fullscreen.toggle")}).render()}),e.memo("button.codeview",function(){return n.button({className:"btn-codeview",contents:n.icon(a.icons.code),tooltip:o.options.codeview,click:e.createInvokeHandler("codeview.toggle")}).render()}),e.memo("button.redo",function(){return n.button({contents:n.icon(a.icons.redo),tooltip:o.history.redo+s("redo"),click:e.createInvokeHandler("editor.redo")}).render()}),e.memo("button.undo",function(){return n.button({contents:n.icon(a.icons.undo),tooltip:o.history.undo+s("undo"),click:e.createInvokeHandler("editor.undo")}).render()}),e.memo("button.help",function(){return n.button({contents:n.icon(a.icons.question),tooltip:o.options.help,click:e.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){e.memo("button.imageSize100",function(){return n.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:o.image.resizeFull,click:e.createInvokeHandler("editor.resize","1")}).render()}),e.memo("button.imageSize50",function(){return n.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:o.image.resizeHalf,click:e.createInvokeHandler("editor.resize","0.5")}).render()}),e.memo("button.imageSize25",function(){return n.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:o.image.resizeQuarter,click:e.createInvokeHandler("editor.resize","0.25")}).render()}),e.memo("button.floatLeft",function(){return n.button({contents:n.icon(a.icons.alignLeft),tooltip:o.image.floatLeft,click:e.createInvokeHandler("editor.floatMe","left")}).render()}),e.memo("button.floatRight",function(){return n.button({contents:n.icon(a.icons.alignRight),tooltip:o.image.floatRight,click:e.createInvokeHandler("editor.floatMe","right")}).render()}),e.memo("button.floatNone",function(){return n.button({contents:n.icon(a.icons.alignJustify),tooltip:o.image.floatNone,click:e.createInvokeHandler("editor.floatMe","none")}).render()}),e.memo("button.removeMedia",function(){return n.button({contents:n.icon(a.icons.trash),tooltip:o.image.remove,click:e.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){e.memo("button.linkDialogShow",function(){return n.button({contents:n.icon(a.icons.link),tooltip:o.link.edit,click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.unlink",function(){return n.button({contents:n.icon(a.icons.unlink),tooltip:o.link.unlink,click:e.createInvokeHandler("editor.unlink")}).render()})},this.build=function(t,i){for(var a=0,o=i.length;o>a;a++){for(var r=i[a],s=r[0],l=r[1],c=n.buttonGroup({className:"note-"+s}).render(),d=0,u=l.length;u>d;d++){var p=e.memo("button."+l[d]);p&&c.append("function"==typeof p?p(e):p)}c.appendTo(t)}},this.updateCurrentStyle=function(){var n=e.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===n["font-bold"]},".note-btn-italic":function(){return"italic"===n["font-italic"]},".note-btn-underline":function(){return"underline"===n["font-underline"]},".note-btn-subscript":function(){return"subscript"===n["font-subscript"]},".note-btn-superscript":function(){return"superscript"===n["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===n["font-strikethrough"]}}),n["font-family"]){var a=n["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),o=list.find(a,t.isFontInstalled);i.find(".dropdown-fontname li a").each(function(){var e=$(this).data("value")+""==o+"";this.className=e?"checked":""}),i.find(".note-current-fontname").text(o)}if(n["font-size"]){var r=n["font-size"];i.find(".dropdown-fontsize li a").each(function(){var e=$(this).data("value")+""==r+"";this.className=e?"checked":""}),i.find(".note-current-fontsize").text(r)}if(n["line-height"]){var s=n["line-height"];i.find(".dropdown-line-height li a").each(function(){var e=$(this).data("value")+""==s+"";this.className=e?"checked":""})}},this.updateBtnStates=function(e){$.each(e,function(e,t){n.toggleBtnActive(i.find(e),t())})},this.tableMoveHandler=function(e){var t,n=18,i=$(e.target.parentNode),o=i.next(),r=i.find(".note-dimension-picker-mousecatcher"),s=i.find(".note-dimension-picker-highlighted"),l=i.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var c=$(e.target).offset();t={x:e.pageX-c.left,y:e.pageY-c.top}}else t={x:e.offsetX,y:e.offsetY};var d={c:Math.ceil(t.x/n)||1,r:Math.ceil(t.y/n)||1};s.css({width:d.c+"em",height:d.r+"em"}),r.data("value",d.c+"x"+d.r),3<d.c&&d.c<a.insertTableMaxSize.col&&l.css({width:d.c+1+"em"}),3<d.r&&d.r<a.insertTableMaxSize.row&&l.css({height:d.r+1+"em"}),o.html(d.c+" x "+d.r)}},Toolbar=function(e){var t=$.summernote.ui,n=e.layoutInfo.note,i=e.layoutInfo.toolbar,a=e.options;this.shouldInitialize=function(){return!a.airMode},this.initialize=function(){a.toolbar=a.toolbar||[],a.toolbar.length?e.invoke("buttons.build",i,a.toolbar):i.hide(),a.toolbarContainer&&i.appendTo(a.toolbarContainer),n.on("summernote.keyup summernote.mouseup summernote.change",function(){e.invoke("buttons.updateCurrentStyle")}),e.invoke("buttons.updateCurrentStyle")},this.destroy=function(){i.children().remove()},this.updateFullscreen=function(e){t.toggleBtnActive(i.find(".btn-fullscreen"),e)},this.updateCodeview=function(e){t.toggleBtnActive(i.find(".btn-codeview"),e),e?this.deactivate():this.activate()},this.activate=function(e){var n=i.find("button");e||(n=n.not(".btn-codeview")),t.toggleBtn(n,!0)},this.deactivate=function(e){var n=i.find("button");e||(n=n.not(".btn-codeview")),t.toggleBtn(n,!1)}},LinkDialog=function(e){var t=this,n=$.summernote.ui,i=e.layoutInfo.editor,a=e.options,o=a.langInfo;this.initialize=function(){var e=a.dialogsInBody?$(document.body):i,t='<div class="form-group"><label>'+o.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+o.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(a.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+o.link.openInNewWindow+"</label></div>"),r='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+o.link.insert+"</button>";this.$dialog=n.dialog({className:"link-dialog",title:o.link.insert,fade:a.dialogsFade,body:t,footer:r}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.toggleLinkBtn=function(e,t,i){n.toggleBtn(e,t.val()&&i.val())},this.showLinkDialog=function(i){return $.Deferred(function(a){var o=t.$dialog.find(".note-link-text"),r=t.$dialog.find(".note-link-url"),s=t.$dialog.find(".note-link-btn"),l=t.$dialog.find("input[type=checkbox]");n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),i.url||(i.url=i.text),o.val(i.text);var n=function(){t.toggleLinkBtn(s,o,r),i.text=o.val()};o.on("input",n).on("paste",function(){setTimeout(n,0)});var c=function(){t.toggleLinkBtn(s,o,r),i.text||o.val(r.val())};r.on("input",c).on("paste",function(){setTimeout(c,0)}).val(i.url).trigger("focus"),t.toggleLinkBtn(s,o,r),t.bindEnterKey(r,s),t.bindEnterKey(o,s),l.prop("checked",i.isNewWindow),s.one("click",function(e){e.preventDefault(),a.resolve({range:i.range,url:r.val(),text:o.val(),isNewWindow:l.is(":checked")}),t.$dialog.modal("hide")})}),n.onDialogHidden(t.$dialog,function(){o.off("input paste keypress"),r.off("input paste keypress"),s.off("click"),"pending"===a.state()&&a.reject()}),n.showDialog(t.$dialog)}).promise()},this.show=function(){var t=e.invoke("editor.getLinkInfo");e.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.invoke("editor.restoreRange"),e.invoke("editor.createLink",t)}).fail(function(){e.invoke("editor.restoreRange")})},e.memo("help.linkDialog.show",a.langInfo.help["linkDialog.show"])},LinkPopover=function(e){var t=this,n=$.summernote.ui,i=e.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.dialog.shown":function(){t.hide()}},this.shouldInitialize=function(){return!list.isEmpty(i.popover.link)},this.initialize=function(){this.$popover=n.popover({className:"note-link-popover",callback:function(e){var t=e.find(".popover-content");t.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,i.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!e.invoke("editor.hasFocus"))return void this.hide();var t=e.invoke("editor.createRange");if(t.isCollapsed()&&t.isOnAnchor()){var n=dom.ancestor(t.sc,dom.isAnchor),i=$(n).attr("href");this.$popover.find("a").attr("href",i).html(i);var a=dom.posFromPlaceholder(n);this.$popover.css({display:"block",left:a.left,top:a.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ImageDialog=function(e){var t=this,n=$.summernote.ui,i=e.layoutInfo.editor,a=e.options,o=a.langInfo;this.initialize=function(){var e=a.dialogsInBody?$(document.body):i,t="";if(a.maximumImageFileSize){var r=Math.floor(Math.log(a.maximumImageFileSize)/Math.log(1024)),s=1*(a.maximumImageFileSize/Math.pow(1024,r)).toFixed(2)+" "+" KMGTP"[r]+"B";t="<small>"+o.image.maximumFileSize+" : "+s+"</small>"}var l='<div class="form-group note-group-select-from-files"><label>'+o.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+t+'</div><div class="form-group note-group-image-url" style="overflow:auto;"><label>'+o.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',c='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+o.image.insert+"</button>";this.$dialog=n.dialog({title:o.image.insert,fade:a.dialogsFade,body:l,footer:c}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.show=function(){e.invoke("editor.saveRange"),this.showImageDialog().then(function(i){n.hideDialog(t.$dialog),e.invoke("editor.restoreRange"),"string"==typeof i?e.invoke("editor.insertImage",i):e.invoke("editor.insertImagesOrCallback",i)}).fail(function(){e.invoke("editor.restoreRange")})},this.showImageDialog=function(){return $.Deferred(function(i){var a=t.$dialog.find(".note-image-input"),o=t.$dialog.find(".note-image-url"),r=t.$dialog.find(".note-image-btn");n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),a.replaceWith(a.clone().on("change",function(){i.resolve(this.files||this.value)}).val("")),r.click(function(e){e.preventDefault(),i.resolve(o.val())}),o.on("keyup paste",function(){var e=o.val();n.toggleBtn(r,e)}).val("").trigger("focus"),t.bindEnterKey(o,r)}),n.onDialogHidden(t.$dialog,function(){a.off("change"),o.off("keyup paste keypress"),r.off("click"),"pending"===i.state()&&i.reject()}),n.showDialog(t.$dialog)})}},ImagePopover=function(e){var t=$.summernote.ui,n=e.options;this.shouldInitialize=function(){return!list.isEmpty(n.popover.image)},this.initialize=function(){this.$popover=t.popover({className:"note-image-popover"}).render().appendTo("body");var i=this.$popover.find(".popover-content");e.invoke("buttons.build",i,n.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(e){if(dom.isImg(e)){var t=dom.posFromPlaceholder(e);this.$popover.css({display:"block",left:t.left,top:t.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},VideoDialog=function(e){var t=this,n=$.summernote.ui,i=e.layoutInfo.editor,a=e.options,o=a.langInfo;this.initialize=function(){var e=a.dialogsInBody?$(document.body):i,t='<div class="form-group row-fluid"><label>'+o.video.url+' <small class="text-muted">'+o.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',r='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+o.video.insert+"</button>";this.$dialog=n.dialog({title:o.video.insert,fade:a.dialogsFade,body:t,footer:r}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.createVideoNode=function(e){var t,n=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,i=e.match(n),a=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,o=e.match(a),r=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,s=e.match(r),l=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,c=e.match(l),d=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,u=e.match(d),p=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,m=e.match(p),f=/^.+.(mp4|m4v)$/,h=e.match(f),g=/^.+.(ogg|ogv)$/,v=e.match(g),b=/^.+.(webm)$/,y=e.match(b);if(i&&11===i[1].length){var w=i[1];t=$("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+w).attr("width","640").attr("height","360")}else if(o&&o[0].length)t=$("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+o[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(s&&s[0].length)t=$("<iframe>").attr("frameborder",0).attr("src",s[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(c&&c[3].length)t=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+c[3]).attr("width","640").attr("height","360");else if(u&&u[2].length)t=$("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+u[2]).attr("width","640").attr("height","360");else if(m&&m[1].length)t=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+m[1]);else{if(!(h||v||y))return!1;t=$("<video controls>").attr("src",e).attr("width","640").attr("height","360")}return t.addClass("note-video-clip"),t[0]},this.show=function(){var i=e.invoke("editor.getSelectedText");e.invoke("editor.saveRange"),this.showVideoDialog(i).then(function(i){n.hideDialog(t.$dialog),e.invoke("editor.restoreRange");var a=t.createVideoNode(i);a&&e.invoke("editor.insertNode",a)}).fail(function(){e.invoke("editor.restoreRange")})},this.showVideoDialog=function(i){return $.Deferred(function(a){var o=t.$dialog.find(".note-video-url"),r=t.$dialog.find(".note-video-btn");n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),o.val(i).on("input",function(){n.toggleBtn(r,o.val())}).trigger("focus"),r.click(function(e){e.preventDefault(),a.resolve(o.val())}),t.bindEnterKey(o,r)}),n.onDialogHidden(t.$dialog,function(){o.off("input"),r.off("click"),"pending"===a.state()&&a.reject()}),n.showDialog(t.$dialog)})}},HelpDialog=function(e){var t=this,n=$.summernote.ui,i=e.layoutInfo.editor,a=e.options,o=a.langInfo;this.createShortCutList=function(){var t=a.keyMap[agent.isMac?"mac":"pc"];return Object.keys(t).map(function(n){var i=t[n],a=$('<div><div class="help-list-item"/></div>');return a.append($("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append($("<span/>").html(e.memo("help."+i)||i)),a.html()}).join("")},this.initialize=function(){var e=a.dialogsInBody?$(document.body):i,t="";this.$dialog=n.dialog({title:o.options.help,fade:a.dialogsFade,body:this.createShortCutList(),footer:t,callback:function(e){e.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return $.Deferred(function(i){n.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),i.resolve()}),n.showDialog(t.$dialog)}).promise()},this.show=function(){e.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.invoke("editor.restoreRange")})}},AirPopover=function(e){var t=this,n=$.summernote.ui,i=e.options,a=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){t.update()},"summernote.change summernote.dialog.shown":function(){t.hide()},"summernote.focusout":function(e,n){agent.isFF||n.relatedTarget&&dom.ancestor(n.relatedTarget,func.eq(t.$popover[0]))||t.hide()}},this.shouldInitialize=function(){return i.airMode&&!list.isEmpty(i.popover.air)},this.initialize=function(){this.$popover=n.popover({className:"note-air-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,i.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var t=e.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var n=list.last(t.range.getClientRects());if(n){var i=func.rect2bnd(n);this.$popover.css({display:"block",left:Math.max(i.left+i.width/2,0)-a,top:i.top+i.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},HintPopover=function(e){var t=this,n=$.summernote.ui,i=5,a=e.options.hint||[],o=e.options.hintDirection||"bottom",r=$.isArray(a)?a:[a];this.events={"summernote.keyup":function(e,n){n.isDefaultPrevented()||t.handleKeyup(n)},"summernote.keydown":function(e,n){t.handleKeydown(n)},"summernote.dialog.shown":function(){t.hide()}},this.shouldInitialize=function(){return r.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=n.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){t.$content.find(".active").removeClass("active"),$(this).addClass("active"),t.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var n=e.parent().next();n.length||(n=this.$content.find(".note-hint-group").first()),this.selectItem(n.find(".note-hint-item").first())}},this.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var n=e.parent().prev();n.length||(n=this.$content.find(".note-hint-group").last()),this.selectItem(n.find(".note-hint-item").last())}},this.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var n=this.nodeFromItem(t);this.lastWordRange.insertNode(n),range.createFromNode(n).collapse().select(),this.lastWordRange=null,this.hide(),e.invoke("editor.focus")}},this.nodeFromItem=function(e){var t=r[e.data("index")],n=e.data("item"),i=t.content?t.content(n):n;return"string"==typeof i&&(i=dom.createText(i)),i},this.createItemTemplates=function(e,t){var n=r[e];return t.map(function(t,i){var a=$('<div class="note-hint-item"/>');return a.append(n.template?n.template(t):t+""),a.data({index:e,item:t}),0===e&&0===i&&a.addClass("active"),a})},this.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===key.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===key.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===key.code.DOWN&&(e.preventDefault(),this.moveDown()))},this.searchKeyword=function(e,t,n){var i=r[e];if(i&&i.match.test(t)&&i.search){var a=i.match.exec(t);i.search(a[1],n)}else n()},this.createGroup=function(e,n){var i=$('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,n,function(n){n=n||[],n.length&&(i.html(t.createItemTemplates(e,n)),t.show())}),i},this.handleKeyup=function(n){if(list.contains([key.code.ENTER,key.code.UP,key.code.DOWN],n.keyCode)){if(n.keyCode===key.code.ENTER&&this.$popover.is(":visible"))return}else{var a=e.invoke("editor.createRange").getWordRange(),s=a.toString();if(r.length&&s){this.$content.empty();var l=func.rect2bnd(list.last(a.getClientRects()));l&&(this.$popover.hide(),this.lastWordRange=a,r.forEach(function(e,n){e.match.test(s)&&t.createGroup(n,s).appendTo(t.$content)}),"top"===o?this.$popover.css({left:l.left,top:l.top-this.$popover.outerHeight()-i}):this.$popover.css({left:l.left,top:l.top+l.height+i}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};$.summernote=$.extend($.summernote,{version:"0.8.2",ui:ui,dom:dom,plugins:{},options:{modules:{editor:Editor,clipboard:Clipboard,dropzone:Dropzone,codeview:Codeview,statusbar:Statusbar,fullscreen:Fullscreen,handle:Handle,hintPopover:HintPopover,autoLink:AutoLink,autoSync:AutoSync,placeholder:Placeholder,buttons:Buttons,toolbar:Toolbar,linkDialog:LinkDialog,linkPopover:LinkPopover,imageDialog:ImageDialog,imagePopover:ImagePopover,videoDialog:VideoDialog,helpDialog:HelpDialog,airPopover:AirPopover},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara",
"CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),angular.module("summernote",[]).controller("SummernoteController",["$scope","$attrs","$timeout",function(e,t,n){"use strict";var i,a=angular.copy(e.summernoteConfig)||{};if(angular.isDefined(t.height)&&(a.height=+t.height),angular.isDefined(t.minHeight)&&(a.minHeight=+t.minHeight),angular.isDefined(t.maxHeight)&&(a.maxHeight=+t.maxHeight),angular.isDefined(t.placeholder)&&(a.placeholder=t.placeholder),angular.isDefined(t.focus)&&(a.focus=!0),angular.isDefined(t.airmode)&&(a.airMode=!0),angular.isDefined(t.dialogsinbody)&&(a.dialogsInBody=!0),angular.isDefined(t.lang)){if(!angular.isDefined($.summernote.lang[t.lang]))throw new Error('"'+t.lang+'" lang file must be exist.');a.lang=t.lang}a.callbacks=a.callbacks||{},angular.isDefined(t.onInit)&&(a.callbacks.onInit=function(t){e.init({evt:t})}),angular.isDefined(t.onEnter)&&(a.callbacks.onEnter=function(t){e.enter({evt:t})}),angular.isDefined(t.onFocus)&&(a.callbacks.onFocus=function(t){e.focus({evt:t})}),angular.isDefined(t.onPaste)&&(a.callbacks.onPaste=function(t){e.paste({evt:t})}),angular.isDefined(t.onKeyup)&&(a.callbacks.onKeyup=function(t){e.keyup({evt:t})}),angular.isDefined(t.onKeydown)&&(a.callbacks.onKeydown=function(t){e.keydown({evt:t})}),angular.isDefined(t.onImageUpload)&&(a.callbacks.onImageUpload=function(t){e.imageUpload({files:t,editable:e.editable})}),angular.isDefined(t.onMediaDelete)&&(a.callbacks.onMediaDelete=function(t){var n={attrs:{}};n.tagName=t[0].tagName,angular.forEach(t[0].attributes,function(e){n.attrs[e.name]=e.value}),e.mediaDelete({target:n})}),this.activate=function(o,r,s){var l=function(){var e=r.summernote("code");r.summernote("isEmpty")&&(e=""),s&&s.$viewValue!==e&&n(function(){s.$setViewValue(e)},0)},c=a.callbacks.onChange;a.callbacks.onChange=function(i){n(function(){r.summernote("isEmpty")&&(i=""),l()},0),angular.isDefined(t.onChange)?e.change({contents:i,editable:e.editable}):angular.isFunction(c)&&c.apply(this,arguments)},angular.isDefined(t.onBlur)&&(a.callbacks.onBlur=function(t){!a.airMode&&r.blur(),e.blur({evt:t})}),r.summernote(a);var d,u=r.next(".note-editor");u.find(".note-toolbar").click(function(){l(),u.hasClass("codeview")?(u.on("keyup",l),s&&(d=o.$watch(function(){return s.$modelValue},function(e){u.find(".note-codable").val(e)}))):(u.off("keyup",l),angular.isFunction(d)&&d())}),s&&(s.$render=function(){s.$viewValue?r.summernote("code",s.$viewValue):r.summernote("empty")}),angular.isDefined(t.editable)&&(e.editable=u.find(".note-editable")),angular.isDefined(t.editor)&&(e.editor=r),i=r,r.on("$destroy",function(){r.summernote("destroy"),e.summernoteDestroyed=!0})},e.$on("$destroy",function(){e.summernoteDestroyed||i.summernote("destroy")})}]).directive("summernote",[function(){"use strict";return{restrict:"EA",transclude:"element",replace:!0,require:["summernote","?ngModel"],controller:"SummernoteController",scope:{summernoteConfig:"=config",editable:"=",editor:"=",init:"&onInit",enter:"&onEnter",focus:"&onFocus",blur:"&onBlur",paste:"&onPaste",keyup:"&onKeyup",keydown:"&onKeydown",change:"&onChange",imageUpload:"&onImageUpload",mediaDelete:"&onMediaDelete"},template:'<div class="summernote"></div>',link:function(e,t,n,i,a){var o=i[0],r=i[1];if(r)var s=e.$watch(function(){return r.$viewValue},function(n){s(),t.append(n),o.activate(e,t,r)},!0);else a(e,function(e,n){t.append(e.html())}),o.activate(e,t,r)}}}]),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,i){var a=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,o,r){function s(){v=!!("horizontal"in r),v?(b={width:"auto",height:"inherit"},y={width:"0"}):(b={width:"inherit",height:"auto"},y={height:"0"}),i.$eval(r.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(b)}function l(e){return v?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function c(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(m(i)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),a?a(o,{addClass:"in",easing:"ease",to:l(o[0])}).start().finally(d):e.addClass(o,"in",{to:l(o[0])}).then(d)})}function d(){o.removeClass("collapsing").addClass("collapse").css(b),f(i)}function u(){return o.hasClass("collapse")||o.hasClass("in")?void t.resolve(h(i)).then(function(){o.css(l(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),a?a(o,{removeClass:"in",to:y}).start().finally(p):e.removeClass(o,"in",{to:y}).then(p)}):p()}function p(){o.css(y),o.removeClass("collapsing").addClass("collapse"),g(i)}var m=n(r.expanding),f=n(r.expanded),h=n(r.collapsing),g=n(r.collapsed),v=!1,b={},y={};s(),i.$watch(r.uibCollapse,function(e){e?u():c()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var a=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;a&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){t.addClass("panel"),i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var a="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=a+"-tab",e.panelId=a+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,a){i.setHeading(a(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){function e(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(t,n,i,a){t.$watch(function(){return a[i.uibAccordionTransclude]},function(t){if(t){var i=angular.element(n[0].querySelector(e()));i.html(""),i.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,i,a){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(e.$parent):null;o&&a(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,a){var o=a[0],r=a[1],s=e(i.uibUncheckable);n.find("input").css({display:"none"}),r.$render=function(){n.toggleClass(o.activeClass,angular.equals(r.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(o.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){r.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),r.$render()})}}),i.uibUncheckable&&t.$watch(s,function(e){i.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){function a(){return r(n.btnCheckboxTrue,!0)}function o(){return r(n.btnCheckboxFalse,!1)}function r(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=i[0],l=i[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,a()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?o():a()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,i,a){function o(){for(;y.length;)y.shift()}function r(e){for(var t=0;t<g.length;t++)g[t].slide.active=t===e}function s(n,i,l){if(!w){if(angular.extend(n,{direction:l}),angular.extend(g[b].slide||{},{direction:l}),a.enabled(t)&&!e.$currentTransition&&g[i].element&&h.slides.length>1){g[i].element.data(v,n.direction);var c=h.getCurrentIndex();angular.isNumber(c)&&g[c].element&&g[c].element.data(v,n.direction),e.$currentTransition=!0,a.on("addClass",g[i].element,function(t,n){if("close"===n&&(e.$currentTransition=null,a.off("addClass",t),y.length)){var i=y.pop().slide,r=i.index,l=r>h.getCurrentIndex()?"next":"prev";o(),s(i,r,l)}})}e.active=n.index,b=n.index,r(i),u()}}function l(e){for(var t=0;t<g.length;t++)if(g[t].slide===e)return t}function c(){m&&(n.cancel(m),m=null)}function d(t){t.length||(e.$currentTransition=null,o())}function u(){c();var t=+e.interval;!isNaN(t)&&t>0&&(m=n(p,t))}function p(){var t=+e.interval;f&&!isNaN(t)&&t>0&&g.length?e.next():e.pause()}var m,f,h=this,g=h.slides=e.slides=[],v="uib-slideDirection",b=e.active,y=[],w=!1;t.addClass("carousel"),h.addSlide=function(t,n){g.push({slide:t,element:n}),g.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===g.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),b=t.index,e.active=t.index,r(b),h.select(g[l(t)]),1===g.length&&e.play())},h.getCurrentIndex=function(){for(var e=0;e<g.length;e++)if(g[e].slide.index===b)return e},h.next=e.next=function(){var t=(h.getCurrentIndex()+1)%g.length;return 0===t&&e.noWrap()?void e.pause():h.select(g[t],"next")},h.prev=e.prev=function(){var t=h.getCurrentIndex()-1<0?g.length-1:h.getCurrentIndex()-1;return e.noWrap()&&t===g.length-1?void e.pause():h.select(g[t],"prev")},h.removeSlide=function(t){var n=l(t),i=y.indexOf(g[n]);-1!==i&&y.splice(i,1),g.splice(n,1),g.length>0&&b===n?n>=g.length?(b=g.length-1,e.active=b,r(b),h.select(g[g.length-1])):(b=n,e.active=b,r(b),h.select(g[n])):b>n&&(b--,e.active=b),0===g.length&&(b=null,e.active=null,o())},h.select=e.select=function(t,n){var i=l(t.slide);void 0===n&&(n=i>h.getCurrentIndex()?"next":"prev"),t.slide.index===b||e.$currentTransition?t&&t.slide.index!==b&&e.$currentTransition&&y.push(g[i]):s(t.slide,i,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===g.length-1&&e.noWrap()},e.pause=function(){e.noPause||(f=!1,c())},e.play=function(){f||(f=!0,u())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){w=!0,c()}),e.$watch("noTransition",function(e){a.enabled(t,!e)}),e.$watch("interval",u),e.$watchCollection("slides",d),e.$watch("active",function(e){if(angular.isNumber(e)&&b!==e){for(var t=0;t<g.length;t++)if(g[t].slide.index===e){e=t;break}var n=g[e];n&&(r(e),h.select(g[e]),b=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,i,a){n.addClass("item"),a.addSlide(t,n),t.$on("$destroy",function(){a.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(i,a,o){if("active"===a){var r=!1,s=i.data(n),l="next"===s?"left":"right",c=t.bind(this,i,l+" "+s,o);return i.addClass(s),e(i,{addClass:l}).start().done(c),function(){r=!0}}o()},beforeRemoveClass:function(i,a,o){if("active"===a){var r=!1,s=i.data(n),l="next"===s?"left":"right",c=t.bind(this,i,l,o);return e(i,{addClass:l}).start().done(c),function(){r=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(e,t,n,i){function a(e){var t=[],n=e.split(""),a=e.indexOf("'");if(a>-1){var o=!1;e=e.split("");for(var r=a;r<e.length;r++)o?("'"===e[r]&&(r+1<e.length&&"'"===e[r+1]?(e[r+1]="$",n[r+1]=""):(n[r]="",o=!1)),e[r]="$"):"'"===e[r]&&(e[r]="$",n[r]="",o=!0);e=e.join("")}return angular.forEach(g,function(i){var a=e.indexOf(i.key);if(a>-1){e=e.split(""),n[a]="("+i.regex+")",e[a]="$";for(var o=a+1,r=a+i.key.length;r>o;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:a,key:i.key,apply:i.apply,matcher:i.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:i(t,"index")}}function o(e){for(var t,n,i=[],a=0;a<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(a))(a+1>=e.length||"'"!==e.charAt(a+1))&&(i.push(r(e,n,a)),n=null);else if(a===e.length)for(;n<e.length;)t=s(e,n),i.push(t),n=t.endIdx;a++}else"'"!==e.charAt(a)?(t=s(e,a),i.push(t.parser),a=t.endIdx):(n=a,a++);return i}function r(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function s(e,t){for(var n=e.substr(t),i=0;i<g.length;i++)if(new RegExp("^"+g[i].key).test(n)){var a=g[i];return{endIdx:t+a.key.length,parser:a.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function l(e,t,n){return!(1>n)&&(1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3!==t&&5!==t&&8!==t&&10!==t||31>n)}function c(e){return parseInt(e,10)}function d(e,t){return e&&t?f(e,t):e}function u(e,t){return e&&t?f(e,t,!0):e}function p(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function m(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function f(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset(),a=p(t,i);return m(e,n*(a-i))}var h,g,v=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){h=t.id,this.parsers={},this.formatters={},g=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=69>e?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],a=t[3];this.hours+=c(n+i),this.minutes+=c(n+a)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}]},this.init(),this.filter=function(e,n){if(!angular.isDate(e)||isNaN(e)||!n)return"";n=t.DATETIME_FORMATS[n]||n,t.id!==h&&this.init(),this.formatters[n]||(this.formatters[n]=o(n));var i=this.formatters[n];return i.reduce(function(t,n){return t+n(e)},"")},this.parse=function(n,i,o){if(!angular.isString(n)||!i)return n;i=t.DATETIME_FORMATS[i]||i,i=i.replace(v,"\\$&"),t.id!==h&&this.init(),this.parsers[i]||(this.parsers[i]=a(i,"apply"));var r=this.parsers[i],s=r.regex,c=r.map,d=n.match(s),u=!1;if(d&&d.length){var p,m;angular.isDate(o)&&!isNaN(o.getTime())?p={year:o.getFullYear(),month:o.getMonth(),date:o.getDate(),hours:o.getHours(),minutes:o.getMinutes(),seconds:o.getSeconds(),milliseconds:o.getMilliseconds()}:(o&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,g=d.length;g>f;f++){var b=c[f-1];"Z"===b.matcher&&(u=!0),b.apply&&b.apply.call(p,d[f])}var y=u?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=u?Date.prototype.setUTCHours:Date.prototype.setHours;return l(p.year,p.month,p.date)&&(!angular.isDate(o)||isNaN(o.getTime())||u?(m=new Date(0),y.call(m,p.year,p.month,p.date),w.call(m,p.hours||0,p.minutes||0,p.seconds||0,p.milliseconds||0)):(m=new Date(o),y.call(m,p.year,p.month,p.date),w.call(m,p.hours,p.minutes,p.seconds,p.milliseconds))),m}},this.toTimezone=d,this.fromTimezone=u,this.timezoneToOffset=p,this.addDateMinutes=m,this.convertTimezoneToLocal=f}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,a){function o(e,t,n){l.push(e),c.push({scope:e,element:t}),f.forEach(function(t,n){r(t,e)}),e.$on("$destroy",s)}function r(t,i){var a=t.match(n),o=i.$eval(a[1]),r=a[2],s=d[t];if(!s){var l=function(t){var n=null;c.some(function(e){var i=e.scope.$eval(p);return i===t?(n=e,!0):void 0}),s.lastActivated!==n&&(s.lastActivated&&e.removeClass(s.lastActivated.element,o),n&&e.addClass(n.element,o),s.lastActivated=n)};d[t]=s={lastActivated:null,scope:i,watchFn:l,compareWithExp:r,watcher:i.$watch(r,l)}}s.watchFn(i.$eval(r))}function s(e){var t=e.targetScope,n=l.indexOf(t);if(l.splice(n,1),c.splice(n,1),l.length){var i=l[0];angular.forEach(d,function(e){e.scope===t&&(e.watcher=i.$watch(e.compareWithExp,e.watchFn),e.scope=i)})}else d={}}var l=[],c=[],d={},u=a.uibIsClass.match(t),p=u[2],m=u[1],f=m.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,i,a,o,r,s,l,c,d,u){function p(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}var m=this,f={$setViewValue:angular.noop},h={},g=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":m[t]=angular.isDefined(e.datepickerOptions[t])?a(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":m[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?m.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?m.startingDay=l.startingDay:m.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?m[t]=u.fromTimezone(new Date(e),h.timezone):(c&&r.warn("Literal date support has been deprecated, please switch to date object usage"),m[t]=new Date(s(e,"medium"))):m[t]=l[t]?u.fromTimezone(new Date(l[t]),h.timezone):null,m.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){m[t]=e[t]=angular.isDefined(n)?n:datepickerOptions[t],("minMode"===t&&m.modes.indexOf(e.datepickerOptions.datepickerMode)<m.modes.indexOf(m[t])||"maxMode"===t&&m.modes.indexOf(e.datepickerOptions.datepickerMode)>m.modes.indexOf(m[t]))&&(e.datepickerMode=m[t],e.datepickerOptions.datepickerMode=m[t])}):m[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&g.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,m.refreshView()})),e.isActive=function(t){return 0===m.compare(t.date,m.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){f=t,h=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions,e.datepickerOptions.initDate?(m.activeDate=u.fromTimezone(e.datepickerOptions.initDate,h.timezone)||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(m.activeDate=u.fromTimezone(e,h.timezone),m.refreshView())})):m.activeDate=new Date;var n=f.$modelValue?new Date(f.$modelValue):new Date;this.activeDate=isNaN(n)?u.fromTimezone(new Date,h.timezone):u.fromTimezone(n,h.timezone),f.$render=function(){m.render()}},this.render=function(){if(f.$viewValue){var e=new Date(f.$viewValue),t=!isNaN(e);t?this.activeDate=u.fromTimezone(e,h.timezone):d||r.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=f.$viewValue?new Date(f.$viewValue):null;t=u.fromTimezone(t,h.timezone),f.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var i=f.$viewValue?new Date(f.$viewValue):null;i=u.fromTimezone(i,h.timezone);var a=new Date;a=u.fromTimezone(a,h.timezone);var o=this.compare(t,a),r={date:t,label:u.filter(t,n),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),past:0>o,current:0===o,future:o>0,customClass:this.customClass(t)||null};return i&&0===this.compare(t,i)&&(e.selectedDt=r),m.activeDate&&0===this.compare(r.date,m.activeDate)&&(e.activeDt=r),r},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===m.minMode){var n=f.$viewValue?u.fromTimezone(new Date(f.$viewValue),h.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=u.toTimezone(n,h.timezone),f.$setViewValue(n),f.$render()}else m.activeDate=t,p(m.modes[m.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=m.activeDate.getFullYear()+e*(m.step.years||0),n=m.activeDate.getMonth()+e*(m.step.months||0);m.activeDate.setFullYear(t,n,1),m.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===m.maxMode&&1===t||e.datepickerMode===m.minMode&&-1===t||(p(m.modes[m.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var v=function(){m.element[0].focus()};e.$on("uib:datepicker.focus",v),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),m.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(m.isDisabled(m.activeDate))return;e.select(m.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(m.handleKeyDown(n,t),m.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;g.length;)g.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e,t){
return 1!==t||e%4!==0||e%100===0&&e%400!==0?o[t]:29}function a(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),a=new Date(e),o=0;t>o;)n=new Date(a),i[o++]=n,a.setDate(a.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,i,1);var r=this.startingDay-o.getDay(),s=r>0?7-r:-r,l=new Date(o);s>0&&l.setDate(-s+1);for(var c=this.getDates(l,42),d=0;42>d;d++)c[d]=angular.extend(this.createDateObject(c[d],this.formatDay),{secondary:c[d].getMonth()!==i,uid:e.uniqueId+"-"+d});e.labels=new Array(7);for(var u=0;7>u;u++)e.labels[u]={abbr:n(c[u].date,this.formatDayHeader),full:n(c[u].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,m=e.rows.length,f=0;m>f;f++)e.weekNumbers.push(a(e.rows[f][p].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var a=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(a,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),a=this.activeDate.getFullYear(),o=0;12>o;o++)t=new Date(this.activeDate),t.setFullYear(a,o,1),i[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e){return parseInt((e-1)/o,10)*o+1}var a,o;this.element=t,this.yearpickerInit=function(){a=this.yearColumns,o=this.yearRows*a,this.step={years:o}},this._refreshView=function(){for(var t,n=new Array(o),r=0,s=i(this.activeDate.getFullYear());o>r;r++)t=new Date(this.activeDate),t.setFullYear(s+r,0,1),n[r]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+r});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=this.split(n,a),e.columns=a},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=a:"right"===e?n+=1:"down"===e?n+=a:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*o:"home"===e?n=i(this.activeDate.getFullYear()):"end"===e&&(n=i(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var a=i[0],o=i[1];a.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,i){var a=i[0],o=i[1];o.init(a)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,i){var a=i[0],o=i[1];o.init(a)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,i){var a=i[0];angular.extend(a,i[1]),a.yearpickerInit(),a.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,a={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},r=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function i(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var a=n.offsetParent||e[0].documentElement;a&&a!==e[0].documentElement&&i(a);)a=a.offsetParent;return a||e[0].documentElement},scrollbarWidth:function(a){if(a){if(angular.isUndefined(i)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-o[0].clientWidth,i=isFinite(i)?i:0,o.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var r=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(r),n=r[0].offsetWidth-r[0].clientWidth,n=isFinite(n)?n:0,r.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),a=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(o,r.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:i+s,originalRight:i,heightOverflow:o.scrollHeight>o.clientHeight,bottom:a+s,originalBottom:a}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?a.hidden:a.normal,o=t.getComputedStyle(e);return i.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,i,o){n=this.getRawNode(n);var r=i?a.hidden:a.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&r.test(l.overflow+l.overflowY+l.overflowX))return n;var c="absolute"===l.position,d=n.parentElement||s;if(d===s||"fixed"===l.position)return s;for(;d.parentElement&&d!==s;){var u=t.getComputedStyle(d);if(c&&"static"!==u.position&&(c=!1),!c&&r.test(u.overflow+u.overflowY+u.overflowX))break;d=d.parentElement}return d},position:function(n,i){n=this.getRawNode(n);var a=this.offset(n);if(i){var o=t.getComputedStyle(n);a.top-=this.parseStyle(o.marginTop),a.left-=this.parseStyle(o.marginLeft)}var r=this.offsetParent(n),s={top:0,left:0};return r!==e[0].documentElement&&(s=this.offset(r),s.top+=r.clientTop-r.scrollTop,s.left+=r.clientLeft-r.scrollLeft),{width:Math.round(angular.isNumber(a.width)?a.width:n.offsetWidth),height:Math.round(angular.isNumber(a.height)?a.height:n.offsetHeight),top:Math.round(a.top-s.top),left:Math.round(a.left-s.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,a){n=this.getRawNode(n),a=a!==!1;var o=n.getBoundingClientRect(),r={top:0,left:0,bottom:0,right:0},s=i?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(r.top=l.top+s.clientTop,r.left=l.left+s.clientLeft,s===e[0].documentElement&&(r.top+=t.pageYOffset,r.left+=t.pageXOffset),r.bottom=r.top+s.clientHeight,r.right=r.left+s.clientWidth,a){var c=t.getComputedStyle(s);r.top+=this.parseStyle(c.paddingTop),r.bottom-=this.parseStyle(c.paddingBottom),r.left+=this.parseStyle(c.paddingLeft),r.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(o.top-r.top),bottom:Math.round(r.bottom-o.bottom),left:Math.round(o.left-r.left),right:Math.round(r.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,i,a){e=this.getRawNode(e),n=this.getRawNode(n);var r=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=a?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(i[2]){var d=this.viewportOffset(e,a),u=t.getComputedStyle(n),p={width:r+Math.round(Math.abs(this.parseStyle(u.marginLeft)+this.parseStyle(u.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(u.marginTop)+this.parseStyle(u.marginBottom)))};if(i[0]="top"===i[0]&&p.height>d.top&&p.height<=d.bottom?"bottom":"bottom"===i[0]&&p.height>d.bottom&&p.height<=d.top?"top":"left"===i[0]&&p.width>d.left&&p.width<=d.right?"right":"right"===i[0]&&p.width>d.right&&p.width<=d.left?"left":i[0],i[1]="top"===i[1]&&p.height-l.height>d.bottom&&p.height-l.height<=d.top?"bottom":"bottom"===i[1]&&p.height-l.height>d.top&&p.height-l.height<=d.bottom?"top":"left"===i[1]&&p.width-l.width>d.right&&p.width-l.width<=d.left?"right":"right"===i[1]&&p.width-l.width>d.left&&p.width-l.width<=d.right?"left":i[1],"center"===i[1])if(o.vertical.test(i[0])){var m=l.width/2-r/2;d.left+m<0&&p.width-l.width<=d.right?i[1]="left":d.right+m<0&&p.width-l.width<=d.left&&(i[1]="right")}else{var f=l.height/2-p.height/2;d.top+f<0&&p.height-l.height<=d.bottom?i[1]="top":d.bottom+f<0&&p.height-l.height<=d.top&&(i[1]="bottom")}}switch(i[0]){case"top":c.top=l.top-s;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-r;break;case"right":c.left=l.left+l.width}switch(i[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-s;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-r;break;case"center":o.vertical.test(i[0])?c.left=l.left+l.width/2-r/2:c.top=l.top+l.height/2-s/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],c},adjustTop:function(e,t,n,i){return-1!==e.indexOf("top")&&n!==i?{top:t.top-i+"px"}:void 0},positionArrow:function(e,n){e=this.getRawNode(e);var i=e.querySelector(".tooltip-inner, .popover-inner");if(i){var a=angular.element(i).hasClass("tooltip-inner"),r=a?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(r){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(r).css(s);var l="border-"+n[0]+"-width",c=t.getComputedStyle(r)[l],d="border-";d+=o.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],d+="-radius";var u=t.getComputedStyle(a?i:e)[d];switch(n[0]){case"top":s.bottom=a?"0":"-"+c;break;case"bottom":s.top=a?"0":"-"+c;break;case"left":s.right=a?"0":"-"+c;break;case"right":s.left=a?"0":"-"+c}s[n[1]]=u,angular.element(r).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,i,a,o,r,s,l,c,d,u,p,m,f,h){function g(t){var n=u.parse(t,_,e.date);if(isNaN(n))for(var i=0;i<P.length;i++)if(n=u.parse(t,P[i],e.date),!isNaN(n))return n;return n}function v(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=g(e);if(!isNaN(t))return t}return M.$options&&M.$options.allowInvalid?e:void 0}function b(e,t){var i=e||t;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(g(i))))}function y(n){if(e.isOpen||!e.disabled){var i=O[0],a=t[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!e.isOpen||a||o||e.$apply(function(){e.isOpen=!1})}}function w(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function x(){if(e.isOpen){var i=angular.element(O[0].querySelector(".uib-datepicker-popup")),a=n.popupPlacement?n.popupPlacement:p.placement,o=c.positionElements(t,i,a,k);i.css({top:o.top+"px",left:o.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}var _,$,k,S,C,D,T,E,I,M,A,O,P,F=!1,N=[];this.init=function(a){if(M=a,A=a.$options,$=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,k=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,S=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):p.onOpenFocus,C=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,D=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,P=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):p.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(_=p.html5Types[n.type],F=!0):(_=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||p.datepickerPopup;if(n!==_&&(_=n,M.$modelValue=null,!_))throw new Error("uibDatepickerPopup must have a date format specified.")})),!_)throw new Error("uibDatepickerPopup must have a date format specified.");if(F&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");T=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),T.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":C}),E=angular.element(T.children()[0]),E.attr("template-url",D),e.datepickerOptions||(e.datepickerOptions={}),F&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),E.attr("datepicker-options","datepickerOptions"),F?M.$formatters.push(function(t){return e.date=t,t}):(M.$$parserName="date",M.$validators.date=b,M.$parsers.unshift(v),M.$formatters.push(function(t){return M.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=t,u.filter(e.date,_))})),M.$viewChangeListeners.push(function(){e.date=g(M.$viewValue)}),t.on("keydown",w),O=i(T)(e),T.remove(),k?s.find("body").append(O):t.after(O),e.$on("$destroy",function(){for(e.isOpen===!0&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),O.remove(),t.off("keydown",w),s.off("click",y),I&&I.off("scroll",x),angular.element(r).off("resize",x);N.length;)N.shift()()})},e.getText=function(t){return e[t+"Text"]||p[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=new Date);var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(h&&a.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(d(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var i=e.date?u.filter(e.date,_):null;t.val(i),M.$setViewValue(i),$&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())):t=new Date(i.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&N.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(i){i?e.disabled?e.isOpen=!1:m(function(){x(),S&&e.$broadcast("uib:datepicker.focus"),s.on("click",y);var i=n.popupPlacement?n.popupPlacement:p.placement;k||c.parsePlacement(i)[2]?(I=I||angular.element(c.scrollParent(t)),I&&I.on("scroll",x)):I=null,angular.element(r).on("resize",x)},0,!1):(s.off("click",y),I&&I.off("scroll",x),angular.element(r).off("resize",x))}),e.$on("uib:datepicker.mode",function(){m(x,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var a=i[0],o=i[1];o.init(a)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var i;return function(){var a=this,o=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(a,o)},n)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t,a){n||e.on("click",i),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t,a){if(n===t){n=null,e.off("click",i);var o=t.getDropdownElement();o&&o.off("keydown",this.keybindFilter)}};var i=function(e){if(n&&!(e&&"disabled"===n.getAutoClose()||e&&3===e.which)){var i=n.getToggleElement();if(!(e&&i&&i[0].contains(e.target))){var a=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&a&&a[0].contains(e.target)||(n.isOpen=!1,n.focusToggleElement(),t.$$phase||n.$apply())}}};this.keybindFilter=function(e){27===e.which?(e.stopPropagation(),n.focusToggleElement(),i()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,a,o,r,s,l,c,d){var u,p,m=this,f=e.$new(),h=a.appendToOpenClass,g=a.openClass,v=angular.noop,b=n.onToggle?i(n.onToggle):angular.noop,y=!1,w=null,x=!1,_=l.find("body");t.addClass("dropdown"),this.init=function(){if(n.isOpen&&(p=i(n.isOpen),v=p.assign,e.$watch(p,function(e){f.isOpen=!!e})),angular.isDefined(n.dropdownAppendTo)){var a=i(n.dropdownAppendTo)(f);a&&(w=angular.element(a))}y=angular.isDefined(n.dropdownAppendToBody),x=angular.isDefined(n.keyboardNav),y&&!w&&(w=_),w&&m.dropdownMenu&&(w.append(m.dropdownMenu),t.on("$destroy",function(){m.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen,angular.isFunction(v)&&v(f,f.isOpen),f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return m.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return x},f.focusDropdownEntry=function(e){var n=m.dropdownMenu?angular.element(m.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(m.selectedOption)?m.selectedOption=m.selectedOption===n.length-1?m.selectedOption:m.selectedOption+1:m.selectedOption=0;break;case 38:angular.isNumber(m.selectedOption)?m.selectedOption=0===m.selectedOption?0:m.selectedOption-1:m.selectedOption=n.length-1}n[m.selectedOption].focus()},f.getDropdownElement=function(){return m.dropdownMenu},f.focusToggleElement=function(){m.toggleElement&&m.toggleElement[0].focus()},f.$watch("isOpen",function(n,i){if(w&&m.dropdownMenu){var a,l,p,x=s.positionElements(t,m.dropdownMenu,"bottom-left",!0),_=0;if(a={top:x.top+"px",display:n?"block":"none"},l=m.dropdownMenu.hasClass("dropdown-menu-right"),l?(a.left="auto",p=s.scrollbarPadding(w),p.heightOverflow&&p.scrollbarWidth&&(_=p.scrollbarWidth),a.right=window.innerWidth-_-(x.left+t.prop("offsetWidth"))+"px"):(a.left=x.left+"px",a.right="auto"),!y){var $=s.offset(w);a.top=x.top-$.top+"px",l?a.right=window.innerWidth-(x.left-$.left+t.prop("offsetWidth"))+"px":a.left=x.left-$.left+"px"}m.dropdownMenu.css(a)}var k=w?w:t,S=k.hasClass(w?h:g);if(S===!n&&r[n?"addClass":"removeClass"](k,w?h:g).then(function(){angular.isDefined(n)&&n!==i&&b(e,{open:!!n})}),n)m.dropdownMenuTemplateUrl?d(m.dropdownMenuTemplateUrl).then(function(e){u=f.$new(),c(e.trim())(u,function(e){var t=e;m.dropdownMenu.replaceWith(t),m.dropdownMenu=t,m.dropdownMenu.on("keydown",o.keybindFilter)})}):m.dropdownMenu&&m.dropdownMenu.on("keydown",o.keybindFilter),f.focusToggleElement(),o.open(f,t);else{if(o.close(f,t),m.dropdownMenuTemplateUrl){u&&u.$destroy();var C=angular.element('<ul class="dropdown-menu"></ul>');m.dropdownMenu.replaceWith(C),m.dropdownMenu=C}m.selectedOption=null}angular.isFunction(v)&&v(e,n)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var a=n.templateUrl;a&&(i.dropdownMenuTemplateUrl=a),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var a=function(a){a.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",a),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",a)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var a=i.indexOf(n);-1!==a&&i.splice(a,1),i.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,a,o,r){if(i)return i.resolve(e,a,o,r);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},i=0;return angular.forEach(e,function(e,a){n[a]=t[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,a){a.modalInClass&&(e.addClass(i,a.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var r=o();t.modalOptions.animation?e.removeClass(i,a.modalInClass).then(r):r()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(a,o,r){o.addClass(r.windowTopClass||""),a.size=r.size,a.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",a.close),a.$isRendered=!0;var s=t.defer();a.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;r.modalInClass&&(s=n(o,{addClass:r.modalInClass}).start(),a.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();n(o,{removeClass:r.modalInClass}).start().then(i)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!o[0].contains(i[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,i,a,o){o(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,a,o,r,s,l){function c(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function d(){for(var e=-1,t=x.keys(),n=0;n<t.length;n++)x.get(t[n]).value.backdrop&&(e=n);return e>-1&&k>e&&(e=k),e}function u(e,t){var n=x.get(e).value,i=n.appendTo;x.remove(e),S=x.top(),S&&(k=parseInt(S.value.modalDomEl.attr("index"),10)),f(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||w;_.remove(t,e);var a=_.hasKey(t);i.toggleClass(t,a),!a&&y&&y.heightOverflow&&y.scrollbarWidth&&(y.originalRight?i.css({paddingRight:y.originalRight+"px"}):i.css({paddingRight:""}),y=null),p(!0)},n.closedDeferred),m(),t&&t.focus?t.focus():i.focus&&i.focus()}function p(e){var t;x.length()>0&&(t=x.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function m(){if(v&&-1===d()){var e=b;f(v,b,function(){e=null}),v=void 0,b=void 0}}function f(t,n,i,a){function r(){r.done||(r.done=!0,e.leave(t).then(function(){i&&i(),t.remove(),a&&a.resolve()}),n.$destroy())}var s,l=null,c=function(){return s||(s=o.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast($.NOW_CLOSING_EVENT,c),o.when(l).then(r)}function h(e){if(e.isDefaultPrevented())return e;var t=x.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),a.$apply(function(){$.dismiss(t.key,"escape key press")}));break;case 9:var n=$.loadFocusElementList(t),i=!1;e.shiftKey?($.isFocusInFirstItem(e,n)||$.isModalFocused(e,t))&&(i=$.focusLastFocusableElement(n)):$.isFocusInLastItem(e,n)&&(i=$.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function g(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var v,b,y,w="modal-open",x=s.createNew(),_=r.createNew(),$={NOW_CLOSING_EVENT:"modal.stack.now-closing"},k=0,S=null,C="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]";return a.$watch(d,function(e){b&&(b.index=e)}),n.on("keydown",h),a.$on("$destroy",function(){n.off("keydown",h)}),$.open=function(t,o){var r=n[0].activeElement,s=o.openedClass||w;p(!1),S=x.top(),x.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),_.put(s,t);var c=o.appendTo,u=d();if(!c.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");u>=0&&!v&&(b=a.$new(!0),b.modalOptions=o,b.index=u,v=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),v.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&v.addClass(o.backdropClass),o.animation&&v.attr("modal-animation","true"),i(v)(b),e.enter(v,c),l.isScrollable(c)&&(y=l.scrollbarPadding(c),y.heightOverflow&&y.scrollbarWidth&&c.css({paddingRight:y.right+"px"}))),k=S?parseInt(S.value.modalDomEl.attr("index"),10)+1:0;var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({class:"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog",size:o.size,index:k,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).html(o.content),o.windowClass&&m.addClass(o.windowClass),o.animation&&m.attr("modal-animation","true"),c.addClass(s),o.scope&&(o.scope.$$topModalIndex=k),e.enter(i(m)(o.scope),c),x.top().value.modalDomEl=m,x.top().value.modalOpener=r},$.close=function(e,t){var n=x.get(e);return n&&g(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},$.dismiss=function(e,t){var n=x.get(e);return n&&g(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},$.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},$.getTop=function(){return x.top()},$.modalRendered=function(e){var t=x.get(e);t&&t.value.renderDeferred.resolve()},$.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},$.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},$.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},$.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},$.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},$.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll(C);return n?Array.prototype.filter.call(n,function(e){return c(e)}):n}}},$}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,a,o,r,s){
function l(e){return e.template?n.when(e.template):a(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var c={},d=null;return c.getPromiseChain=function(){return d},c.open=function(a){function c(){return v}var u=n.defer(),p=n.defer(),m=n.defer(),f=n.defer(),h={result:u.promise,opened:p.promise,closed:m.promise,rendered:f.promise,close:function(e){return s.close(h,e)},dismiss:function(e){return s.dismiss(h,e)}};if(a=angular.extend({},e.options,a),a.resolve=a.resolve||{},a.appendTo=a.appendTo||i.find("body").eq(0),!a.template&&!a.templateUrl)throw new Error("One of template or templateUrl options is required.");var g,v=n.all([l(a),r.resolve(a.resolve,{},null,null)]);return g=d=n.all([d]).then(c,c).then(function(e){var n=a.scope||t,i=n.$new();i.$close=h.close,i.$dismiss=h.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var r,l,c={};a.controller&&(c.$scope=i,c.$scope.$resolve={},c.$uibModalInstance=h,angular.forEach(e[1],function(e,t){c[t]=e,c.$scope.$resolve[t]=e}),l=o(a.controller,c,!0,a.controllerAs),a.controllerAs&&a.bindToController&&(r=l.instance,r.$close=i.$close,r.$dismiss=i.$dismiss,angular.extend(r,{$resolve:c.$scope.$resolve},n)),r=l(),angular.isFunction(r.$onInit)&&r.$onInit()),s.open(h,{scope:i,deferred:u,renderDeferred:f,closedDeferred:m,content:e[0],animation:a.animation,backdrop:a.backdrop,keyboard:a.keyboard,backdropClass:a.backdropClass,windowTopClass:a.windowTopClass,windowClass:a.windowClass,windowTemplateUrl:a.windowTemplateUrl,size:a.size,openedClass:a.openedClass,appendTo:a.appendTo}),p.resolve(!0)},function(e){p.reject(e),u.reject(e)}).finally(function(){d===g&&(d=null)}),h},c}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,i){t.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,a){t.ngModelCtrl=e,t.config=a,e.$render=function(){t.render()},i.itemsPerPage?t._watchers.push(n.$parent.$watch(i.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=a.itemsPerPage,n.$watch("totalItems",function(e,i){(angular.isDefined(e)||e!==i)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,i){i&&i.preventDefault();var a=!n.ngDisabled||!i;a&&n.page!==e&&e>0&&e<=n.totalPages&&(i&&i.target&&i.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,i,a){n.addClass("pager");var o=a[0],r=a[1];r&&o.init(r,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,i,a){function o(e,t,n){return{number:e,text:t,active:n}}function r(e,t){var n=[],i=1,a=t,r=angular.isDefined(l)&&t>l;r&&(c?(i=Math.max(e-Math.floor(l/2),1),a=i+l-1,a>t&&(a=t,i=a-l+1)):(i=(Math.ceil(e/l)-1)*l+1,a=Math.min(i+l-1,t)));for(var s=i;a>=s;s++){var m=o(s,p(s),s===e);n.push(m)}if(r&&l>0&&(!c||d||u)){if(i>1){if(!u||i>3){var f=o(i-1,"...",!1);n.unshift(f)}if(u){if(3===i){var h=o(2,"2",!1);n.unshift(h)}var g=o(1,"1",!1);n.unshift(g)}}if(t>a){if(!u||t-2>a){var v=o(a+1,"...",!1);n.push(v)}if(u){if(a===t-2){var b=o(t-1,t-1,!1);n.push(b)}var y=o(t,t,!1);n.push(y)}}}return n}var s=this,l=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):a.maxSize,c=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):a.rotate,d=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):a.forceEllipses,u=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):a.boundaryLinkNumbers,p=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):a.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):a.directionLinks,i.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){l=parseInt(e,10),s.render()}));var m=this.render;this.render=function(){m(),e.page>0&&e.page<=e.totalPages&&(e.pages=r(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,i,a){n.addClass("pagination");var o=a[0],r=a[1];r&&o.init(r,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(a,o,r,s,l,c,d,u,p){function m(e){if(27===e.which){var t=f.top();t&&(t.value.close(),f.removeTop(),t=null)}}var f=p.createNew();return s.on("keypress",m),d.$on("$destroy",function(){s.off("keypress",m)}),function(a,d,p,m){function h(e){var t=(e||m.trigger||p).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}m=angular.extend({},t,i,m);var g=e(a),v=c.startSymbol(),b=c.endSymbol(),y="<div "+g+'-popup uib-title="'+v+"title"+b+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'origin-scope="origScope" class="uib-position-measure '+d+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=o(y);return function(e,t,i,o){function c(){B.isOpen?g():p()}function p(){L&&!e.$eval(i[d+"Enable"])||(w(),$(),B.popupDelay?A||(A=r(v,B.popupDelay,!1)):v())}function g(){b(),B.popupCloseDelay?O||(O=r(y,B.popupCloseDelay,!1)):y()}function v(){return b(),w(),B.content?(x(),void B.$evalAsync(function(){B.isOpen=!0,k(!0),W()})):angular.noop}function b(){A&&(r.cancel(A),A=null),P&&(r.cancel(P),P=null)}function y(){B&&B.$evalAsync(function(){B&&(B.isOpen=!1,k(!1),B.animation?M||(M=r(_,150,!1)):_())})}function w(){O&&(r.cancel(O),O=null),M&&(r.cancel(M),M=null)}function x(){E||(I=B.$new(),E=n(I,function(e){N?s.find("body").append(e):t.after(e)}),S())}function _(){b(),w(),C(),E&&(E.remove(),E=null),I&&(I.$destroy(),I=null)}function $(){B.title=i[d+"Title"],U?B.content=U(e):B.content=i[a],B.popupClass=i[d+"Class"],B.placement=angular.isDefined(i[d+"Placement"])?i[d+"Placement"]:m.placement;var t=l.parsePlacement(B.placement);F=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[d+"PopupDelay"],10),o=parseInt(i[d+"PopupCloseDelay"],10);B.popupDelay=isNaN(n)?m.popupDelay:n,B.popupCloseDelay=isNaN(o)?m.popupCloseDelay:o}function k(t){z&&angular.isFunction(z.assign)&&z.assign(e,t)}function S(){H.length=0,U?(H.push(e.$watch(U,function(e){B.content=e,!e&&B.isOpen&&y()})),H.push(I.$watch(function(){j||(j=!0,I.$$postDigest(function(){j=!1,B&&B.isOpen&&W()}))}))):H.push(i.$observe(a,function(e){B.content=e,!e&&B.isOpen?y():W()})),H.push(i.$observe(d+"Title",function(e){B.title=e,B.isOpen&&W()})),H.push(i.$observe(d+"Placement",function(e){B.placement=e?e:m.placement,B.isOpen&&W()}))}function C(){H.length&&(angular.forEach(H,function(e){e()}),H.length=0)}function D(e){B&&B.isOpen&&E&&(t[0].contains(e.target)||E[0].contains(e.target)||g())}function T(){var n=[],a=[],o=e.$eval(i[d+"Trigger"]);q(),angular.isObject(o)?(Object.keys(o).forEach(function(e){n.push(e),a.push(o[e])}),R={show:n,hide:a}):R=h(o),"none"!==R.show&&R.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",c),s.on("click",D)):e===R.hide[n]?t.on(e,c):e&&(t.on(e,p),t.on(R.hide[n],g)),t.on("keypress",function(e){27===e.which&&g()})})}var E,I,M,A,O,P,F,N=!!angular.isDefined(m.appendToBody)&&m.appendToBody,R=h(void 0),L=angular.isDefined(i[d+"Enable"]),B=e.$new(!0),j=!1,z=!!angular.isDefined(i[d+"IsOpen"])&&u(i[d+"IsOpen"]),U=!!m.useContentExp&&u(i[a]),H=[],W=function(){E&&E.html()&&(P||(P=r(function(){var e=l.positionElements(t,E,B.placement,N),n=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop("offsetHeight"),i=N?l.offset(t):l.position(t);E.css({top:e.top+"px",left:e.left+"px"});var a=e.placement.split("-");E.hasClass(a[0])||(E.removeClass(F.split("-")[0]),E.addClass(a[0])),E.hasClass(m.placementClassPrefix+e.placement)||(E.removeClass(m.placementClassPrefix+F),E.addClass(m.placementClassPrefix+e.placement)),r(function(){var e=angular.isDefined(E.offsetHeight)?E.offsetHeight:E.prop("offsetHeight"),t=l.adjustTop(a,i,n,e);t&&E.css(t)},0,!1),E.hasClass("uib-position-measure")?(l.positionArrow(E,e.placement),E.removeClass("uib-position-measure")):F!==e.placement&&l.positionArrow(E,e.placement),F=e.placement,P=null},0,!1)))};B.origScope=e,B.isOpen=!1,f.add(B,{close:y}),B.contentExp=function(){return B.content},i.$observe("disabled",function(e){e&&b(),e&&B.isOpen&&y()}),z&&e.$watch(z,function(e){B&&!e===B.isOpen&&c()});var q=function(){R.show.forEach(function(e){"outsideClick"===e?t.off("click",c):(t.off(e,p),t.off(e,c))}),R.hide.forEach(function(e){"outsideClick"===e?s.off("click",D):t.off(e,g)})};T();var V=e.$eval(i[d+"Animation"]);B.animation=angular.isDefined(V)?!!V:m.animation;var Y,G=d+"AppendToBody";Y=G in i&&void 0===i[G]||e.$eval(i[G]),N=angular.isDefined(Y)?Y:N,e.$on("$destroy",function(){q(),_(),f.remove(B),B=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(a,o,r){var s,l,c,d=a.$eval(r.tooltipTemplateTranscludeScope),u=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};a.$watch(t.parseAsResourceUrl(r.uibTooltipTemplateTransclude),function(t){var r=++u;t?(i(t,!0).then(function(i){if(r===u){var a=d.$new(),l=i,m=n(l)(a,function(t){p(),e.enter(t,o)});s=a,c=m,s.$emit("$includeContentLoaded",t)}},function(){r===u&&(p(),a.$emit("$includeContentError",t))}),a.$emit("$includeContentRequested",t)):p()}),a.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var a=e.parsePlacement(t.placement);n.addClass(a[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function i(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var a=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=i(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=i(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=a.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,a.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){a.bars.forEach(function(e){e.max=i(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},a=this;this.init=function(a){i=a,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=a.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=a.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,i){var a=i[0],o=i[1];a.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}var n,i=this;i.tabs=[],i.select=function(e,o){if(!a){var r=t(n),s=i.tabs[r];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,i.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=t(e.index);i.select(n)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var a=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(a)}i.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&i.select(t(e))});var a;e.$on("$destroy",function(){a=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,a,o){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),angular.isUndefined(i.index)&&(a.tabs&&a.tabs.length?t.index=Math.max.apply(null,a.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<a.tabs.length;i++)if(a.tabs[i].tab===t){n=i;break}a.select(n,e)}},a.addTab(t),t.$on("$destroy",function(){a.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,i){var a=t.$eval(i.uibTabContentTransclude).tab;a.$transcludeFn(a.$parent,function(t){angular.forEach(t,function(t){e(t)?a.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,a,o,r){function s(){var t=+e.hours,n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n&&""!==e.hours?(e.showMeridian&&(12===t&&(t=0),e.meridian===x[1]&&(t+=12)),t):void 0}function l(){var t=+e.minutes,n=t>=0&&60>t;return n&&""!==e.minutes?t:void 0}function c(){var t=+e.seconds;return t>=0&&60>t?t:void 0}function d(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function u(e){p(),w.$setViewValue(new Date(b)),m(e)}function p(){w.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function m(t){if(w.$modelValue){var n=b.getHours(),i=b.getMinutes(),a=b.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:d(n,!_),"m"!==t&&(e.minutes=d(i)),e.meridian=b.getHours()<12?x[0]:x[1],"s"!==t&&(e.seconds=d(a)),e.meridian=b.getHours()<12?x[0]:x[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=x[0]}function f(e){b=g(b,e),u()}function h(e,t){return g(e,60*t)}function g(e,t){var n=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function v(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var b=new Date,y=[],w={$setViewValue:angular.noop},x=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):r.meridians||o.DATETIME_FORMATS.AMPMS,_=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){w=t,w.$render=this.render,w.$formatters.unshift(function(e){return e?new Date(e):null});var a=i.eq(0),o=i.eq(1),s=i.eq(2),l=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):r.mousewheel;l&&this.setupMousewheelEvents(a,o,s);var c=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):r.arrowkeys;c&&this.setupArrowkeyEvents(a,o,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):r.readonlyInput,this.setupInputEvents(a,o,s)};var $=r.hourStep;n.hourStep&&y.push(e.$parent.$watch(i(n.hourStep),function(e){$=+e}));var k=r.minuteStep;n.minuteStep&&y.push(e.$parent.$watch(i(n.minuteStep),function(e){k=+e}));var S;y.push(e.$parent.$watch(i(n.min),function(e){var t=new Date(e);S=isNaN(t)?void 0:t}));var C;y.push(e.$parent.$watch(i(n.max),function(e){var t=new Date(e);C=isNaN(t)?void 0:t}));var D=!1;n.ngDisabled&&y.push(e.$parent.$watch(i(n.ngDisabled),function(e){D=e})),e.noIncrementHours=function(){var e=h(b,60*$);return D||e>C||b>e&&S>e},e.noDecrementHours=function(){var e=h(b,60*-$);return D||S>e||e>b&&e>C},e.noIncrementMinutes=function(){var e=h(b,k);return D||e>C||b>e&&S>e},e.noDecrementMinutes=function(){var e=h(b,-k);return D||S>e||e>b&&e>C},e.noIncrementSeconds=function(){var e=g(b,T);return D||e>C||b>e&&S>e},e.noDecrementSeconds=function(){var e=g(b,-T);return D||S>e||e>b&&e>C},e.noToggleMeridian=function(){return b.getHours()<12?D||h(b,720)>C:D||h(b,-720)<S};var T=r.secondStep;n.secondStep&&y.push(e.$parent.$watch(i(n.secondStep),function(e){T=+e})),e.showSeconds=r.showSeconds,n.showSeconds&&y.push(e.$parent.$watch(i(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=r.showMeridian,n.showMeridian&&y.push(e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,w.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(b.setHours(n),u())}else m()})),this.setupMousewheelEvents=function(t,n,i){var a=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){D||e.$apply(a(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){D||e.$apply(a(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),i.bind("mousewheel wheel",function(t){D||e.$apply(a(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,i){t.bind("keydown",function(t){D||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.bind("keydown",function(t){D||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),i.bind("keydown",function(t){D||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,i){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var a=function(t,n,i){w.$setViewValue(null),w.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n),angular.isDefined(i)&&(e.invalidSeconds=i)};e.updateHours=function(){var e=s(),t=l();w.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(b.setHours(e),b.setMinutes(t),S>b||b>C?a(!0):u("h")):a(!0)},t.bind("blur",function(t){w.$setTouched(),v()?p():null===e.hours||""===e.hours?a(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=d(e.hours,!_)})}),e.updateMinutes=function(){var e=l(),t=s();w.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(b.setHours(t),b.setMinutes(e),S>b||b>C?a(void 0,!0):u("m")):a(void 0,!0)},n.bind("blur",function(t){w.$setTouched(),v()?p():null===e.minutes?a(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=d(e.minutes)})}),e.updateSeconds=function(){var e=c();w.$setDirty(),angular.isDefined(e)?(b.setSeconds(e),u("s")):a(void 0,void 0,!0)},i.bind("blur",function(t){v()?p():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=d(e.seconds)})})},this.render=function(){var t=w.$viewValue;isNaN(t)?(w.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(b=t),S>b||b>C?(w.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):p(),m())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):r.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*$*60)},e.decrementHours=function(){e.noDecrementHours()||f(60*-$*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(60*k)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(60*-k)},e.incrementSeconds=function(){e.noIncrementSeconds()||f(T)},e.decrementSeconds=function(){e.noDecrementSeconds()||f(-T)},e.toggleMeridian=function(){var t=l(),n=s();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?f(720*(b.getHours()<12?60:-60)):e.meridian=e.meridian===x[0]?x[1]:x[0])},e.blur=function(){w.$setTouched()},e.$on("$destroy",function(){for(;y.length;)y.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,i){var a=i[0],o=i[1];o&&a.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,i,a,o,r,s,l,c,d,u,p){function m(){j.moveInProgress||(j.moveInProgress=!0,j.$digest()),J()}function f(){j.position=I?u.offset(t):u.position(t),j.position.top+=t.prop("offsetHeight")}var h,g,v=[9,13,27,38,40],b=200,y=e.$eval(n.typeaheadMinLength);y||0===y||(y=1),e.$watch(n.typeaheadMinLength,function(e){y=e||0===e?e:1});var w=e.$eval(n.typeaheadWaitMs)||0,x=e.$eval(n.typeaheadEditable)!==!1;e.$watch(n.typeaheadEditable,function(e){x=e!==!1});var _,$,k=a(n.typeaheadLoading).assign||angular.noop,S=n.typeaheadShouldSelect?a(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},C=a(n.typeaheadOnSelect),D=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),T=a(n.typeaheadNoResults).assign||angular.noop,E=n.typeaheadInputFormatter?a(n.typeaheadInputFormatter):void 0,I=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),M=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,A=e.$eval(n.typeaheadFocusFirst)!==!1,O=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),P=a(n.typeaheadIsOpen).assign||angular.noop,F=e.$eval(n.typeaheadShowHint)||!1,N=a(n.ngModel),R=a(n.ngModel+"($$$p)"),L=function(t,n){return angular.isFunction(N(e))&&g&&g.$options&&g.$options.getterSetter?R(t,{$$$p:n}):N.assign(t,n)},B=p.parse(n.uibTypeahead),j=e.$new(),z=e.$on("$destroy",function(){j.$destroy()});j.$on("$destroy",z);var U="typeahead-"+j.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":U});var H,W;F&&(H=angular.element("<div></div>"),H.css("position","relative"),t.after(H),W=t.clone(),W.attr("placeholder",""),W.attr("tabindex","-1"),W.val(""),W.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),W.attr("id")&&W.removeAttr("id"),H.append(W),W.after(t));var q=angular.element("<div uib-typeahead-popup></div>");q.attr({id:U,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&q.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&q.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var V=function(){F&&W.val("")},Y=function(){j.matches=[],j.activeIdx=-1,t.attr("aria-expanded",!1),V()},G=function(e){return U+"-option-"+e};j.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",G(e))});var K=function(e,t){return!!(j.matches.length>t&&e)&&e.toUpperCase()===j.matches[t].label.toUpperCase()},X=function(n,i){var a={$viewValue:n};k(e,!0),T(e,!1),o.when(B.source(e,a)).then(function(o){var r=n===h.$viewValue;if(r&&_)if(o&&o.length>0){j.activeIdx=A?0:-1,T(e,!1),j.matches.length=0;for(var s=0;s<o.length;s++)a[B.itemName]=o[s],
j.matches.push({id:G(s),label:B.viewMapper(j,a),model:o[s]});if(j.query=n,f(),t.attr("aria-expanded",!0),O&&1===j.matches.length&&K(n,0)&&(angular.isNumber(j.debounceUpdate)||angular.isObject(j.debounceUpdate)?d(function(){j.select(0,i)},angular.isNumber(j.debounceUpdate)?j.debounceUpdate:j.debounceUpdate.default):j.select(0,i)),F){var l=j.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?W.val(n+l.slice(n.length)):W.val("")}}else Y(),T(e,!0);r&&k(e,!1)},function(){Y(),k(e,!1),T(e,!0)})};I&&(angular.element(l).on("resize",m),s.find("body").on("scroll",m));var J=d(function(){j.matches.length&&f(),j.moveInProgress=!1},b);j.moveInProgress=!1,j.query=void 0;var Q,Z=function(e){Q=r(function(){X(e)},w)},ee=function(){Q&&r.cancel(Q)};Y(),j.assignIsOpen=function(t){P(e,t)},j.select=function(i,a){var o,s,l={};$=!0,l[B.itemName]=s=j.matches[i].model,o=B.modelMapper(e,l),L(e,o),h.$setValidity("editable",!0),h.$setValidity("parse",!0),C(e,{$item:s,$model:o,$label:B.viewMapper(e,l),$event:a}),Y(),j.$eval(n.typeaheadFocusOnSelect)!==!1&&r(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==j.matches.length&&-1!==v.indexOf(t.which)){var n=S(e,{$event:t});if(-1===j.activeIdx&&n||9===t.which&&t.shiftKey)return Y(),void j.$digest();t.preventDefault();var i;switch(t.which){case 27:t.stopPropagation(),Y(),e.$digest();break;case 38:j.activeIdx=(j.activeIdx>0?j.activeIdx:j.matches.length)-1,j.$digest(),i=q[0].querySelectorAll(".uib-typeahead-match")[j.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:j.activeIdx=(j.activeIdx+1)%j.matches.length,j.$digest(),i=q[0].querySelectorAll(".uib-typeahead-match")[j.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;default:n&&j.$apply(function(){angular.isNumber(j.debounceUpdate)||angular.isObject(j.debounceUpdate)?d(function(){j.select(j.activeIdx,t)},angular.isNumber(j.debounceUpdate)?j.debounceUpdate:j.debounceUpdate.default):j.select(j.activeIdx,t)})}}}),t.bind("focus",function(e){_=!0,0!==y||h.$viewValue||r(function(){X(h.$viewValue,e)},0)}),t.bind("blur",function(e){D&&j.matches.length&&-1!==j.activeIdx&&!$&&($=!0,j.$apply(function(){angular.isObject(j.debounceUpdate)&&angular.isNumber(j.debounceUpdate.blur)?d(function(){j.select(j.activeIdx,e)},j.debounceUpdate.blur):j.select(j.activeIdx,e)})),!x&&h.$error.editable&&(h.$setViewValue(),j.$apply(function(){h.$setValidity("editable",!0),h.$setValidity("parse",!0)}),t.val("")),_=!1,$=!1});var te=function(n){t[0]!==n.target&&3!==n.which&&0!==j.matches.length&&(Y(),c.$$phase||e.$digest())};s.on("click",te),e.$on("$destroy",function(){s.off("click",te),(I||M)&&ne.remove(),I&&(angular.element(l).off("resize",m),s.find("body").off("scroll",m)),q.remove(),F&&H.remove()});var ne=i(q)(j);I?s.find("body").append(ne):M?angular.element(M).eq(0).append(ne):t.after(ne),this.init=function(t,n){h=t,g=n,j.debounceUpdate=h.$options&&a(h.$options.debounce)(e),h.$parsers.unshift(function(t){return _=!0,0===y||t&&t.length>=y?w>0?(ee(),Z(t)):X(t):(k(e,!1),ee(),Y()),x?t:t?void h.$setValidity("editable",!1):(h.$setValidity("editable",!0),null)}),h.$formatters.push(function(t){var n,i,a={};return x||h.$setValidity("editable",!0),E?(a.$model=t,E(e,a)):(a[B.itemName]=t,n=B.viewMapper(e,a),a[B.itemName]=void 0,i=B.viewMapper(e,a),n!==i?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,i){t.templateUrl=i.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,i){var a=t.debounce();angular.isNumber(a)||angular.isObject(a)?e(function(){t.select({activeIdx:n,evt:i})},angular.isNumber(a)?a:a.default):t.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,a,o){var r=n(o.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";e(r).then(function(e){var n=angular.element(e.trim());a.replaceWith(n),t(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function a(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,r){return!o&&a(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(i(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-default uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-default uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-default pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(){var e;(e=function(e,t){return"function"==typeof define&&null!=define.amd?define("values/icon-groups-map",["angular"],t):t(e.angular)})(this,function(e){var t;return t=e.module("ui-iconpicker/values/icon-groups-map",[]),t.value("iconGroupsMap",{bootstrap:{prefix:"glyphicon glyphicon-",classes:["asterisk","plus","euro","eur","minus","cloud","envelope","pencil","glass","music","search","heart","star","star-empty","user","film","th-large","th","th-list","ok","remove","zoom-in","zoom-out","off","signal","cog","trash","home","file","time","road","download-alt","download","upload","inbox","play-circle","repeat","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","indent-left","indent-right","facetime-video","picture","map-marker","adjust","tint","edit","share","check","move","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-sign","minus-sign","remove-sign","ok-sign","question-sign","info-sign","screenshot","remove-circle","ok-circle","ban-circle","arrow-left","arrow-right","arrow-up","arrow-down","share-alt","resize-full","resize-small","exclamation-sign","gift","leaf","fire","eye-open","eye-close","warning-sign","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder-close","folder-open","resize-vertical","resize-horizontal","hdd","bullhorn","bell","certificate","thumbs-up","thumbs-down","hand-right","hand-left","hand-up","hand-down","circle-arrow-right","circle-arrow-left","circle-arrow-up","circle-arrow-down","globe","wrench","tasks","filter","briefcase","fullscreen","dashboard","paperclip","heart-empty","link","phone","pushpin","usd","gbp","sort","sort-by-alphabet","sort-by-alphabet-alt","sort-by-order","sort-by-order-alt","sort-by-attributes","sort-by-attributes-alt","unchecked","expand","collapse-down","collapse-up","log-in","flash","log-out","new-window","record","save","open","saved","import","export","send","floppy-disk","floppy-saved","floppy-remove","floppy-save","floppy-open","credit-card","transfer","cutlery","header","compressed","earphone","phone-alt","tower","stats","sd-video","hd-video","subtitles","sound-stereo","sound-dolby","sound-5-1","sound-6-1","sound-7-1","copyright-mark","registration-mark","cloud-download","cloud-upload","tree-conifer","tree-deciduous","cd","save-file","open-file","level-up","copy","paste","alert","equalizer","king","queen","pawn","bishop","knight","baby-formula","tent","blackboard","bed","apple","erase","hourglass","lamp","duplicate","piggy-bank","scissors","bitcoin","btc","xbt","yen","jpy","ruble","rub","scale","ice-lolly","ice-lolly-tasted","education","option-horizontal","option-vertical","menu-hamburger","modal-window","oil","grain","sunglasses","text-size","text-color","text-background","object-align-top","object-align-bottom","object-align-horizontal","object-align-left","object-align-vertical","object-align-right","triangle-right","triangle-left","triangle-bottom","triangle-top","console","superscript","subscript","menu-left","menu-right","menu-down","menu-up"]
},"font-awesome":{prefix:"fa fa-lg fa-",classes:["certificate","500px","adjust","adn","align-center","align-justify","align-left","align-right","amazon","ambulance","american-sign-language-interpreting","anchor","android","angellist","angle-double-down","angle-double-left","angle-double-right","angle-double-up","angle-down","angle-left","angle-right","angle-up","apple","archive","area-chart","arrow-circle-down","arrow-circle-left","arrow-circle-o-down","arrow-circle-o-left","arrow-circle-o-right","arrow-circle-o-up","arrow-circle-right","arrow-circle-up","arrow-down","arrow-left","arrow-right","arrow-up","arrows","arrows-alt","arrows-h","arrows-v","assistive-listening-systems","asterisk","at","audio-description","backward","balance-scale","ban","bar-chart","barcode","bars","battery-empty","battery-full","battery-half","battery-quarter","battery-three-quarters","bed","beer","behance","behance-square","bell","bell-o","bell-slash","bell-slash-o","bicycle","binoculars","birthday-cake","bitbucket","bitbucket-square","black-tie","blind","bluetooth","bluetooth-b","bold","bolt","bomb","book","bookmark","bookmark-o","braille","briefcase","btc","bug","building","building-o","bullhorn","bullseye","bus","buysellads","calculator","calendar","calendar-check-o","calendar-minus-o","calendar-o","calendar-plus-o","calendar-times-o","camera","camera-retro","car","caret-down","caret-left","caret-right","caret-square-o-down","caret-square-o-left","caret-square-o-right","caret-square-o-up","caret-up","cart-arrow-down","cart-plus","cc","cc-amex","cc-diners-club","cc-discover","cc-jcb","cc-mastercard","cc-paypal","cc-stripe","cc-visa","chain-broken","check","check-circle","check-circle-o","check-square","check-square-o","chevron-circle-down","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-down","chevron-left","chevron-right","chevron-up","child","chrome","circle","circle-o","circle-o-notch","circle-thin","clipboard","clock-o","clone","cloud","cloud-download","cloud-upload","code","code-fork","codepen","codiepie","coffee","cog","cogs","columns","comment","comment-o","commenting","commenting-o","comments","comments-o","compass","compress","connectdevelop","contao","copyright","creative-commons","credit-card","credit-card-alt","crop","crosshairs","css3","cube","cubes","cutlery","dashcube","database","deaf","delicious","desktop","deviantart","diamond","digg","dot-circle-o","download","dribbble","dropbox","drupal","edge","eject","ellipsis-h","ellipsis-v","empire","envelope","envelope-o","envelope-square","envira","eraser","eur","exchange","exclamation","exclamation-circle","exclamation-triangle","expand","expeditedssl","external-link","external-link-square","eye","eye-slash","eyedropper","facebook","facebook-official","facebook-square","fast-backward","fast-forward","fax","female","fighter-jet","file","file-archive-o","file-audio-o","file-code-o","file-excel-o","file-image-o","file-o","file-pdf-o","file-powerpoint-o","file-text","file-text-o","file-video-o","file-word-o","files-o","film","filter","fire","fire-extinguisher","firefox","first-order","flag","flag-checkered","flag-o","flask","flickr","floppy-o","folder","folder-o","folder-open","folder-open-o","font","font-awesome","fonticons","fort-awesome","forumbee","forward","foursquare","frown-o","futbol-o","gamepad","gavel","gbp","genderless","get-pocket","gg","gg-circle","gift","git","git-square","github","github-alt","github-square","gitlab","glass","glide","glide-g","globe","google","google-plus","google-plus-official","google-plus-square","google-wallet","graduation-cap","gratipay","h-square","hacker-news","hand-lizard-o","hand-o-down","hand-o-left","hand-o-right","hand-o-up","hand-paper-o","hand-peace-o","hand-pointer-o","hand-rock-o","hand-scissors-o","hand-spock-o","hashtag","hdd-o","header","headphones","heart","heart-o","heartbeat","history","home","hospital-o","hourglass","hourglass-end","hourglass-half","hourglass-o","hourglass-start","houzz","html5","i-cursor","ils","inbox","indent","industry","info","info-circle","inr","instagram","internet-explorer","ioxhost","italic","joomla","jpy","jsfiddle","key","keyboard-o","krw","language","laptop","lastfm","lastfm-square","leaf","leanpub","lemon-o","level-down","level-up","life-ring","lightbulb-o","line-chart","link","linkedin","linkedin-square","linux","list","list-alt","list-ol","list-ul","location-arrow","lock","long-arrow-down","long-arrow-left","long-arrow-right","long-arrow-up","low-vision","magic","magnet","male","map","map-marker","map-o","map-pin","map-signs","mars","mars-double","mars-stroke","mars-stroke-h","mars-stroke-v","maxcdn","meanpath","medium","medkit","meh-o","mercury","microphone","microphone-slash","minus","minus-circle","minus-square","minus-square-o","mixcloud","mobile","modx","money","moon-o","motorcycle","mouse-pointer","music","neuter","newspaper-o","object-group","object-ungroup","odnoklassniki","odnoklassniki-square","opencart","openid","opera","optin-monster","outdent","pagelines","paint-brush","paper-plane","paper-plane-o","paperclip","paragraph","pause","pause-circle","pause-circle-o","paw","paypal","pencil","pencil-square","pencil-square-o","percent","phone","phone-square","picture-o","pie-chart","pied-piper","pied-piper-alt","pied-piper-pp","pinterest","pinterest-p","pinterest-square","plane","play","play-circle","play-circle-o","plug","plus","plus-circle","plus-square","plus-square-o","power-off","print","product-hunt","puzzle-piece","qq","qrcode","question","question-circle","question-circle-o","quote-left","quote-right","random","rebel","recycle","reddit","reddit-alien","reddit-square","refresh","registered","renren","repeat","reply","reply-all","retweet","road","rocket","rss","rss-square","rub","safari","scissors","scribd","search","search-minus","search-plus","sellsy","server","share","share-alt","share-alt-square","share-square","share-square-o","shield","ship","shirtsinbulk","shopping-bag","shopping-basket","shopping-cart","sign-in","sign-language","sign-out","signal","simplybuilt","sitemap","skyatlas","skype","slack","sliders","slideshare","smile-o","snapchat","snapchat-ghost","snapchat-square","sort","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-asc","sort-desc","sort-numeric-asc","sort-numeric-desc","soundcloud","space-shuttle","spinner","spoon","spotify","square","square-o","stack-exchange","stack-overflow","star","star-half","star-half-o","star-o","steam","steam-square","step-backward","step-forward","stethoscope","sticky-note","sticky-note-o","stop","stop-circle","stop-circle-o","street-view","strikethrough","stumbleupon","stumbleupon-circle","subscript","subway","suitcase","sun-o","superscript","table","tablet","tachometer","tag","tags","tasks","taxi","television","tencent-weibo","terminal","text-height","text-width","th","th-large","th-list","themeisle","thumb-tack","thumbs-down","thumbs-o-down","thumbs-o-up","thumbs-up","ticket","times","times-circle","times-circle-o","tint","toggle-off","toggle-on","trademark","train","transgender","transgender-alt","trash","trash-o","tree","trello","tripadvisor","trophy","truck","try","tty","tumblr","tumblr-square","twitch","twitter","twitter-square","umbrella","underline","undo","universal-access","university","unlock","unlock-alt","upload","usb","usd","user","user-md","user-plus","user-secret","user-times","users","venus","venus-double","venus-mars","viacoin","viadeo","viadeo-square","video-camera","vimeo","vimeo-square","vine","vk","volume-control-phone","volume-down","volume-off","volume-up","weibo","weixin","whatsapp","wheelchair","wheelchair-alt","wifi","wikipedia-w","windows","wordpress","wpbeginner","wpforms","wrench","xing","xing-square","y-combinator","yahoo","yelp","yoast","youtube","youtube-play","youtube-square"]}})})}.call(this),function(){var e;(e=function(e,t){return"function"==typeof define&&null!=define.amd?define("services/IconGroupCollection",["angular","values/icon-groups-map"],t):t(e.angular)})(this,function(e){var t;return t=e.module("ui-iconpicker/services/IconGroupCollection",["ui-iconpicker/values/icon-groups-map"]),t.factory("IconGroupCollection",["iconGroupsMap",function(e){var t;return t=function(){function t(e){null==e&&(e="bootstrap"),this.iconGroupsMap={},this.includeGroups(e)}return t.prototype.filterByGroups=function(e){var t,n,i,a;if(null==e&&(e="bootstrap"),"all"!==e){i=e.split(" "),a=this.iconGroupsMap;for(n in a)t=a[n],-1!==i.indexOf(n)&&delete this.iconGroupsMap[n]}return this},t.prototype.includeGroups=function(t){var n,i,a;null==t&&(t="bootstrap"),a=t.split(" ");for(i in e)n=e[i],null==this.iconGroupsMap[i]&&("all"===t||-1!==a.indexOf(i))&&(this.iconGroupsMap[i]=n);return this},t.prototype.getClassArray=function(){var e,t,n,i,a,o,r,s;e=[],r=this.iconGroupsMap;for(i in r)for(t=r[i],s=t.classes,a=0,o=s.length;o>a;a++)n=s[a],e.push(t.prefix+n);return e},t}()}])})}.call(this),function(){var e;(e=function(e,t){return"function"==typeof define&&null!=define.amd?define("templates/iconpicker",["angular","angular-bootstrap"],t):t(e.angular)})(this,function(e){var t;return t=e.module("ui-iconpicker/templates/iconpicker",["ui.bootstrap"]),t.run(["$templateCache",function(e){return e.put("templates/iconpicker.html",'<span class="btn-group ui-iconpicker" ng-class="{ disabled: disabled }" uib-dropdown>\n <button type="button" uib-dropdown-toggle class="btn btn-default"><i class="{{ iconClass }}"></i><span class="caret"></span>\n  </button>\n <ul uib-dropdown-menu class="dropdown-menu" role="menu">\n    <li ng-repeat="class in availableIconClasses">\n      <button class="btn btn-default" type="button" ng-click="$parent.iconClass = class"><span class="{{ class }}"></span></button>\n   </li>\n </ul>\n <input name="{{ name }}" type="hidden" value="{{ iconClass }}" ng-if="name" />\n</span>')}])})}.call(this),function(){var e;(e=function(e,t){return"function"==typeof define&&null!=define.amd?define("directives/ui-iconpicker",["angular","services/IconGroupCollection","templates/iconpicker"],t):t(e.angular)})(this,function(e){var t;return t=e.module("ui-iconpicker/directives/ui-iconpicker",["ui-iconpicker/services/IconGroupCollection","ui-iconpicker/templates/iconpicker"]),t.directive("uiIconpicker",["IconGroupCollection",function(e){return{replace:!0,restrict:"E",scope:{name:"@",model:"=?ngModel"},templateUrl:"templates/iconpicker.html",link:function(t,n,i){var a;return t.availableIconClasses=new e(i.groups).getClassArray(),t.iconClass=null!=(a=i.value)?a:t.availableIconClasses[0],i.ngModel&&(t.model=t[i.ngModel],t.$watch("iconClass",function(){return t.model=t.iconClass}),t.$watch("model",function(){return t.iconClass=t.model})),t.$dropdownButton=n.find("button").eq(0),t.disabled=null!=i.disabled}}}])})}.call(this),function(){var e;(e=function(e,t){return"function"==typeof define&&null!=define.amd?define("ui-iconpicker",["angular","directives/ui-iconpicker"],t):t(e.angular)})(this,function(e){return e.module("ui-iconpicker",["ui-iconpicker/directives/ui-iconpicker"])})}.call(this),angular.module("ui.load",[]).service("uiLoad",["$document","$q","$timeout","$window",function(e,t,n,i){var a=[],o=!1,r=t.defer();this.load=function(e){e=angular.isArray(e)?e:e.split(/\s+/);var t=this;return o||(o=r.promise),angular.forEach(e,function(e){var n=e.indexOf("?")>=0?"&":"?";e=e+n+"_="+i.vars.version,o=o.then(function(){return e.indexOf(".css")>=0?t.loadCSS(e):t.loadScript(e)})}),r.resolve(),o},this.loadScript=function(i){if(a[i])return a[i].promise;var o=t.defer(),r=e[0].createElement("script");return r.src=i,r.onload=function(e){n(function(){o.resolve(e)})},r.onerror=function(e){n(function(){o.reject(e)})},e[0].body.appendChild(r),a[i]=o,o.promise},this.loadCSS=function(i){if(a[i])return a[i].promise;var o=t.defer(),r=e[0].createElement("link");return r.rel="stylesheet",r.type="text/css",r.href=i,r.onload=function(e){n(function(){o.resolve(e)})},r.onerror=function(e){n(function(){o.reject(e)})},e[0].head.appendChild(r),a[i]=o,o.promise}}]),angular.module("ui.jq",["ui.load"]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","JQ_CONFIG","uiLoad","$timeout",function(e,t,n,i){return{restrict:"A",compile:function(a,o){if(!angular.isFunction(a[o.uiJq])&&!t[o.uiJq])throw new Error('ui-jq: The "'+o.uiJq+'" function does not exist');var r=e&&e[o.uiJq];return function(e,a,o){function s(){var t=[];return o.uiOptions?(t=e.$eval("["+o.uiOptions+"]"),angular.isObject(r)&&angular.isObject(t[0])&&(t[0]=angular.extend({},r,t[0]))):r&&(t=[r]),t}function l(){i(function(){a[o.uiJq].apply(a,s())},100)}function c(){o.uiRefresh&&e.$watch(o.uiRefresh,function(){l()})}o.ngModel&&a.is("select,input,textarea")&&a.bind("change",function(){a.trigger("input")}),t[o.uiJq]?n.load(t[o.uiJq]).then(function(){l(),c()}).catch(function(){}):(l(),c())}}}}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return H(new(H(function(){},{prototype:e})),t)}function a(e){return U(arguments,function(t){t!==e&&U(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function r(e){if(Object.keys)return Object.keys(e);var t=[];return U(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var a,l=o(n,i),c={},d=[];for(var u in l)if(l[u]&&l[u].params&&(a=r(l[u].params),a.length))for(var p in a)s(d,a[p])>=0||(d.push(a[p]),c[a[p]]=e[a[p]]);return H({},c,t)}function c(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var a=0;a<n.length;a++){var o=n[a];if(e[o]!=t[o])return!1}return!0}function d(e,t){var n={};return U(e,function(e){n[e]=t[e]}),n}function u(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return U(n,function(n){n in e&&(t[n]=e[n])}),t}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==s(n,i)&&(t[i]=e[i]);return t}function m(e,t){var n=z(e),i=n?[]:{};return U(e,function(e,a){t(e,a)&&(i[n?i.length:a]=e)}),i}function f(e,t){var n=z(e)?[]:{};return U(e,function(e,i){n[i]=t(e,i)}),n}function h(e,t){var i=1,o=2,l={},c=[],d=l,u=H(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function m(e,n){if(b[n]!==o){if(v.push(n),b[n]===i)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(b[n]=i,B(e))g.push(n,[function(){return t.get(e)}],c);else{var a=t.annotate(e);U(a,function(e){e!==n&&l.hasOwnProperty(e)&&m(l[e],e)}),g.push(n,e,a)}v.pop(),b[n]=o}}function f(e){return j(e)&&e.then&&e.$$promises}if(!j(l))throw new Error("'invocables' must be an object");var h=r(l||{}),g=[],v=[],b={};return U(l,m),l=v=b=null,function(i,o,r){function s(){--w||(x||a(y,o.$$values),v.$$values=y,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,m.resolve(y))}function l(e){v.$$failure=e,m.reject(e)}function c(n,a,o){function c(e){u.reject(e),l(e)}function d(){if(!R(v.$$failure))try{u.resolve(t.invoke(a,r,y)),u.promise.then(function(e){y[n]=e,s()},c)}catch(e){c(e)}}var u=e.defer(),p=0;U(o,function(e){b.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(p++,b[e].then(function(t){y[e]=t,--p||d()},c))}),p||d(),b[n]=u.promise}if(f(i)&&r===n&&(r=o,o=i,i=null),i){if(!j(i))throw new Error("'locals' must be an object")}else i=d;if(o){if(!f(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=u;var m=e.defer(),v=m.promise,b=v.$$promises={},y=H({},i),w=1+g.length/3,x=!1;if(R(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&a(y,p(o.$$inheritedValues,h)),H(b,o.$$promises),o.$$values?(x=a(y,p(o.$$values,h)),v.$$inheritedValues=p(o.$$values,h),s()):(o.$$inheritedValues&&(v.$$inheritedValues=p(o.$$inheritedValues,h)),o.then(s,l));for(var _=0,$=g.length;$>_;_+=3)i.hasOwnProperty(g[_])?s():c(g[_],g[_+1],g[_+2]);return v}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function g(e,t,n){this.fromConfig=function(e,t,n){return R(e.template)?this.fromString(e.template,t):R(e.templateUrl)?this.fromUrl(e.templateUrl,t):R(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return L(e)?e(t):e},this.fromUrl=function(n,i){return L(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function v(e,t,a){function o(t,n,i,a){if(g.push(t),f[t])return f[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(h[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return h[t]=new V.Param(t,n,i,a),h[t]}function r(e,t,n,i){var a=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:a=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),a=["(?:/(",")|/)?"];break;default:a=["("+n+"|",")?"]}return o+a[0]+t+a[1]}function s(a,o){var r,s,l,c,d;return r=a[2]||a[3],d=t.params[r],l=e.substring(p,a.index),s=o?a[4]:a[4]||("*"==a[1]?".*":null),s&&(c=V.type(s)||i(V.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:r,regexp:s,segment:l,type:c,cfg:d}}t=H({params:{}},j(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u="^",p=0,m=this.segments=[],f=a?a.params:{},h=this.params=a?a.params.$$new():new V.ParamSet,g=[];this.source=e;for(var v,b,y;(l=c.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)b=o(v.id,v.type,v.cfg,"path"),u+=r(v.segment,b.type.pattern.source,b.squash,b.isOptional),m.push(v.segment),p=c.lastIndex;y=e.substring(p);var w=y.indexOf("?");if(w>=0){var x=this.sourceSearch=y.substring(w);if(y=y.substring(0,w),this.sourcePath=e.substring(0,p+w),x.length>0)for(p=0;l=d.exec(x);)v=s(l,!0),b=o(v.id,v.type,v.cfg,"search"),p=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";u+=r(y)+(t.strict===!1?"/?":"")+"$",m.push(y),this.regexp=new RegExp(u,t.caseInsensitive?"i":n),this.prefix=m[0],this.$$paramNames=g}function b(e){H(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function a(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function o(){return{strict:h,caseInsensitive:p}}function l(e){return L(e)||z(e)&&L(e[e.length-1])}function c(){for(;_.length;){var e=_.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],u.invoke(e.def))}}function d(e){H(this,e||{})}V=this;var u,p=!1,h=!0,g=!1,w={},x=!0,_=[],$={string:{encode:e,decode:a,is:function(e){return null==e||!R(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return R(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!u)throw new Error("Injectable functions cannot be called at configuration time");return u.invoke(e.value)},this.caseInsensitive=function(e){return R(e)&&(p=e),p},this.strictMode=function(e){return R(e)&&(h=e),h},this.defaultSquashPolicy=function(e){if(!R(e))return g;if(e!==!0&&e!==!1&&!B(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return g=e,e},this.compile=function(e,t){return new v(e,H(o(),t))},this.isMatcher=function(e){if(!j(e))return!1;var t=!0;return U(v.prototype,function(n,i){L(n)&&(t=t&&R(e[i])&&L(e[i]))}),t},this.type=function(e,t,n){if(!R(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new b(H({name:e},t)),n&&(_.push({name:e,def:n}),x||c()),this},U($,function(e,t){w[t]=new b(H({name:t},e))}),w=i(w,{}),this.$get=["$injector",function(e){return u=e,x=!1,c(),U($,function(e,t){w[t]||(w[t]=new b(e))}),this}],this.Param=function(e,i,a,o){function c(e){var t=j(e)?r(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function d(n,i,a){if(n.type&&i)throw new Error("Param '"+e+"' has two type configurations.");return i?i:n.type?t.isString(n.type)?w[n.type]:n.type instanceof b?n.type:new b(n.type):"config"===a?w.any:w.string}function p(){var t={array:"search"===o&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return H(t,n,a).array}function h(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!R(n)||null==n)return g;if(n===!0||B(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(e,t,i,a){var o,r,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return o=z(e.replace)?e.replace:[],B(a)&&o.push({from:a,to:n}),r=f(o,function(e){return e.from}),m(l,function(e){return-1===s(r,e.from)}).concat(o)}function y(){if(!u)throw new Error("Injectable functions cannot be called at configuration time");var e=u.invoke(a.$$fn);if(null!==e&&e!==n&&!$.type.is(e))throw new Error("Default value ("+e+") for parameter '"+$.id+"' is not an instance of Type ("+$.type.name+")");return e}function x(e){function t(e){return function(t){return t.from===e}}function n(e){var n=f(m($.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),R(e)?$.type.$normalize(e):y()}function _(){return"{Param:"+e+" "+i+" squash: '"+C+"' optional: "+S+"}"}var $=this;a=c(a),i=d(a,i,o);var k=p();i=k?i.$asArray(k,"search"===o):i,"string"!==i.name||k||"path"!==o||a.value!==n||(a.value="");var S=a.value!==n,C=h(a,S),D=v(a,k,S,C);H(this,{id:e,type:i,location:o,array:k,squash:C,replace:D,isOptional:S,value:x,dynamic:n,config:a,toString:_})},d.prototype={$$new:function(){return i(this,H(new d,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=r(d.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),U(t,function(t){U(r(t),function(t){-1===s(e,t)&&-1===s(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return U(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return U(i.$$keys(),function(a){var o=e&&e[a],r=t&&t[a];i[a].type.equals(o,r)||(n=!1)}),n},$$validates:function(e){var i,a,o,r,s,l=this.$$keys();for(i=0;i<l.length&&(a=this[l[i]],o=e[l[i]],o!==n&&null!==o||!a.isOptional);i++){if(r=a.type.$normalize(o),!a.type.is(r))return!1;if(s=a.type.encode(r),t.isString(s)&&!a.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=d}function w(e,i){function a(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function r(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!R(i)||i}function s(i,a,o,r,s){function p(e,t,n){return"/"===g?e:t?g.slice(0,-1)+e:n?g.slice(1)+e:e}function m(e){function t(e){var t=e(o,i);return!!t&&(B(t)&&i.replace().url(t),!0)}if(!e||!e.defaultPrevented){h&&i.url()===h,h=n;var a,r=c.length;for(a=0;r>a;a++)if(t(c[a]))return;d&&t(d)}}function f(){return l=l||a.$on("$locationChangeSuccess",m)}var h,g=r.baseHref(),v=i.url();return u||f(),{sync:function(){m()},listen:function(){return f()},update:function(e){return e?void(v=i.url()):void(i.url()!==v&&(i.url(v),i.replace()))},push:function(e,t,a){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),i.url(o),h=a&&a.$$avoidResync?i.url():n,a&&a.replace&&i.replace()},href:function(n,a,o){if(!n.validates(a))return null;var r=e.html5Mode();t.isObject(r)&&(r=r.enabled),r=r&&s.history;var l=n.format(a);if(o=o||{},r||null===l||(l="#"+e.hashPrefix()+l),null!==l&&a&&a["#"]&&(l+="#"+a["#"]),l=p(l,r,o.absolute),!o.absolute||!l)return l;var c=!r&&l?"/":"",d=i.port();return d=80===d||443===d?"":":"+d,[i.protocol(),"://",i.host(),d,c,l].join("")}}}var l,c=[],d=null,u=!1;this.rule=function(e){if(!L(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(B(e)){var t=e;e=function(){return t}}else if(!L(e))throw new Error("'rule' must be a function");return d=e,this},this.when=function(e,t){var n,s=B(t);if(B(e)&&(e=i.compile(e)),!s&&!L(t)&&!z(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),H(function(n,i){return r(n,t,e.exec(i.path(),i.search()))},{prefix:B(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),H(function(n,i){return r(n,t,e.exec(i.path()))},{prefix:a(e)})}},c={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var d in c)if(c[d])return this.rule(l[d](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),u=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function x(e,a){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return n;var i=B(e),a=i?e:e.name,r=o(a);if(r){if(!t)throw new Error("No reference point given for path '"+a+"'");t=p(t);for(var s=a.split("."),l=0,c=s.length,d=t;c>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!d.parent)throw new Error("Path '"+a+"' not valid for state '"+t.name+"'");d=d.parent}else d=t;s=s.slice(l).join("."),a=d.name+(d.name&&s?".":"")+s}var u=S[a];return!u||!i&&(i||u!==e&&u.self!==e)?n:u}function m(e,t){C[e]||(C[e]=[]),C[e].push(t)}function h(e){for(var t=C[e]||[];t.length;)g(t.shift())}function g(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!B(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(S.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var a=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):B(t.parent)?t.parent:j(t.parent)&&B(t.parent.name)?t.parent.name:"";if(a&&!S[a])return m(a,t.self);for(var o in T)L(T[o])&&(t[o]=T[o](t,T.$delegates[o]));return S[n]=t,!t[D]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){k.$current.navigable==t&&c(e,n)||k.transitionTo(t,e,{inherit:!0,location:!1})}]),h(n),t}function v(e){return e.indexOf("*")>-1}function b(e){for(var t=e.split("."),n=k.$current.name.split("."),i=0,a=t.length;a>i;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function y(e,t){return B(e)&&!R(t)?T[e]:L(t)&&B(e)?(T[e]&&!T.$delegates[e]&&(T.$delegates[e]=T[e]),T[e]=t,this):this}function w(e,t){return j(e)?t=e:t.name=e,g(t),this}function x(e,a,o,s,u,m,h,g,y){function w(t,n,i,o){var r=e.$broadcast("$stateNotFound",t,n,i);if(r.defaultPrevented)return h.update(),E;if(!r.retry)return null;if(o.$retry)return h.update(),I;var s=k.transition=a.when(r.retry);return s.then(function(){return s!==k.transition?C:(t.options.$retry=!0,k.transitionTo(t.to,t.toParams,t.options))},function(){return E}),h.update(),s}function x(e,n,i,r,l,c){function p(){var n=[];return U(e.views,function(i,a){var r=i.resolve&&i.resolve!==e.resolve?i.resolve:{};r.$template=[function(){return o.load(a,{view:i,locals:l.globals,params:m,notify:c.notify})||""}],n.push(u.resolve(r,l.globals,l.resolve,e).then(function(n){if(L(i.controllerProvider)||z(i.controllerProvider)){var o=t.extend({},r,l.globals);n.$$controller=s.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,l[a]=n}))}),a.all(n).then(function(){return l.globals})}var m=i?n:d(e.params.$$keys(),n),f={$stateParams:m};l.resolve=u.resolve(e.resolve,f,l.resolve,e);var h=[l.resolve.then(function(e){l.globals=e})];return r&&h.push(r),a.all(h).then(p).then(function(e){return l})}var C=a.reject(new Error("transition superseded")),T=a.reject(new Error("transition prevented")),E=a.reject(new Error("transition aborted")),I=a.reject(new Error("transition failed"));return $.locals={resolve:null,globals:{$stateParams:{}}},k={params:{},current:$.self,$current:$,transition:null},k.reload=function(e){return k.transitionTo(k.current,m,{reload:e||!0,inherit:!1,notify:!0})},k.go=function(e,t,n){return k.transitionTo(e,t,H({inherit:!0,relative:k.$current},n))},k.transitionTo=function(t,n,o){n=n||{},o=H({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var r,c=k.$current,u=k.params,f=c.path,g=p(t,o.relative),v=n["#"];if(!R(g)){var b={to:t,toParams:n,options:o},y=w(b,c.self,u,o);if(y)return y;if(t=b.to,n=b.toParams,o=b.options,g=p(t,o.relative),!R(g)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(g[D])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=l(m,n||{},k.$current,g)),!g.params.$$validates(n))return I;n=g.params.$$values(n),t=g;var S=t.path,E=0,M=S[E],A=$.locals,O=[];if(o.reload){if(B(o.reload)||j(o.reload)){if(j(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var P=o.reload===!0?f[0]:p(o.reload);if(o.reload&&!P)throw new Error("No such reload state '"+(B(o.reload)?o.reload:o.reload.name)+"'");for(;M&&M===f[E]&&M!==P;)A=O[E]=M.locals,E++,M=S[E]}}else for(;M&&M===f[E]&&M.ownParams.$$equals(n,u);)A=O[E]=M.locals,E++,M=S[E];if(_(t,n,c,u,A,o))return v&&(n["#"]=v),k.params=n,W(k.params,m),W(d(t.params.$$keys(),m),t.locals.globals.$stateParams),o.location&&t.navigable&&t.navigable.url&&(h.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),h.update(!0)),k.transition=null,a.when(k.current);if(n=d(t.params.$$keys(),n||{}),v&&(n["#"]=v),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,u,o).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,u),null==k.transition&&h.update(),T;for(var F=a.when(A),N=E;N<S.length;N++,M=S[N])A=O[N]=i(A),F=x(M,n,M===t,F,A,o);var L=k.transition=F.then(function(){var i,a,r;if(k.transition!==L)return C;for(i=f.length-1;i>=E;i--)r=f[i],r.self.onExit&&s.invoke(r.self.onExit,r.self,r.locals.globals),r.locals=null;for(i=E;i<S.length;i++)a=S[i],a.locals=O[i],a.self.onEnter&&s.invoke(a.self.onEnter,a.self,a.locals.globals);return k.transition!==L?C:(k.$current=t,k.current=t.self,k.params=n,W(k.params,m),k.transition=null,o.location&&t.navigable&&h.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,u),h.update(!0),k.current)}).then(null,function(i){return k.transition!==L?C:(k.transition=null,r=e.$broadcast("$stateChangeError",t.self,n,c.self,u,i),r.defaultPrevented||h.update(),a.reject(i))});return L},k.is=function(e,t,i){i=H({relative:k.$current},i||{});var a=p(e,i.relative);return R(a)?k.$current===a&&(!t||c(a.params.$$values(t),m)):n},k.includes=function(e,t,i){
if(i=H({relative:k.$current},i||{}),B(e)&&v(e)){if(!b(e))return!1;e=k.$current.name}var a=p(e,i.relative);return R(a)?!!R(k.$current.includes[a.name])&&(!t||c(a.params.$$values(t),m,r(t))):n},k.href=function(e,t,i){i=H({lossy:!0,inherit:!0,absolute:!1,relative:k.$current},i||{});var a=p(e,i.relative);if(!R(a))return null;i.inherit&&(t=l(m,t||{},k.$current,a));var o=a&&i.lossy?a.navigable:a;return o&&o.url!==n&&null!==o.url?h.href(o.url,d(a.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},k.get=function(e,t){if(0===arguments.length)return f(r(S),function(e){return S[e].self});var n=p(e,t||k.$current);return n&&n.self?n.self:null},k}function _(e,t,n,i,a,o){function r(e,t,n){function i(t){return"search"!=e.params[t].location}var a=e.params.$$keys().filter(i),o=u.apply({},[e.params].concat(a)),r=new V.ParamSet(o);return r.$$equals(t,n)}return!(o.reload||e!==n||!(a===n.locals||e.self.reloadOnSearch===!1&&r(n,i,t)))||void 0}var $,k,S={},C={},D="abstract",T={parent:function(e){if(R(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):$},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=i(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(B(t))return"^"==t.charAt(0)?a.compile(t.substring(1),n):(e.parent.navigable||$).url.concat(t,n);if(!t||a.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new V.ParamSet;return U(e.params||{},function(e,n){t[n]||(t[n]=new V.Param(n,null,e,"config"))}),t},params:function(e){var t=u(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?H(e.parent.params.$$new(),t):new V.ParamSet},views:function(e){var t={};return U(R(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?H({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};$=g({name:"",url:"^",views:null,abstract:!0}),$.navigable=null,this.decorator=y,this.state=w,this.$get=x,x.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function _(){function e(e,t){return{load:function(e,n){var i,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=H(a,n),n.view&&(i=t.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function $(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function k(e,n,i,a,o){function r(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}}}function s(e,n){var i=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(d)return{enter:function(e,n,i){t.version.minor>2?d.enter(e,null,n).then(i):d.enter(e,null,n,i)},leave:function(e,n){t.version.minor>2?d.leave(e).then(n):d.leave(e,n)}};if(c){var a=c&&c(n,e);return{enter:function(e,t,n){a.enter(e,null,t),n()},leave:function(e,t){a.leave(e),t()}}}return i()}var l=r(),c=l("$animator"),d=l("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,r,l){return function(n,r,c){function d(){if(p&&(p.remove(),p=null),f&&(f.$destroy(),f=null),m){var e=m.data("$uiViewAnim");b.leave(m,function(){e.$$animLeave.resolve(),p=null}),p=m,m=null}}function u(s){var u,p=C(n,c,r,a),y=p&&e.$current&&e.$current.locals[p];if(s||y!==h){u=n.$new(),h=e.$current.locals[p],u.$emit("$viewContentLoading",p);var w=l(u,function(e){var a=o.defer(),s=o.defer(),l={$animEnter:a.promise,$animLeave:s.promise,$$animLeave:s};e.data("$uiViewAnim",l),b.enter(e,r,function(){a.resolve(),f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(v)&&!v||n.$eval(v))&&i(e)}),d()});m=w,f=u,f.$emit("$viewContentLoaded",p),f.$eval(g)}}var p,m,f,h,g=c.onload||"",v=c.autoscroll,b=s(c,n);r.inheritedData("$uiView"),n.$on("$stateChangeSuccess",function(){u(!1)}),u(!0)}}};return u}function S(e,n,i,a){return{restrict:"ECA",priority:-400,compile:function(o){var r=o.html();return function(o,s,l){var c=i.$current,d=C(o,l,s,a),u=c&&c.locals[d];if(u){s.data("$uiView",{name:d,state:u.$$state}),s.html(u.$template?u.$template:r);var p=t.extend({},u);o[u.$$resolveAs]=p;var m=e(s.contents());if(u.$$controller){u.$scope=o,u.$element=s;var f=n(u.$$controller,u);u.$$controllerAs&&(o[u.$$controllerAs]=f,o[u.$$controllerAs][u.$$resolveAs]=p),L(f.$onInit)&&f.$onInit(),s.data("$ngControllerController",f),s.children().data("$ngControllerController",f)}m(o)}}}}}function C(e,t,n,i){var a=i(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return a.indexOf("@")>=0?a:a+"@"+(o?o.state.name:"")}function D(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function T(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function E(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function I(e,t,n,i,a){return function(o){var r=o.which||o.button,s=a();if(!(r>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});o.preventDefault();var c=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){c--<=0&&n.cancel(l)}}}}function M(e,t){return{relative:T(e)||t.$current,inherit:!0}}function A(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,a,o,r){var s,l=D(o.uiSref,e.current.name),c={state:l.state,href:null,params:null},d=E(a),u=r[1]||r[0],p=null;c.options=H(M(a,e),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var m=function(n){n&&(c.params=t.copy(n)),c.href=e.href(l.state,c.params,c.options),p&&p(),u&&(p=u.$$addStateInfo(l.state,c.params)),null!==c.href&&o.$set(d.attr,c.href)};l.paramExpr&&(i.$watch(l.paramExpr,function(e){e!==c.params&&m(e)},!0),c.params=t.copy(i.$eval(l.paramExpr))),m(),d.clickable&&(s=I(a,e,n,d,function(){return c}),a.bind("click",s),i.$on("$destroy",function(){a.unbind("click",s)}))}}}function O(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,a,o){function r(t){p.state=t[0],p.params=t[1],p.options=t[2],p.href=e.href(p.state,p.params,p.options),m&&m(),c&&(m=c.$$addStateInfo(p.state,p.params)),p.href&&a.$set(l.attr,p.href)}var s,l=E(i),c=o[1]||o[0],d=[a.uiState,a.uiStateParams||null,a.uiStateOpts||null],u="["+d.map(function(e){return e||"null"}).join(", ")+"]",p={state:null,params:null,options:null,href:null},m=null;n.$watch(u,r,!0),r(n.$eval(u)),l.clickable&&(s=I(i,e,t,l,function(){return p}),i.bind("click",s),n.$on("$destroy",function(){i.unbind("click",s)}))}}}function P(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,i,a,o){function r(t,n,a){var o=e.get(t,T(i)),r=s(t,n),l={state:o||{name:t},params:n,hash:r};return h.push(l),g[r]=a,function(){var e=h.indexOf(l);-1!==e&&h.splice(e,1)}}function s(e,n){if(!B(e))throw new Error("state should be a string");return j(n)?e+q(n):(n=t.$eval(n),j(n)?e+q(n):e)}function l(){for(var e=0;e<h.length;e++)u(h[e].state,h[e].params)?c(i,g[h[e].hash]):d(i,g[h[e].hash]),p(h[e].state,h[e].params)?c(i,m):d(i,m)}function c(e,t){o(function(){e.addClass(t)})}function d(e,t){e.removeClass(t)}function u(t,n){return e.includes(t.name,n)}function p(t,n){return e.is(t.name,n)}var m,f,h=[],g={};m=n(a.uiSrefActiveEq||"",!1)(t);try{f=t.$eval(a.uiSrefActive)}catch(e){}f=f||n(a.uiSrefActive||"",!1)(t),j(f)&&U(f,function(n,i){if(B(n)){var a=D(n,e.current.name);r(a.state,t.$eval(a.paramExpr),i)}}),this.$$addStateInfo=function(e,t){if(!(j(f)&&h.length>0)){var n=r(e,t,f);return l(),n}},t.$on("$stateChangeSuccess",l),l()}]}}function F(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function N(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}var R=t.isDefined,L=t.isFunction,B=t.isString,j=t.isObject,z=t.isArray,U=t.forEach,H=t.extend,W=t.copy,q=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),h.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",h),g.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",g);var V;v.prototype.concat=function(e,t){var n={caseInsensitive:V.caseInsensitive(),strict:V.strictMode(),squash:V.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,H(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var i=t(e).split(/-(?!\\)/),a=f(i,t);return f(a,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var a,o,r,s=this.parameters(),l=s.length,c=this.segments.length-1,d={};if(c!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var u,p;for(a=0;c>a;a++){for(r=s[a],u=this.params[r],p=i[a+1],o=0;o<u.replace.length;o++)u.replace[o].from===p&&(p=u.replace[o].to);p&&u.array===!0&&(p=n(p)),R(p)&&(p=u.type.decode(p)),d[r]=u.value(p)}for(;l>a;a++){for(r=s[a],d[r]=this.params[r].value(t[r]),u=this.params[r],p=t[r],o=0;o<u.replace.length;o++)u.replace[o].from===p&&(p=u.replace[o].to);R(p)&&(p=u.type.decode(p)),d[r]=u.value(p)}return d},v.prototype.parameters=function(e){return R(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),a=this.params;if(!this.validates(e))return null;var o,r=!1,s=n.length-1,l=i.length,c=n[0];for(o=0;l>o;o++){var d=s>o,u=i[o],p=a[u],m=p.value(e[u]),h=p.isOptional&&p.type.equals(p.value(),m),g=!!h&&p.squash,v=p.type.encode(m);if(d){var b=n[o+1],y=o+1===s;if(g===!1)null!=v&&(c+=z(v)?f(v,t).join("-"):encodeURIComponent(v)),c+=b;else if(g===!0){var w=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=b.match(w)[1]}else B(g)&&(c+=g+b);y&&p.squash===!0&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==v||h&&g!==!1)continue;if(z(v)||(v=[v]),0===v.length)continue;v=f(v,encodeURIComponent).join("&"+u+"="),c+=(r?"&":"?")+(u+"="+v),r=!0}}return c},b.prototype.is=function(e,t){return!0},b.prototype.encode=function(e,t){return e},b.prototype.decode=function(e,t){return e},b.prototype.equals=function(e,t){return e==t},b.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},b.prototype.pattern=/.*/,b.prototype.toString=function(){return"{Type:"+this.name+"}"},b.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},b.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function a(e){return z(e)?e:R(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function r(e){return!e}function s(e,t){return function(n){if(z(n)&&0===n.length)return n;n=a(n);var i=f(n,e);return t===!0?0===m(i,r).length:o(i)}}function l(e){return function(t,n){var i=a(t),o=a(n);if(i.length!==o.length)return!1;for(var r=0;r<i.length;r++)if(!e(i[r],o[r]))return!1;return!0}}this.encode=s(i(e,"encode")),this.decode=s(i(e,"decode")),this.is=s(i(e,"is"),!0),this.equals=l(i(e,"equals")),this.pattern=e.pattern,this.$normalize=s(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),x.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",x).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),_.$inject=[],t.module("ui.router.state").provider("$view",_),t.module("ui.router.state").provider("$uiViewScroll",$),k.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],S.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",k),t.module("ui.router.state").directive("uiView",S),A.$inject=["$state","$timeout"],O.$inject=["$state","$timeout"],P.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",A).directive("uiSrefActive",P).directive("uiSrefActiveEq",P).directive("uiState",O),F.$inject=["$state"],N.$inject=["$state"],t.module("ui.router.state").filter("isState",F).filter("includedByState",N)}(window,window.angular),console.log("\n\nBBBBBBBBBBBBBBBBB   RRRRRRRRRRRRRRRRR        OOOOOOOOO     KKKKKKKKK    KKKKKKK   SSSSSSSSSSSSSSS YYYYYYY       YYYYYYY\nB::::::::::::::::B  R::::::::::::::::R     OO:::::::::OO   K:::::::K    K:::::K SS:::::::::::::::SY:::::Y       Y:::::Y\nB::::::BBBBBB:::::B R::::::RRRRRR:::::R  OO:::::::::::::OO K:::::::K    K:::::KS:::::SSSSSS::::::SY:::::Y       Y:::::Y\nBB:::::B     B:::::BRR:::::R     R:::::RO:::::::OOO:::::::OK:::::::K   K::::::KS:::::S     SSSSSSSY::::::Y     Y::::::Y\n  B::::B     B:::::B  R::::R     R:::::RO::::::O   O::::::OKK::::::K  K:::::KKKS:::::S            YYY:::::Y   Y:::::YYY\n  B::::B     B:::::B  R::::R     R:::::RO:::::O     O:::::O  K:::::K K:::::K   S:::::S               Y:::::Y Y:::::Y   \n  B::::BBBBBB:::::B   R::::RRRRRR:::::R O:::::O     O:::::O  K::::::K:::::K     S::::SSSS             Y:::::Y:::::Y    \n  B:::::::::::::BB    R:::::::::::::RR  O:::::O     O:::::O  K:::::::::::K       SS::::::SSSSS         Y:::::::::Y     \n  B::::BBBBBB:::::B   R::::RRRRRR:::::R O:::::O     O:::::O  K:::::::::::K         SSS::::::::SS        Y:::::::Y      \n  B::::B     B:::::B  R::::R     R:::::RO:::::O     O:::::O  K::::::K:::::K           SSSSSS::::S        Y:::::Y       \n  B::::B     B:::::B  R::::R     R:::::RO:::::O     O:::::O  K:::::K K:::::K               S:::::S       Y:::::Y       \n  B::::B     B:::::B  R::::R     R:::::RO::::::O   O::::::OKK::::::K  K:::::KKK            S:::::S       Y:::::Y       \nBB:::::BBBBBB::::::BRR:::::R     R:::::RO:::::::OOO:::::::OK:::::::K   K::::::KSSSSSSS     S:::::S       Y:::::Y       \nB:::::::::::::::::B R::::::R     R:::::R OO:::::::::::::OO K:::::::K    K:::::KS::::::SSSSSS:::::S    YYYY:::::YYYY    \nB::::::::::::::::B  R::::::R     R:::::R   OO:::::::::OO   K:::::::K    K:::::KS:::::::::::::::SS     Y:::::::::::Y    \nBBBBBBBBBBBBBBBBB   RRRRRRRR     RRRRRRR     OOOOOOOOO     KKKKKKKKK    KKKKKKK SSSSSSSSSSSSSSS       YYYYYYYYYYYYY    \n\nBY: bitwize.com.lb\n\n██████╗ ██╗████████╗██╗    ██╗██╗███████╗███████╗\n██╔══██╗██║╚══██╔══╝██║    ██║██║╚══███╔╝██╔════╝\n██████╔╝██║   ██║   ██║ █╗ ██║██║  ███╔╝ █████╗  \n██╔══██╗██║   ██║   ██║███╗██║██║ ███╔╝  ██╔══╝  \n██████╔╝██║   ██║   ╚███╔███╔╝██║███████╗███████╗\n╚═════╝ ╚═╝   ╚═╝    ╚══╝╚══╝ ╚═╝╚══════╝╚══════╝\n\nHappy to see you here! We are hiring the sharpest minds in the\nindustry who want to build the most sophisticated and delightful\napplications on the web.\n\nCheck out https://bitwize.com.lb/\n\n"),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var a=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(a,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),a=n.data("bs.alert");a||n.data("bs.alert",a=new i(this)),"string"==typeof t&&a[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){r.detach().trigger("closed.bs.alert").remove()}var a=e(this),o=a.attr("data-target");o||(o=a.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var r=e("#"===o?[]:o);t&&t.preventDefault(),r.length||(r=a.closest(".alert")),r.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var a=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=a,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),a=i.data("bs.button"),o="object"==typeof t&&t;a||i.data("bs.button",a=new n(this,o)),"toggle"==t?a.toggle():t&&a.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,a=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[a]()),setTimeout(e.proxy(function(){i[a](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target).closest(".btn");t.call(i,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),a=i.data("bs.carousel"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),r="string"==typeof t?t:o.slide;a||i.data("bs.carousel",a=new n(this,o)),"number"==typeof t?a.to(t):r?a[r]():o.interval&&a.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var a="prev"==e?-1:1,o=(n+a)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,i){var a=this.$element.find(".item.active"),o=i||this.getItemForDirection(t,a),r=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(o)]);u&&u.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,a.addClass(s),o.addClass(s),a.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),a.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(a.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(p)),r&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var a=function(n){var i,a=e(this),o=e(a.attr("data-target")||(i=a.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var r=e.extend({},o.data(),a.data()),s=a.attr("data-slide-to");s&&(r.interval=!1),t.call(o,r),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",a).on("click.bs.carousel.data-api","[data-slide-to]",a),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),a=n.data("bs.collapse"),o=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!a&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),a||n.data("bs.collapse",a=new i(this,o)),"string"==typeof t&&a[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,a=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(a&&a.length&&(t=a.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){a&&a.length&&(n.call(a,"hide"),t||a.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[r](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION):a.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var a=e(i);this.addAriaAndCollapsedClass(t(a),a)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var a=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=a,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var a=e(this);a.attr("data-target")||i.preventDefault();var o=t(a),r=o.data("bs.collapse"),s=r?"toggle":a.data();n.call(o,s)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function n(n){n&&3===n.which||(e(a).remove(),e(o).each(function(){var i=e(this),a=t(i),o={relatedTarget:this};a.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(a[0],n.target)||(a.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),a.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var a=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.7",r.prototype.toggle=function(i){var a=e(this);if(!a.is(".disabled, :disabled")){var o=t(a),r=o.hasClass("open");if(n(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;a.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},r.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=e(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var a=t(i),r=a.hasClass("open");if(!r&&27!=n.which||r&&27==n.which)return 27==n.which&&a.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=a.find(".dropdown-menu"+s);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var a=e(this),o=a.data("bs.modal"),r=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t);o||a.data("bs.modal",o=new n(this,r)),"string"==typeof t?o[t](i):r.show&&o.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,a=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var a=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),a&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});a?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),
e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&a;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+a).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),a=i.attr("href"),o=e(i.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(o,r,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),a=i.data("bs.tooltip"),o="object"==typeof t&&t;!a&&/destroy|hide/.test(t)||(a||i.data("bs.tooltip",a=new n(this,o)),"string"==typeof t&&a[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var a=this.options.trigger.split(" "),o=a.length;o--;){var r=a[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var a=this,o=this.tip(),r=this.getUID(this.type);this.setContent(),o.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=o[0].offsetWidth,p=o[0].offsetHeight;if(c){var m=s,f=this.getPosition(this.$viewport);s="bottom"==s&&d.bottom+p>f.bottom?"top":"top"==s&&d.top-p<f.top?"bottom":"right"==s&&d.right+u>f.width?"left":"left"==s&&d.left-u<f.left?"right":s,o.removeClass(m).addClass(s)}var h=this.getCalculatedOffset(s,d,u,p);this.applyPlacement(h,s);var g=function(){var e=a.hoverState;a.$element.trigger("shown.bs."+a.type),a.hoverState=null,"out"==e&&a.leave(a)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),a=i[0].offsetWidth,o=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top+=r,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var d=this.getViewportAdjustedDelta(n,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(n),p=u?2*d.left-a+l:2*d.top-o+c,m=u?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(p,i[0][m],u)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=a.hoverState&&o.detach(),a.$element&&a.$element.removeAttr("aria-describedby").trigger("hidden.bs."+a.type),t&&t()}var a=this,o=e(this.$tip),r=e.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,a=n.getBoundingClientRect();null==a.width&&(a=e.extend({},a,{width:a.right-a.left,height:a.bottom-a.top}));var o=window.SVGElement&&n instanceof window.SVGElement,r=i?{top:0,left:0}:o?null:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},a,s,l,r)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var a={top:0,left:0};if(!this.$viewport)return a;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-r.scroll,l=t.top+o-r.scroll+i;s<r.top?a.top=r.top-s:l>r.top+r.height&&(a.top=r.top+r.height-l)}else{var c=t.left-o,d=t.left+o+n;c<r.left?a.left=r.left-c:d>r.right&&(a.left=r.left+r.width-d)}return a},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),a=i.data("bs.popover"),o="object"==typeof t&&t;!a&&/destroy|hide/.test(t)||(a||i.data("bs.popover",a=new n(this,o)),"string"==typeof t&&a[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),a=i.data("bs.scrollspy"),o="object"==typeof n&&n;a||i.data("bs.scrollspy",a=new t(this,o)),"string"==typeof n&&a[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),a=t.data("target")||t.attr("href"),o=/^#./.test(a)&&e(a);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,a]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),a=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return r!=(e=o[o.length-1])&&this.activate(e);if(r&&t<a[0])return this.activeTarget=null,this.clear();for(e=a.length;e--;)r!=o[e]&&t>=a[e]&&(void 0===a[e+1]||t<a[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),a=i.data("bs.tab");a||i.data("bs.tab",a=new n(this)),"string"==typeof t&&a[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var a=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),r=e.Event("show.bs.tab",{relatedTarget:a[0]});if(a.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){a.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:a[0]})})}}},n.prototype.activate=function(t,i,a){function o(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),a&&a()}var r=i.find("> .active"),s=a&&e.support.transition&&(r.length&&r.hasClass("fade")||!!i.find("> .fade").length);r.length&&s?r.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),r.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var a=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',a).on("click.bs.tab.data-api",'[data-toggle="pill"]',a)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),a=i.data("bs.affix"),o="object"==typeof t&&t;a||i.data("bs.affix",a=new n(this,o)),"string"==typeof t&&a[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var a=this.$target.scrollTop(),o=this.$element.offset(),r=this.$target.height();if(null!=n&&"top"==this.affixed)return a<n&&"top";if("bottom"==this.affixed)return null!=n?!(a+this.unpin<=o.top)&&"bottom":!(a+r<=e-i)&&"bottom";var s=null==this.affixed,l=s?a:o.top,c=s?r:t;return null!=n&&a<=n?"top":null!=i&&l+c>=e-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,a=i.top,o=i.bottom,r=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(o=a=i),"function"==typeof a&&(a=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var s=this.getState(r,t,a,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:r-t-o})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){!function(e){"use strict";function t(t){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return e.each(n,function(){t=t.replace(this.re,this.ch)}),t}function n(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n="(?:"+Object.keys(t).join("|")+")",i=new RegExp(n),a=new RegExp(n,"g"),o=null==e?"":""+e;return i.test(o)?o.replace(a,function(e){return t[e]}):o}function i(t,n){var i=arguments,a=t,o=n;[].shift.apply(i);var s,l=this.each(function(){var t=e(this);if(t.is("select")){var n=t.data("selectpicker"),l="object"==typeof a&&a;if(n){if(l)for(var c in l)l.hasOwnProperty(c)&&(n.options[c]=l[c])}else{var d=e.extend({},r.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),l);d.template=e.extend({},r.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},t.data().template,l.template),t.data("selectpicker",n=new r(this,d,o))}"string"==typeof a&&(s=n[a]instanceof Function?n[a].apply(n,i):n.options[a])}});return"undefined"!=typeof s?s:l}String.prototype.includes||!function(){var e={}.toString,t=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),n="".indexOf,i=function(t){if(null==this)throw new TypeError;var i=String(this);if(t&&"[object RegExp]"==e.call(t))throw new TypeError;var a=i.length,o=String(t),r=o.length,s=arguments.length>1?arguments[1]:void 0,l=s?Number(s):0;l!=l&&(l=0);var c=Math.min(Math.max(l,0),a);return!(r+c>a)&&-1!=n.call(i,o,l)};t?t(String.prototype,"includes",{value:i,configurable:!0,writable:!0}):String.prototype.includes=i}(),String.prototype.startsWith||!function(){var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t={}.toString,n=function(e){if(null==this)throw new TypeError;var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var i=n.length,a=String(e),o=a.length,r=arguments.length>1?arguments[1]:void 0,s=r?Number(r):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),i);if(o+l>i)return!1;for(var c=-1;++c<o;)if(n.charCodeAt(l+c)!=a.charCodeAt(c))return!1;return!0};e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),Object.keys||(Object.keys=function(e,t,n){n=[];for(t in e)n.hasOwnProperty.call(e,t)&&n.push(t);return n});var a={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,n){return n&&!a.useDefault&&e(t).data("selected",!0),a._set.apply(this,arguments)};var o=null;e.fn.triggerNative=function(e){var t,n=this[0];n.dispatchEvent?("function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event"),t.initEvent(e,!0,!1)),n.dispatchEvent(t)):n.fireEvent?(t=document.createEventObject(),t.eventType=e,n.fireEvent("on"+e,t)):this.trigger(e)},e.expr.pseudos.icontains=function(t,n,i){var a=e(t),o=(a.data("tokens")||a.text()).toString().toUpperCase();return o.includes(i[3].toUpperCase())},e.expr.pseudos.ibegins=function(t,n,i){var a=e(t),o=(a.data("tokens")||a.text()).toString().toUpperCase();return o.startsWith(i[3].toUpperCase())},e.expr.pseudos.aicontains=function(t,n,i){var a=e(t),o=(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase();return o.includes(i[3].toUpperCase())},e.expr.pseudos.aibegins=function(t,n,i){var a=e(t),o=(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase();return o.startsWith(i[3].toUpperCase())};var r=function(t,n,i){a.useDefault||(e.valHooks.select.set=a._set,a.useDefault=!0),i&&(i.stopPropagation(),i.preventDefault()),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=n,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=r.prototype.val,this.render=r.prototype.render,this.refresh=r.prototype.refresh,this.setStyle=r.prototype.setStyle,this.selectAll=r.prototype.selectAll,this.deselectAll=r.prototype.deselectAll,this.destroy=r.prototype.destroy,this.remove=r.prototype.remove,this.show=r.prototype.show,this.hide=r.prototype.hide,this.init()};r.VERSION="1.11.0",r.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},r.prototype={constructor:r,init:function(){var t=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight===!0&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof n&&(this.$button.attr("data-id",n),e('label[for="'+n+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!1),t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!0),t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){t.$button.addClass("bs-invalid").focus(),t.$element.on({"focus.bs.select":function(){t.$button.focus(),t.$element.off("focus.bs.select")},"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}})}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",a=this.autofocus?" autofocus":"",o=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",r=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+n(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",s=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",c='<div class="btn-group bootstrap-select'+t+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+a+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+o+r+s+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+l+"</div></div>";return e(c)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var i=this,a=[],o=0,r=document.createElement("option"),s=-1,l=function(e,t,n,i){return"<li"+("undefined"!=typeof n&""!==n?' class="'+n+'"':"")+("undefined"!=typeof t&null!==t?' data-original-index="'+t+'"':"")+("undefined"!=typeof i&null!==i?'data-optgroup="'+i+'"':"")+">"+e+"</li>"},c=function(e,a,o,r){return'<a tabindex="0"'+("undefined"!=typeof a?' class="'+a+'"':"")+("undefined"!=typeof o?' style="'+o+'"':"")+(i.options.liveSearchNormalize?' data-normalized-text="'+t(n(e))+'"':"")+("undefined"!=typeof r||null!==r?' data-tokens="'+r+'"':"")+' role="option">'+e+'<span class="'+i.options.iconBase+" "+i.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(s--,!this.$element.find(".bs-title-option").length)){var d=this.$element[0];r.className="bs-title-option",r.appendChild(document.createTextNode(this.options.title)),r.value="",d.insertBefore(r,d.firstChild);var u=e(d.options[d.selectedIndex]);void 0===u.attr("selected")&&void 0===this.$element.data("selected")&&(r.selected=!0)}return this.$element.find("option").each(function(t){var n=e(this);if(s++,!n.hasClass("bs-title-option")){var r=this.className||"",d=this.style.cssText,u=n.data("content")?n.data("content"):n.html(),p=n.data("tokens")?n.data("tokens"):null,m="undefined"!=typeof n.data("subtext")?'<small class="text-muted">'+n.data("subtext")+"</small>":"",f="undefined"!=typeof n.data("icon")?'<span class="'+i.options.iconBase+" "+n.data("icon")+'"></span> ':"",h=n.parent(),g="OPTGROUP"===h[0].tagName,v=g&&h[0].disabled,b=this.disabled||v;if(""!==f&&b&&(f="<span>"+f+"</span>"),i.options.hideDisabled&&(b&&!g||v))return void s--;if(n.data("content")||(u=f+'<span class="text">'+u+m+"</span>"),g&&n.data("divider")!==!0){
if(i.options.hideDisabled&&b){if(void 0===h.data("allOptionsDisabled")){var y=h.children();h.data("allOptionsDisabled",y.filter(":disabled").length===y.length)}if(h.data("allOptionsDisabled"))return void s--}var w=" "+h[0].className||"";if(0===n.index()){o+=1;var x=h[0].label,_="undefined"!=typeof h.data("subtext")?'<small class="text-muted">'+h.data("subtext")+"</small>":"",$=h.data("icon")?'<span class="'+i.options.iconBase+" "+h.data("icon")+'"></span> ':"";x=$+'<span class="text">'+x+_+"</span>",0!==t&&a.length>0&&(s++,a.push(l("",null,"divider",o+"div"))),s++,a.push(l(x,null,"dropdown-header"+w,o))}if(i.options.hideDisabled&&b)return void s--;a.push(l(c(u,"opt "+r+w,d,p),t,"",o))}else if(n.data("divider")===!0)a.push(l("",t,"divider"));else if(n.data("hidden")===!0)a.push(l(c(u,r,d,p),t,"hidden is-hidden"));else{var k=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!k&&i.options.hideDisabled)for(var S=e(this).prevAll(),C=0;C<S.length;C++)if("OPTGROUP"===S[C].tagName){for(var D=0,T=0;C>T;T++){var E=S[T];(E.disabled||e(E).data("hidden")===!0)&&D++}D===C&&(k=!0);break}k&&(s++,a.push(l("",null,"divider",o+"div"))),a.push(l(c(u,r,d,p),t))}i.liObj[t]=s}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),a.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var n,i=this;t!==!1&&this.$element.find("option").each(function(e){var t=i.findLis().eq(i.liObj[e]);i.setDisabled(e,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,t),i.setSelected(e,this.selected,t)}),this.togglePlaceholder(),this.tabIndex();var a=this.$element.find("option").map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var t,n=e(this),a=n.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+n.data("icon")+'"></i> ':"";return t=i.options.showSubtext&&n.data("subtext")&&!i.multiple?' <small class="text-muted">'+n.data("subtext")+"</small>":"","undefined"!=typeof n.attr("title")?n.attr("title"):n.data("content")&&i.options.showContent?n.data("content"):a+n.html()+t}}).toArray(),o=this.multiple?a.join(this.options.multipleSeparator):a[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var r=this.options.selectedTextFormat.split(">");if(r.length>1&&a.length>r[1]||1==r.length&&a.length>=2){n=this.options.hideDisabled?", [disabled]":"";var s=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+n).length,l="function"==typeof this.options.countSelectedText?this.options.countSelectedText(a.length,s):this.options.countSelectedText;o=l.replace("{0}",a.length.toString()).replace("{1}",s.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(o=this.options.title),o||(o="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",e.trim(o.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(o),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=e?e:this.options.style;"add"==t?this.$button.addClass(n):"remove"==t?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(t){if(t||this.options.size!==!1&&!this.sizeInfo){var n=document.createElement("div"),i=document.createElement("div"),a=document.createElement("ul"),o=document.createElement("li"),r=document.createElement("li"),s=document.createElement("a"),l=document.createElement("span"),c=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,d=this.options.liveSearch?document.createElement("div"):null,u=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(l.className="text",n.className=this.$menu[0].parentNode.className+" open",i.className="dropdown-menu open",a.className="dropdown-menu inner",o.className="divider",l.appendChild(document.createTextNode("Inner text")),s.appendChild(l),r.appendChild(s),a.appendChild(r),a.appendChild(o),c&&i.appendChild(c),d){var m=document.createElement("span");d.className="bs-searchbox",m.className="form-control",d.appendChild(m),i.appendChild(d)}u&&i.appendChild(u),i.appendChild(a),p&&i.appendChild(p),n.appendChild(i),document.body.appendChild(n);var f=s.offsetHeight,h=c?c.offsetHeight:0,g=d?d.offsetHeight:0,v=u?u.offsetHeight:0,b=p?p.offsetHeight:0,y=e(o).outerHeight(!0),w="function"==typeof getComputedStyle&&getComputedStyle(i),x=w?null:e(i),_={vert:parseInt(w?w.paddingTop:x.css("paddingTop"))+parseInt(w?w.paddingBottom:x.css("paddingBottom"))+parseInt(w?w.borderTopWidth:x.css("borderTopWidth"))+parseInt(w?w.borderBottomWidth:x.css("borderBottomWidth")),horiz:parseInt(w?w.paddingLeft:x.css("paddingLeft"))+parseInt(w?w.paddingRight:x.css("paddingRight"))+parseInt(w?w.borderLeftWidth:x.css("borderLeftWidth"))+parseInt(w?w.borderRightWidth:x.css("borderRightWidth"))},$={vert:_.vert+parseInt(w?w.marginTop:x.css("marginTop"))+parseInt(w?w.marginBottom:x.css("marginBottom"))+2,horiz:_.horiz+parseInt(w?w.marginLeft:x.css("marginLeft"))+parseInt(w?w.marginRight:x.css("marginRight"))+2};document.body.removeChild(n),this.sizeInfo={liHeight:f,headerHeight:h,searchHeight:g,actionsHeight:v,doneButtonHeight:b,dividerHeight:y,menuPadding:_,menuExtras:$}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var t,n,i,a,o,r,s,l,c=this,d=this.$menu,u=this.$menuInner,p=e(window),m=this.$newElement[0].offsetHeight,f=this.$newElement[0].offsetWidth,h=this.sizeInfo.liHeight,g=this.sizeInfo.headerHeight,v=this.sizeInfo.searchHeight,b=this.sizeInfo.actionsHeight,y=this.sizeInfo.doneButtonHeight,w=this.sizeInfo.dividerHeight,x=this.sizeInfo.menuPadding,_=this.sizeInfo.menuExtras,$=this.options.hideDisabled?".disabled":"",k=function(){var t,n=c.$newElement.offset(),i=e(c.options.container);c.options.container&&!i.is("body")?(t=i.offset(),t.top+=parseInt(i.css("borderTopWidth")),t.left+=parseInt(i.css("borderLeftWidth"))):t={top:0,left:0},o=n.top-t.top-p.scrollTop(),r=p.height()-o-m-t.top,s=n.left-t.left-p.scrollLeft(),l=p.width()-s-f-t.left};if(k(),"auto"===this.options.size){var S=function(){var p,m=function(t,n){return function(i){return n?i.classList?i.classList.contains(t):e(i).hasClass(t):!(i.classList?i.classList.contains(t):e(i).hasClass(t))}},w=c.$menuInner[0].getElementsByTagName("li"),$=Array.prototype.filter?Array.prototype.filter.call(w,m("hidden",!1)):c.$lis.not(".hidden"),S=Array.prototype.filter?Array.prototype.filter.call($,m("dropdown-header",!0)):$.filter(".dropdown-header");k(),t=r-_.vert,n=l-_.horiz,c.options.container?(d.data("height")||d.data("height",d.height()),i=d.data("height"),d.data("width")||d.data("width",d.width()),a=d.data("width")):(i=d.height(),a=d.width()),c.options.dropupAuto&&c.$newElement.toggleClass("dropup",o>r&&t-_.vert<i),c.$newElement.hasClass("dropup")&&(t=o-_.vert),"auto"===c.options.dropdownAlignRight&&d.toggleClass("dropdown-menu-right",s>l&&n-_.horiz<a-f),p=$.length+S.length>3?3*h+_.vert-2:0,d.css({"max-height":t+"px",overflow:"hidden","min-height":p+g+v+b+y+"px"}),u.css({"max-height":t-g-v-b-y-x.vert+"px","overflow-y":"auto","min-height":Math.max(p-x.vert,0)+"px"})};S(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",S),p.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",S)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not($).length>this.options.size){var C=this.$lis.not(".divider").not($).children().slice(0,this.options.size).last().parent().index(),D=this.$lis.slice(0,C+1).filter(".divider").length;t=h*this.options.size+D*w+x.vert,c.options.container?(d.data("height")||d.data("height",d.height()),i=d.data("height")):i=d.height(),c.options.dropupAuto&&this.$newElement.toggleClass("dropup",o>r&&t-_.vert<i),d.css({"max-height":t+g+v+b+y+"px",overflow:"hidden","min-height":""}),u.css({"max-height":t-x.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,n=e.children(".dropdown-menu").outerWidth(),i=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(n,i)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t,n,i,a=this,o=e(this.options.container),r=function(e){a.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),o.is("body")?n={top:0,left:0}:(n=o.offset(),n.top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),n.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),i=e.hasClass("dropup")?0:e[0].offsetHeight,a.$bsContainer.css({top:t.top-n.top+i,left:t.left-n.left,width:e[0].offsetWidth})};this.$button.on("click",function(){var t=e(this);a.isDisabled()||(r(a.$newElement),a.$bsContainer.appendTo(a.options.container).toggleClass("open",!t.hasClass("open")).append(a.$menu))}),e(window).on("resize scroll",function(){r(a.$newElement)}),this.$element.on("hide.bs.select",function(){a.$menu.data("height",a.$menu.height()),a.$bsContainer.detach()})},setSelected:function(e,t,n){n||(this.togglePlaceholder(),n=this.findLis().eq(this.liObj[e])),n.toggleClass("selected",t).find("a").attr("aria-selected",t)},setDisabled:function(e,t,n){n||(n=this.findLis().eq(this.liObj[e])),t?n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element.val();this.$button.toggleClass("bs-placeholder",null===e||""===e)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,n=e(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),n.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&n.data("spaceSelect")&&(e.preventDefault(),n.data("spaceSelect",!1))}),this.$button.on("click",function(){t.setSize()}),this.$element.on("shown.bs.select",function(){if(t.options.liveSearch||t.multiple){if(!t.multiple){var e=t.liObj[t.$element[0].selectedIndex];if("number"!=typeof e||t.options.size===!1)return;var n=t.$lis.eq(e)[0].offsetTop-t.$menuInner[0].offsetTop;n=n-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2,t.$menuInner[0].scrollTop=n}}else t.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(n){var i=e(this),a=i.parent().data("originalIndex"),r=t.$element.val(),s=t.$element.prop("selectedIndex"),l=!0;if(t.multiple&&1!==t.options.maxOptions&&n.stopPropagation(),n.preventDefault(),!t.isDisabled()&&!i.parent().hasClass("disabled")){var c=t.$element.find("option"),d=c.eq(a),u=d.prop("selected"),p=d.parent("optgroup"),m=t.options.maxOptions,f=p.data("maxOptions")||!1;if(t.multiple){if(d.prop("selected",!u),t.setSelected(a,!u),i.blur(),m!==!1||f!==!1){var h=m<c.filter(":selected").length,g=f<p.find("option:selected").length;if(m&&h||f&&g)if(m&&1==m)c.prop("selected",!1),d.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(a,!0);else if(f&&1==f){p.find("option:selected").prop("selected",!1),d.prop("selected",!0);var v=i.parent().data("optgroup");t.$menuInner.find('[data-optgroup="'+v+'"]').removeClass("selected"),t.setSelected(a,!0)}else{var b="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,y="function"==typeof b?b(m,f):b,w=y[0].replace("{n}",m),x=y[1].replace("{n}",f),_=e('<div class="notify"></div>');y[2]&&(w=w.replace("{var}",y[2][m>1?0:1]),x=x.replace("{var}",y[2][f>1?0:1])),d.prop("selected",!1),t.$menu.append(_),m&&h&&(_.append(e("<div>"+w+"</div>")),l=!1,t.$element.trigger("maxReached.bs.select")),f&&g&&(_.append(e("<div>"+x+"</div>")),l=!1,t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(a,!1)},10),_.delay(750).fadeOut(300,function(){e(this).remove()})}}}else c.prop("selected",!1),d.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),t.setSelected(a,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.focus():t.options.liveSearch&&t.$searchbox.focus(),l&&(r!=t.$element.val()&&t.multiple||s!=t.$element.prop("selectedIndex")&&!t.multiple)&&(o=[a,d.prop("selected"),u],t.$element.triggerNative("change"))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),t.options.liveSearch&&!e(n.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){t.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),n.preventDefault(),n.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$element.change(function(){t.render(!1),t.$element.trigger("changed.bs.select",o),o=null})},liveSearchListener:function(){var i=this,a=e('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){i.$menuInner.find(".active").removeClass("active"),i.$searchbox.val()&&(i.$searchbox.val(""),i.$lis.not(".is-hidden").removeClass("hidden"),a.parent().length&&a.remove()),i.multiple||i.$menuInner.find(".selected").addClass("active"),setTimeout(function(){i.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(i.$searchbox.val()){var o=i.$lis.not(".is-hidden").removeClass("hidden").children("a");o=i.options.liveSearchNormalize?o.not(":a"+i._searchStyle()+'("'+t(i.$searchbox.val())+'")'):o.not(":"+i._searchStyle()+'("'+i.$searchbox.val()+'")'),o.parent().addClass("hidden"),i.$lis.filter(".dropdown-header").each(function(){var t=e(this),n=t.data("optgroup");0===i.$lis.filter("[data-optgroup="+n+"]").not(t).not(".hidden").length&&(t.addClass("hidden"),i.$lis.filter("[data-optgroup="+n+"div]").addClass("hidden"))});var r=i.$lis.not(".hidden");r.each(function(t){var n=e(this);n.hasClass("divider")&&(n.index()===r.first().index()||n.index()===r.last().index()||r.eq(t+1).hasClass("divider"))&&n.addClass("hidden")}),i.$lis.not(".hidden, .no-results").length?a.parent().length&&a.remove():(a.parent().length&&a.remove(),a.html(i.options.noneResultsText.replace("{0}",'"'+n(i.$searchbox.val())+'"')).show(),i.$menuInner.append(a))}else i.$lis.not(".is-hidden").removeClass("hidden"),a.parent().length&&a.remove();i.$lis.filter(".active").removeClass("active"),i.$searchbox.val()&&i.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),e(this).focus()})},_searchStyle:function(){var e={begins:"ibegins",startsWith:"ibegins"};return e[this.options.liveSearchStyle]||"icontains"},val:function(e){return"undefined"!=typeof e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},changeAll:function(t){if(this.multiple){"undefined"==typeof t&&(t=!0),this.findLis();var n=this.$element.find("option"),i=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),a=i.length,o=[];if(t){if(i.filter(".selected").length===i.length)return}else if(0===i.filter(".selected").length)return;i.toggleClass("selected",t);for(var r=0;a>r;r++){var s=i[r].getAttribute("data-original-index");o[o.length]=n.eq(s)[0]}e(o).prop("selected",t),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){e=e||window.event,e&&e.stopPropagation(),this.$button.trigger("click")},keydown:function(n){var i,a,o,r,s,l,c,d,u,p=e(this),m=p.is("input")?p.parent().parent():p.parent(),f=m.data("this"),h=":not(.disabled, .hidden, .dropdown-header, .divider)",g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(f.options.liveSearch&&(m=p.parent().parent()),f.options.container&&(m=f.$menu),i=e('[role="listbox"] li',m),u=f.$newElement.hasClass("open"),!u&&(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=96&&n.keyCode<=105||n.keyCode>=65&&n.keyCode<=90))return f.options.container?f.$button.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),u=!0),void f.$searchbox.focus();if(f.options.liveSearch&&(/(^9$|27)/.test(n.keyCode.toString(10))&&u&&0===f.$menu.find(".active").length&&(n.preventDefault(),f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus()),i=e('[role="listbox"] li'+h,m),p.val()||/(38|40)/.test(n.keyCode.toString(10))||0===i.filter(".active").length&&(i=f.$menuInner.find("li"),i=f.options.liveSearchNormalize?i.filter(":a"+f._searchStyle()+"("+t(g[n.keyCode])+")"):i.filter(":"+f._searchStyle()+"("+g[n.keyCode]+")"))),i.length){if(/(38|40)/.test(n.keyCode.toString(10)))a=i.index(i.find("a").filter(":focus").parent()),r=i.filter(h).first().index(),s=i.filter(h).last().index(),o=i.eq(a).nextAll(h).eq(0).index(),l=i.eq(a).prevAll(h).eq(0).index(),c=i.eq(o).prevAll(h).eq(0).index(),f.options.liveSearch&&(i.each(function(t){e(this).hasClass("disabled")||e(this).data("index",t)}),a=i.index(i.filter(".active")),r=i.first().data("index"),s=i.last().data("index"),o=i.eq(a).nextAll().eq(0).data("index"),l=i.eq(a).prevAll().eq(0).data("index"),c=i.eq(o).prevAll().eq(0).data("index")),d=p.data("prevIndex"),38==n.keyCode?(f.options.liveSearch&&a--,a!=c&&a>l&&(a=l),r>a&&(a=r),a==d&&(a=s)):40==n.keyCode&&(f.options.liveSearch&&a++,-1==a&&(a=0),a!=c&&o>a&&(a=o),a>s&&(a=s),a==d&&(a=r)),p.data("prevIndex",a),f.options.liveSearch?(n.preventDefault(),p.hasClass("dropdown-toggle")||(i.removeClass("active").eq(a).addClass("active").children("a").focus(),p.focus())):i.eq(a).children("a").focus();else if(!p.is("input")){var v,b,y=[];i.each(function(){e(this).hasClass("disabled")||e.trim(e(this).children("a").text().toLowerCase()).substring(0,1)==g[n.keyCode]&&y.push(e(this).index())}),v=e(document).data("keycount"),v++,e(document).data("keycount",v),b=e.trim(e(":focus").text().toLowerCase()).substring(0,1),b!=g[n.keyCode]?(v=1,e(document).data("keycount",v)):v>=y.length&&(e(document).data("keycount",0),v>y.length&&(v=1)),i.eq(y[v-1]).children("a").focus()}if((/(13|32)/.test(n.keyCode.toString(10))||/(^9$)/.test(n.keyCode.toString(10))&&f.options.selectOnTab)&&u){if(/(32)/.test(n.keyCode.toString(10))||n.preventDefault(),f.options.liveSearch)/(32)/.test(n.keyCode.toString(10))||(f.$menuInner.find(".active a").click(),p.focus());else{var w=e(":focus");w.click(),w.focus(),n.preventDefault(),e(document).data("spaceSelect",!0)}e(document).data("keycount",0)}(/(^9$|27)/.test(n.keyCode.toString(10))&&u&&(f.multiple||f.options.liveSearch)||/(27)/.test(n.keyCode.toString(10))&&!u)&&(f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var s=e.fn.selectpicker;e.fn.selectpicker=i,e.fn.selectpicker.Constructor=r,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=s,this},e(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',r.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);i.call(t,t.data())})})}(e)}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return mi.apply(null,arguments)}function t(e){mi=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){var t;for(t in e)return!1;return!0}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,i){return gt(e,t,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function u(e){return null==e._pf&&(e._pf=d()),e._pf}function p(e){if(null==e._isValid){var t=u(e),n=fi.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function m(e){var t=c(NaN);return null!=e?l(u(t),e):u(t).userInvalidated=!0,t}function f(e){return void 0===e}function h(e,t){var n,i,a;if(f(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),f(t._i)||(e._i=t._i),f(t._f)||(e._f=t._f),f(t._l)||(e._l=t._l),f(t._strict)||(e._strict=t._strict),f(t._tzm)||(e._tzm=t._tzm),f(t._isUTC)||(e._isUTC=t._isUTC),f(t._offset)||(e._offset=t._offset),f(t._pf)||(e._pf=u(t)),f(t._locale)||(e._locale=t._locale),hi.length>0)for(n in hi)i=hi[n],a=t[i],f(a)||(e[i]=a);return e}function g(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),gi===!1&&(gi=!0,e.updateOffset(this),gi=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function b(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function w(e,t,n){var i,a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0;for(i=0;a>i;i++)(n&&e[i]!==t[i]||!n&&y(e[i])!==y(t[i]))&&r++;return r+o}function x(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,n){var i=!0;return l(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),i&&(x(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),n.apply(this,arguments)},n)}function $(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),vi[t]||(x(n),vi[t]=!0)}function k(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e){var t,n;for(n in e)t=e[n],k(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function C(e,t){var n,a=l({},e);for(n in t)s(t,n)&&(i(e[n])&&i(t[n])?(a[n]={},l(a[n],e[n]),l(a[n],t[n])):null!=t[n]?a[n]=t[n]:delete a[n]);for(n in e)s(e,n)&&!s(t,n)&&i(e[n])&&(a[n]=l({},a[n]));return a}function D(e){null!=e&&this.set(e)}function T(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return k(i)?i.call(t,n):i}function E(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function I(){return this._invalidDate}function M(e){return this._ordinal.replace("%d",e)}function A(e,t,n,i){var a=this._relativeTime[n];return k(a)?a(e,t,n,i):a.replace(/%d/i,e)}function O(e,t){var n=this._relativeTime[e>0?"future":"past"];return k(n)?n(t):n.replace(/%s/i,t)}function P(e,t){var n=e.toLowerCase();Ci[n]=Ci[n+"s"]=Ci[t]=e}function F(e){return"string"==typeof e?Ci[e]||Ci[e.toLowerCase()]:void 0}function N(e){var t,n,i={};for(n in e)s(e,n)&&(t=F(n),t&&(i[t]=e[n]));return i}function R(e,t){Di[e]=t}function L(e){var t=[];for(var n in e)t.push({unit:n,priority:Di[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function B(t,n){return function(i){return null!=i?(z(this,t,i),e.updateOffset(this,n),this):j(this,t)}}function j(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function z(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function U(e){return e=F(e),k(this[e])?this[e]():this}function H(e,t){if("object"==typeof e){e=N(e);for(var n=L(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=F(e),k(this[e]))return this[e](t);return this}function W(e,t,n){var i=""+Math.abs(e),a=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}function q(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(Mi[e]=a),t&&(Mi[t[0]]=function(){return W(a.apply(this,arguments),t[1],t[2])}),n&&(Mi[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y(e){var t,n,i=e.match(Ti);for(t=0,n=i.length;n>t;t++)Mi[i[t]]?i[t]=Mi[i[t]]:i[t]=V(i[t]);return function(t){var a,o="";for(a=0;n>a;a++)o+=i[a]instanceof Function?i[a].call(t,e):i[a];return o}}function G(e,t){return e.isValid()?(t=K(t,e.localeData()),Ii[t]=Ii[t]||Y(t),Ii[t](e)):e.localeData().invalidDate()}function K(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ei.lastIndex=0;i>=0&&Ei.test(e);)e=e.replace(Ei,n),Ei.lastIndex=0,i-=1;return e}function X(e,t,n){Ki[e]=k(t)?t:function(e,i){return e&&n?n:t}}function J(e,t){return s(Ki,e)?Ki[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return Z(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}))}function Z(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=y(e)}),n=0;n<e.length;n++)Xi[e[n]]=i}function te(e,t){ee(e,function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)})}function ne(e,t,n){null!=t&&s(Xi,e)&&Xi[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ae(e,t){return n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ra).test(t)?"format":"standalone"][e.month()]}function oe(e,t){return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ra.test(t)?"format":"standalone"][e.month()]}function re(e,t,n){var i,a,o,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(a=yi.call(this._shortMonthsParse,r),-1!==a?a:null):(a=yi.call(this._longMonthsParse,r),-1!==a?a:null):"MMM"===t?(a=yi.call(this._shortMonthsParse,r),-1!==a?a:(a=yi.call(this._longMonthsParse,r),-1!==a?a:null)):(a=yi.call(this._longMonthsParse,r),-1!==a?a:(a=yi.call(this._shortMonthsParse,r),-1!==a?a:null))}function se(e,t,n){var i,a,o;if(this._monthsParseExact)return re.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(a=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=y(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ce(t){return null!=t?(le(this,t),e.updateOffset(this,!0),this):j(this,"Month")}function de(){return ie(this.year(),this.month())}function ue(e){return this._monthsParseExact?(s(this,"_monthsRegex")||me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ca),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(e){return this._monthsParseExact?(s(this,"_monthsRegex")||me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=da),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function me(){function e(e,t){
return t.length-e.length}var t,n,i=[],a=[],o=[];for(t=0;12>t;t++)n=c([2e3,t]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),a.sort(e),o.sort(e),t=0;12>t;t++)i[t]=Z(i[t]),a[t]=Z(a[t]);for(t=0;24>t;t++)o[t]=Z(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function fe(e){return he(e)?366:365}function he(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return he(this.year())}function ve(e,t,n,i,a,o,r){var s=new Date(e,t,n,i,a,o,r);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ye(e,t,n){var i=7+t-n,a=(7+be(e,0,i).getUTCDay()-t)%7;return-a+i-1}function we(e,t,n,i,a){var o,r,s=(7+n-i)%7,l=ye(e,i,a),c=1+7*(t-1)+s+l;return 0>=c?(o=e-1,r=fe(o)+c):c>fe(e)?(o=e+1,r=c-fe(e)):(o=e,r=c),{year:o,dayOfYear:r}}function xe(e,t,n){var i,a,o=ye(e.year(),t,n),r=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>r?(a=e.year()-1,i=r+_e(a,t,n)):r>_e(e.year(),t,n)?(i=r-_e(e.year(),t,n),a=e.year()+1):(a=e.year(),i=r),{week:i,year:a}}function _e(e,t,n){var i=ye(e,t,n),a=ye(e+1,t,n);return(fe(e)-i+a)/7}function $e(e){return xe(e,this._week.dow,this._week.doy).week}function ke(){return this._week.dow}function Se(){return this._week.doy}function Ce(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function De(e){var t=xe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Te(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ee(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ie(e,t){return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function Me(e){return this._weekdaysShort[e.day()]}function Ae(e){return this._weekdaysMin[e.day()]}function Oe(e,t,n){var i,a,o,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(a=yi.call(this._weekdaysParse,r),-1!==a?a:null):"ddd"===t?(a=yi.call(this._shortWeekdaysParse,r),-1!==a?a:null):(a=yi.call(this._minWeekdaysParse,r),-1!==a?a:null):"dddd"===t?(a=yi.call(this._weekdaysParse,r),-1!==a?a:(a=yi.call(this._shortWeekdaysParse,r),-1!==a?a:(a=yi.call(this._minWeekdaysParse,r),-1!==a?a:null))):"ddd"===t?(a=yi.call(this._shortWeekdaysParse,r),-1!==a?a:(a=yi.call(this._weekdaysParse,r),-1!==a?a:(a=yi.call(this._minWeekdaysParse,r),-1!==a?a:null))):(a=yi.call(this._minWeekdaysParse,r),-1!==a?a:(a=yi.call(this._weekdaysParse,r),-1!==a?a:(a=yi.call(this._shortWeekdaysParse,r),-1!==a?a:null)))}function Pe(e,t,n){var i,a,o;if(this._weekdaysParseExact)return Oe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(a=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Te(e,this.localeData()),this.add(e-t,"d")):t}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Re(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ee(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Le(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=ga),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=va),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function je(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ba),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ze(){function e(e,t){return t.length-e.length}var t,n,i,a,o,r=[],s=[],l=[],d=[];for(t=0;7>t;t++)n=c([2e3,1]).day(t),i=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),o=this.weekdays(n,""),r.push(i),s.push(a),l.push(o),d.push(i),d.push(a),d.push(o);for(r.sort(e),s.sort(e),l.sort(e),d.sort(e),t=0;7>t;t++)s[t]=Z(s[t]),l[t]=Z(l[t]),d[t]=Z(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ue(){return this.hours()%12||12}function He(){return this.hours()||24}function We(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qe(e,t){return t._meridiemParse}function Ve(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ye(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ge(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,n,i,a,o=0;o<e.length;){for(a=Ge(e[o]).split("-"),t=a.length,n=Ge(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=Xe(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&w(a,n,!0)>=t-1)break;t--}o++}return null}function Xe(e){var t=null;if(!$a[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=ya._abbr,require("./locale/"+e),Je(t)}catch(e){}return $a[e]}function Je(e,t){var n;return e&&(n=f(t)?et(e):Qe(e,t),n&&(ya=n)),ya._abbr}function Qe(e,t){if(null!==t){var n=_a;return t.abbr=e,null!=$a[e]?($("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=$a[e]._config):null!=t.parentLocale&&(null!=$a[t.parentLocale]?n=$a[t.parentLocale]._config:$("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),$a[e]=new D(C(n,t)),Je(e),$a[e]}return delete $a[e],null}function Ze(e,t){if(null!=t){var n,i=_a;null!=$a[e]&&(i=$a[e]._config),t=C(i,t),n=new D(t),n.parentLocale=$a[e],$a[e]=n,Je(e)}else null!=$a[e]&&(null!=$a[e].parentLocale?$a[e]=$a[e].parentLocale:null!=$a[e]&&delete $a[e]);return $a[e]}function et(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ya;if(!n(e)){if(t=Xe(e))return t;e=[e]}return Ke(e)}function tt(){return bi($a)}function nt(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[Qi]<0||n[Qi]>11?Qi:n[Zi]<1||n[Zi]>ie(n[Ji],n[Qi])?Zi:n[ea]<0||n[ea]>24||24===n[ea]&&(0!==n[ta]||0!==n[na]||0!==n[ia])?ea:n[ta]<0||n[ta]>59?ta:n[na]<0||n[na]>59?na:n[ia]<0||n[ia]>999?ia:-1,u(e)._overflowDayOfYear&&(Ji>t||t>Zi)&&(t=Zi),u(e)._overflowWeeks&&-1===t&&(t=aa),u(e)._overflowWeekday&&-1===t&&(t=oa),u(e).overflow=t),e}function it(e){var t,n,i,a,o,r,s=e._i,l=ka.exec(s)||Sa.exec(s);if(l){for(u(e).iso=!0,t=0,n=Da.length;n>t;t++)if(Da[t][1].exec(l[1])){a=Da[t][0],i=Da[t][2]!==!1;break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,n=Ta.length;n>t;t++)if(Ta[t][1].exec(l[3])){o=(l[2]||" ")+Ta[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Ca.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=a+(o||"")+(r||""),ct(e)}else e._isValid=!1}function at(t){var n=Ea.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(it(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ot(e,t,n){return null!=e?e:null!=t?t:n}function rt(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function st(e){var t,n,i,a,o=[];if(!e._d){for(i=rt(e),e._w&&null==e._a[Zi]&&null==e._a[Qi]&&lt(e),e._dayOfYear&&(a=ot(e._a[Ji],i[Ji]),e._dayOfYear>fe(a)&&(u(e)._overflowDayOfYear=!0),n=be(a,0,e._dayOfYear),e._a[Qi]=n.getUTCMonth(),e._a[Zi]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ea]&&0===e._a[ta]&&0===e._a[na]&&0===e._a[ia]&&(e._nextDay=!0,e._a[ea]=0),e._d=(e._useUTC?be:ve).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ea]=24)}}function lt(e){var t,n,i,a,o,r,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,r=4,n=ot(t.GG,e._a[Ji],xe(vt(),1,4).year),i=ot(t.W,1),a=ot(t.E,1),(1>a||a>7)&&(l=!0)):(o=e._locale._week.dow,r=e._locale._week.doy,n=ot(t.gg,e._a[Ji],xe(vt(),o,r).year),i=ot(t.w,1),null!=t.d?(a=t.d,(0>a||a>6)&&(l=!0)):null!=t.e?(a=t.e+o,(t.e<0||t.e>6)&&(l=!0)):a=o),1>i||i>_e(n,o,r)?u(e)._overflowWeeks=!0:null!=l?u(e)._overflowWeekday=!0:(s=we(n,i,a,o,r),e._a[Ji]=s.year,e._dayOfYear=s.dayOfYear)}function ct(t){if(t._f===e.ISO_8601)return void it(t);t._a=[],u(t).empty=!0;var n,i,a,o,r,s=""+t._i,l=s.length,c=0;for(a=K(t._f,t._locale).match(Ti)||[],n=0;n<a.length;n++)o=a[n],i=(s.match(J(o,t))||[])[0],i&&(r=s.substr(0,s.indexOf(i)),r.length>0&&u(t).unusedInput.push(r),s=s.slice(s.indexOf(i)+i.length),c+=i.length),Mi[o]?(i?u(t).empty=!1:u(t).unusedTokens.push(o),ne(o,i,t)):t._strict&&!i&&u(t).unusedTokens.push(o);u(t).charsLeftOver=l-c,s.length>0&&u(t).unusedInput.push(s),t._a[ea]<=12&&u(t).bigHour===!0&&t._a[ea]>0&&(u(t).bigHour=void 0),u(t).parsedDateParts=t._a.slice(0),u(t).meridiem=t._meridiem,t._a[ea]=dt(t._locale,t._a[ea],t._meridiem),st(t),nt(t)}function dt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function ut(e){var t,n,i,a,o;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)o=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],ct(t),p(t)&&(o+=u(t).charsLeftOver,o+=10*u(t).unusedTokens.length,u(t).score=o,(null==i||i>o)&&(i=o,n=t));l(e,n||t)}function pt(e){if(!e._d){var t=N(e._i);e._a=r([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),st(e)}}function mt(e){var t=new g(nt(ft(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ft(e){var t=e._i,i=e._f;return e._locale=e._locale||et(e._l),null===t||void 0===i&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new g(nt(t)):(n(i)?ut(e):o(t)?e._d=t:i?ct(e):ht(e),p(e)||(e._d=null),e))}function ht(t){var i=t._i;void 0===i?t._d=new Date(e.now()):o(i)?t._d=new Date(i.valueOf()):"string"==typeof i?at(t):n(i)?(t._a=r(i.slice(0),function(e){return parseInt(e,10)}),st(t)):"object"==typeof i?pt(t):"number"==typeof i?t._d=new Date(i):e.createFromInputFallback(t)}function gt(e,t,o,r,s){var l={};return"boolean"==typeof o&&(r=o,o=void 0),(i(e)&&a(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=e,l._f=t,l._strict=r,mt(l)}function vt(e,t,n,i){return gt(e,t,n,i,!1)}function bt(e,t){var i,a;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return vt();for(i=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](i)||(i=t[a]);return i}function yt(){var e=[].slice.call(arguments,0);return bt("isBefore",e)}function wt(){var e=[].slice.call(arguments,0);return bt("isAfter",e)}function xt(e){var t=N(e),n=t.year||0,i=t.quarter||0,a=t.month||0,o=t.week||0,r=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+1e3*s*60*60,this._days=+r+7*o,this._months=+a+3*i+12*n,this._data={},this._locale=et(),this._bubble()}function _t(e){return e instanceof xt}function $t(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+W(~~(e/60),2)+t+W(~~e%60,2)})}function kt(e,t){var n=(t||"").match(e)||[],i=n[n.length-1]||[],a=(i+"").match(Oa)||["-",0,0],o=+(60*a[1])+y(a[2]);return"+"===a[0]?o:-o}function St(t,n){var i,a;return n._isUTC?(i=n.clone(),a=(v(t)||o(t)?t.valueOf():vt(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),e.updateOffset(i,!1),i):vt(t).local()}function Ct(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Dt(t,n){var i,a=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=kt(Vi,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Ct(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==t&&(!n||this._changeInProgress?Wt(this,Lt(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:Ct(this):null!=t?this:NaN}function Tt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Et(e){return this.utcOffset(0,e)}function It(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ct(this),"m")),this}function Mt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(kt(qi,this._i)),this}function At(e){return!!this.isValid()&&(e=e?vt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Ot(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Pt(){if(!f(this._isDSTShifted))return this._isDSTShifted;var e={};if(h(e,this),e=ft(e),e._a){var t=e._isUTC?c(e._a):vt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ft(){return!!this.isValid()&&!this._isUTC}function Nt(){return!!this.isValid()&&this._isUTC}function Rt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Lt(e,t){var n,i,a,o=e,r=null;return _t(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(r=Pa.exec(e))?(n="-"===r[1]?-1:1,o={y:0,d:y(r[Zi])*n,h:y(r[ea])*n,m:y(r[ta])*n,s:y(r[na])*n,ms:y(r[ia])*n}):(r=Fa.exec(e))?(n="-"===r[1]?-1:1,o={y:Bt(r[2],n),M:Bt(r[3],n),w:Bt(r[4],n),d:Bt(r[5],n),h:Bt(r[6],n),m:Bt(r[7],n),s:Bt(r[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=zt(vt(o.from),vt(o.to)),o={},o.ms=a.milliseconds,o.M=a.months),i=new xt(o),_t(e)&&s(e,"_locale")&&(i._locale=e._locale),i}function Bt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function zt(e,t){var n;return e.isValid()&&t.isValid()?(t=St(t,e),e.isBefore(t)?n=jt(e,t):(n=jt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ut(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function Ht(e,t){return function(n,i){var a,o;return null===i||isNaN(+i)||($(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,a=Lt(n,i),Wt(this,a,e),this}}function Wt(t,n,i,a){var o=n._milliseconds,r=Ut(n._days),s=Ut(n._months);t.isValid()&&(a=null==a||a,o&&t._d.setTime(t._d.valueOf()+o*i),r&&z(t,"Date",j(t,"Date")+r*i),s&&le(t,j(t,"Month")+s*i),a&&e.updateOffset(t,r||s))}function qt(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Vt(t,n){var i=t||vt(),a=St(i,this).startOf("day"),o=e.calendarFormat(this,a)||"sameElse",r=n&&(k(n[o])?n[o].call(this,i):n[o]);return this.format(r||this.localeData().calendar(o,this,vt(i)))}function Yt(){return new g(this)}function Gt(e,t){var n=v(e)?e:vt(e);return!(!this.isValid()||!n.isValid())&&(t=F(f(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Kt(e,t){var n=v(e)?e:vt(e);return!(!this.isValid()||!n.isValid())&&(t=F(f(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Xt(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Jt(e,t){var n,i=v(e)?e:vt(e);return!(!this.isValid()||!i.isValid())&&(t=F(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Qt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Zt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function en(e,t,n){var i,a,o,r;return this.isValid()?(i=St(e,this),i.isValid()?(a=6e4*(i.utcOffset()-this.utcOffset()),t=F(t),"year"===t||"month"===t||"quarter"===t?(r=tn(this,i),"quarter"===t?r/=3:"year"===t&&(r/=12)):(o=this-i,r="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-a)/864e5:"week"===t?(o-a)/6048e5:o),n?r:b(r)):NaN):NaN}function tn(e,t){var n,i,a=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(a,"months");return 0>t-o?(n=e.clone().add(a-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(a+1,"months"),i=(t-o)/(n-o)),-(a+i)||0}function nn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function an(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?k(Date.prototype.toISOString)?this.toDate().toISOString():G(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=G(this,t);return this.localeData().postformat(n)}function rn(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?Lt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function sn(e){return this.from(vt(),e)}function ln(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?Lt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cn(e){return this.to(vt(),e)}function dn(e){var t;return void 0===e?this._locale._abbr:(t=et(e),null!=t&&(this._locale=t),this)}function un(){return this._locale}function pn(e){switch(e=F(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function mn(e){return e=F(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function fn(){return this._d.valueOf()-6e4*(this._offset||0)}function hn(){return Math.floor(this.valueOf()/1e3)}function gn(){return new Date(this.valueOf())}function vn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function yn(){return this.isValid()?this.toISOString():null}function wn(){return p(this)}function xn(){return l({},u(this))}function _n(){return u(this).overflow}function $n(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function kn(e,t){q(0,[e,e.length],0,t)}function Sn(e){return En.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Cn(e){return En.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Dn(){return _e(this.year(),1,4)}function Tn(){var e=this.localeData()._week;return _e(this.year(),e.dow,e.doy)}function En(e,t,n,i,a){var o;return null==e?xe(this,i,a).year:(o=_e(e,i,a),t>o&&(t=o),In.call(this,e,t,n,i,a))}function In(e,t,n,i,a){var o=we(e,t,n,i,a),r=be(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Mn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function An(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function On(e,t){t[ia]=y(1e3*("0."+e))}function Pn(){return this._isUTC?"UTC":""}function Fn(){return this._isUTC?"Coordinated Universal Time":""}function Nn(e){return vt(1e3*e)}function Rn(){return vt.apply(null,arguments).parseZone()}function Ln(e){return e}function Bn(e,t,n,i){var a=et(),o=c().set(i,t);return a[n](o,e)}function jn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Bn(e,t,n,"month");var i,a=[];for(i=0;12>i;i++)a[i]=Bn(e,i,n,"month");return a}function zn(e,t,n,i){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var a=et(),o=e?a._week.dow:0;if(null!=n)return Bn(t,(n+o)%7,i,"day");var r,s=[];for(r=0;7>r;r++)s[r]=Bn(t,(r+o)%7,i,"day");return s}function Un(e,t){return jn(e,t,"months")}function Hn(e,t){return jn(e,t,"monthsShort")}function Wn(e,t,n){return zn(e,t,n,"weekdays")}function qn(e,t,n){return zn(e,t,n,"weekdaysShort")}function Vn(e,t,n){return zn(e,t,n,"weekdaysMin")}function Yn(){var e=this._data;return this._milliseconds=Ya(this._milliseconds),this._days=Ya(this._days),this._months=Ya(this._months),e.milliseconds=Ya(e.milliseconds),e.seconds=Ya(e.seconds),e.minutes=Ya(e.minutes),e.hours=Ya(e.hours),e.months=Ya(e.months),e.years=Ya(e.years),this}function Gn(e,t,n,i){var a=Lt(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function Kn(e,t){return Gn(this,e,t,1)}function Xn(e,t){return Gn(this,e,t,-1)}function Jn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Qn(){var e,t,n,i,a,o=this._milliseconds,r=this._days,s=this._months,l=this._data;return o>=0&&r>=0&&s>=0||0>=o&&0>=r&&0>=s||(o+=864e5*Jn(ei(s)+r),r=0,s=0),l.milliseconds=o%1e3,e=b(o/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,r+=b(n/24),a=b(Zn(r)),s+=a,r-=Jn(ei(a)),i=b(s/12),s%=12,l.days=r,l.months=s,l.years=i,this}function Zn(e){return 4800*e/146097}function ei(e){return 146097*e/4800}function ti(e){var t,n,i=this._milliseconds;if(e=F(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+Zn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ei(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function ni(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function ii(e){return function(){return this.as(e)}}function ai(e){return e=F(e),this[e+"s"]()}function oi(e){return function(){return this._data[e]}}function ri(){return b(this.days()/7)}function si(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function li(e,t,n){var i=Lt(e).abs(),a=co(i.as("s")),o=co(i.as("m")),r=co(i.as("h")),s=co(i.as("d")),l=co(i.as("M")),c=co(i.as("y")),d=a<uo.s&&["s",a]||1>=o&&["m"]||o<uo.m&&["mm",o]||1>=r&&["h"]||r<uo.h&&["hh",r]||1>=s&&["d"]||s<uo.d&&["dd",s]||1>=l&&["M"]||l<uo.M&&["MM",l]||1>=c&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=n,si.apply(null,d)}function ci(e){return void 0===e?co:"function"==typeof e&&(co=e,!0)}function di(e,t){return void 0!==uo[e]&&(void 0===t?uo[e]:(uo[e]=t,!0))}function ui(e){var t=this.localeData(),n=li(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function pi(){var e,t,n,i=po(this._milliseconds)/1e3,a=po(this._days),o=po(this._months);e=b(i/60),t=b(e/60),i%=60,e%=60,n=b(o/12),o%=12;var r=n,s=o,l=a,c=t,d=e,u=i,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(r?r+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(c||d||u?"T":"")+(c?c+"H":"")+(d?d+"M":"")+(u?u+"S":""):"P0D"}var mi,fi;fi=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;n>i;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var hi=e.momentProperties=[],gi=!1,vi={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var bi;bi=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var yi,wi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},xi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},_i="Invalid date",$i="%d",ki=/\d{1,2}/,Si={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ci={},Di={},Ti=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ei=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ii={},Mi={},Ai=/\d/,Oi=/\d\d/,Pi=/\d{3}/,Fi=/\d{4}/,Ni=/[+-]?\d{6}/,Ri=/\d\d?/,Li=/\d\d\d\d?/,Bi=/\d\d\d\d\d\d?/,ji=/\d{1,3}/,zi=/\d{1,4}/,Ui=/[+-]?\d{1,6}/,Hi=/\d+/,Wi=/[+-]?\d+/,qi=/Z|[+-]\d\d:?\d\d/gi,Vi=/Z|[+-]\d\d(?::?\d\d)?/gi,Yi=/[+-]?\d+(\.\d{1,3})?/,Gi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ki={},Xi={},Ji=0,Qi=1,Zi=2,ea=3,ta=4,na=5,ia=6,aa=7,oa=8;yi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),R("month",8),X("M",Ri),X("MM",Ri,Oi),X("MMM",function(e,t){return t.monthsShortRegex(e)}),X("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Qi]=y(e)-1}),ee(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[Qi]=a:u(n).invalidMonth=e});var ra=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,sa="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),la="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ca=Gi,da=Gi;q("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),P("year","y"),R("year",1),X("Y",Wi),X("YY",Ri,Oi),X("YYYY",zi,Fi),X("YYYYY",Ui,Ni),X("YYYYYY",Ui,Ni),ee(["YYYYY","YYYYYY"],Ji),ee("YYYY",function(t,n){n[Ji]=2===t.length?e.parseTwoDigitYear(t):y(t)}),ee("YY",function(t,n){n[Ji]=e.parseTwoDigitYear(t)}),ee("Y",function(e,t){t[Ji]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)};var ua=B("FullYear",!0);q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),R("week",5),R("isoWeek",5),X("w",Ri),X("ww",Ri,Oi),X("W",Ri),X("WW",Ri,Oi),te(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=y(e)});var pa={dow:0,doy:6};q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),X("d",Ri),X("e",Ri),X("E",Ri),X("dd",function(e,t){return t.weekdaysMinRegex(e)}),X("ddd",function(e,t){return t.weekdaysShortRegex(e)}),X("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);null!=a?t.d=a:u(n).invalidWeekday=e}),te(["d","e","E"],function(e,t,n,i){t[i]=y(e)});var ma="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),fa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ha="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ga=Gi,va=Gi,ba=Gi;q("H",["HH",2],0,"hour"),q("h",["hh",2],0,Ue),q("k",["kk",2],0,He),q("hmm",0,0,function(){return""+Ue.apply(this)+W(this.minutes(),2)}),q("hmmss",0,0,function(){return""+Ue.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),We("a",!0),We("A",!1),P("hour","h"),R("hour",13),X("a",qe),X("A",qe),X("H",Ri),X("h",Ri),X("HH",Ri,Oi),X("hh",Ri,Oi),X("hmm",Li),X("hmmss",Bi),X("Hmm",Li),X("Hmmss",Bi),ee(["H","HH"],ea),ee(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ee(["h","hh"],function(e,t,n){t[ea]=y(e),u(n).bigHour=!0}),ee("hmm",function(e,t,n){var i=e.length-2;t[ea]=y(e.substr(0,i)),t[ta]=y(e.substr(i)),u(n).bigHour=!0}),ee("hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[ea]=y(e.substr(0,i)),t[ta]=y(e.substr(i,2)),t[na]=y(e.substr(a)),u(n).bigHour=!0}),ee("Hmm",function(e,t,n){var i=e.length-2;t[ea]=y(e.substr(0,i)),t[ta]=y(e.substr(i))}),ee("Hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[ea]=y(e.substr(0,i)),t[ta]=y(e.substr(i,2)),t[na]=y(e.substr(a))});var ya,wa=/[ap]\.?m?\.?/i,xa=B("Hours",!0),_a={calendar:wi,longDateFormat:xi,invalidDate:_i,ordinal:$i,ordinalParse:ki,relativeTime:Si,months:sa,monthsShort:la,week:pa,weekdays:ma,weekdaysMin:ha,weekdaysShort:fa,meridiemParse:wa},$a={},ka=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Sa=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ca=/Z|[+-]\d\d(?::?\d\d)?/,Da=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ta=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ea=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=_("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Ia=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){
var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:m()}),Ma=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),Aa=function(){return Date.now?Date.now():+new Date};$t("Z",":"),$t("ZZ",""),X("Z",Vi),X("ZZ",Vi),ee(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=kt(Vi,e)});var Oa=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Pa=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Fa=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Lt.fn=xt.prototype;var Na=Ht(1,"add"),Ra=Ht(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var La=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),kn("gggg","weekYear"),kn("ggggg","weekYear"),kn("GGGG","isoWeekYear"),kn("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),X("G",Wi),X("g",Wi),X("GG",Ri,Oi),X("gg",Ri,Oi),X("GGGG",zi,Fi),X("gggg",zi,Fi),X("GGGGG",Ui,Ni),X("ggggg",Ui,Ni),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=y(e)}),te(["gg","GG"],function(t,n,i,a){n[a]=e.parseTwoDigitYear(t)}),q("Q",0,"Qo","quarter"),P("quarter","Q"),R("quarter",7),X("Q",Ai),ee("Q",function(e,t){t[Qi]=3*(y(e)-1)}),q("D",["DD",2],"Do","date"),P("date","D"),R("date",9),X("D",Ri),X("DD",Ri,Oi),X("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ee(["D","DD"],Zi),ee("Do",function(e,t){t[Zi]=y(e.match(Ri)[0],10)});var Ba=B("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),R("dayOfYear",4),X("DDD",ji),X("DDDD",Pi),ee(["DDD","DDDD"],function(e,t,n){n._dayOfYear=y(e)}),q("m",["mm",2],0,"minute"),P("minute","m"),R("minute",14),X("m",Ri),X("mm",Ri,Oi),ee(["m","mm"],ta);var ja=B("Minutes",!1);q("s",["ss",2],0,"second"),P("second","s"),R("second",15),X("s",Ri),X("ss",Ri,Oi),ee(["s","ss"],na);var za=B("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),R("millisecond",16),X("S",ji,Ai),X("SS",ji,Oi),X("SSS",ji,Pi);var Ua;for(Ua="SSSS";Ua.length<=9;Ua+="S")X(Ua,Hi);for(Ua="S";Ua.length<=9;Ua+="S")ee(Ua,On);var Ha=B("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var Wa=g.prototype;Wa.add=Na,Wa.calendar=Vt,Wa.clone=Yt,Wa.diff=en,Wa.endOf=mn,Wa.format=on,Wa.from=rn,Wa.fromNow=sn,Wa.to=ln,Wa.toNow=cn,Wa.get=U,Wa.invalidAt=_n,Wa.isAfter=Gt,Wa.isBefore=Kt,Wa.isBetween=Xt,Wa.isSame=Jt,Wa.isSameOrAfter=Qt,Wa.isSameOrBefore=Zt,Wa.isValid=wn,Wa.lang=La,Wa.locale=dn,Wa.localeData=un,Wa.max=Ma,Wa.min=Ia,Wa.parsingFlags=xn,Wa.set=H,Wa.startOf=pn,Wa.subtract=Ra,Wa.toArray=vn,Wa.toObject=bn,Wa.toDate=gn,Wa.toISOString=an,Wa.toJSON=yn,Wa.toString=nn,Wa.unix=hn,Wa.valueOf=fn,Wa.creationData=$n,Wa.year=ua,Wa.isLeapYear=ge,Wa.weekYear=Sn,Wa.isoWeekYear=Cn,Wa.quarter=Wa.quarters=Mn,Wa.month=ce,Wa.daysInMonth=de,Wa.week=Wa.weeks=Ce,Wa.isoWeek=Wa.isoWeeks=De,Wa.weeksInYear=Tn,Wa.isoWeeksInYear=Dn,Wa.date=Ba,Wa.day=Wa.days=Fe,Wa.weekday=Ne,Wa.isoWeekday=Re,Wa.dayOfYear=An,Wa.hour=Wa.hours=xa,Wa.minute=Wa.minutes=ja,Wa.second=Wa.seconds=za,Wa.millisecond=Wa.milliseconds=Ha,Wa.utcOffset=Dt,Wa.utc=Et,Wa.local=It,Wa.parseZone=Mt,Wa.hasAlignedHourOffset=At,Wa.isDST=Ot,Wa.isLocal=Ft,Wa.isUtcOffset=Nt,Wa.isUtc=Rt,Wa.isUTC=Rt,Wa.zoneAbbr=Pn,Wa.zoneName=Fn,Wa.dates=_("dates accessor is deprecated. Use date instead.",Ba),Wa.months=_("months accessor is deprecated. Use month instead",ce),Wa.years=_("years accessor is deprecated. Use year instead",ua),Wa.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Tt),Wa.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Pt);var qa=Wa,Va=D.prototype;Va.calendar=T,Va.longDateFormat=E,Va.invalidDate=I,Va.ordinal=M,Va.preparse=Ln,Va.postformat=Ln,Va.relativeTime=A,Va.pastFuture=O,Va.set=S,Va.months=ae,Va.monthsShort=oe,Va.monthsParse=se,Va.monthsRegex=pe,Va.monthsShortRegex=ue,Va.week=$e,Va.firstDayOfYear=Se,Va.firstDayOfWeek=ke,Va.weekdays=Ie,Va.weekdaysMin=Ae,Va.weekdaysShort=Me,Va.weekdaysParse=Pe,Va.weekdaysRegex=Le,Va.weekdaysShortRegex=Be,Va.weekdaysMinRegex=je,Va.isPM=Ve,Va.meridiem=Ye,Je("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=_("moment.lang is deprecated. Use moment.locale instead.",Je),e.langData=_("moment.langData is deprecated. Use moment.localeData instead.",et);var Ya=Math.abs,Ga=ii("ms"),Ka=ii("s"),Xa=ii("m"),Ja=ii("h"),Qa=ii("d"),Za=ii("w"),eo=ii("M"),to=ii("y"),no=oi("milliseconds"),io=oi("seconds"),ao=oi("minutes"),oo=oi("hours"),ro=oi("days"),so=oi("months"),lo=oi("years"),co=Math.round,uo={s:45,m:45,h:22,d:26,M:11},po=Math.abs,mo=xt.prototype;mo.abs=Yn,mo.add=Kn,mo.subtract=Xn,mo.as=ti,mo.asMilliseconds=Ga,mo.asSeconds=Ka,mo.asMinutes=Xa,mo.asHours=Ja,mo.asDays=Qa,mo.asWeeks=Za,mo.asMonths=eo,mo.asYears=to,mo.valueOf=ni,mo._bubble=Qn,mo.get=ai,mo.milliseconds=no,mo.seconds=io,mo.minutes=ao,mo.hours=oo,mo.days=ro,mo.weeks=ri,mo.months=so,mo.years=lo,mo.humanize=ui,mo.toISOString=pi,mo.toString=pi,mo.toJSON=pi,mo.locale=dn,mo.localeData=un,mo.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pi),mo.lang=La,q("X",0,0,"unix"),q("x",0,0,"valueOf"),X("x",Wi),X("X",Yi),ee("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,n){n._d=new Date(y(e))}),e.version="2.14.1",t(vt),e.fn=qa,e.min=yt,e.max=wt,e.now=Aa,e.utc=c,e.unix=Nn,e.months=Un,e.isDate=o,e.locale=Je,e.invalid=m,e.duration=Lt,e.isMoment=v,e.weekdays=Wn,e.parseZone=Rn,e.localeData=et,e.isDuration=_t,e.monthsShort=Hn,e.weekdaysMin=Vn,e.defineLocale=Qe,e.updateLocale=Ze,e.locales=tt,e.weekdaysShort=qn,e.normalizeUnits=F,e.relativeTimeRounding=ci,e.relativeTimeThreshold=di,e.calendarFormat=qt,e.prototype=qa;var fo=e;return fo}),function(e){var t={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:function(){return"["+this.format("Do").replace(/\d*/g,"")+"]"},w:"d",z:function(){return this.format("DDD")-1},W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:function(){return this.daysInMonth()},L:function(){return this.isLeapYear()?1:0},o:"GGGG",Y:"YYYY",y:"YY",a:"a",A:"A",B:function(){var e=this.clone().utc(),t=(e.hours()+1)%24+e.minutes()/60+e.seconds()/3600;return Math.floor(1e3*t/24)},g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"[u]",e:"[e]",I:function(){return this.isDST()?1:0},O:"ZZ",P:"Z",T:"[T]",Z:function(){return 36*parseInt(this.format("ZZ"),10)},c:"YYYY-MM-DD[T]HH:mm:ssZ",r:"ddd, DD MMM YYYY HH:mm:ss ZZ",U:"X"},n=/[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g;e.fn.formatPHP=function(e){var i=this;return this.format(e.replace(n,function(e){return"function"==typeof t[e]?t[e].call(i):t[e]}))}}(moment),function(e,t){function n(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function i(e){return u?u(e):"[object Array]"===p.call(e)}function a(e){return e&&"[object Object]"===p.call(e)}function o(e,t){var n;e=e||{},t=t||{};for(n in t)t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function r(e,t,n){var i,a,o=[];if(!e)return o;if(d&&e.map===d)return e.map(t,n);for(i=0,a=e.length;i<a;i++)o[i]=t.call(n,e[i],i,e);return o}function s(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function l(e){var t=c.settings.currency.format;return"function"==typeof e&&(e=e()),n(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:n(t)?c.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var c={};c.version="0.4.1",c.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var d=Array.prototype.map,u=Array.isArray,p=Object.prototype.toString,m=c.unformat=c.parse=function(e,t){if(i(e))return r(e,function(e){return m(e,t)});if(e=e||0,"number"==typeof e)return e;t=t||c.settings.number.decimal;var n=new RegExp("[^0-9-"+t+"]",["g"]),a=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(a)?0:a},f=c.toFixed=function(e,t){t=s(t,c.settings.number.precision);var n=Math.pow(10,t);return(Math.round(c.unformat(e)*n)/n).toFixed(t)},h=c.formatNumber=c.format=function(e,t,n,l){if(i(e))return r(e,function(e){return h(e,t,n,l)});e=m(e);var d=o(a(t)?t:{precision:t,thousand:n,decimal:l},c.settings.number),u=s(d.precision),p=e<0?"-":"",g=parseInt(f(Math.abs(e||0),u),10)+"",v=g.length>3?g.length%3:0;return p+(v?g.substr(0,v)+d.thousand:"")+g.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+d.thousand)+(u?d.decimal+f(Math.abs(e),u).split(".")[1]:"")},g=c.formatMoney=function(e,t,n,d,u,p){if(i(e))return r(e,function(e){return g(e,t,n,d,u,p)});e=m(e);var f=o(a(t)?t:{symbol:t,precision:n,thousand:d,decimal:u,format:p},c.settings.currency),v=l(f.format),b=e>0?v.pos:e<0?v.neg:v.zero;return b.replace("%s",f.symbol).replace("%v",h(Math.abs(e),s(f.precision),f.thousand,f.decimal))};c.formatColumn=function(e,t,d,u,p,f){if(!e)return[];var g=o(a(t)?t:{symbol:t,precision:d,thousand:u,decimal:p,format:f},c.settings.currency),v=l(g.format),b=v.pos.indexOf("%s")<v.pos.indexOf("%v"),y=0,w=r(e,function(e,t){if(i(e))return c.formatColumn(e,g);e=m(e);var n=e>0?v.pos:e<0?v.neg:v.zero,a=n.replace("%s",g.symbol).replace("%v",h(Math.abs(e),s(g.precision),g.thousand,g.decimal));return a.length>y&&(y=a.length),a});return r(w,function(e,t){return n(e)&&e.length<y?b?e.replace(g.symbol,g.symbol+new Array(y-e.length+1).join(" ")):new Array(y-e.length+1).join(" ")+e:e})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.accounting=c):"function"==typeof define&&define.amd?define([],function(){return c}):(c.noConflict=function(n){return function(){return e.accounting=n,c.noConflict=t,c}}(e.accounting),e.accounting=c)}(this),function(e,t,n){e.fn.backstretch=function(i,a){return(i===n||0===i.length)&&e.error("No images were supplied for Backstretch"),0===e(t).scrollTop()&&t.scrollTo(0,0),this.each(function(){var t=e(this),n=t.data("backstretch");if(n){if("string"==typeof i&&"function"==typeof n[i])return void n[i](a);a=e.extend(n.options,a),n.destroy(!0)}n=new o(this,i,a),t.data("backstretch",n)})},e.backstretch=function(t,n){return e("body").backstretch(t,n).data("backstretch")},e.expr[":"].backstretch=function(t){return e(t).data("backstretch")!==n},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var i={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},a={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},o=function(n,a,o){this.options=e.extend({},e.fn.backstretch.defaults,o||{}),this.images=e.isArray(a)?a:[a],e.each(this.images,function(){e("<img />")[0].src=this}),this.isBody=n===document.body,this.$container=e(n),this.$root=this.isBody?e(r?t:document):this.$container,n=this.$container.children(".backstretch").first(),this.$wrap=n.length?n:e('<div class="backstretch"></div>').css(i).appendTo(this.$container),this.isBody||(n=this.$container.css("position"),a=this.$container.css("zIndex"),this.$container.css({position:"static"===n?"relative":n,zIndex:"auto"===a?0:a,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&r?"fixed":"absolute"}),this.index=0,this.show(this.index),e(t).on("resize.backstretch",e.proxy(this.resize,this)).on("orientationchange.backstretch",e.proxy(function(){this.isBody&&0===t.pageYOffset&&(t.scrollTo(0,1),this.resize())},this))};o.prototype={resize:function(){try{var e,n={left:0,top:0},i=this.isBody?this.$root.width():this.$root.innerWidth(),a=i,o=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),r=a/this.$img.data("ratio");r>=o?(e=(r-o)/2,this.options.centeredY&&(n.top="-"+e+"px")):(r=o,a=r*this.$img.data("ratio"),e=(a-i)/2,this.options.centeredX&&(n.left="-"+e+"px")),this.$wrap.css({width:i,height:o}).find("img:not(.deleteable)").css({width:a,height:r}).css(n)}catch(e){}return this},show:function(t){if(!(Math.abs(t)>this.images.length-1)){var n=this,i=n.$wrap.find("img").addClass("deleteable"),o={relatedTarget:n.$container[0]};return n.$container.trigger(e.Event("backstretch.before",o),[n,t]),this.index=t,clearInterval(n.interval),n.$img=e("<img />").css(a).bind("load",function(a){var r=this.width||e(a.target).width();a=this.height||e(a.target).height(),e(this).data("ratio",r/a),e(this).fadeIn(n.options.speed||n.options.fade,function(){i.remove(),n.paused||n.cycle(),e(["after","show"]).each(function(){n.$container.trigger(e.Event("backstretch."+this,o),[n,t])})}),n.resize()}).appendTo(n.$wrap),n.$img.attr("src",n.images[t]),n}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(n){e(t).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),n||this.$wrap.remove(),this.$container.removeData("backstretch")}};var r,s=navigator.userAgent,l=navigator.platform,c=s.match(/AppleWebKit\/([0-9]+)/),c=!!c&&c[1],d=s.match(/Fennec\/([0-9]+)/),d=!!d&&d[1],u=s.match(/Opera Mobi\/([0-9]+)/),p=!!u&&u[1],m=s.match(/MSIE ([0-9]+)/),m=!!m&&m[1];r=!((-1<l.indexOf("iPhone")||-1<l.indexOf("iPad")||-1<l.indexOf("iPod"))&&c&&534>c||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||u&&7458>p||-1<s.indexOf("Android")&&c&&533>c||d&&6>d||"palmGetResource"in t&&c&&534>c||-1<s.indexOf("MeeGo")&&-1<s.indexOf("NokiaBrowser/8.5.0")||m&&6>=m)}(jQuery,window);var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,a,o,r,s,l="",c=0;for(e=Base64._utf8_encode(e);c<e.length;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),i=e.charCodeAt(c++),a=t>>2,o=(3&t)<<4|n>>4,r=(15&n)<<2|i>>6,s=63&i,isNaN(n)?r=s=64:isNaN(i)&&(s=64),l=l+Base64._keyStr.charAt(a)+Base64._keyStr.charAt(o)+Base64._keyStr.charAt(r)+Base64._keyStr.charAt(s);return l},decode:function(e){var t,n,i,a,o,r,s,l="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)a=Base64._keyStr.indexOf(e.charAt(c++)),o=Base64._keyStr.indexOf(e.charAt(c++)),r=Base64._keyStr.indexOf(e.charAt(c++)),s=Base64._keyStr.indexOf(e.charAt(c++)),t=a<<2|o>>4,n=(15&o)<<4|r>>2,i=(3&r)<<6|s,l+=String.fromCharCode(t),64!=r&&(l+=String.fromCharCode(n)),64!=s&&(l+=String.fromCharCode(i));return l=Base64._utf8_decode(l)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=c1=c2=0;n<e.length;)i=e.charCodeAt(n),i<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return t}},CanvasImage=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=e.width,this.height=this.canvas.height=e.height,this.context.drawImage(e,0,0,this.width,this.height)};CanvasImage.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},CanvasImage.prototype.update=function(e){this.context.putImageData(e,0,0)},CanvasImage.prototype.getPixelCount=function(){return this.width*this.height},CanvasImage.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},CanvasImage.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var ColorThief=function(){};if(ColorThief.prototype.getColor=function(e,t){var n=this.getPalette(e,5,t),i=n[0];return i},ColorThief.prototype.getPalette=function(e,t,n){"undefined"==typeof t&&(t=10),("undefined"==typeof n||n<1)&&(n=10);for(var i,a,o,r,s,l=new CanvasImage(e),c=l.getImageData(),d=c.data,u=l.getPixelCount(),p=[],m=0;m<u;m+=n)i=4*m,a=d[i+0],o=d[i+1],r=d[i+2],s=d[i+3],s>=125&&(a>250&&o>250&&r>250||p.push([a,o,r]));var f=MMCQ.quantize(p,t),h=f?f.palette():null;return l.removeCanvas(),h},!pv)var pv={map:function(e,t){var n={};return t?e.map(function(e,i){return n.index=i,t.call(n,e)}):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,i,a){return n.index=a,e+t.call(n,i)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?pv.map(e,t):e)}};var MMCQ=function(){function e(e,t,n){return(e<<2*l)+(t<<l)+n}function t(e){function t(){n.sort(e),i=!0}var n=[],i=!1;return{push:function(e){n.push(e),i=!1},peek:function(e){return i||t(),void 0===e&&(e=n.length-1),n[e]},pop:function(){return i||t(),n.pop()},size:function(){return n.length},map:function(e){return n.map(e)},debug:function(){return i||t(),n}}}function n(e,t,n,i,a,o,r){var s=this;s.r1=e,s.r2=t,s.g1=n,s.g2=i,s.b1=a,s.b2=o,s.histo=r}function i(){this.vboxes=new t(function(e,t){return pv.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function a(t){var n,i,a,o,r=1<<3*l,s=new Array(r);return t.forEach(function(t){i=t[0]>>c,a=t[1]>>c,o=t[2]>>c,n=e(i,a,o),s[n]=(s[n]||0)+1}),s}function o(e,t){var i,a,o,r=1e6,s=0,l=1e6,d=0,u=1e6,p=0;return e.forEach(function(e){i=e[0]>>c,a=e[1]>>c,o=e[2]>>c,i<r?r=i:i>s&&(s=i),a<l?l=a:a>d&&(d=a),o<u?u=o:o>p&&(p=o)}),new n(r,s,l,d,u,p,t)}function r(t,n){function i(e){var t,i,a,o,r,s=e+"1",c=e+"2",d=0;for(l=n[s];l<=n[c];l++)if(f[l]>m/2){for(a=n.copy(),o=n.copy(),t=l-n[s],i=n[c]-l,r=t<=i?Math.min(n[c]-1,~~(l+i/2)):Math.max(n[s],~~(l-1-t/2));!f[r];)r++;for(d=h[r];!d&&f[r-1];)d=h[--r];return a[c]=r,o[s]=a[c]+1,[a,o]}}if(n.count()){var a=n.r2-n.r1+1,o=n.g2-n.g1+1,r=n.b2-n.b1+1,s=pv.max([a,o,r]);if(1==n.count())return[n.copy()];var l,c,d,u,p,m=0,f=[],h=[];if(s==a)for(l=n.r1;l<=n.r2;l++){for(u=0,c=n.g1;c<=n.g2;c++)for(d=n.b1;d<=n.b2;d++)p=e(l,c,d),u+=t[p]||0;m+=u,f[l]=m}else if(s==o)for(l=n.g1;l<=n.g2;l++){for(u=0,c=n.r1;c<=n.r2;c++)for(d=n.b1;d<=n.b2;d++)p=e(c,l,d),u+=t[p]||0;m+=u,f[l]=m}else for(l=n.b1;l<=n.b2;l++){for(u=0,c=n.r1;c<=n.r2;c++)for(d=n.g1;d<=n.g2;d++)p=e(c,d,l),u+=t[p]||0;m+=u,f[l]=m}return f.forEach(function(e,t){h[t]=m-e}),i(s==a?"r":s==o?"g":"b")}}function s(e,n){function s(e,t){for(var n,i=1,a=0;a<d;)if(n=e.pop(),n.count()){var o=r(l,n),s=o[0],c=o[1];if(!s)return;if(e.push(s),c&&(e.push(c),i++),i>=t)return;if(a++>d)return}else e.push(n),a++}if(!e.length||n<2||n>256)return!1;var l=a(e),c=0;l.forEach(function(){c++});var p=o(e,l),m=new t(function(e,t){return pv.naturalOrder(e.count(),t.count())});m.push(p),s(m,u*n);for(var f=new t(function(e,t){return pv.naturalOrder(e.count()*e.volume(),t.count()*t.volume())});m.size();)f.push(m.pop());s(f,n-f.size());for(var h=new i;f.size();)h.push(f.pop());return h}var l=5,c=8-l,d=1e3,u=.75;return n.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(t){var n=this,i=n.histo;if(!n._count_set||t){var a,o,r,s=0;for(a=n.r1;a<=n.r2;a++)for(o=n.g1;o<=n.g2;o++)for(r=n.b1;r<=n.b2;r++)index=e(a,o,r),s+=i[index]||0;n._count=s,n._count_set=!0}return n._count},copy:function(){var e=this;return new n(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var n=this,i=n.histo;if(!n._avg||t){var a,o,r,s,c,d=0,u=1<<8-l,p=0,m=0,f=0;for(o=n.r1;o<=n.r2;o++)for(r=n.g1;r<=n.g2;r++)for(s=n.b1;s<=n.b2;s++)c=e(o,r,s),a=i[c]||0,d+=a,p+=a*(o+.5)*u,m+=a*(r+.5)*u,f+=a*(s+.5)*u;d?n._avg=[~~(p/d),~~(m/d),~~(f/d)]:n._avg=[~~(u*(n.r1+n.r2+1)/2),~~(u*(n.g1+n.g2+1)/2),~~(u*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(e){var t=this,n=e[0]>>c;return gval=e[1]>>c,bval=e[2]>>c,n>=t.r1&&n<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},i.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,i,a=this.vboxes,o=0;o<a.size();o++)n=Math.sqrt(Math.pow(e[0]-a.peek(o).color[0],2)+Math.pow(e[1]-a.peek(o).color[1],2)+Math.pow(e[2]-a.peek(o).color[2],2)),(n<t||void 0===t)&&(t=n,i=a.peek(o).color);return i},forcebw:function(){var e=this.vboxes;e.sort(function(e,t){return pv.naturalOrder(pv.sum(e.color),pv.sum(t.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,i=e[n].color;i[0]>251&&i[1]>251&&i[2]>251&&(e[n].color=[255,255,255])}},{quantize:s}}();!function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.EasyPieChart=t()}):"object"==typeof exports?module.exports=t():e.EasyPieChart=t()}(this,function(){var e=function(e,t){var n,i=document.createElement("canvas");e.appendChild(i),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i);var a=i.getContext("2d");i.width=i.height=t.size;var o=1;window.devicePixelRatio>1&&(o=window.devicePixelRatio,i.style.width=i.style.height=[t.size,"px"].join(""),i.width=i.height=t.size*o,a.scale(o,o)),a.translate(t.size/2,t.size/2),a.rotate((-.5+t.rotate/180)*Math.PI);var r=(t.size-t.lineWidth)/2;t.scaleColor&&t.scaleLength&&(r-=t.scaleLength+2),Date.now=Date.now||function(){return+new Date};var s=function(e,t,n){n=Math.min(Math.max(-1,n||0),1);var i=n<=0;a.beginPath(),a.arc(0,0,r,0,2*Math.PI*n,i),a.strokeStyle=e,a.lineWidth=t,a.stroke()},l=function(){var e,n;a.lineWidth=1,a.fillStyle=t.scaleColor,a.save();for(var i=24;i>0;--i)i%6===0?(n=t.scaleLength,e=0):(n=.6*t.scaleLength,e=t.scaleLength-n),a.fillRect(-t.size/2+e,0,n,1),a.rotate(Math.PI/12);a.restore()},c=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),d=function(){t.scaleColor&&l(),t.trackColor&&s(t.trackColor,t.trackWidth||t.lineWidth,1)};this.getCanvas=function(){return i},this.getCtx=function(){return a},this.clear=function(){a.clearRect(t.size/-2,t.size/-2,t.size,t.size)},this.draw=function(e){t.scaleColor||t.trackColor?a.getImageData&&a.putImageData?n?a.putImageData(n,0,0):(d(),n=a.getImageData(0,0,t.size*o,t.size*o)):(this.clear(),d()):this.clear(),a.lineCap=t.lineCap;var i;i="function"==typeof t.barColor?t.barColor(e):t.barColor,s(i,t.lineWidth,e/100)}.bind(this),this.animate=function(e,n){var i=Date.now();t.onStart(e,n);var a=function(){var o=Math.min(Date.now()-i,t.animate.duration),r=t.easing(this,o,e,n-e,t.animate.duration);this.draw(r),t.onStep(e,n,r),o>=t.animate.duration?t.onStop(e,n):c(a)}.bind(this);c(a)}.bind(this)},t=function(t,n){var i={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(e,t,n,i,a){return t/=a/2,t<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},onStart:function(e,t){},onStep:function(e,t,n){},onStop:function(e,t){}};if("undefined"!=typeof e)i.renderer=e;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");i.renderer=SVGRenderer}var a={},o=0,r=function(){this.el=t,this.options=a;for(var e in i)i.hasOwnProperty(e)&&(a[e]=n&&"undefined"!=typeof n[e]?n[e]:i[e],"function"==typeof a[e]&&(a[e]=a[e].bind(this)));"string"==typeof a.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[a.easing])?a.easing=jQuery.easing[a.easing]:a.easing=i.easing,"number"==typeof a.animate&&(a.animate={duration:a.animate,enabled:!0}),"boolean"!=typeof a.animate||a.animate||(a.animate={duration:1e3,enabled:a.animate}),this.renderer=new a.renderer(t,a),this.renderer.draw(o),t.dataset&&t.dataset.percent?this.update(parseFloat(t.dataset.percent)):t.getAttribute&&t.getAttribute("data-percent")&&this.update(parseFloat(t.getAttribute("data-percent")))}.bind(this);this.update=function(e){return e=parseFloat(e),a.animate.enabled?this.renderer.animate(o,e):this.renderer.draw(e),o=e,this}.bind(this),this.disableAnimation=function(){return a.animate.enabled=!1,this},this.enableAnimation=function(){return a.animate.enabled=!0,this},r()};return t}),function(){"use strict";function e(t,i){function a(e,t){return function(){return e.apply(t,arguments)}}var o;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=t,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!e.notNeeded(t)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,c=r.length;l<c;l++)s[r[l]]=a(s[r[l]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var a=Node.prototype.removeEventListener;"click"===e?a.call(t,e,n.hijacked||n,i):a.call(t,e,n,i)},t.addEventListener=function(e,n,i){var a=Node.prototype.addEventListener;"click"===e?a.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):a.call(t,e,n,i)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(e){o(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,a=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=i&&/OS [6-7]_\d/.test(navigator.userAgent),r=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,o;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!a){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,r,s,l,c,d=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,r=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(c=e.changedTouches[0],d=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||d,d.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=d.tagName.toLowerCase(),"label"===s){if(t=this.findControl(d)){if(this.focus(d),n)return!1;d=t}}else if(this.needsFocus(d))return e.timeStamp-r>100||i&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,e),i&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return!(!i||a||(l=d.fastClickScrollParent,!l||l.fastClickLastScrollTop===l.scrollTop))||(this.needsClick(d)||(e.preventDefault(),this.sendClick(d,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),
e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,i,a,o;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(r&&(a=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),a[1]>=10&&a[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(o>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),function(e){function t(e){if(e.rockets.length<o){var t=new a(e);e.rockets.push(t)}}function n(e){t(e),e.canvas_width!=e.element.offsetWidth&&(e.canvas_width=e.canvas.width=e.canvas_buffer.width=e.element.offsetWidth),e.canvas_height!=e.element.offsetHeight&&(e.canvas_height=e.canvas.height=e.canvas_buffer.height=e.element.offsetHeight),e.context_buffer.clearRect(0,0,e.canvas.width,e.canvas.height),e.context_buffer.globalAlpha=.9,e.context_buffer.drawImage(e.canvas,0,0),e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.context.drawImage(e.canvas_buffer,0,0);var n=[];e.rockets.forEach(function(t){t.update(),t.render(e.context);var i=t.pos.y<2*e.canvas.height/3&&100*Math.random()<=1;t.pos.y<e.canvas.height/5||t.vel.y>=0||i?t.explode(e):n.push(t)}),e.rockets=n;var i=[];for(e.particles.forEach(function(t){t.update(),t.exists()&&(t.render(e.context),i.push(t))}),e.particles=i;e.particles.length>r;)e.particles.shift()}function i(e){this.pos={x:e?e.x:0,y:e?e.y:0},this.vel={x:0,y:0},this.shrink=.97,this.size=2,this.resistance=1,this.gravity=0,this.flick=!1,this.alpha=1,this.fade=0,this.color=0}function a(e){i.apply(this,[{x:Math.random()*e.canvas.width*2/3+e.canvas.width/6,y:e.canvas.height}]),this.explosionColor=10*Math.floor(360*Math.random()/10),this.vel.y=Math.random()*-3-4,this.vel.x=6*Math.random()-3,this.size=2,this.shrink=.999,this.gravity=.01}var o=5,r=500,s={init:function(t){var i=e(t);if(void 0!==i.data("fireworks_data"))return void console.log("Looks like this element is already inited!");var a=document.createElement("canvas"),o=document.createElement("canvas"),r={element:t,canvas:a,context:a.getContext("2d"),canvas_buffer:o,context_buffer:o.getContext("2d"),particles:[],rockets:[]};"static"===i.css("position")&&(t.style.position="relative"),t.appendChild(a),a.style.position="absolute",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",r.interval=setInterval(n.bind(this,r),20),i.data("fireworks_data",r)},destroy:function(t){var n=e(t);if(void 0===n.data("fireworks_data"))return void console.log("Looks like this element is not yet inited!");var i=n.data("fireworks_data");n.removeData("fireworks_data"),e(i.canvas).fadeOut(5e3,function(){clearInterval(i.interval),i.canvas.remove()}),i.element.style.position=""}};e.fn.fireworks=function(e){return e||(e="init"),this.each(function(){s[e](this)}),this},i.prototype.update=function(){this.vel.x*=this.resistance,this.vel.y*=this.resistance,this.vel.y+=this.gravity,this.pos.x+=this.vel.x,this.pos.y+=this.vel.y,this.size*=this.shrink,this.alpha-=this.fade},i.prototype.render=function(e){if(this.exists()){e.save(),e.globalCompositeOperation="lighter";var t=this.pos.x,n=this.pos.y,i=this.size/2,a=e.createRadialGradient(t,n,.1,t,n,i);a.addColorStop(.1,"rgba(255,255,255,"+this.alpha+")"),a.addColorStop(.8,"hsla("+this.color+", 100%, 50%, "+this.alpha+")"),a.addColorStop(1,"hsla("+this.color+", 100%, 50%, 0.1)"),e.fillStyle=a,e.beginPath(),e.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size:this.size,0,2*Math.PI,!0),e.closePath(),e.fill(),e.restore()}},i.prototype.exists=function(){return this.alpha>=.1&&this.size>=1},a.prototype=new i,a.prototype.constructor=a,a.prototype.explode=function(e){for(var t=10*Math.random()+80,n=0;n<t;n++){var a=new i(this.pos),o=Math.random()*Math.PI*2,r=15*Math.cos(Math.random()*Math.PI/2);a.vel.x=Math.cos(o)*r,a.vel.y=Math.sin(o)*r,a.size=10,a.gravity=.2,a.resistance=.92,a.shrink=.05*Math.random()+.93,a.flick=!0,a.color=this.explosionColor,e.particles.push(a)}},a.prototype.render=function(e){if(this.exists()){e.save(),e.globalCompositeOperation="lighter";var t=this.pos.x,n=this.pos.y,i=this.size/2,a=e.createRadialGradient(t,n,.1,t,n,i);a.addColorStop(.1,"rgba(255, 255, 255 ,"+this.alpha+")"),a.addColorStop(.2,"rgba(255, 180, 0, "+this.alpha+")"),e.fillStyle=a,e.beginPath(),e.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size/2+this.size/2:this.size,0,2*Math.PI,!0),e.closePath(),e.fill(),e.restore()}}}(jQuery),function(e){e.fn.fitText=function(t,n){var i=t||1,a=e.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},n);return this.each(function(){var t=e(this),n=function(){t.css("font-size",Math.max(Math.min(t.width()/(10*i),parseFloat(a.maxFontSize)),parseFloat(a.minFontSize)))};n(),e(window).on("resize.fittext orientationchange.fittext",n)})}}(jQuery),!function(e){if(e.document){var t=e.document;t.querySelectorAll||(t.querySelectorAll=function(n){var i,a=t.createElement("style"),o=[];for(t.documentElement.firstChild.appendChild(a),t._qsa=[],a.styleSheet.cssText=n+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",e.scrollBy(0,0),a.parentNode.removeChild(a);t._qsa.length;)i=t._qsa.shift(),i.style.removeAttribute("x-qsa"),o.push(i);return t._qsa=null,o}),t.querySelector||(t.querySelector=function(e){var n=t.querySelectorAll(e);return n.length?n[0]:null}),t.getElementsByClassName||(t.getElementsByClassName=function(e){return e=String(e).replace(/^|\s+/g,"."),t.querySelectorAll(e)}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var i,a=arguments[1];for(i=0;n>i;i++)i in t&&e.call(a,t[i],i,t)}),function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.atob=e.atob||function(e){e=String(e);var n,i=0,a=[],o=0,r=0;if(e=e.replace(/\s/g,""),e.length%4===0&&(e=e.replace(/=+$/,"")),e.length%4===1)throw Error("InvalidCharacterError");if(/[^+\/0-9A-Za-z]/.test(e))throw Error("InvalidCharacterError");for(;i<e.length;)n=t.indexOf(e.charAt(i)),o=o<<6|n,r+=6,24===r&&(a.push(String.fromCharCode(o>>16&255)),a.push(String.fromCharCode(o>>8&255)),a.push(String.fromCharCode(255&o)),r=0,o=0),i+=1;return 12===r?(o>>=4,a.push(String.fromCharCode(255&o))):18===r&&(o>>=2,a.push(String.fromCharCode(o>>8&255)),a.push(String.fromCharCode(255&o))),a.join("")},e.btoa=e.btoa||function(e){e=String(e);var n,i,a,o,r,s,l,c=0,d=[];if(/[^\x00-\xFF]/.test(e))throw Error("InvalidCharacterError");for(;c<e.length;)n=e.charCodeAt(c++),i=e.charCodeAt(c++),a=e.charCodeAt(c++),o=n>>2,r=(3&n)<<4|i>>4,s=(15&i)<<2|a>>6,l=63&a,c===e.length+2?(s=64,l=64):c===e.length+1&&(l=64),d.push(t.charAt(o),t.charAt(r),t.charAt(s),t.charAt(l));return d.join("")}}(e),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e){var t=this.__proto__||this.constructor.prototype;return e in this&&(!(e in t)||t[e]!==this[e])}),function(){if("performance"in e==0&&(e.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in e.performance==0){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),e.performance.now=function(){return Date.now()-t}}}(),e.requestAnimationFrame||(e.webkitRequestAnimationFrame&&e.webkitCancelAnimationFrame?!function(e){e.requestAnimationFrame=function(t){return webkitRequestAnimationFrame(function(){t(e.performance.now())})},e.cancelAnimationFrame=e.webkitCancelAnimationFrame}(e):e.mozRequestAnimationFrame&&e.mozCancelAnimationFrame?!function(e){e.requestAnimationFrame=function(t){return mozRequestAnimationFrame(function(){t(e.performance.now())})},e.cancelAnimationFrame=e.mozCancelAnimationFrame}(e):!function(e){e.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)},e.cancelAnimationFrame=e.clearTimeout}(e))}}(this),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Holder=t():e.Holder=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){(function(t){function i(e,t,n,i){var r=a(n.substr(n.lastIndexOf(e.domain)),e);r&&o({mode:null,el:i,flags:r,engineSettings:t})}function a(e,t){var n={theme:C(I.settings.themes.gray,null),stylesheets:t.stylesheets,instanceOptions:t},i=e.indexOf("?"),a=[e];-1!==i&&(a=[e.slice(0,i),e.slice(i+1)]);var o=a[0].split("/");n.holderURL=e;var r=o[1],s=r.match(/([\d]+p?)x([\d]+p?)/);if(!s)return!1;if(n.fluid=-1!==r.indexOf("p"),n.dimensions={width:s[1].replace("p","%"),height:s[2].replace("p","%")},2===a.length){var l=v.parse(a[1]);if(l.bg&&(n.theme.bg=y.parseColor(l.bg)),l.fg&&(n.theme.fg=y.parseColor(l.fg)),l.bg&&!l.fg&&(n.autoFg=!0),l.theme&&n.instanceOptions.themes.hasOwnProperty(l.theme)&&(n.theme=C(n.instanceOptions.themes[l.theme],null)),l.text&&(n.text=l.text),l.textmode&&(n.textmode=l.textmode),l.size&&(n.size=l.size),l.font&&(n.font=l.font),l.align&&(n.align=l.align),l.lineWrap&&(n.lineWrap=l.lineWrap),n.nowrap=y.truthy(l.nowrap),n.auto=y.truthy(l.auto),n.outline=y.truthy(l.outline),y.truthy(l.random)){I.vars.cache.themeKeys=I.vars.cache.themeKeys||Object.keys(n.instanceOptions.themes);var c=I.vars.cache.themeKeys[0|Math.random()*I.vars.cache.themeKeys.length];n.theme=C(n.instanceOptions.themes[c],null)}}return n}function o(e){var t=e.mode,n=e.el,i=e.flags,a=e.engineSettings,o=i.dimensions,s=i.theme,l=o.width+"x"+o.height;t=null==t?i.fluid?"fluid":"image":t;var u=/holder_([a-z]+)/g,p=!1;if(null!=i.text&&(s.text=i.text,"object"===n.nodeName.toLowerCase())){for(var m=s.text.split("\\n"),f=0;f<m.length;f++)m[f]=y.encodeHtmlEntity(m[f]);s.text=m.join("\\n")}if(s.text){var h=s.text.match(u);null!==h&&h.forEach(function(e){"holder_dimensions"===e&&(s.text=s.text.replace(e,l))})}var g=i.holderURL,v=C(a,null);if(i.font&&(s.font=i.font,!v.noFontFallback&&"img"===n.nodeName.toLowerCase()&&I.setup.supportsCanvas&&"svg"===v.renderer&&(v=C(v,{renderer:"canvas"}))),i.font&&"canvas"==v.renderer&&(v.reRender=!0),"background"==t)null==n.getAttribute("data-background-src")&&x.setAttr(n,{"data-background-src":g});else{var b={};b[I.vars.dataAttr]=g,x.setAttr(n,b)}i.theme=s,n.holderData={flags:i,engineSettings:v},("image"==t||"fluid"==t)&&x.setAttr(n,{alt:s.text?p?s.text:s.text+" ["+l+"]":l});var w={mode:t,el:n,holderSettings:{dimensions:o,theme:s,flags:i},engineSettings:v};"image"==t?(i.auto||(n.style.width=o.width+"px",n.style.height=o.height+"px"),"html"==v.renderer?n.style.backgroundColor=s.bg:(r(w),"exact"==i.textmode&&(n.holderData.resizeUpdate=!0,I.vars.resizableImages.push(n),c(n)))):"background"==t&&"html"!=v.renderer?r(w):"fluid"==t&&(n.holderData.resizeUpdate=!0,"%"==o.height.slice(-1)?n.style.height=o.height:null!=i.auto&&i.auto||(n.style.height=o.height+"px"),"%"==o.width.slice(-1)?n.style.width=o.width:null!=i.auto&&i.auto||(n.style.width=o.width+"px"),("inline"==n.style.display||""===n.style.display||"none"==n.style.display)&&(n.style.display="block"),d(n),"html"==v.renderer?n.style.backgroundColor=s.bg:(I.vars.resizableImages.push(n),c(n)))}function r(e){function n(){var t=null;switch(l.renderer){case"canvas":t=S(d,e);break;case"svg":t=k(d,e);break;default:throw"Holder: invalid renderer: "+l.renderer}return t}var i=null,a=e.mode,o=e.el,r=e.holderSettings,l=e.engineSettings;switch(l.renderer){case"svg":if(!I.setup.supportsSVG)return;break;case"canvas":if(!I.setup.supportsCanvas)return;break;default:return}var c={width:r.dimensions.width,height:r.dimensions.height,theme:r.theme,flags:r.flags},d=s(c);if(i=n(),null==i)throw"Holder: couldn't render placeholder";"background"==a?(o.style.backgroundImage="url("+i+")",o.style.backgroundSize=c.width+"px "+c.height+"px"):("img"===o.nodeName.toLowerCase()?x.setAttr(o,{src:i}):"object"===o.nodeName.toLowerCase()&&x.setAttr(o,{data:i,type:"image/svg+xml"}),l.reRender&&t.setTimeout(function(){var e=n();if(null==e)throw"Holder: couldn't render placeholder";"img"===o.nodeName.toLowerCase()?x.setAttr(o,{src:e}):"object"===o.nodeName.toLowerCase()&&x.setAttr(o,{data:e,type:"image/svg+xml"})},150)),x.setAttr(o,{"data-holder-rendered":!0})}function s(e){function t(e,t,n,i){t.width=n,t.height=i,e.width=Math.max(e.width,t.width),e.height+=t.height}var n=I.defaults.size;switch(parseFloat(e.theme.size)?n=e.theme.size:parseFloat(e.flags.size)&&(n=e.flags.size),e.font={family:e.theme.font?e.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:l(e.width,e.height,n,I.defaults.scale),units:e.theme.units?e.theme.units:I.defaults.units,weight:e.theme.fontweight?e.theme.fontweight:"bold"},e.text=e.theme.text||Math.floor(e.width)+"x"+Math.floor(e.height),e.noWrap=e.theme.nowrap||e.flags.nowrap,e.align=e.theme.align||e.flags.align||"center",e.flags.textmode){case"literal":e.text=e.flags.dimensions.width+"x"+e.flags.dimensions.height;break;case"exact":if(!e.flags.exactDimensions)break;e.text=Math.floor(e.flags.exactDimensions.width)+"x"+Math.floor(e.flags.exactDimensions.height)}var i=e.flags.lineWrap||I.setup.lineWrapRatio,a=e.width*i,o=a,r=new b({width:e.width,height:e.height}),s=r.Shape,c=new s.Rect("holderBg",{fill:e.theme.bg});if(c.resize(e.width,e.height),r.root.add(c),e.flags.outline){var d=new _(c.properties.fill);d=d.lighten(d.lighterThan("7f7f7f")?-.1:.1),c.properties.outline={fill:d.toHex(!0),width:2}}var u=e.theme.fg;if(e.flags.autoFg){var p=new _(c.properties.fill),m=new _("fff"),f=new _("000",{alpha:.285714});u=p.blendAlpha(p.lighterThan("7f7f7f")?f:m).toHex(!0)}var h=new s.Group("holderTextGroup",{text:e.text,align:e.align,font:e.font,fill:u});h.moveTo(null,null,1),r.root.add(h);var g=h.textPositionData=M(r);if(!g)throw"Holder: staging fallback not supported yet.";h.properties.leading=g.boundingBox.height;var v=null,y=null;if(g.lineCount>1){var w,x=0,$=0,k=0;y=new s.Group("line"+k),("left"===e.align||"right"===e.align)&&(o=e.width*(1-2*(1-i)));for(var S=0;S<g.words.length;S++){var C=g.words[S];v=new s.Text(C.text);var D="\\n"==C.text;!e.noWrap&&(x+C.width>=o||D===!0)&&(t(h,y,x,h.properties.leading),h.add(y),x=0,$+=h.properties.leading,k+=1,y=new s.Group("line"+k),y.y=$),D!==!0&&(v.moveTo(x,0),x+=g.spaceWidth+C.width,y.add(v))}if(t(h,y,x,h.properties.leading),h.add(y),"left"===e.align)h.moveTo(e.width-a,null,null);else if("right"===e.align){for(w in h.children)y=h.children[w],y.moveTo(e.width-y.width,null,null);h.moveTo(0-(e.width-a),null,null)}else{for(w in h.children)y=h.children[w],y.moveTo((h.width-y.width)/2,null,null);h.moveTo((e.width-h.width)/2,null,null)}h.moveTo(null,(e.height-h.height)/2,null),(e.height-h.height)/2<0&&h.moveTo(null,0,null)}else v=new s.Text(e.text),y=new s.Group("line0"),y.add(v),h.add(y),"left"===e.align?h.moveTo(e.width-a,null,null):"right"===e.align?h.moveTo(0-(e.width-a),null,null):h.moveTo((e.width-g.boundingBox.width)/2,null,null),h.moveTo(null,(e.height-g.boundingBox.height)/2,null);return r}function l(e,t,n,i){var a=parseInt(e,10),o=parseInt(t,10),r=Math.max(a,o),s=Math.min(a,o),l=.8*Math.min(s,r*i);return Math.round(Math.max(n,l))}function c(e){var t;t=null==e||null==e.nodeType?I.vars.resizableImages:[e];for(var n=0,i=t.length;i>n;n++){var a=t[n];if(a.holderData){var o=a.holderData.flags,s=D(a);if(s){if(!a.holderData.resizeUpdate)continue;if(o.fluid&&o.auto){var l=a.holderData.fluidConfig;switch(l.mode){case"width":s.height=s.width/l.ratio;break;case"height":s.width=s.height*l.ratio}}var c={mode:"image",holderSettings:{dimensions:s,theme:o.theme,flags:o},el:a,engineSettings:a.holderData.engineSettings};"exact"==o.textmode&&(o.exactDimensions=s,c.holderSettings.dimensions=o.dimensions),r(c)}else m(a)}}}function d(e){if(e.holderData){var t=D(e);if(t){var n=e.holderData.flags,i={fluidHeight:"%"==n.dimensions.height.slice(-1),fluidWidth:"%"==n.dimensions.width.slice(-1),mode:null,initialDimensions:t};i.fluidWidth&&!i.fluidHeight?(i.mode="width",i.ratio=i.initialDimensions.width/parseFloat(n.dimensions.height)):!i.fluidWidth&&i.fluidHeight&&(i.mode="height",i.ratio=parseFloat(n.dimensions.width)/i.initialDimensions.height),e.holderData.fluidConfig=i}else m(e)}}function u(){var e,n=[],i=Object.keys(I.vars.invisibleImages);i.forEach(function(t){e=I.vars.invisibleImages[t],D(e)&&"img"==e.nodeName.toLowerCase()&&(n.push(e),delete I.vars.invisibleImages[t])}),n.length&&E.run({images:n}),setTimeout(function(){t.requestAnimationFrame(u)},10)}function p(){I.vars.visibilityCheckStarted||(t.requestAnimationFrame(u),I.vars.visibilityCheckStarted=!0)}function m(e){e.holderData.invisibleId||(I.vars.invisibleId+=1,I.vars.invisibleImages["i"+I.vars.invisibleId]=e,e.holderData.invisibleId=I.vars.invisibleId)}function f(e){I.vars.debounceTimer||e.call(this),I.vars.debounceTimer&&t.clearTimeout(I.vars.debounceTimer),I.vars.debounceTimer=t.setTimeout(function(){I.vars.debounceTimer=null,e.call(this)},I.setup.debounce)}function h(){f(function(){c(null)})}var g=n(2),v=n(3),b=n(10),y=n(11),w=n(12),x=n(13),_=n(14),$=n(15),k=n(16),S=n(19),C=y.extend,D=y.dimensionCheck,T=$.svg_ns,E={version:$.version,addTheme:function(e,t){return null!=e&&null!=t&&(I.settings.themes[e]=t),delete I.vars.cache.themeKeys,this},addImage:function(e,t){var n=x.getNodeArray(t);return n.forEach(function(t){var n=x.newEl("img"),i={};i[I.setup.dataAttr]=e,x.setAttr(n,i),t.appendChild(n)}),this},setResizeUpdate:function(e,t){e.holderData&&(e.holderData.resizeUpdate=!!t,e.holderData.resizeUpdate&&c(e))},run:function(e){e=e||{};var n={},r=C(I.settings,e);I.vars.preempted=!0,I.vars.dataAttr=r.dataAttr||I.setup.dataAttr,n.renderer=r.renderer?r.renderer:I.setup.renderer,-1===I.setup.renderers.join(",").indexOf(n.renderer)&&(n.renderer=I.setup.supportsSVG?"svg":I.setup.supportsCanvas?"canvas":"html");var s=x.getNodeArray(r.images),l=x.getNodeArray(r.bgnodes),c=x.getNodeArray(r.stylenodes),d=x.getNodeArray(r.objects);return n.stylesheets=[],n.svgXMLStylesheet=!0,n.noFontFallback=!!r.noFontFallback&&r.noFontFallback,c.forEach(function(e){if(e.attributes.rel&&e.attributes.href&&"stylesheet"==e.attributes.rel.value){var t=e.attributes.href.value,i=x.newEl("a");i.href=t;var a=i.protocol+"//"+i.host+i.pathname+i.search;n.stylesheets.push(a)}}),l.forEach(function(e){if(t.getComputedStyle){var i=t.getComputedStyle(e,null).getPropertyValue("background-image"),s=e.getAttribute("data-background-src"),l=s||i,c=null,d=r.domain+"/",u=l.indexOf(d);if(0===u)c=l;else if(1===u&&"?"===l[0])c=l.slice(1);else{var p=l.substr(u).match(/([^\"]*)"?\)/);if(null!==p)c=p[1];else if(0===l.indexOf("url("))throw"Holder: unable to parse background URL: "+l}if(null!=c){var m=a(c,r);m&&o({mode:"background",el:e,flags:m,engineSettings:n})}}}),d.forEach(function(e){var t={};try{t.data=e.getAttribute("data"),t.dataSrc=e.getAttribute(I.vars.dataAttr)}catch(e){}var a=null!=t.data&&0===t.data.indexOf(r.domain),o=null!=t.dataSrc&&0===t.dataSrc.indexOf(r.domain);a?i(r,n,t.data,e):o&&i(r,n,t.dataSrc,e)}),s.forEach(function(e){var t={};try{t.src=e.getAttribute("src"),t.dataSrc=e.getAttribute(I.vars.dataAttr),t.rendered=e.getAttribute("data-holder-rendered")}catch(e){}var a=null!=t.src,o=null!=t.dataSrc&&0===t.dataSrc.indexOf(r.domain),s=null!=t.rendered&&"true"==t.rendered;a?0===t.src.indexOf(r.domain)?i(r,n,t.src,e):o&&(s?i(r,n,t.dataSrc,e):!function(e,t,n,a,o){y.imageExists(e,function(e){e||i(t,n,a,o)})}(t.src,r,n,t.dataSrc,e)):o&&i(r,n,t.dataSrc,e)}),this}},I={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{bg:"#EEEEEE",fg:"#AAAAAA"},social:{bg:"#3a5a97",fg:"#FFFFFF"},industrial:{bg:"#434A52",fg:"#C2F200"},sky:{bg:"#0D8FDB",fg:"#FFFFFF"},vine:{bg:"#39DBAC",fg:"#1E292C"},lava:{bg:"#F8591A",fg:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},M=function(){var e=null,t=null,n=null;return function(i){var a=i.root;if(I.setup.supportsSVG){var o=!1,r=function(e){return document.createTextNode(e)};(null==e||e.parentNode!==document.body)&&(o=!0),e=w.initSVG(e,a.properties.width,a.properties.height),e.style.display="block",o&&(t=x.newEl("text",T),n=r(null),x.setAttr(t,{x:0}),t.appendChild(n),e.appendChild(t),document.body.appendChild(e),e.style.visibility="hidden",e.style.position="absolute",e.style.top="-100%",e.style.left="-100%");var s=a.children.holderTextGroup,l=s.properties;x.setAttr(t,{y:l.font.size,style:y.cssProps({"font-weight":l.font.weight,"font-size":l.font.size+l.font.units,"font-family":l.font.family})}),n.nodeValue=l.text;var c=t.getBBox(),d=Math.ceil(c.width/a.properties.width),u=l.text.split(" "),p=l.text.match(/\\n/g);d+=null==p?0:p.length,n.nodeValue=l.text.replace(/[ ]+/g,"");var m=t.getComputedTextLength(),f=c.width-m,h=Math.round(f/Math.max(1,u.length-1)),g=[];if(d>1){n.nodeValue="";for(var v=0;v<u.length;v++)if(0!==u[v].length){n.nodeValue=y.decodeHtmlEntity(u[v]);var b=t.getBBox();g.push({text:u[v],width:b.width})}}return e.style.display="none",{spaceWidth:h,lineCount:d,boundingBox:c,words:g}}return!1}}();for(var A in I.flags)I.flags.hasOwnProperty(A)&&(I.flags[A].match=function(e){return e.match(this.regex)});I.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},I.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var e=x.newEl("canvas");e.getContext&&-1!=e.toDataURL("image/png").indexOf("data:image/png")&&(I.setup.renderer="canvas",I.setup.supportsCanvas=!0),document.createElementNS&&document.createElementNS(T,"svg").createSVGRect&&(I.setup.renderer="svg",I.setup.supportsSVG=!0)}(),p(),g&&g(function(){I.vars.preempted||E.run(),t.addEventListener?(t.addEventListener("resize",h,!1),t.addEventListener("orientationchange",h,!1)):t.attachEvent("onresize",h),"object"==typeof t.Turbolinks&&t.document.addEventListener("page:change",function(){E.run()})}),e.exports=E}).call(t,function(){return this}())},function(e,t){function n(e){function t(e){if(!x){if(!r.body)return a(t);for(x=!0;e=_.shift();)a(e)}}function n(e){(y||e.type===l||r[p]===u)&&(i(),t())}function i(){y?(r[b](g,n,c),e[b](l,n,c)):(r[f](v,n),e[f](d,n))}function a(e,t){setTimeout(e,+t>=0?t:1)}function o(e){x?a(e):_.push(e)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,!1),document.readyState="complete"},!1),document.readyState="loading");var r=e.document,s=r.documentElement,l="load",c=!1,d="on"+l,u="complete",p="readyState",m="attachEvent",f="detachEvent",h="addEventListener",g="DOMContentLoaded",v="onreadystatechange",b="removeEventListener",y=h in r,w=c,x=c,_=[];if(r[p]===u)a(t);else if(y)r[h](g,n,c),e[h](l,n,c);else{r[m](v,n),e[m](d,n);try{w=null==e.frameElement&&s}catch(e){}w&&w.doScroll&&!function e(){if(!x){try{w.doScroll("left")}catch(t){return a(e,50)}i(),t()}}()}return o.version="1.4.0",o.isReady=function(){return x},o}e.exports="undefined"!=typeof window&&n(window)},function(e,t,n){var i=encodeURIComponent,a=decodeURIComponent,o=n(4),r=n(5),s=/(\w+)\[(\d+)\]/,l=/\w+\.\w+/;t.parse=function(e){if("string"!=typeof e)return{};if(e=o(e),""===e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t={},n=e.split("&"),i=0;i<n.length;i++){var r,c,d,u=n[i].split("="),p=a(u[0]);if(r=s.exec(p))t[r[1]]=t[r[1]]||[],t[r[1]][r[2]]=a(u[1]);else if(r=l.test(p)){for(r=p.split("."),c=t;r.length;)if(d=r.shift(),d.length){if(c[d]){if(c[d]&&"object"!=typeof c[d])break}else c[d]={};r.length||(c[d]=a(u[1])),c=c[d]}}else t[u[0]]=null==u[1]?"":a(u[1])}return t},t.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var a=e[n];if("array"!=r(a))t.push(i(n)+"="+i(e[n]));else for(var o=0;o<a.length;++o)t.push(i(n+"["+o+"]")+"="+i(a[o]))}return t.join("&")}},function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=n,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,n){(function(t){var n=Object.prototype.toString;e.exports=function(e){switch(n.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":"undefined"!=typeof t&&t.isBuffer(e)?"buffer":(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),typeof e)}}).call(t,n(6).Buffer)},function(e,t,n){(function(e,i){function a(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function o(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(this.length=0,this.parent=void 0,"number"==typeof t?r(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):l(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function r(t,n){if(t=h(t,0>n?0:0|g(n)),!e.TYPED_ARRAY_SUPPORT)for(var i=0;n>i;i++)t[i]=0;return t}function s(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var i=0|b(t,n);return e=h(e,i),e.write(t,n),e}function l(t,n){if(e.isBuffer(n))return c(t,n);if(X(n))return d(t,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return u(t,n);if(n instanceof ArrayBuffer)return p(t,n)}return n.length?m(t,n):f(t,n)}function c(e,t){var n=0|g(t.length);return e=h(e,n),t.copy(e,0,0,n),e}function d(e,t){var n=0|g(t.length);e=h(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function u(e,t){var n=0|g(t.length);e=h(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function p(t,n){return e.TYPED_ARRAY_SUPPORT?(n.byteLength,t=e._augment(new Uint8Array(n))):t=u(t,new Uint8Array(n)),t}function m(e,t){var n=0|g(t.length);e=h(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function f(e,t){var n,i=0;"Buffer"===t.type&&X(t.data)&&(n=t.data,i=0|g(n.length)),e=h(e,i);for(var a=0;i>a;a+=1)e[a]=255&n[a];return e}function h(t,n){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(n)),t.__proto__=e.prototype):(t.length=n,t._isBuffer=!0);var i=0!==n&&n<=e.poolSize>>>1;return i&&(t.parent=J),t}function g(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function v(t,n){if(!(this instanceof v))return new v(t,n);var i=new e(t,n);return delete i.parent,i}function b(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(i)return H(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){var i=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return D(this,t,n);case"ascii":return E(this,t,n);case"binary":return I(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function w(e,t,n,i){n=Number(n)||0;var a=e.length-n;i?(i=Number(i),i>a&&(i=a)):i=a;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var r=0;i>r;r++){var s=parseInt(t.substr(2*r,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+r]=s}return r}function x(e,t,n,i){return Y(H(t,e.length-n),e,n,i)}function _(e,t,n,i){return Y(W(t),e,n,i)}function $(e,t,n,i){return _(e,t,n,i)}function k(e,t,n,i){return Y(V(t),e,n,i)}function S(e,t,n,i){return Y(q(t,e.length-n),e,n,i)}function C(e,t,n){return 0===t&&n===e.length?G.fromByteArray(e):G.fromByteArray(e.slice(t,n))}function D(e,t,n){n=Math.min(e.length,n);for(var i=[],a=t;n>a;){var o=e[a],r=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=a+s){var l,c,d,u;switch(s){case 1:128>o&&(r=o);break;case 2:l=e[a+1],128===(192&l)&&(u=(31&o)<<6|63&l,u>127&&(r=u));break;case 3:l=e[a+1],c=e[a+2],128===(192&l)&&128===(192&c)&&(u=(15&o)<<12|(63&l)<<6|63&c,u>2047&&(55296>u||u>57343)&&(r=u));break;case 4:l=e[a+1],c=e[a+2],d=e[a+3],128===(192&l)&&128===(192&c)&&128===(192&d)&&(u=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&d,u>65535&&1114112>u&&(r=u))}}null===r?(r=65533,s=1):r>65535&&(r-=65536,i.push(r>>>10&1023|55296),r=56320|1023&r),i.push(r),a+=s}return T(i)}function T(e){var t=e.length;if(Q>=t)return String.fromCharCode.apply(String,e);for(var n="",i=0;t>i;)n+=String.fromCharCode.apply(String,e.slice(i,i+=Q));return n}function E(e,t,n){var i="";n=Math.min(e.length,n);for(var a=t;n>a;a++)i+=String.fromCharCode(127&e[a]);return i}function I(e,t,n){var i="";n=Math.min(e.length,n);for(var a=t;n>a;a++)i+=String.fromCharCode(e[a]);return i}function M(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var a="",o=t;n>o;o++)a+=U(e[o]);return a}function A(e,t,n){for(var i=e.slice(t,n),a="",o=0;o<i.length;o+=2)a+=String.fromCharCode(i[o]+256*i[o+1]);return a}function O(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,n,i,a,o,r){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>o||r>n)throw new RangeError("value is out of bounds");if(i+a>t.length)throw new RangeError("index out of range")}function F(e,t,n,i){0>t&&(t=65535+t+1);for(var a=0,o=Math.min(e.length-n,2);o>a;a++)e[n+a]=(t&255<<8*(i?a:1-a))>>>8*(i?a:1-a)}function N(e,t,n,i){0>t&&(t=4294967295+t+1);for(var a=0,o=Math.min(e.length-n,4);o>a;a++)e[n+a]=t>>>8*(i?a:3-a)&255}function R(e,t,n,i,a,o){if(t>a||o>t)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function L(e,t,n,i,a){return a||R(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,i,23,4),n+4}function B(e,t,n,i,a){return a||R(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,i,52,8),n+8}function j(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function U(e){return 16>e?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var n,i=e.length,a=null,o=[],r=0;i>r;r++){if(n=e.charCodeAt(r),n>55295&&57344>n){if(!a){if(n>56319){(t-=3)>-1&&o.push(239,191,189);
continue}if(r+1===i){(t-=3)>-1&&o.push(239,191,189);continue}a=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),a=n;continue}n=a-55296<<10|n-56320|65536}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function q(e,t){for(var n,i,a,o=[],r=0;r<e.length&&!((t-=2)<0);r++)n=e.charCodeAt(r),i=n>>8,a=n%256,o.push(a),o.push(i);return o}function V(e){return G.toByteArray(j(e))}function Y(e,t,n,i){for(var a=0;i>a&&!(a+n>=t.length||a>=e.length);a++)t[a+n]=e[a];return a}var G=n(7),K=n(8),X=n(9);t.Buffer=e,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var J={};e.TYPED_ARRAY_SUPPORT=void 0!==i.TYPED_ARRAY_SUPPORT?i.TYPED_ARRAY_SUPPORT:a(),e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var i=t.length,a=n.length,o=0,r=Math.min(i,a);r>o&&t[o]===n[o];)++o;return o!==r&&(i=t[o],a=n[o]),a>i?-1:i>a?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!X(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;i++)n+=t[i].length;var a=new e(n),o=0;for(i=0;i<t.length;i++){var r=t[i];r.copy(a,o),o+=r.length}return a},e.byteLength=b,e.prototype.length=void 0,e.prototype.parent=void 0,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):y.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function i(e,t,n){for(var i=-1,a=0;n+a<e.length;a++)if(e[n+a]===t[-1===i?0:a-i]){if(-1===i&&(i=a),a-i+1===t.length)return n+i}else i=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return i(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):i(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var a=i;i=t,t=0|n,n=a}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return _(this,e,t,n);case"binary":return $(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;e.prototype.slice=function(t,n){var i=this.length;t=~~t,n=void 0===n?i:~~n,0>t?(t+=i,0>t&&(t=0)):t>i&&(t=i),0>n?(n+=i,0>n&&(n=0)):n>i&&(n=i),t>n&&(n=t);var a;if(e.TYPED_ARRAY_SUPPORT)a=e._augment(this.subarray(t,n));else{var o=n-t;a=new e(o,(void 0));for(var r=0;o>r;r++)a[r]=this[r+t]}return a.length&&(a.parent=this.parent||this),a},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var i=this[e],a=1,o=0;++o<t&&(a*=256);)i+=this[e+o]*a;return i},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var i=this[e+--t],a=1;t>0&&(a*=256);)i+=this[e+--t]*a;return i},e.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var i=this[e],a=1,o=0;++o<t&&(a*=256);)i+=this[e+o]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*t)),i},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||O(e,t,this.length);for(var i=t,a=1,o=this[e+--i];i>0&&(a*=256);)o+=this[e+--i]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),K.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),K.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),K.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),K.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||P(this,e,t,n,Math.pow(2,8*n),0);var a=1,o=0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||P(this,e,t,n,Math.pow(2,8*n),0);var a=n-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+n},e.prototype.writeUInt8=function(t,n,i){return t=+t,n=0|n,i||P(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,i){return t=+t,n=0|n,i||P(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):F(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,i){return t=+t,n=0|n,i||P(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):F(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,i){return t=+t,n=0|n,i||P(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):N(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,i){return t=+t,n=0|n,i||P(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):N(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=0|t,!i){var a=Math.pow(2,8*n-1);P(this,e,t,n,a-1,-a)}var o=0,r=1,s=0>e?1:0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=(e/r>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=0|t,!i){var a=Math.pow(2,8*n-1);P(this,e,t,n,a-1,-a)}var o=n-1,r=1,s=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=(e/r>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,i){return t=+t,n=0|n,i||P(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,i){return t=+t,n=0|n,i||P(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):F(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,i){return t=+t,n=0|n,i||P(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):F(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,i){return t=+t,n=0|n,i||P(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):N(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,i){return t=+t,n=0|n,i||P(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):N(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},e.prototype.copy=function(t,n,i,a){if(i||(i=0),a||0===a||(a=this.length),n>=t.length&&(n=t.length),n||(n=0),a>0&&i>a&&(a=i),a===i)return 0;if(0===t.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>a)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-n<a-i&&(a=t.length-n+i);var o,r=a-i;if(this===t&&n>i&&a>n)for(o=r-1;o>=0;o--)t[o+n]=this[o+i];else if(1e3>r||!e.TYPED_ARRAY_SUPPORT)for(o=0;r>o;o++)t[o+n]=this[o+i];else t._set(this.subarray(i,i+r),n);return r},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof e)for(i=t;n>i;i++)this[i]=e;else{var a=H(e.toString()),o=a.length;for(i=t;n>i;i++)this[i]=a[i%o]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,i=t.length;i>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=Z.get,t.set=Z.set,t.write=Z.write,t.toString=Z.toString,t.toLocaleString=Z.toString,t.toJSON=Z.toJSON,t.equals=Z.equals,t.compare=Z.compare,t.indexOf=Z.indexOf,t.copy=Z.copy,t.slice=Z.slice,t.readUIntLE=Z.readUIntLE,t.readUIntBE=Z.readUIntBE,t.readUInt8=Z.readUInt8,t.readUInt16LE=Z.readUInt16LE,t.readUInt16BE=Z.readUInt16BE,t.readUInt32LE=Z.readUInt32LE,t.readUInt32BE=Z.readUInt32BE,t.readIntLE=Z.readIntLE,t.readIntBE=Z.readIntBE,t.readInt8=Z.readInt8,t.readInt16LE=Z.readInt16LE,t.readInt16BE=Z.readInt16BE,t.readInt32LE=Z.readInt32LE,t.readInt32BE=Z.readInt32BE,t.readFloatLE=Z.readFloatLE,t.readFloatBE=Z.readFloatBE,t.readDoubleLE=Z.readDoubleLE,t.readDoubleBE=Z.readDoubleBE,t.writeUInt8=Z.writeUInt8,t.writeUIntLE=Z.writeUIntLE,t.writeUIntBE=Z.writeUIntBE,t.writeUInt16LE=Z.writeUInt16LE,t.writeUInt16BE=Z.writeUInt16BE,t.writeUInt32LE=Z.writeUInt32LE,t.writeUInt32BE=Z.writeUInt32BE,t.writeIntLE=Z.writeIntLE,t.writeIntBE=Z.writeIntBE,t.writeInt8=Z.writeInt8,t.writeInt16LE=Z.writeInt16LE,t.writeInt16BE=Z.writeInt16BE,t.writeInt32LE=Z.writeInt32LE,t.writeInt32BE=Z.writeInt32BE,t.writeFloatLE=Z.writeFloatLE,t.writeFloatBE=Z.writeFloatBE,t.writeDoubleLE=Z.writeDoubleLE,t.writeDoubleBE=Z.writeDoubleBE,t.fill=Z.fill,t.inspect=Z.inspect,t.toArrayBuffer=Z.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(6).Buffer,function(){return this}())},function(e,t,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===r||t===u?62:t===s||t===p?63:l>t?-1:l+10>t?t-l+26+26:d+26>t?t-d:c+26>t?t-c+26:void 0}function n(e){function n(e){c[u++]=e}var i,a,r,s,l,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=e.length;l="="===e.charAt(d-2)?2:"="===e.charAt(d-1)?1:0,c=new o(3*e.length/4-l),r=l>0?e.length-4:e.length;var u=0;for(i=0,a=0;r>i;i+=4,a+=3)s=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===l?(s=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4,n(255&s)):1===l&&(s=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2,n(s>>8&255),n(255&s)),c}function a(e){function t(e){return i.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var a,o,r,s=e.length%3,l="";for(a=0,r=e.length-s;r>a;a+=3)o=(e[a]<<16)+(e[a+1]<<8)+e[a+2],l+=n(o);switch(s){case 1:o=e[e.length-1],l+=t(o>>2),l+=t(o<<4&63),l+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],l+=t(o>>10),l+=t(o>>4&63),l+=t(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="+".charCodeAt(0),s="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),d="A".charCodeAt(0),u="-".charCodeAt(0),p="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=a}(t)},function(e,t){t.read=function(e,t,n,i,a){var o,r,s=8*a-i-1,l=(1<<s)-1,c=l>>1,d=-7,u=n?a-1:0,p=n?-1:1,m=e[t+u];for(u+=p,o=m&(1<<-d)-1,m>>=-d,d+=s;d>0;o=256*o+e[t+u],u+=p,d-=8);for(r=o&(1<<-d)-1,o>>=-d,d+=i;d>0;r=256*r+e[t+u],u+=p,d-=8);if(0===o)o=1-c;else{if(o===l)return r?NaN:(m?-1:1)*(1/0);r+=Math.pow(2,i),o-=c}return(m?-1:1)*r*Math.pow(2,o-i)},t.write=function(e,t,n,i,a,o){var r,s,l,c=8*o-a-1,d=(1<<c)-1,u=d>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,m=i?0:o-1,f=i?1:-1,h=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,r=d):(r=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-r))<1&&(r--,l*=2),t+=r+u>=1?p/l:p*Math.pow(2,1-u),t*l>=2&&(r++,l/=2),r+u>=d?(s=0,r=d):r+u>=1?(s=(t*l-1)*Math.pow(2,a),r+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,a),r=0));a>=8;e[n+m]=255&s,m+=f,s/=256,a-=8);for(r=r<<a|s,c+=a;c>0;e[n+m]=255&r,m+=f,r/=256,c-=8);e[n+m-f]|=128*h}},function(e,t){var n=Array.isArray,i=Object.prototype.toString;e.exports=n||function(e){return!!e&&"[object Array]"==i.call(e)}},function(e,t){var n=function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}var n=1,i=function(e){n++,this.parent=null,this.children={},this.id=n,this.name="n"+n,"undefined"!=typeof e&&(this.name=e),this.x=this.y=this.z=0,this.width=this.height=0};i.prototype.resize=function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t)},i.prototype.moveTo=function(e,t,n){this.x=null!=e?e:this.x,this.y=null!=t?t:this.y,this.z=null!=n?n:this.z},i.prototype.add=function(e){var t=e.name;if("undefined"!=typeof this.children[t])throw"SceneGraph: child already exists: "+t;this.children[t]=e,e.parent=this};var a=function(){i.call(this,"root"),this.properties=e};a.prototype=new i;var o=function(e,n){if(i.call(this,e),this.properties={fill:"#000000"},"undefined"!=typeof n)t(this.properties,n);else if("undefined"!=typeof e&&"string"!=typeof e)throw"SceneGraph: invalid node name"};o.prototype=new i;var r=function(){o.apply(this,arguments),this.type="group"};r.prototype=new o;var s=function(){o.apply(this,arguments),this.type="rect"};s.prototype=new o;var l=function(e){o.call(this),this.type="text",this.properties.text=e};l.prototype=new o;var c=new a;return this.Shape={Rect:s,Text:l,Group:r},this.root=c,this};e.exports=n},function(e,t){(function(e){t.extend=function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);if(null!=t)for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a]);return n},t.cssProps=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+":"+e[n]);return t.join(";")},t.encodeHtmlEntity=function(e){for(var t=[],n=0,i=e.length-1;i>=0;i--)n=e.charCodeAt(i),n>128?t.unshift(["&#",n,";"].join("")):t.unshift(e[i]);return t.join("")},t.imageExists=function(e,t){var n=new Image;n.onerror=function(){t.call(this,!1)},n.onload=function(){t.call(this,!0)},n.src=e},t.decodeHtmlEntity=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},t.dimensionCheck=function(e){var t={height:e.clientHeight,width:e.clientWidth};return!(!t.height||!t.width)&&t},t.truthy=function(e){return"string"==typeof e?"true"===e||"yes"===e||"1"===e||"on"===e||"✓"===e:!!e},t.parseColor=function(e){var t,n=/(^(?:#?)[0-9a-f]{6}$)|(^(?:#?)[0-9a-f]{3}$)/i,i=/^rgb\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,a=/^rgba\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0\.\d{1,}|1)\)$/,o=e.match(n);return null!==o?(t=o[1]||o[2],"#"!==t[0]?"#"+t:t):(o=e.match(i),null!==o?t="rgb("+o.slice(1).join(",")+")":(o=e.match(a),null!==o?t="rgba("+o.slice(1).join(",")+")":null))},t.canvasRatio=function(){var t=1,n=1;if(e.document){var i=e.document.createElement("canvas");if(i.getContext){var a=i.getContext("2d");t=e.devicePixelRatio||1,n=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1}}return t/n}}).call(t,function(){return this}())},function(e,t,n){(function(e){var i=n(13),a="http://www.w3.org/2000/svg",o=8;t.initSVG=function(e,t,n){var r,s,l=!1;e&&e.querySelector?(s=e.querySelector("style"),null===s&&(l=!0)):(e=i.newEl("svg",a),l=!0),l&&(r=i.newEl("defs",a),s=i.newEl("style",a),i.setAttr(s,{type:"text/css"}),r.appendChild(s),e.appendChild(r)),e.webkitMatchesSelector&&e.setAttribute("xmlns",a);for(var c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===o&&e.removeChild(e.childNodes[c]);for(;s.childNodes.length;)s.removeChild(s.childNodes[0]);return i.setAttr(e,{width:t,height:n,viewBox:"0 0 "+t+" "+n,preserveAspectRatio:"none"}),e},t.svgStringToDataURI=function(){var t="data:image/svg+xml;charset=UTF-8,",n="data:image/svg+xml;charset=UTF-8;base64,";return function(i,a){return a?n+btoa(e.unescape(encodeURIComponent(i))):t+encodeURIComponent(i)}}(),t.serializeSVG=function(t,n){if(e.XMLSerializer){var a=new XMLSerializer,o="",r=n.stylesheets;if(n.svgXMLStylesheet){for(var s=i.createXML(),l=r.length-1;l>=0;l--){var c=s.createProcessingInstruction("xml-stylesheet",'href="'+r[l]+'" rel="stylesheet"');s.insertBefore(c,s.firstChild)}s.removeChild(s.documentElement),o=a.serializeToString(s)}var d=a.serializeToString(t);return d=d.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),o+d}}}).call(t,function(){return this}())},function(e,t){(function(e){t.newEl=function(t,n){return e.document?null==n?e.document.createElement(t):e.document.createElementNS(n,t):void 0},t.setAttr=function(e,t){for(var n in t)e.setAttribute(n,t[n])},t.createXML=function(){return e.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},t.getNodeArray=function(t){var n=null;return"string"==typeof t?n=document.querySelectorAll(t):e.NodeList&&t instanceof e.NodeList?n=t:e.Node&&t instanceof e.Node?n=[t]:e.HTMLCollection&&t instanceof e.HTMLCollection?n=t:t instanceof Array?n=t:null===t&&(n=[]),n=Array.prototype.slice.call(n)}}).call(t,function(){return this}())},function(e,t){var n=function(e,t){"string"==typeof e&&(this.original=e,"#"===e.charAt(0)&&(e=e.slice(1)),/[^a-f0-9]+/i.test(e)||(3===e.length&&(e=e.replace(/./g,"$&$&")),6===e.length&&(this.alpha=1,t&&t.alpha&&(this.alpha=t.alpha),this.set(parseInt(e,16)))))};n.rgb2hex=function(e,t,n){function i(e){var t=(0|e).toString(16);return 16>e&&(t="0"+t),t}return[e,t,n].map(i).join("")},n.hsl2rgb=function(e,t,n){var i=e/60,a=(1-Math.abs(2*n-1))*t,o=a*(1-Math.abs(parseInt(i)%2-1)),r=n-a/2,s=0,l=0,c=0;return i>=0&&1>i?(s=a,l=o):i>=1&&2>i?(s=o,l=a):i>=2&&3>i?(l=a,c=o):i>=3&&4>i?(l=o,c=a):i>=4&&5>i?(s=o,c=a):i>=5&&6>i&&(s=a,c=o),s+=r,l+=r,c+=r,s=parseInt(255*s),l=parseInt(255*l),c=parseInt(255*c),[s,l,c]},n.prototype.set=function(e){this.raw=e;var t=(16711680&this.raw)>>16,n=(65280&this.raw)>>8,i=255&this.raw,a=.2126*t+.7152*n+.0722*i,o=-.09991*t-.33609*n+.436*i,r=.615*t-.55861*n-.05639*i;return this.rgb={r:t,g:n,b:i},this.yuv={y:a,u:o,v:r},this},n.prototype.lighten=function(e){var t=Math.min(1,Math.max(0,Math.abs(e)))*(0>e?-1:1),i=255*t|0,a=Math.min(255,Math.max(0,this.rgb.r+i)),o=Math.min(255,Math.max(0,this.rgb.g+i)),r=Math.min(255,Math.max(0,this.rgb.b+i)),s=n.rgb2hex(a,o,r);return new n(s)},n.prototype.toHex=function(e){return(e?"#":"")+this.raw.toString(16)},n.prototype.lighterThan=function(e){return e instanceof n||(e=new n(e)),this.yuv.y>e.yuv.y},n.prototype.blendAlpha=function(e){e instanceof n||(e=new n(e));var t=e,i=this,a=t.alpha*t.rgb.r+(1-t.alpha)*i.rgb.r,o=t.alpha*t.rgb.g+(1-t.alpha)*i.rgb.g,r=t.alpha*t.rgb.b+(1-t.alpha)*i.rgb.b;return new n(n.rgb2hex(a,o,r))},e.exports=n},function(e,t){e.exports={version:"2.9.2",svg_ns:"http://www.w3.org/2000/svg"}},function(e,t,n){function i(e,t){return u.element({tag:t,width:e.width,height:e.height,fill:e.properties.fill})}function a(e){return c.cssProps({fill:e.fill,"font-weight":e.font.weight,"font-family":e.font.family+", monospace","font-size":e.font.size+e.font.units})}function o(e,t,n){var i=n/2;return["M",i,i,"H",e-i,"V",t-i,"H",i,"V",0,"M",0,i,"L",e,t-i,"M",0,t-i,"L",e,i].join(" ")}var r=n(17),s=n(12),l=n(15),c=n(11),d=l.svg_ns,u={element:function(e){var t=e.tag,n=e.content||"";return delete e.tag,delete e.content,[t,n,e]}};e.exports=function(e,t){var n=t.engineSettings,l=n.stylesheets,c=l.map(function(e){return'<?xml-stylesheet rel="stylesheet" href="'+e+'"?>'}).join("\n"),p="holder_"+Number(new Date).toString(16),m=e.root,f=m.children.holderTextGroup,h="#"+p+" text { "+a(f.properties)+" } ";f.y+=.8*f.textPositionData.boundingBox.height;var g=[];Object.keys(f.children).forEach(function(e){var t=f.children[e];Object.keys(t.children).forEach(function(e){var n=t.children[e],i=f.x+t.x+n.x,a=f.y+t.y+n.y,o=u.element({tag:"text",content:n.properties.text,x:i,y:a});g.push(o)})});var v=u.element({tag:"g",content:g}),b=null;if(m.children.holderBg.properties.outline){var y=m.children.holderBg.properties.outline;b=u.element({tag:"path",d:o(m.children.holderBg.width,m.children.holderBg.height,y.width),"stroke-width":y.width,stroke:y.fill,fill:"none"})}var w=i(m.children.holderBg,"rect"),x=[];x.push(w),y&&x.push(b),x.push(v);var _=u.element({tag:"g",id:p,content:x}),$=u.element({tag:"style",content:h,type:"text/css"}),k=u.element({tag:"defs",content:$}),S=u.element({tag:"svg",content:[k,_],width:m.properties.width,height:m.properties.height,xmlns:d,viewBox:[0,0,m.properties.width,m.properties.height].join(" "),preserveAspectRatio:"none"}),C=r(S);C=c+C[0];var D=s.svgStringToDataURI(C,"background"===t.mode);return D}},function(e,t,n){n(18),e.exports=function e(t,n,i){"use strict";function a(e){var t=e.match(/^[\w-]+/),n={tag:t?t[0]:"div",attr:{},children:[]},a=e.match(/#([\w-]+)/),o=e.match(/\$([\w-]+)/),r=e.match(/\.[\w-]+/g);return a&&(n.attr.id=a[1],i[a[1]]=n),o&&(i[o[1]]=n),r&&(n.attr.class=r.join(" ").replace(/\./g,"")),e.match(/&$/g)&&(m=!1),n}function o(e,t){return null!==t&&t!==!1&&void 0!==t?"string"!=typeof t&&"object"!=typeof t?String(t):t:void 0}function r(e){return e||0===e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;"):""}function s(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var l,c,d,u,p=1,m=!0;if(i=i||{},"string"==typeof t[0])t[0]=a(t[0]);else{if(!Array.isArray(t[0]))throw new Error("First element of array must be a string, or an array and not "+JSON.stringify(t[0]));p=0}for(;p<t.length;p++){if(t[p]===!1||null===t[p]){t[0]=!1;break}if(void 0!==t[p]&&t[p]!==!0)if("string"==typeof t[p])m&&(t[p]=s(t[p])),t[0].children.push(t[p]);else if("number"==typeof t[p])t[0].children.push(t[p]);else if(Array.isArray(t[p])){if(Array.isArray(t[p][0])){if(t[p].reverse().forEach(function(e){t.splice(p+1,0,e)}),0!==p)continue;p++}e(t[p],n,i),t[p][0]&&t[0].children.push(t[p][0])}else if("function"==typeof t[p])d=t[p];else{if("object"!=typeof t[p])throw new TypeError('"'+t[p]+'" is not allowed as a value.');for(c in t[p])t[p].hasOwnProperty(c)&&null!==t[p][c]&&t[p][c]!==!1&&("style"===c&&"object"==typeof t[p][c]?t[0].attr[c]=JSON.stringify(t[p][c],o).slice(2,-2).replace(/","/g,";").replace(/":"/g,":").replace(/\\"/g,"'"):t[0].attr[c]=t[p][c])}}if(t[0]!==!1){l="<"+t[0].tag;for(u in t[0].attr)t[0].attr.hasOwnProperty(u)&&(l+=" "+u+'="'+r(t[0].attr[u])+'"');l+=">",t[0].children.forEach(function(e){l+=e}),l+="</"+t[0].tag+">",t[0]=l}return i[0]=t[0],d&&d(t[0]),i}},function(e,t){"use strict";function n(e){var t=""+e,n=i.exec(t);if(!n)return t;var a,o="",r=0,s=0;for(r=n.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 39:a="&#39;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}s!==r&&(o+=t.substring(s,r)),s=r+1,o+=a}return s!==r?o+t.substring(s,r):o}var i=/["'&<>]/;e.exports=n},function(e,t,n){var i=n(13),a=n(11);e.exports=function(){var e=i.newEl("canvas"),t=null;return function(n){null==t&&(t=e.getContext("2d"));var i=a.canvasRatio(),o=n.root;e.width=i*o.properties.width,e.height=i*o.properties.height,t.textBaseline="middle";var r=o.children.holderBg,s=i*r.width,l=i*r.height,c=2,d=c/2;t.fillStyle=r.properties.fill,t.fillRect(0,0,s,l),r.properties.outline&&(t.strokeStyle=r.properties.outline.fill,t.lineWidth=r.properties.outline.width,t.moveTo(d,d),t.lineTo(s-d,d),t.lineTo(s-d,l-d),t.lineTo(d,l-d),t.lineTo(d,d),t.moveTo(0,d),t.lineTo(s,l-d),t.moveTo(0,l-d),t.lineTo(s,d),t.stroke());var u=o.children.holderTextGroup;t.font=u.properties.font.weight+" "+i*u.properties.font.size+u.properties.font.units+" "+u.properties.font.family+", monospace",t.fillStyle=u.properties.fill;for(var p in u.children){var m=u.children[p];for(var f in m.children){var h=m.children[f],g=i*(u.x+m.x+h.x),v=i*(u.y+m.y+h.y+u.properties.leading/2);t.fillText(h.properties.text,g,v)}}return e.toDataURL("image/png")}}()}])}),function(e,t){t&&(Holder=e.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.html2canvas=e()}}(function(){var e;return function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){var n=t[r][1][e];return a(n?n:e)},d,d.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(t,n,i){(function(t){!function(a){function o(e){throw RangeError(P[e])}function r(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function s(e,t){return r(e.split(O),t).join(".")}function l(e){for(var t,n,i=[],a=0,o=e.length;a<o;)t=e.charCodeAt(a++),t>=55296&&t<=56319&&a<o?(n=e.charCodeAt(a++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--)):i.push(t);return i}function c(e){return r(e,function(e){var t="";return e>65535&&(e-=65536,t+=R(e>>>10&1023|55296),e=56320|1023&e),t+=R(e)}).join("")}function d(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:$}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var i=0;for(e=n?N(e/D):e>>1,e+=N(e/t);e>F*S>>1;i+=$)e=N(e/F);return N(i+(F+1)*e/(e+C))}function m(e){var t,n,i,a,r,s,l,u,m,f,h=[],g=e.length,v=0,b=E,y=T;for(n=e.lastIndexOf(I),n<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&o("not-basic"),h.push(e.charCodeAt(i));for(a=n>0?n+1:0;a<g;){for(r=v,s=1,l=$;a>=g&&o("invalid-input"),u=d(e.charCodeAt(a++)),(u>=$||u>N((_-v)/s))&&o("overflow"),v+=u*s,m=l<=y?k:l>=y+S?S:l-y,!(u<m);l+=$)f=$-m,s>N(_/f)&&o("overflow"),s*=f;t=h.length+1,y=p(v-r,t,0==r),N(v/t)>_-b&&o("overflow"),b+=N(v/t),v%=t,h.splice(v++,0,b)}return c(h)}function f(e){var t,n,i,a,r,s,c,d,m,f,h,g,v,b,y,w=[];for(e=l(e),g=e.length,t=E,n=0,r=T,s=0;s<g;++s)h=e[s],h<128&&w.push(R(h));for(i=a=w.length,a&&w.push(I);i<g;){for(c=_,s=0;s<g;++s)h=e[s],h>=t&&h<c&&(c=h);for(v=i+1,c-t>N((_-n)/v)&&o("overflow"),n+=(c-t)*v,t=c,s=0;s<g;++s)if(h=e[s],h<t&&++n>_&&o("overflow"),h==t){for(d=n,m=$;f=m<=r?k:m>=r+S?S:m-r,!(d<f);m+=$)y=d-f,b=$-f,w.push(R(u(f+y%b,0))),d=N(y/b);w.push(R(u(d,0))),r=p(n,v,i==a),n=0,++i}++n,++t}return w.join("")}function h(e){return s(e,function(e){return M.test(e)?m(e.slice(4).toLowerCase()):e})}function g(e){return s(e,function(e){return A.test(e)?"xn--"+f(e):e})}var v="object"==typeof i&&i,b="object"==typeof n&&n&&n.exports==v&&n,y="object"==typeof t&&t;y.global!==y&&y.window!==y||(a=y);var w,x,_=2147483647,$=36,k=1,S=26,C=38,D=700,T=72,E=128,I="-",M=/^xn--/,A=/[^ -~]/,O=/\x2E|\u3002|\uFF0E|\uFF61/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=$-k,N=Math.floor,R=String.fromCharCode;if(w={version:"1.2.4",ucs2:{decode:l,encode:c},decode:m,encode:f,toASCII:g,toUnicode:h},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return w});else if(v&&!v.nodeType)if(b)b.exports=w;else for(x in w)w.hasOwnProperty(x)&&(v[x]=w[x]);else a.punycode=w}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){function i(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}function a(e,t){try{t&&(t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(t){s("Unable to copy canvas content from",e,t)}}function o(e,t){for(var n=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;)t!==!0&&1===i.nodeType&&"SCRIPT"===i.nodeName||n.appendChild(o(i,t)),i=i.nextSibling;return 1===e.nodeType&&(n._scrollTop=e.scrollTop,n._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?a(e,n):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(n.value=e.value)),n}function r(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var t=e.firstChild;t;)r(t),t=t.nextSibling}}var s=e("./log");t.exports=function(e,t,n,a,s,l,c){var d=o(e.documentElement,s.javascriptEnabled),u=t.createElement("iframe");return u.className="html2canvas-container",u.style.visibility="hidden",u.style.position="fixed",u.style.left="-10000px",u.style.top="0px",u.style.border="0",u.width=n,u.height=a,u.scrolling="no",t.body.appendChild(u),new Promise(function(t){var n=u.contentWindow.document;u.contentWindow.onload=u.onload=function(){var e=setInterval(function(){n.body.childNodes.length>0&&(r(n.documentElement),clearInterval(e),"view"===s.type&&(u.contentWindow.scrollTo(l,c),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||u.contentWindow.scrollY===c&&u.contentWindow.scrollX===l||(n.documentElement.style.top=-c+"px",n.documentElement.style.left=-l+"px",n.documentElement.style.position="absolute")),t(u))},50)},n.open(),n.write("<!DOCTYPE html><html></html>"),i(e,l,c),n.replaceChild(n.adoptNode(d),n.documentElement),n.close()})}},{"./log":13}],3:[function(e,t,n){function i(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}i.prototype.darken=function(e){var t=1-e;return new i([Math.round(this.r*t),Math.round(this.g*t),Math.round(this.b*t),this.a]);
},i.prototype.isTransparent=function(){return 0===this.a},i.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},i.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var a=/^#([a-f0-9]{3})$/i;i.prototype.hex3=function(e){var t=null;return null!==(t=e.match(a))&&(this.r=parseInt(t[1][0]+t[1][0],16),this.g=parseInt(t[1][1]+t[1][1],16),this.b=parseInt(t[1][2]+t[1][2],16)),null!==t};var o=/^#([a-f0-9]{6})$/i;i.prototype.hex6=function(e){var t=null;return null!==(t=e.match(o))&&(this.r=parseInt(t[1].substring(0,2),16),this.g=parseInt(t[1].substring(2,4),16),this.b=parseInt(t[1].substring(4,6),16)),null!==t};var r=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;i.prototype.rgb=function(e){var t=null;return null!==(t=e.match(r))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3])),null!==t};var s=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;i.prototype.rgba=function(e){var t=null;return null!==(t=e.match(s))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3]),this.a=Number(t[4])),null!==t},i.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},i.prototype.namedColor=function(e){e=e.toLowerCase();var t=l[e];if(t)this.r=t[0],this.g=t[1],this.b=t[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!t},i.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};t.exports=i},{}],4:[function(t,n,i){function a(e,t){var n=$++;if(t=t||{},t.logging&&(v.options.logging=!0,v.options.start=Date.now()),t.async="undefined"==typeof t.async||t.async,t.allowTaint="undefined"!=typeof t.allowTaint&&t.allowTaint,t.removeContainer="undefined"==typeof t.removeContainer||t.removeContainer,t.javascriptEnabled="undefined"!=typeof t.javascriptEnabled&&t.javascriptEnabled,t.imageTimeout="undefined"==typeof t.imageTimeout?1e4:t.imageTimeout,t.renderer="function"==typeof t.renderer?t.renderer:m,t.strict=!!t.strict,"string"==typeof e){if("string"!=typeof t.proxy)return Promise.reject("Proxy must be used when rendering url");var i=null!=t.width?t.width:window.innerWidth,a=null!=t.height?t.height:window.innerHeight;return w(u(e),t.proxy,document,i,a,t).then(function(e){return r(e.contentWindow.document.documentElement,e,t,i,a)})}var s=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return s.setAttribute(_+n,n),o(s.ownerDocument,t,s.ownerDocument.defaultView.innerWidth,s.ownerDocument.defaultView.innerHeight,n).then(function(e){return"function"==typeof t.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),t.onrendered(e)),e})}function o(e,t,n,i,a){return y(e,e,n,i,t,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(o){v("Document cloned");var s=_+a,l="["+s+"='"+a+"']";e.querySelector(l).removeAttribute(s);var c=o.contentWindow,d=c.document.querySelector(l),u="function"==typeof t.onclone?Promise.resolve(t.onclone(c.document)):Promise.resolve(!0);return u.then(function(){return r(d,o,t,n,i)})})}function r(e,t,n,i,a){var o=t.contentWindow,r=new p(o.document),u=new f(n,r),m=x(e),g="view"===n.type?i:c(o.document),b="view"===n.type?a:d(o.document),y=new n.renderer(g,b,u,n,document),w=new h(e,y,r,u,n);return w.ready.then(function(){v("Finished rendering");var i;return i="view"===n.type?l(y.canvas,{width:y.canvas.width,height:y.canvas.height,top:0,left:0,x:0,y:0}):e===o.document.body||e===o.document.documentElement||null!=n.canvas?y.canvas:l(y.canvas,{width:null!=n.width?n.width:m.width,height:null!=n.height?n.height:m.height,top:m.top,left:m.left,x:0,y:0}),s(t,n),i})}function s(e,t){t.removeContainer&&(e.parentNode.removeChild(e),v("Cleaned up container"))}function l(e,t){var n=document.createElement("canvas"),i=Math.min(e.width-1,Math.max(0,t.left)),a=Math.min(e.width,Math.max(1,t.left+t.width)),o=Math.min(e.height-1,Math.max(0,t.top)),r=Math.min(e.height,Math.max(1,t.top+t.height));n.width=t.width,n.height=t.height;var s=a-i,l=r-o;return v("Cropping canvas at:","left:",t.left,"top:",t.top,"width:",s,"height:",l),v("Resulting crop with width",t.width,"and height",t.height,"with x",i,"and y",o),n.getContext("2d").drawImage(e,i,o,s,l,t.x,t.y,s,l),n}function c(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function d(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function u(e){var t=document.createElement("a");return t.href=e,t.href=t.href,t}var p=t("./support"),m=t("./renderers/canvas"),f=t("./imageloader"),h=t("./nodeparser"),g=t("./nodecontainer"),v=t("./log"),b=t("./utils"),y=t("./clone"),w=t("./proxy").loadUrlDocument,x=b.getBounds,_="data-html2canvas-node",$=0;a.CanvasRenderer=m,a.NodeContainer=g,a.log=v,a.utils=b;var k="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:a;n.exports=k,"function"==typeof e&&e.amd&&e("html2canvas",[],function(){return k})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,t,n){function i(e){if(this.src=e,a("DummyImageContainer for",e),!this.promise||!this.image){a("Initiating DummyImageContainer"),i.prototype.image=new Image;var t=this.image;i.prototype.promise=new Promise(function(e,n){t.onload=e,t.onerror=n,t.src=o(),t.complete===!0&&e(t)})}}var a=e("./log"),o=e("./utils").smallImage;t.exports=i},{"./log":13,"./utils":26}],6:[function(e,t,n){function i(e,t){var n,i,o=document.createElement("div"),r=document.createElement("img"),s=document.createElement("span"),l="Hidden Text";o.style.visibility="hidden",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin=0,o.style.padding=0,document.body.appendChild(o),r.src=a(),r.width=1,r.height=1,r.style.margin=0,r.style.padding=0,r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin=0,s.style.padding=0,s.appendChild(document.createTextNode(l)),o.appendChild(s),o.appendChild(r),n=r.offsetTop-s.offsetTop+1,o.removeChild(s),o.appendChild(document.createTextNode(l)),o.style.lineHeight="normal",r.style.verticalAlign="super",i=r.offsetTop-o.offsetTop+1,document.body.removeChild(o),this.baseline=n,this.lineWidth=1,this.middle=i}var a=e("./utils").smallImage;t.exports=i},{"./utils":26}],7:[function(e,t,n){function i(){this.data={}}var a=e("./font");i.prototype.getMetrics=function(e,t){return void 0===this.data[e+"-"+t]&&(this.data[e+"-"+t]=new a(e,t)),this.data[e+"-"+t]},t.exports=i},{"./font":6}],8:[function(e,t,n){function i(t,n,i){this.image=null,this.src=t;var a=this,r=o(t);this.promise=(n?new Promise(function(e){"about:blank"===t.contentWindow.document.URL||null==t.contentWindow.document.documentElement?t.contentWindow.onload=t.onload=function(){e(t)}:e(t)}):this.proxyLoad(i.proxy,r,i)).then(function(t){var n=e("./core");return n(t.contentWindow.document.documentElement,{type:"view",width:t.width,height:t.height,proxy:i.proxy,javascriptEnabled:i.javascriptEnabled,removeContainer:i.removeContainer,allowTaint:i.allowTaint,imageTimeout:i.imageTimeout/2})}).then(function(e){return a.image=e})}var a=e("./utils"),o=a.getBounds,r=e("./proxy").loadUrlDocument;i.prototype.proxyLoad=function(e,t,n){var i=this.src;return r(i.src,e,i.ownerDocument,t.width,t.height,n)},t.exports=i},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,t,n){function i(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}i.TYPES={LINEAR:1,RADIAL:2},i.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,t.exports=i},{}],10:[function(e,t,n){function i(e,t){this.src=e,this.image=new Image;var n=this;this.tainted=null,this.promise=new Promise(function(i,a){n.image.onload=i,n.image.onerror=a,t&&(n.image.crossOrigin="anonymous"),n.image.src=e,n.image.complete===!0&&i(n.image)})}t.exports=i},{}],11:[function(e,t,n){function i(e,t){this.link=null,this.options=e,this.support=t,this.origin=this.getOrigin(window.location.href)}var a=e("./log"),o=e("./imagecontainer"),r=e("./dummyimagecontainer"),s=e("./proxyimagecontainer"),l=e("./framecontainer"),c=e("./svgcontainer"),d=e("./svgnodecontainer"),u=e("./lineargradientcontainer"),p=e("./webkitgradientcontainer"),m=e("./utils").bind;i.prototype.findImages=function(e){var t=[];return e.reduce(function(e,t){switch(t.node.nodeName){case"IMG":return e.concat([{args:[t.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[t.node],method:t.node.nodeName}])}return e},[]).forEach(this.addImage(t,this.loadImage),this),t},i.prototype.findBackgroundImage=function(e,t){return t.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},i.prototype.addImage=function(e,t){return function(n){n.args.forEach(function(i){this.imageExists(e,i)||(e.splice(0,0,t.call(this,n)),a("Added image #"+e.length,"string"==typeof i?i.substring(0,100):i))},this)}},i.prototype.hasImageBackground=function(e){return"none"!==e.method},i.prototype.loadImage=function(e){if("url"===e.method){var t=e.args[0];return!this.isSVG(t)||this.support.svg||this.options.allowTaint?t.match(/data:image\/.*;base64,/i)?new o(t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),(!1)):this.isSameOrigin(t)||this.options.allowTaint===!0||this.isSVG(t)?new o(t,(!1)):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new o(t,(!0)):this.options.proxy?new s(t,this.options.proxy):new r(t):new c(t)}return"linear-gradient"===e.method?new u(e):"gradient"===e.method?new p(e):"svg"===e.method?new d(e.args[0],this.support.svg):"IFRAME"===e.method?new l(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new r(e)},i.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||c.prototype.isInline(e)},i.prototype.imageExists=function(e,t){return e.some(function(e){return e.src===t})},i.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},i.prototype.getOrigin=function(e){var t=this.link||(this.link=document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port},i.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout).catch(function(){var t=new r(e.src);return t.promise.then(function(t){e.image=t})})},i.prototype.get=function(e){var t=null;return this.images.some(function(n){return(t=n).src===e})?t:null},i.prototype.fetch=function(e){return this.images=e.reduce(m(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,t){e.promise.then(function(){a("Succesfully loaded image #"+(t+1),e)},function(n){a("Failed loading image #"+(t+1),e,n)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),a("Finished searching images"),this},i.prototype.timeout=function(e,t){var n,i=Promise.race([e.promise,new Promise(function(i,o){n=setTimeout(function(){a("Timed out loading image",e),o(e)},t)})]).then(function(e){return clearTimeout(n),e});return i.catch(function(){clearTimeout(n)}),i},t.exports=i},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,t,n){function i(e){a.apply(this,arguments),this.type=a.TYPES.LINEAR;var t=i.REGEXP_DIRECTION.test(e.args[0])||!a.REGEXP_COLORSTOP.test(e.args[0]);t?e.args[0].split(/\s+/).reverse().forEach(function(e,t){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var n=this.y0,i=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=i,this.y1=n;break;case"center":break;default:var a=.01*parseFloat(e,10);if(isNaN(a))break;0===t?(this.y0=a,this.y1=1-this.y0):(this.x0=a,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(t?1:0).map(function(e){var t=e.match(a.REGEXP_COLORSTOP),n=+t[2],i=0===n?"%":t[3];return{color:new o(t[1]),stop:"%"===i?n/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,t){null===e.stop&&this.colorStops.slice(t).some(function(n,i){return null!==n.stop&&(e.stop=(n.stop-this.colorStops[t-1].stop)/(i+1)+this.colorStops[t-1].stop,!0)},this)},this)}var a=e("./gradientcontainer"),o=e("./color");i.prototype=Object.create(a.prototype),i.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,t.exports=i},{"./color":3,"./gradientcontainer":9}],13:[function(e,t,n){var i=function(){i.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-i.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};i.options={logging:!1},t.exports=i},{}],14:[function(e,t,n){function i(e,t){this.node=e,this.parent=t,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function a(e){var t=e.options[e.selectedIndex||0];return t?t.text||"":""}function o(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var t=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[t[0],t[1],t[4],t[5],t[12],t[13]]}}function r(e){return e.toString().indexOf("%")!==-1}function s(e){return e.replace("px","")}function l(e){return parseFloat(e)}var c=e("./color"),d=e("./utils"),u=d.getBounds,p=d.parseBackgrounds,m=d.offsetBounds;i.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},i.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},i.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},i.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},i.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},i.prototype.prefixedCss=function(e){var t=["webkit","moz","ms","o"],n=this.css(e);return void 0===n&&t.some(function(t){return n=this.css(t+e.substr(0,1).toUpperCase()+e.substr(1)),void 0!==n},this),void 0===n?null:n},i.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},i.prototype.cssInt=function(e){var t=parseInt(this.css(e),10);return isNaN(t)?0:t},i.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new c(this.css(e)))},i.prototype.cssFloat=function(e){var t=parseFloat(this.css(e));return isNaN(t)?0:t},i.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},i.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},i.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=p(this.css("backgroundImage")))},i.prototype.cssList=function(e,t){var n=(this.css(e)||"").split(",");return n=n[t||0]||n[0]||"auto",n=n.trim().split(" "),1===n.length&&(n=[n[0],r(n[0])?"auto":n[0]]),n},i.prototype.parseBackgroundSize=function(e,t,n){var i,a,o=this.cssList("backgroundSize",n);if(r(o[0]))i=e.width*parseFloat(o[0])/100;else{if(/contain|cover/.test(o[0])){var s=e.width/e.height,l=t.width/t.height;return s<l^"contain"===o[0]?{width:e.height*l,height:e.height}:{width:e.width,height:e.width/l}}i=parseInt(o[0],10)}return a="auto"===o[0]&&"auto"===o[1]?t.height:"auto"===o[1]?i/t.width*t.height:r(o[1])?e.height*parseFloat(o[1])/100:parseInt(o[1],10),"auto"===o[0]&&(i=a/t.height*t.width),{width:i,height:a}},i.prototype.parseBackgroundPosition=function(e,t,n,i){var a,o,s=this.cssList("backgroundPosition",n);return a=r(s[0])?(e.width-(i||t).width)*(parseFloat(s[0])/100):parseInt(s[0],10),o="auto"===s[1]?a/t.width*t.height:r(s[1])?(e.height-(i||t).height)*parseFloat(s[1])/100:parseInt(s[1],10),"auto"===s[0]&&(a=o/t.height*t.width),{left:a,top:o}},i.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},i.prototype.parseTextShadows=function(){var e=this.css("textShadow"),t=[];if(e&&"none"!==e)for(var n=e.match(this.TEXT_SHADOW_PROPERTY),i=0;n&&i<n.length;i++){var a=n[i].match(this.TEXT_SHADOW_VALUES);t.push({color:new c(a[0]),offsetX:a[1]?parseFloat(a[1].replace("px","")):0,offsetY:a[2]?parseFloat(a[2].replace("px","")):0,blur:a[3]?a[3].replace("px",""):0})}return t},i.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),t=this.prefixedCss("transformOrigin").split(" ").map(s).map(l);t[0]+=e.left,t[1]+=e.top,this.transformData={origin:t,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},i.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),t=e?o(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=t?t:[1,0,0,1,0,0]}return this.transformMatrix},i.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?m(this.node):u(this.node))},i.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},i.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=a(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("•")),0===e.length?this.node.placeholder||"":e},i.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,i.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,i.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,i.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,t.exports=i},{"./color":3,"./utils":26}],15:[function(e,t,n){function i(e,t,n,i,a){j("Starting NodeParser"),this.renderer=t,this.options=a,this.range=null,this.support=n,this.renderQueue=[],this.stack=new Y((!0),1,e.ownerDocument,null);var o=new U(e,null);if(a.background&&t.rectangle(0,0,t.width,t.height,new V(a.background)),e===e.ownerDocument.documentElement){var r=new U(o.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);t.rectangle(0,0,t.width,t.height,r.color("backgroundColor"))}o.visibile=o.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=F([o].concat(this.getChildren(o)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new q,j("Fetched nodes, total:",this.nodes.length),j("Calculate overflow clips"),this.calculateOverflowClips(),j("Start fetching images"),this.images=i.fetch(this.nodes.filter(D)),this.ready=this.images.ready.then(K(function(){return j("Images loaded, starting parsing"),j("Creating stacking contexts"),this.createStackingContexts(),j("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),j("Render queue created with "+this.renderQueue.length+" items"),new Promise(K(function(e){a.async?"function"==typeof a.async?a.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function a(e){return e.parent&&e.parent.clip.length}function o(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function r(){}function s(e,t,n,i){return e.map(function(a,o){if(a.width>0){var r=t.left,s=t.top,l=t.width,c=t.height-e[2].width;switch(o){case 0:c=e[0].width,a.args=u({c1:[r,s],c2:[r+l,s],c3:[r+l-e[1].width,s+c],c4:[r+e[3].width,s+c]},i[0],i[1],n.topLeftOuter,n.topLeftInner,n.topRightOuter,n.topRightInner);break;case 1:r=t.left+t.width-e[1].width,l=e[1].width,a.args=u({c1:[r+l,s],c2:[r+l,s+c+e[2].width],c3:[r,s+c],c4:[r,s+e[0].width]},i[1],i[2],n.topRightOuter,n.topRightInner,n.bottomRightOuter,n.bottomRightInner);break;case 2:s=s+t.height-e[2].width,c=e[2].width,a.args=u({c1:[r+l,s+c],c2:[r,s+c],c3:[r+e[3].width,s],c4:[r+l-e[3].width,s]},i[2],i[3],n.bottomRightOuter,n.bottomRightInner,n.bottomLeftOuter,n.bottomLeftInner);break;case 3:l=e[3].width,a.args=u({c1:[r,s+c+e[2].width],c2:[r,s],c3:[r+l,s+e[0].width],c4:[r+l,s+c]},i[3],i[0],n.bottomLeftOuter,n.bottomLeftInner,n.topLeftOuter,n.topLeftInner)}}return a})}function l(e,t,n,i){var a=4*((Math.sqrt(2)-1)/3),o=n*a,r=i*a,s=e+n,l=t+i;return{topLeft:d({x:e,y:l},{x:e,y:l-r},{x:s-o,y:t},{x:s,y:t}),topRight:d({x:e,y:t},{x:e+o,y:t},{x:s,y:l-r},{x:s,y:l}),bottomRight:d({x:s,y:t},{x:s,y:t+r},{x:e+o,y:l},{x:e,y:l}),bottomLeft:d({x:s,y:l},{x:s-o,y:l},{x:e,y:t+r},{x:e,y:t})}}function c(e,t,n){var i=e.left,a=e.top,o=e.width,r=e.height,s=t[0][0]<o/2?t[0][0]:o/2,c=t[0][1]<r/2?t[0][1]:r/2,d=t[1][0]<o/2?t[1][0]:o/2,u=t[1][1]<r/2?t[1][1]:r/2,p=t[2][0]<o/2?t[2][0]:o/2,m=t[2][1]<r/2?t[2][1]:r/2,f=t[3][0]<o/2?t[3][0]:o/2,h=t[3][1]<r/2?t[3][1]:r/2,g=o-d,v=r-m,b=o-p,y=r-h;return{topLeftOuter:l(i,a,s,c).topLeft.subdivide(.5),topLeftInner:l(i+n[3].width,a+n[0].width,Math.max(0,s-n[3].width),Math.max(0,c-n[0].width)).topLeft.subdivide(.5),topRightOuter:l(i+g,a,d,u).topRight.subdivide(.5),topRightInner:l(i+Math.min(g,o+n[3].width),a+n[0].width,g>o+n[3].width?0:d-n[3].width,u-n[0].width).topRight.subdivide(.5),bottomRightOuter:l(i+b,a+v,p,m).bottomRight.subdivide(.5),bottomRightInner:l(i+Math.min(b,o-n[3].width),a+Math.min(v,r+n[0].width),Math.max(0,p-n[1].width),m-n[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(i,a+y,f,h).bottomLeft.subdivide(.5),bottomLeftInner:l(i+n[3].width,a+y,Math.max(0,f-n[3].width),h-n[2].width).bottomLeft.subdivide(.5)}}function d(e,t,n,i){var a=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}};return{start:e,startControl:t,endControl:n,end:i,subdivide:function(o){var r=a(e,t,o),s=a(t,n,o),l=a(n,i,o),c=a(r,s,o),u=a(s,l,o),p=a(c,u,o);return[d(e,r,c,p),d(p,u,l,i)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,n.x,n.y,i.x,i.y])},curveToReversed:function(i){i.push(["bezierCurve",n.x,n.y,t.x,t.y,e.x,e.y])}}}function u(e,t,n,i,a,o,r){var s=[];return t[0]>0||t[1]>0?(s.push(["line",i[1].start.x,i[1].start.y]),i[1].curveTo(s)):s.push(["line",e.c1[0],e.c1[1]]),n[0]>0||n[1]>0?(s.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(s),s.push(["line",r[0].end.x,r[0].end.y]),r[0].curveToReversed(s)):(s.push(["line",e.c2[0],e.c2[1]]),s.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(s.push(["line",a[1].end.x,a[1].end.y]),a[1].curveToReversed(s)):s.push(["line",e.c4[0],e.c4[1]]),s}function p(e,t,n,i,a,o,r){t[0]>0||t[1]>0?(e.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(e),i[1].curveTo(e)):e.push(["line",o,r]),(n[0]>0||n[1]>0)&&e.push(["line",a[0].start.x,a[0].start.y])}function m(e){return e.cssInt("zIndex")<0}function f(e){return e.cssInt("zIndex")>0}function h(e){return 0===e.cssInt("zIndex")}function g(e){return["inline","inline-block","inline-table"].indexOf(e.css("display"))!==-1}function v(e){return e instanceof Y}function b(e){return e.node.data.trim().length>0}function y(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function w(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){var n=e.css("border"+t+"Radius"),i=n.split(" ");return i.length<=1&&(i[1]=i[0]),i.map(A)})}function x(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function _(e){var t=e.css("position"),n=["absolute","relative","fixed"].indexOf(t)!==-1?e.css("zIndex"):"auto";return"auto"!==n}function $(e){return"static"!==e.css("position")}function k(e){return"none"!==e.css("float")}function S(e){return["inline-block","inline-table"].indexOf(e.css("display"))!==-1}function C(e){var t=this;return function(){return!e.apply(t,arguments)}}function D(e){return e.node.nodeType===Node.ELEMENT_NODE}function T(e){return e.isPseudoElement===!0}function E(e){return e.node.nodeType===Node.TEXT_NODE}function I(e){return function(t,n){return t.cssInt("zIndex")+e.indexOf(t)/e.length-(n.cssInt("zIndex")+e.indexOf(n)/e.length)}}function M(e){return e.getOpacity()<1}function A(e){return parseInt(e,10)}function O(e){return e.width}function P(e){return e.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)===-1}function F(e){return[].concat.apply([],e)}function N(e){var t=e.substr(0,1);return t===e.substr(e.length-1)&&t.match(/'|"/)?e.substr(1,e.length-2):e}function R(e){for(var t,n=[],i=0,a=!1;e.length;)L(e[i])===a?(t=e.splice(0,i),t.length&&n.push(z.ucs2.encode(t)),a=!a,i=0):i++,i>=e.length&&(t=e.splice(0,i),t.length&&n.push(z.ucs2.encode(t)));return n}function L(e){return[32,13,10,9,45].indexOf(e)!==-1}function B(e){return/[^\u0000-\u00ff]/.test(e)}var j=e("./log"),z=e("punycode"),U=e("./nodecontainer"),H=e("./textcontainer"),W=e("./pseudoelementcontainer"),q=e("./fontmetrics"),V=e("./color"),Y=e("./stackingcontext"),G=e("./utils"),K=G.bind,X=G.getBounds,J=G.parseBackgrounds,Q=G.offsetBounds;i.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(D(e)){T(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var t="hidden"===e.css("overflow")?[e.borders.clip]:[],n=e.parseClip();n&&["absolute","fixed"].indexOf(e.css("position"))!==-1&&t.push([["rect",e.bounds.left+n.left,e.bounds.top+n.top,n.right-n.left,n.bottom-n.top]]),e.clip=a(e)?e.parent.clip.concat(t):t,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,T(e)&&e.cleanDOM()}else E(e)&&(e.clip=a(e)?e.parent.clip:[]);T(e)||(e.bounds=null)},this)},i.prototype.asyncRenderer=function(e,t,n){n=n||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?t():n+20>Date.now()?this.asyncRenderer(e,t,n):setTimeout(K(function(){this.asyncRenderer(e,t)},this),0)},i.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},i.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},i.prototype.createStyles=function(e,t){var n=e.createElement("style");n.innerHTML=t,e.body.appendChild(n)},i.prototype.getPseudoElements=function(e){var t=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var n=this.getPseudoElement(e,":before"),i=this.getPseudoElement(e,":after");n&&t.push(n),i&&t.push(i)}return F(t)},i.prototype.getPseudoElement=function(e,t){var n=e.computedStyle(t);if(!n||!n.content||"none"===n.content||"-moz-alt-content"===n.content||"none"===n.display)return null;for(var i=N(n.content),a="url"===i.substr(0,3),r=document.createElement(a?"img":"html2canvaspseudoelement"),s=new W(r,e,t),l=n.length-1;l>=0;l--){var c=o(n.item(l));r.style[c]=n[c]}if(r.className=W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+W.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,
a)return r.src=J(i)[0].args[0],[s];var d=document.createTextNode(i);return r.appendChild(d),[s,new H(d,s)]},i.prototype.getChildren=function(e){return F([].filter.call(e.node.childNodes,x).map(function(t){var n=[t.nodeType===Node.TEXT_NODE?new H(t,e):new U(t,e)].filter(P);return t.nodeType===Node.ELEMENT_NODE&&n.length&&"TEXTAREA"!==t.tagName?n[0].isElementVisible()?n.concat(this.getChildren(n[0])):[]:n},this))},i.prototype.newStackingContext=function(e,t){var n=new Y(t,e.getOpacity(),e.node,e.parent);e.cloneTo(n);var i=t?n.getParentStack(this):n.parent.stack;i.contexts.push(n),e.stack=n},i.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){D(e)&&(this.isRootElement(e)||M(e)||_(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):D(e)&&($(e)&&h(e)||S(e)||k(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},i.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},i.prototype.isRootElement=function(e){return null===e.parent},i.prototype.sortStackingContexts=function(e){e.contexts.sort(I(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},i.prototype.parseTextBounds=function(e){return function(t,n,i){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==t.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var a=i.slice(0,n).join("").length;return this.getRangeBounds(e.node,a,t.length)}if(e.node&&"string"==typeof e.node.data){var o=e.node.splitText(t.length),r=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=o,r}}else this.support.rangeBounds&&!e.parent.hasTransform()||(e.node=e.node.splitText(t.length));return{}}},i.prototype.getWrapperBounds=function(e,t){var n=e.ownerDocument.createElement("html2canvaswrapper"),i=e.parentNode,a=e.cloneNode(!0);n.appendChild(e.cloneNode(!0)),i.replaceChild(n,e);var o=t?Q(n):X(n);return i.replaceChild(a,n),o},i.prototype.getRangeBounds=function(e,t,n){var i=this.range||(this.range=e.ownerDocument.createRange());return i.setStart(e,t),i.setEnd(e,t+n),i.getBoundingClientRect()},i.prototype.parse=function(e){var t=e.contexts.filter(m),n=e.children.filter(D),i=n.filter(C(k)),a=i.filter(C($)).filter(C(g)),o=n.filter(C($)).filter(k),s=i.filter(C($)).filter(g),l=e.contexts.concat(i.filter($)).filter(h),c=e.children.filter(E).filter(b),d=e.contexts.filter(f);t.concat(a).concat(o).concat(s).concat(l).concat(c).concat(d).forEach(function(e){this.renderQueue.push(e),v(e)&&(this.parse(e),this.renderQueue.push(new r))},this)},i.prototype.paint=function(e){try{e instanceof r?this.renderer.ctx.restore():E(e)?(T(e.parent)&&e.parent.appendToDOM(),this.paintText(e),T(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(e){if(j(e),this.options.strict)throw e}},i.prototype.paintNode=function(e){v(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},i.prototype.paintElement=function(e){var t=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,t,e.borders.borders.map(O))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var n=this.images.get(e.node);n?this.renderer.renderImage(e,t,e.borders,n):j("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var i=this.images.get(e.node.src);i?this.renderer.renderImage(e,t,e.borders,i):j("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,t,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},i.prototype.paintCheckbox=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height),i={width:n-1,height:n-1,top:t.top,left:t.left},a=[3,3],o=[a,a,a,a],r=[1,1,1,1].map(function(e){return{color:new V("#A5A5A5"),width:e}}),l=c(i,o,r);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(i.left+1,i.top+1,i.width-2,i.height-2,new V("#DEDEDE")),this.renderer.renderBorders(s(r,i,l,o)),e.node.checked&&(this.renderer.font(new V("#424242"),"normal","normal","bold",n-3+"px","arial"),this.renderer.text("✔",i.left+n/6,i.top+n-1))},this)},i.prototype.paintRadio=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(t.left+1,t.top+1,n,new V("#DEDEDE"),1,new V("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(t.left+n/4)+1,Math.ceil(t.top+n/4)+1,Math.floor(n/2),new V("#424242"))},this)},i.prototype.paintFormValue=function(e){var t=e.getValue();if(t.length>0){var n=e.node.ownerDocument,i=n.createElement("html2canvaswrapper"),a=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];a.forEach(function(t){try{i.style[t]=e.css(t)}catch(e){j("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}});var o=e.parseBounds();i.style.position="fixed",i.style.left=o.left+"px",i.style.top=o.top+"px",i.textContent=t,n.body.appendChild(i),this.paintText(new H(i.firstChild,e)),n.body.removeChild(i)}},i.prototype.paintText=function(e){e.applyTextTransform();var t=z.ucs2.decode(e.node.data),n=this.options.letterRendering&&!y(e)||B(e.node.data)?t.map(function(e){return z.ucs2.encode([e])}):R(t),i=e.parent.fontWeight(),a=e.parent.css("fontSize"),o=e.parent.css("fontFamily"),r=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),i,a,o),r.length?this.renderer.fontShadow(r[0].color,r[0].offsetX,r[0].offsetY,r[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){n.map(this.parseTextBounds(e),this).forEach(function(t,i){t&&(this.renderer.text(n[i],t.left,t.bottom),this.renderTextDecoration(e.parent,t,this.fontMetrics.getMetrics(o,a)))},this)},this)},i.prototype.renderTextDecoration=function(e,t,n){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(t.left,Math.round(t.top+n.baseline+n.lineWidth),t.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(t.left,Math.round(t.top),t.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(t.left,Math.ceil(t.top+n.middle+n.lineWidth),t.width,1,e.color("color"))}};var Z={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};i.prototype.parseBorders=function(e){var t=e.parseBounds(),n=w(e),i=["Top","Right","Bottom","Left"].map(function(t,n){var i=e.css("border"+t+"Style"),a=e.color("border"+t+"Color");"inset"===i&&a.isBlack()&&(a=new V([255,255,255,a.a]));var o=Z[i]?Z[i][n]:null;return{width:e.cssInt("border"+t+"Width"),color:o?a[o[0]](o[1]):a,args:null}}),a=c(t,n,i);return{clip:this.parseBackgroundClip(e,a,i,n,t),borders:s(i,t,a,n)}},i.prototype.parseBackgroundClip=function(e,t,n,i,a){var o=e.css("backgroundClip"),r=[];switch(o){case"content-box":case"padding-box":p(r,i[0],i[1],t.topLeftInner,t.topRightInner,a.left+n[3].width,a.top+n[0].width),p(r,i[1],i[2],t.topRightInner,t.bottomRightInner,a.left+a.width-n[1].width,a.top+n[0].width),p(r,i[2],i[3],t.bottomRightInner,t.bottomLeftInner,a.left+a.width-n[1].width,a.top+a.height-n[2].width),p(r,i[3],i[0],t.bottomLeftInner,t.topLeftInner,a.left+n[3].width,a.top+a.height-n[2].width);break;default:p(r,i[0],i[1],t.topLeftOuter,t.topRightOuter,a.left,a.top),p(r,i[1],i[2],t.topRightOuter,t.bottomRightOuter,a.left+a.width,a.top),p(r,i[2],i[3],t.bottomRightOuter,t.bottomLeftOuter,a.left+a.width,a.top+a.height),p(r,i[3],i[0],t.bottomLeftOuter,t.topLeftOuter,a.left,a.top+a.height)}return r},t.exports=i},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,t,n){function i(e,t,n){var i="withCredentials"in new XMLHttpRequest;if(!t)return Promise.reject("No proxy configured");var a=r(i),l=s(t,e,a);return i?d(l):o(n,l,a).then(function(e){return f(e.content)})}function a(e,t,n){var i="crossOrigin"in new Image,a=r(i),l=s(t,e,a);return i?Promise.resolve(l):o(n,l,a).then(function(e){return"data:"+e.type+";base64,"+e.content})}function o(e,t,n){return new Promise(function(i,a){var o=e.createElement("script"),r=function(){delete window.html2canvas.proxy[n],e.body.removeChild(o)};window.html2canvas.proxy[n]=function(e){r(),i(e)},o.src=t,o.onerror=function(e){r(),a(e)},e.body.appendChild(o)})}function r(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++h+"_"+Math.round(1e5*Math.random())}function s(e,t,n){return e+"?url="+encodeURIComponent(t)+(n.length?"&callback=html2canvas.proxy."+n:"")}function l(e){return function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/html")}catch(e){p("DOMParser not supported, falling back to createHTMLDocument"),n=document.implementation.createHTMLDocument("");try{n.open(),n.write(t),n.close()}catch(e){p("createHTMLDocument write not supported, falling back to document.body.innerHTML"),n.body.innerHTML=t}}var a=n.querySelector("base");if(!a||!a.href.host){var o=n.createElement("base");o.href=e,n.head.insertBefore(o,n.head.firstChild)}return n}}function c(e,t,n,a,o,r){return new i(e,t,window.document).then(l(e)).then(function(e){return m(e,n,a,o,r,0,0)})}var d=e("./xhr"),u=e("./utils"),p=e("./log"),m=e("./clone"),f=u.decode64,h=0;n.Proxy=i,n.ProxyURL=a,n.loadUrlDocument=c},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,t,n){function i(e,t){var n=document.createElement("a");n.href=e,e=n.href,this.src=e,this.image=new Image;var i=this;this.promise=new Promise(function(n,o){i.image.crossOrigin="Anonymous",i.image.onload=n,i.image.onerror=o,new a(e,t,document).then(function(e){i.image.src=e}).catch(o)})}var a=e("./proxy").ProxyURL;t.exports=i},{"./proxy":16}],18:[function(e,t,n){function i(e,t,n){a.call(this,e,t),this.isPseudoElement=!0,this.before=":before"===n}var a=e("./nodecontainer");i.prototype.cloneTo=function(e){i.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},i.prototype=Object.create(a.prototype),i.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},i.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},i.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",i.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",t.exports=i},{"./nodecontainer":14}],19:[function(e,t,n){function i(e,t,n,i,a){this.width=e,this.height=t,this.images=n,this.options=i,this.document=a}var a=e("./log");i.prototype.renderImage=function(e,t,n,i){var a=e.cssInt("paddingLeft"),o=e.cssInt("paddingTop"),r=e.cssInt("paddingRight"),s=e.cssInt("paddingBottom"),l=n.borders,c=t.width-(l[1].width+l[3].width+a+r),d=t.height-(l[0].width+l[2].width+o+s);this.drawImage(i,0,0,i.image.width||c,i.image.height||d,t.left+a+l[3].width,t.top+o+l[0].width,c,d)},i.prototype.renderBackground=function(e,t,n){t.height>0&&t.width>0&&(this.renderBackgroundColor(e,t),this.renderBackgroundImage(e,t,n))},i.prototype.renderBackgroundColor=function(e,t){var n=e.color("backgroundColor");n.isTransparent()||this.rectangle(t.left,t.top,t.width,t.height,n)},i.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},i.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},i.prototype.renderBackgroundImage=function(e,t,n){var i=e.parseBackgroundImages();i.reverse().forEach(function(i,o,r){switch(i.method){case"url":var s=this.images.get(i.args[0]);s?this.renderBackgroundRepeating(e,t,s,r.length-(o+1),n):a("Error loading background-image",i.args[0]);break;case"linear-gradient":case"gradient":var l=this.images.get(i.value);l?this.renderBackgroundGradient(l,t,n):a("Error loading background-image",i.args[0]);break;case"none":break;default:a("Unknown background-image type",i.args[0])}},this)},i.prototype.renderBackgroundRepeating=function(e,t,n,i,a){var o=e.parseBackgroundSize(t,n.image,i),r=e.parseBackgroundPosition(t,n.image,i,o),s=e.parseBackgroundRepeat(i);switch(s){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(n,r,o,t,t.left+a[3],t.top+r.top+a[0],99999,o.height,a);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(n,r,o,t,t.left+r.left+a[3],t.top+a[0],o.width,99999,a);break;case"no-repeat":this.backgroundRepeatShape(n,r,o,t,t.left+r.left+a[3],t.top+r.top+a[0],o.width,o.height,a);break;default:this.renderBackgroundRepeat(n,r,o,{top:t.top,left:t.left},a[3],a[0])}},t.exports=i},{"./log":13}],20:[function(e,t,n){function i(e,t){o.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=t),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},s("Initialized CanvasRenderer with size",e,"x",t)}function a(e){return e.length>0}var o=e("../renderer"),r=e("../lineargradientcontainer"),s=e("../log");i.prototype=Object.create(o.prototype),i.prototype.setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},i.prototype.rectangle=function(e,t,n,i,a){this.setFillStyle(a).fillRect(e,t,n,i)},i.prototype.circle=function(e,t,n,i){this.setFillStyle(i),this.ctx.beginPath(),this.ctx.arc(e+n/2,t+n/2,n/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},i.prototype.circleStroke=function(e,t,n,i,a,o){this.circle(e,t,n,i),this.ctx.strokeStyle=o.toString(),this.ctx.stroke()},i.prototype.drawShape=function(e,t){this.shape(e),this.setFillStyle(t).fill()},i.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(t){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},i.prototype.drawImage=function(e,t,n,i,a,o,r,s,l){this.taints(e)&&!this.options.allowTaint||this.ctx.drawImage(e.image,t,n,i,a,o,r,s,l)},i.prototype.clip=function(e,t,n){this.ctx.save(),e.filter(a).forEach(function(e){this.shape(e).clip()},this),t.call(n),this.ctx.restore()},i.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,t){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===t?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},i.prototype.font=function(e,t,n,i,a,o){this.setFillStyle(e).font=[t,n,i,a,o].join(" ").split(",")[0]},i.prototype.fontShadow=function(e,t,n,i){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",t).setVariable("shadowOffsetX",n).setVariable("shadowBlur",i)},i.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},i.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},i.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},i.prototype.setVariable=function(e,t){return this.variables[e]!==t&&(this.variables[e]=this.ctx[e]=t),this},i.prototype.text=function(e,t,n){this.ctx.fillText(e,t,n)},i.prototype.backgroundRepeatShape=function(e,t,n,i,a,o,r,s,l){var c=[["line",Math.round(a),Math.round(o)],["line",Math.round(a+r),Math.round(o)],["line",Math.round(a+r),Math.round(s+o)],["line",Math.round(a),Math.round(s+o)]];this.clip([c],function(){this.renderBackgroundRepeat(e,t,n,i,l[3],l[0])},this)},i.prototype.renderBackgroundRepeat=function(e,t,n,i,a,o){var r=Math.round(i.left+t.left+a),s=Math.round(i.top+t.top+o);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,n),"repeat")),this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},i.prototype.renderBackgroundGradient=function(e,t){if(e instanceof r){var n=this.ctx.createLinearGradient(t.left+t.width*e.x0,t.top+t.height*e.y0,t.left+t.width*e.x1,t.top+t.height*e.y1);e.colorStops.forEach(function(e){n.addColorStop(e.stop,e.color.toString())}),this.rectangle(t.left,t.top,t.width,t.height,n)}},i.prototype.resizeImage=function(e,t){var n=e.image;if(n.width===t.width&&n.height===t.height)return n;var i,a=document.createElement("canvas");return a.width=t.width,a.height=t.height,i=a.getContext("2d"),i.drawImage(n,0,0,n.width,n.height,0,0,t.width,t.height),a},t.exports=i},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,t,n){function i(e,t,n,i){a.call(this,n,i),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*t}var a=e("./nodecontainer");i.prototype=Object.create(a.prototype),i.prototype.getParentStack=function(e){var t=this.parent?this.parent.stack:null;return t?t.ownStacking?t:t.getParentStack(e):e.stack},t.exports=i},{"./nodecontainer":14}],22:[function(e,t,n){function i(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}i.prototype.testRangeBounds=function(e){var t,n,i,a,o=!1;return e.createRange&&(t=e.createRange(),t.getBoundingClientRect&&(n=e.createElement("boundtest"),n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),i=t.getBoundingClientRect(),a=i.height,123===a&&(o=!0),e.body.removeChild(n))),o},i.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},i.prototype.testSVG=function(){var e=new Image,t=document.createElement("canvas"),n=t.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch(e){return!1}return!0},t.exports=i},{}],23:[function(e,t,n){function i(e){this.src=e,this.image=null;var t=this;this.promise=this.hasFabric().then(function(){return t.isInline(e)?Promise.resolve(t.inlineFormatting(e)):a(e)}).then(function(e){return new Promise(function(n){window.html2canvas.svg.fabric.loadSVGFromString(e,t.createCanvas.call(t,n))})})}var a=e("./xhr"),o=e("./utils").decode64;i.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},i.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},i.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},i.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},i.prototype.createCanvas=function(e){var t=this;return function(n,i){var a=new window.html2canvas.svg.fabric.StaticCanvas("c");t.image=a.lowerCanvasEl,a.setWidth(i.width).setHeight(i.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(n,i)).renderAll(),e(a.lowerCanvasEl)}},i.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):o(e)},t.exports=i},{"./utils":26,"./xhr":28}],24:[function(e,t,n){function i(e,t){this.src=e,this.image=null;var n=this;this.promise=t?new Promise(function(t,i){n.image=new Image,n.image.onload=t,n.image.onerror=i,n.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),n.image.complete===!0&&t(n.image)}):this.hasFabric().then(function(){return new Promise(function(t){window.html2canvas.svg.fabric.parseSVGDocument(e,n.createCanvas.call(n,t))})})}var a=e("./svgcontainer");i.prototype=Object.create(a.prototype),t.exports=i},{"./svgcontainer":23}],25:[function(e,t,n){function i(e,t){o.call(this,e,t)}function a(e,t,n){if(e.length>0)return t+n.toUpperCase()}var o=e("./nodecontainer");i.prototype=Object.create(o.prototype),i.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},i.prototype.transform=function(e){var t=this.node.data;switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,a);case"uppercase":return t.toUpperCase();default:return t}},t.exports=i},{"./nodecontainer":14}],26:[function(e,t,n){n.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},n.bind=function(e,t){return function(){return e.apply(t,arguments)}},n.decode64=function(e){var t,n,i,a,o,r,s,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=e.length,u="";for(t=0;t<d;t+=4)n=c.indexOf(e[t]),i=c.indexOf(e[t+1]),a=c.indexOf(e[t+2]),o=c.indexOf(e[t+3]),r=n<<2|i>>4,s=(15&i)<<4|a>>2,l=(3&a)<<6|o,u+=64===a?String.fromCharCode(r):64===o||o===-1?String.fromCharCode(r,s):String.fromCharCode(r,s,l);return u},n.getBounds=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=null==e.offsetWidth?t.width:e.offsetWidth;return{top:t.top,bottom:t.bottom||t.top+t.height,right:t.left+n,left:t.left,width:n,height:null==e.offsetHeight?t.height:e.offsetHeight}}return{}},n.offsetBounds=function(e){var t=e.offsetParent?n.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,right:e.offsetLeft+t.left+e.offsetWidth,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},n.parseBackgrounds=function(e){var t,n,i,a,o,r,s,l=" \r\n\t",c=[],d=0,u=0,p=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&s.push(n),"-"===t.substr(0,1)&&(a=t.indexOf("-",1)+1)>0&&(i=t.substr(0,a),t=t.substr(a)),c.push({prefix:i,method:t.toLowerCase(),value:o,args:s,image:null})),s=[],t=i=n=o=""};return s=[],t=i=n=o="",e.split("").forEach(function(e){if(!(0===d&&l.indexOf(e)>-1)){switch(e){case'"':r?r===e&&(r=null):r=e;break;case"(":if(r)break;if(0===d)return d=1,void(o+=e);u++;break;case")":if(r)break;if(1===d){if(0===u)return d=0,o+=e,void p();u--}break;case",":if(r)break;if(0===d)return void p();if(1===d&&0===u&&!t.match(/^url$/i))return s.push(n),n="",void(o+=e)}o+=e,0===d?t+=e:n+=e}}),p(),c}},{}],27:[function(e,t,n){function i(e){a.apply(this,arguments),this.type="linear"===e.args[0]?a.TYPES.LINEAR:a.TYPES.RADIAL}var a=e("./gradientcontainer");i.prototype=Object.create(a.prototype),t.exports=i},{"./gradientcontainer":9}],28:[function(e,t,n){function i(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.onload=function(){200===i.status?t(i.responseText):n(new Error(i.statusText))},i.onerror=function(){n(new Error("Network Error"))},i.send()})}t.exports=i},{}]},{},[4])(4)}),!function(e,t){function n(t){if("function"!=typeof require||"undefined"==typeof module||!module.exports)return e[t];try{return require(t.toLowerCase())}catch(e){}}function i(e,t){return null===e?"null"===t:void 0===e?"undefined"===t:e.is&&e instanceof d?"element"===t:Object.prototype.toString.call(e).toLowerCase().indexOf(t)>7}function a(e){var t,n,o,r,s,l,c,d,u;if(e instanceof a)return e;for(i(e,"array")||(e=String(e).replace(/\s/g,"").toLowerCase().match(/(?:\+,|[^,])+/g)),t=0,n=e.length;n>t;++t){for(i(e[t],"array")||(e[t]=String(e[t]).match(/(?:\+\/|[^\/])+/g)),l=[],o=e[t].length;o--;){for(c=e[t][o],s={jwertyCombo:String(c),shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1},i(c,"array")||(c=String(c).toLowerCase().match(/(?:(?:[^\+])+|\+\+|^\+$)/g)),r=c.length;r--;)"++"===c[r]&&(c[r]="+"),c[r]in m.mods?s[p[m.mods[c[r]]]]=!0:c[r]in m.keys?s.keyCode=m.keys[c[r]]:d=c[r].match(/^\[([^-]+\-?[^-]*)-([^-]+\-?[^-]*)\]$/);if(i(s.keyCode,"undefined"))if(d&&d[1]in m.keys&&d[2]in m.keys){for(d[2]=m.keys[d[2]],d[1]=m.keys[d[1]],u=d[1];u<d[2];++u)l.push({altKey:s.altKey,shiftKey:s.shiftKey,metaKey:s.metaKey,ctrlKey:s.ctrlKey,keyCode:u,jwertyCombo:String(c)});s.keyCode=u}else s.keyCode=0;l.push(s)}this[t]=l}return this.length=t,this}var o,r,s,l,c=e.document,d=n("jQuery")||n("Zepto")||n("ender")||c,u="keydown";d===c?(o=function(e,t){return e?d.querySelector(e,t||d):d},r=function(e,t){e.addEventListener(u,t,!1)},s=function(e,t){e.removeEventListener(u,t,!1)},l=function(e,t){var n,i=c.createEvent("Event");i.initEvent(u,!0,!0);for(n in t)i[n]=t[n];return(e||d).dispatchEvent(i)}):(o=function(e,t){return d(e||c,t)},r=function(e,t){d(e).bind(u+".jwerty",t)},s=function(e,t){d(e).unbind(u+".jwerty",t)},l=function(e,t){d(e||c).trigger(d.Event(u,t))});for(var p={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"},m={mods:{"⇧":16,shift:16,"⌃":17,ctrl:17,"⌥":18,alt:18,option:18,"⌘":91,meta:91,cmd:91,super:91,win:91},keys:{"⌫":8,backspace:8,"⇥":9,"⇆":9,tab:9,"↩":13,return:13,enter:13,"⌅":13,pause:19,"pause-break":19,"⇪":20,caps:20,"caps-lock":20,"⎋":27,escape:27,esc:27,space:32,"↖":33,pgup:33,"page-up":33,"↘":34,pgdown:34,"page-down":34,"⇟":35,end:35,"⇞":36,home:36,ins:45,insert:45,del:46,delete:46,"←":37,left:37,"arrow-left":37,"↑":38,up:38,"arrow-up":38,"→":39,right:39,"arrow-right":39,"↓":40,down:40,"arrow-down":40,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,"-":109,subtract:109,"num-.":110,"num-period":110,"num-dot":110,"num-full-stop":110,"num-delete":110,";":186,semicolon:186,"=":187,equals:187,",":188,comma:188,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostraphe:222}},f=47,h=0;++f<106;)m.keys[h]=f,m.keys["num-"+h]=f+48,++h;for(f=111,h=1;++f<136;)m.keys["f"+h]=f,++h;for(f=64;++f<91;)m.keys[String.fromCharCode(f).toLowerCase()]=f;var g=t.jwerty={event:function(e,t,n){if(i(t,"boolean")){var o=t;t=function(){return o}}e=new a(e);var r,s,l=0,c=e.length-1;return function(i){return(s=g.is(e,i,l))?c>l?void++l:(r=t.call(n||this,i,s),r===!1&&i.preventDefault(),void(l=0)):void(l=g.is(e,i)?1:0)}},is:function(e,t,n){e=new a(e),n=n||0,e=e[n],t=t.originalEvent||t;for(var i=e.length,o=!1;i--;){o=e[i].jwertyCombo;for(var r in e[i])"jwertyCombo"!==r&&t[r]!=e[i][r]&&(o=!1);if(o!==!1)return o}return o},key:function(t,n,a,l,c){var d=i(a,"element")||i(a,"string")?a:l,u=d===a?e:a,p=d===a?l:c,m=i(d,"element")?d:o(d,p),f=g.event(t,n,u);return r(m,f),{unbind:function(){s(m,f)}}},fire:function(e,t,n,r){e=new a(e);var s=i(n,"number")?n:r;l(i(t,"element")?t:o(t,n),e[s||0][0])},KEYS:m}}("undefined"!=typeof global&&global.window||this,"undefined"!=typeof module&&module.exports?module.exports:this),function(e){var t=function(e,t){var n=e[0],s=e[1],l=e[2],c=e[3];n=i(n,s,l,c,t[0],7,-680876936),c=i(c,n,s,l,t[1],12,-389564586),l=i(l,c,n,s,t[2],17,606105819),s=i(s,l,c,n,t[3],22,-1044525330),n=i(n,s,l,c,t[4],7,-176418897),c=i(c,n,s,l,t[5],12,1200080426),l=i(l,c,n,s,t[6],17,-1473231341),s=i(s,l,c,n,t[7],22,-45705983),n=i(n,s,l,c,t[8],7,1770035416),c=i(c,n,s,l,t[9],12,-1958414417),l=i(l,c,n,s,t[10],17,-42063),s=i(s,l,c,n,t[11],22,-1990404162),n=i(n,s,l,c,t[12],7,1804603682),c=i(c,n,s,l,t[13],12,-40341101),l=i(l,c,n,s,t[14],17,-1502002290),s=i(s,l,c,n,t[15],22,1236535329),n=a(n,s,l,c,t[1],5,-165796510),c=a(c,n,s,l,t[6],9,-1069501632),l=a(l,c,n,s,t[11],14,643717713),s=a(s,l,c,n,t[0],20,-373897302),n=a(n,s,l,c,t[5],5,-701558691),c=a(c,n,s,l,t[10],9,38016083),l=a(l,c,n,s,t[15],14,-660478335),s=a(s,l,c,n,t[4],20,-405537848),n=a(n,s,l,c,t[9],5,568446438),c=a(c,n,s,l,t[14],9,-1019803690),l=a(l,c,n,s,t[3],14,-187363961),s=a(s,l,c,n,t[8],20,1163531501),n=a(n,s,l,c,t[13],5,-1444681467),c=a(c,n,s,l,t[2],9,-51403784),l=a(l,c,n,s,t[7],14,1735328473),s=a(s,l,c,n,t[12],20,-1926607734),n=o(n,s,l,c,t[5],4,-378558),c=o(c,n,s,l,t[8],11,-2022574463),l=o(l,c,n,s,t[11],16,1839030562),s=o(s,l,c,n,t[14],23,-35309556),n=o(n,s,l,c,t[1],4,-1530992060),c=o(c,n,s,l,t[4],11,1272893353),l=o(l,c,n,s,t[7],16,-155497632),s=o(s,l,c,n,t[10],23,-1094730640),n=o(n,s,l,c,t[13],4,681279174),c=o(c,n,s,l,t[0],11,-358537222),l=o(l,c,n,s,t[3],16,-722521979),s=o(s,l,c,n,t[6],23,76029189),n=o(n,s,l,c,t[9],4,-640364487),c=o(c,n,s,l,t[12],11,-421815835),l=o(l,c,n,s,t[15],16,530742520),s=o(s,l,c,n,t[2],23,-995338651),n=r(n,s,l,c,t[0],6,-198630844),c=r(c,n,s,l,t[7],10,1126891415),l=r(l,c,n,s,t[14],15,-1416354905),s=r(s,l,c,n,t[5],21,-57434055),n=r(n,s,l,c,t[12],6,1700485571),c=r(c,n,s,l,t[3],10,-1894986606),l=r(l,c,n,s,t[10],15,-1051523),s=r(s,l,c,n,t[1],21,-2054922799),n=r(n,s,l,c,t[8],6,1873313359),c=r(c,n,s,l,t[15],10,-30611744),l=r(l,c,n,s,t[6],15,-1560198380),s=r(s,l,c,n,t[13],21,1309151649),n=r(n,s,l,c,t[4],6,-145523070),c=r(c,n,s,l,t[11],10,-1120210379),l=r(l,c,n,s,t[2],15,718787259),s=r(s,l,c,n,t[9],21,-343485551),e[0]=m(n,e[0]),e[1]=m(s,e[1]),e[2]=m(l,e[2]),e[3]=m(c,e[3])},n=function(e,t,n,i,a,o){return t=m(m(t,e),m(i,o)),m(t<<a|t>>>32-a,n)},i=function(e,t,i,a,o,r,s){return n(t&i|~t&a,e,t,o,r,s)},a=function(e,t,i,a,o,r,s){return n(t&a|i&~a,e,t,o,r,s)},o=function(e,t,i,a,o,r,s){return n(t^i^a,e,t,o,r,s)},r=function(e,t,i,a,o,r,s){return n(i^(t|~a),e,t,o,r,s)},s=function(e){var n,i=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)t(a,l(e.substring(n-64,n)));e=e.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)o[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(t(a,o),n=0;n<16;n++)o[n]=0;return o[14]=8*i,t(a,o),a},l=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},c="0123456789abcdef".split(""),d=function(e){for(var t="",n=0;n<4;n++)t+=c[e>>8*n+4&15]+c[e>>8*n&15];return t},u=function(e){for(var t=0;t<e.length;t++)e[t]=d(e[t]);return e.join("")},p=e.md5=function(e){return u(s(e))},m=function(e,t){return e+t&4294967295};if("5d41402abc4b2a76b9719d911017c592"!=p("hello"))var m=function(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}}(window),function(e,t){var n=function(e){return new o(e)};n.version="0.1.3";var i=e.fxSetup||{rates:{},base:""};n.rates=i.rates,n.base=i.base,n.settings={from:i.from||n.base,to:i.to||n.base};var a=n.convert=function(e,t){if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)e[i]=a(e[i],t);return e}t=t||{},t.from||(t.from=n.settings.from),t.to||(t.to=n.settings.to);var i=t.to,o=t.from,r=n.rates;if(r[n.base]=1,!r[i]||!r[o])throw"fx error";return i=o===n.base?r[i]:i===n.base?1/r[o]:r[i]*(1/r[o]),e*i},o=function(e){"string"==typeof e?(this._v=parseFloat(e.replace(/[^0-9-.]/g,"")),this._fx=e.replace(/([^A-Za-z])/g,"")):this._v=e},i=n.prototype=o.prototype;i.convert=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this._v),a.apply(n,e)},i.from=function(e){return e=n(a(this._v,{from:e,to:n.base})),e._fx=n.base,e},i.to=function(e){return a(this._v,{from:this._fx?this._fx:n.settings.from,to:e})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.fx=fx):"function"==typeof define&&define.amd?define([],function(){return n}):(n.noConflict=function(i){return function(){return e.fx=i,n.noConflict=t,n}}(e.fx),e.fx=n)}(this),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.PDFObject=t()}(this,function(){"use strict";if("undefined"==typeof window||"undefined"==typeof navigator)return!1;var e,t,n,i,a,o,r,s,l,c,d,u="2.0.201604172",p="undefined"!=typeof navigator.mimeTypes["application/pdf"],m=function(){return/iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase())}();return t=function(e){var t;try{t=new ActiveXObject(e)}catch(e){t=null}return t},n=function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},
i=function(){return!(!t("AcroPDF.PDF")&&!t("PDF.PdfCtrl"))},e=p||n()&&i(),a=function(e){var t,n="";if(e){for(t in e)e.hasOwnProperty(t)&&(n+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&");n&&(n="#"+n,n=n.slice(0,n.length-1))}return n},o=function(e){"undefined"!=typeof console&&console.log&&console.log("[PDFObject] "+e)},r=function(e){return o(e),!1},l=function(e){var t=document.body;return"string"==typeof e?t=document.querySelector(e):"undefined"!=typeof jQuery&&e instanceof jQuery&&e.length?t=e.get(0):"undefined"!=typeof e.nodeType&&1===e.nodeType&&(t=e),t},c=function(e,t,n,i,a){var o=i+"?file="+encodeURIComponent(t)+n,r=m?"-webkit-overflow-scrolling: touch; overflow-y: scroll; ":"overflow: hidden; ",s="<div style='"+r+"position: absolute; top: 0; right: 0; bottom: 0; left: 0;'><iframe  "+a+" src='"+o+"' style='border: none; width: 100%; height: 100%;' frameborder='0'></iframe></div>";return e.className+=" pdfobject-container",e.style.position="relative",e.style.overflow="auto",e.innerHTML=s,e.getElementsByTagName("iframe")[0]},d=function(e,t,n,i,a,o,r){var s="";return s=t&&t!==document.body?"width: "+a+"; height: "+o+";":"position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",e.className+=" pdfobject-container",e.innerHTML="<embed "+r+" class='pdfobject' src='"+n+i+"' type='application/pdf' style='overflow: auto; "+s+"'/>",e.getElementsByTagName("embed")[0]},s=function(t,n,i){if("string"!=typeof t)return r("URL is not valid");n="undefined"!=typeof n&&n,i="undefined"!=typeof i?i:{};var o=i.id&&"string"==typeof i.id?"id='"+i.id+"'":"",s=!!i.page&&i.page,u=i.pdfOpenParams?i.pdfOpenParams:{},p="undefined"==typeof i.fallbackLink||i.fallbackLink,m=i.width?i.width:"100%",f=i.height?i.height:"100%",h="boolean"==typeof i.forcePDFJS&&i.forcePDFJS,g=!!i.PDFJS_URL&&i.PDFJS_URL,v=l(n),b="",y="",w="<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>";return v?(s&&(u.page=s),y=a(u),h&&g?c(v,t,y,g,o):e?d(v,n,t,y,m,f,o):g?c(v,t,y,g,o):(p&&(b="string"==typeof p?p:w,v.innerHTML=b.replace(/\[url\]/g,t)),r("This browser does not support embedded PDFs"))):r("Target element cannot be determined")},{embed:function(e,t,n){return s(e,t,n)},pdfobjectversion:function(){return u}(),supportsPDFs:function(){return e}()}}),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var t=window.StyleFix={link:function(e){var n=e.href||e.getAttribute("data-href");try{if(!n||"stylesheet"!==e.rel||e.hasAttribute("data-noprefix"))return}catch(e){return}var i,a=n.replace(/[^\/]+$/,""),o=(/^[a-z]{3,10}:/.exec(a)||[""])[0],r=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(a)||[""])[0],s=/^([^?]*)\??/.exec(n)[1],l=e.parentNode,c=new XMLHttpRequest;c.onreadystatechange=function(){4===c.readyState&&i()},i=function(){var n=c.responseText;if(n&&e.parentNode&&(!c.status||c.status<400||c.status>600)){if(n=t.fix(n,!0,e),n&&a){n=n.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,n){return/^([a-z]{3,10}:|#)/i.test(n)?e:/^\/\//.test(n)?'url("'+o+n+'")':/^\//.test(n)?'url("'+r+n+'")':/^\?/.test(n)?'url("'+s+n+'")':'url("'+a+n+'")'});var i=a.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");n=n.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+i,"gi"),"$1")}var d=document.createElement("style");d.textContent="/*# sourceURL="+e.getAttribute("href")+" */\n/*@ sourceURL="+e.getAttribute("href")+" */\n"+n,d.media=e.media,d.disabled=e.disabled,d.setAttribute("data-href",e.getAttribute("href")),e.id&&(d.id=e.id),l.insertBefore(d,e),l.removeChild(e),d.media=e.media}};try{c.open("GET",n),c.send(null)}catch(e){"undefined"!=typeof XDomainRequest&&(c=new XDomainRequest,c.onerror=c.onprogress=function(){},c.onload=i,c.open("GET",n),c.send(null))}e.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var n=e.disabled;e.textContent=t.fix(e.textContent,!0,e),e.disabled=n}},styleAttribute:function(e){var n=e.getAttribute("style");n=t.fix(n,!1,e),e.setAttribute("style",n)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,n){(t.fixers=t.fixers||[]).splice(void 0===n?t.fixers.length:n,0,e)},fix:function(e,n,i){if(t.fixers)for(var a=0;a<t.fixers.length;a++)e=t.fixers[a](e,n,i)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};!function(){setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}()}}(),function(e){function t(e,t,i,a,o){if(e=n[e],e.length){var r=RegExp(t+"("+e.join("|")+")"+i,"gi");o=o.replace(r,a)}return o}if(window.StyleFix&&window.getComputedStyle){var n=window.PrefixFree={prefixCSS:function(e,i,a){var o=n.prefix;if(n.functions.indexOf("linear-gradient")>-1&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,n,i){return t+(n||"")+"linear-gradient("+(90-i)+"deg"})),e=t("functions","(\\s|:|,)","\\s*\\(","$1"+o+"$2(",e),e=t("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+o+"$2$3",e),e=t("properties","(^|\\{|\\s|;)","\\s*:","$1"+o+"$2:",e),n.properties.length){var r=RegExp("\\b("+n.properties.join("|")+")(?!:)","gi");e=t("valueProperties","\\b",":(.+?);",function(e){return e.replace(r,o+"$1")},e)}return i&&(e=t("selectors","","\\b",n.prefixSelector,e),e=t("atrules","@","\\b","@"+o+"$1",e)),e=e.replace(RegExp("-"+o,"g"),"-"),e=e.replace(/-\*-(?=[a-z]+)/gi,n.prefix)},property:function(e){return(n.properties.indexOf(e)>=0?n.prefix:"")+e},value:function(e,i){return e=t("functions","(^|\\s|,)","\\s*\\(","$1"+n.prefix+"$2(",e),e=t("keywords","(^|\\s)","(\\s|$)","$1"+n.prefix+"$2$3",e),n.valueProperties.indexOf(i)>=0&&(e=t("properties","(^|\\s|,)","($|\\s|,)","$1"+n.prefix+"$2$3",e)),e},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+n.prefix})},prefixProperty:function(e,t){var i=n.prefix+e;return t?StyleFix.camelCase(i):i}};!function(){var e={},t=[],i=getComputedStyle(document.documentElement,null),a=document.createElement("div").style,o=function(n){if("-"===n.charAt(0)){t.push(n);var i=n.split("-"),a=i[1];for(e[a]=++e[a]||1;i.length>3;){i.pop();var o=i.join("-");r(o)&&t.indexOf(o)===-1&&t.push(o)}}},r=function(e){return StyleFix.camelCase(e)in a};if(i&&i.length>0)for(var s=0;s<i.length;s++)o(i[s]);else for(var l in i)o(StyleFix.deCamelCase(l));var c={uses:0};for(var d in e){var u=e[d];c.uses<u&&(c={prefix:d,uses:u})}n.prefix="-"+c.prefix+"-",n.Prefix=StyleFix.camelCase(n.prefix),n.properties=[];for(var s=0;s<t.length;s++){var l=t[s];if(0===l.indexOf(n.prefix)){var p=l.slice(n.prefix.length);r(p)||n.properties.push(p)}}"Ms"!=n.Prefix||"transform"in a||"MsTransform"in a||!("msTransform"in a)||n.properties.push("transform","transform-origin"),n.properties.sort()}(),function(){function e(e,t){return a[t]="",a[t]=e,!!a[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var i={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};n.functions=[],n.keywords=[];var a=document.createElement("div").style;for(var o in t){var r=t[o],s=r.property,l=o+"("+r.params+")";!e(l,s)&&e(n.prefix+l,s)&&n.functions.push(o)}for(var c in i){var s=i[c];!e(c,s)&&e(n.prefix+c,s)&&n.keywords.push(c)}}(),function(){function t(e){return o.textContent=e+"{}",!!o.sheet.cssRules.length}var i={":read-only":null,":read-write":null,":any-link":null,"::selection":null},a={keyframes:"name",viewport:null,document:'regexp(".")'};n.selectors=[],n.atrules=[];var o=e.appendChild(document.createElement("style"));for(var r in i){var s=r+(i[r]?"("+i[r]+")":"");!t(s)&&t(n.prefixSelector(s))&&n.selectors.push(r)}for(var l in a){var s=l+" "+(a[l]||"");!t("@"+s)&&t("@"+n.prefix+s)&&n.atrules.push(l)}e.removeChild(o)}(),n.valueProperties=["transition","transition-property","will-change"],e.className+=" "+n.prefix,StyleFix.register(n.prefixCSS)}}(document.documentElement),!function(){"use strict";var e="undefined"!=typeof module&&module.exports,t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,a=n.length,o={};a>i;i++)if(e=n[i],e&&e[1]in document){for(i=0,t=e.length;t>i;i++)o[n[0][i]]=e[i];return o}return!1}(),i={request:function(e){var i=n.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[i]():e[i](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[n.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(){},onerror:function(){},raw:n};return n?(Object.defineProperties(i,{isFullscreen:{get:function(){return!!document[n.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[n.fullscreenEnabled]}}}),document.addEventListener(n.fullscreenchange,function(e){i.onchange.call(i,e)}),document.addEventListener(n.fullscreenerror,function(e){i.onerror.call(i,e)}),void(e?module.exports=i:window.screenfull=i)):void(e?module.exports=!1:window.screenfull=!1)}(),function(e){e.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){function a(t){if(c){t=t||window.event;var n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(b.parent())&&o(n,!0),t.preventDefault&&!v&&t.preventDefault(),v||(t.returnValue=!1)}}function o(e,t,n){v=!1;var a=b.outerHeight()-w.outerHeight();t&&(t=parseInt(w.css("top"))+e*parseInt(i.wheelStep)/100*w.outerHeight(),t=Math.min(Math.max(t,0),a),t=0<e?Math.ceil(t):Math.floor(t),w.css({top:t+"px"})),h=parseInt(w.css("top"))/(b.outerHeight()-w.outerHeight()),t=h*(b[0].scrollHeight-b.outerHeight()),n&&(t=e,e=t/b[0].scrollHeight*b.outerHeight(),e=Math.min(Math.max(e,0),a),w.css({top:e+"px"})),b.scrollTop(t),b.trigger("slimscrolling",~~t),s(),l()}function r(){f=Math.max(b.outerHeight()/b[0].scrollHeight*b.outerHeight(),30),w.css({height:f+"px"});var e=f==b.outerHeight()?"none":"block";w.css({display:e})}function s(){r(),clearTimeout(p),h==~~h?(v=i.allowPageScroll,g!=h&&b.trigger("slimscroll",0==~~h?"top":"bottom")):v=!1,g=h,f>=b.outerHeight()?v=!0:(w.stop(!0,!0).fadeIn("fast"),i.railVisible&&x.stop(!0,!0).fadeIn("fast"))}function l(){i.alwaysVisible||(p=setTimeout(function(){i.disableFadeOut&&c||d||u||(w.fadeOut("slow"),x.fadeOut("slow"))},1e3))}var c,d,u,p,m,f,h,g,v=!1,b=e(this);if(b.parent().hasClass(i.wrapperClass)){var y=b.scrollTop(),w=b.siblings("."+i.barClass),x=b.siblings("."+i.railClass);if(r(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){b.parent().css("height","auto"),b.css("height","auto");var _=b.parent().parent().height();b.parent().css("height",_),b.css("height",_)}else"height"in n&&(_=n.height,b.parent().css("height",_),b.css("height",_));if("scrollTo"in n)y=parseInt(i.scrollTo);else if("scrollBy"in n)y+=parseInt(i.scrollBy);else if("destroy"in n)return w.remove(),x.remove(),void b.unwrap();o(y,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){i.height="auto"==i.height?b.parent().height():i.height,y=e("<div></div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height}),b.css({overflow:"hidden",width:i.width,height:i.height});var x=e("<div></div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),w=e("<div></div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),_="right"==i.position?{right:i.distance}:{left:i.distance};x.css(_),w.css(_),b.wrap(y),b.parent().append(w),b.parent().append(x),i.railDraggable&&w.bind("mousedown",function(n){var i=e(document);return u=!0,t=parseFloat(w.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,w.css("top",currTop),o(0,w.position().top,!1)}),i.bind("mouseup.slimscroll",function(e){u=!1,l(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),x.hover(function(){s()},function(){l()}),w.hover(function(){d=!0},function(){d=!1}),b.hover(function(){c=!0,s(),l()},function(){c=!1,l()}),b.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(m=e.originalEvent.touches[0].pageY)}),b.bind("touchmove",function(e){v||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(o((m-e.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),m=e.originalEvent.touches[0].pageY)}),r(),"bottom"===i.start?(w.css({top:b.outerHeight()-w.outerHeight()}),o(0,!0)):"top"!==i.start&&(o(e(i.start).position().top,null,!0),i.alwaysVisible||w.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",a,!1),this.addEventListener("mousewheel",a,!1)):document.attachEvent("onmousewheel",a)}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),!function(e,t,n){"use strict";!function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){var n=t[r][1][e];return a(n?n:e)},d,d.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(i,a,o){var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0});var s,l,c,d,u=i("./modules/handle-dom"),p=i("./modules/utils"),m=i("./modules/handle-swal-dom"),f=i("./modules/handle-click"),h=i("./modules/handle-key"),g=r(h),v=i("./modules/default-params"),b=r(v),y=i("./modules/set-params"),w=r(y);o.default=c=d=function(){function i(e){var t=a;return t[e]===n?b.default[e]:t[e]}var a=arguments[0];if(u.addClass(t.body,"stop-scrolling"),m.resetInput(),a===n)return p.logStr("SweetAlert expects at least 1 attribute!"),!1;var o=p.extend({},b.default);switch(typeof a){case"string":o.title=a,o.text=arguments[1]||"",o.type=arguments[2]||"";break;case"object":if(a.title===n)return p.logStr('Missing "title" argument!'),!1;o.title=a.title;for(var r in b.default)o[r]=i(r);o.confirmButtonText=o.showCancelButton?"Confirm":b.default.confirmButtonText,o.confirmButtonText=i("confirmButtonText"),o.doneFunction=arguments[1]||null;break;default:return p.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof a),!1}w.default(o),m.fixVerticalPosition(),m.openModal(arguments[1]);for(var c=m.getModal(),h=c.querySelectorAll("button"),v=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],y=function(e){return f.handleButton(e,o,c)},x=0;x<h.length;x++)for(var _=0;_<v.length;_++){var $=v[_];h[x][$]=y}m.getOverlay().onclick=y,s=e.onkeydown;var k=function(e){return g.default(e,o,c)};e.onkeydown=k,e.onfocus=function(){setTimeout(function(){l!==n&&(l.focus(),l=n)},0)},d.enableButtons()},c.setDefaults=d.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");p.extend(b.default,e)},c.close=d.close=function(){var i=m.getModal();u.fadeOut(m.getOverlay(),5),u.fadeOut(i,5),u.removeClass(i,"showSweetAlert"),u.addClass(i,"hideSweetAlert"),u.removeClass(i,"visible");var a=i.querySelector(".sa-icon.sa-success");u.removeClass(a,"animate"),u.removeClass(a.querySelector(".sa-tip"),"animateSuccessTip"),u.removeClass(a.querySelector(".sa-long"),"animateSuccessLong");var o=i.querySelector(".sa-icon.sa-error");u.removeClass(o,"animateErrorIcon"),u.removeClass(o.querySelector(".sa-x-mark"),"animateXMark");var r=i.querySelector(".sa-icon.sa-warning");return u.removeClass(r,"pulseWarning"),u.removeClass(r.querySelector(".sa-body"),"pulseWarningIns"),u.removeClass(r.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=i.getAttribute("data-custom-class");u.removeClass(i,e)},300),u.removeClass(t.body,"stop-scrolling"),e.onkeydown=s,e.previousActiveElement&&e.previousActiveElement.focus(),l=n,clearTimeout(i.timeout),!0},c.showInputError=d.showInputError=function(e){var t=m.getModal(),n=t.querySelector(".sa-input-error");u.addClass(n,"show");var i=t.querySelector(".sa-error-container");u.addClass(i,"show"),i.querySelector("p").innerHTML=e,setTimeout(function(){c.enableButtons()},1),t.querySelector("input").focus()},c.resetInputError=d.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=m.getModal(),n=t.querySelector(".sa-input-error");u.removeClass(n,"show");var i=t.querySelector(".sa-error-container");u.removeClass(i,"show")},c.disableButtons=d.disableButtons=function(){var e=m.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!0,n.disabled=!0},c.enableButtons=d.enableButtons=function(){var e=m.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!1,n.disabled=!1},"undefined"!=typeof e?e.sweetAlert=e.swal=c:p.logStr("SweetAlert is a frontend module!"),a.exports=o.default},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n.default=i,t.exports=n.default},{}],3:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});var a=t("./utils"),o=(t("./handle-swal-dom"),t("./handle-dom")),r=function(t,n,i){function r(e){f&&n.confirmButtonColor&&(m.style.backgroundColor=e)}var c,d,u,p=t||e.event,m=p.target||p.srcElement,f=-1!==m.className.indexOf("confirm"),h=-1!==m.className.indexOf("sweet-overlay"),g=o.hasClass(i,"visible"),v=n.doneFunction&&"true"===i.getAttribute("data-has-done-function");switch(f&&n.confirmButtonColor&&(c=n.confirmButtonColor,d=a.colorLuminance(c,-.04),u=a.colorLuminance(c,-.14)),p.type){case"mouseover":r(d);break;case"mouseout":r(c);break;case"mousedown":r(u);break;case"mouseup":r(d);break;case"focus":var b=i.querySelector("button.confirm"),y=i.querySelector("button.cancel");f?y.style.boxShadow="none":b.style.boxShadow="none";break;case"click":var w=i===m,x=o.isDescendant(i,m);if(!w&&!x&&g&&!n.allowOutsideClick)break;f&&v&&g?s(i,n):v&&g||h?l(i,n):o.isDescendant(i,m)&&"BUTTON"===m.tagName&&sweetAlert.close()}},s=function(e,t){var n=!0;o.hasClass(e,"show-input")&&(n=e.querySelector("input").value,n||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(e,t){var n=String(t.doneFunction).replace(/\s/g,""),i="function("===n.substring(0,9)&&")"!==n.substring(9,10);i&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};i.default={handleButton:r,handleConfirm:s,handleCancel:l},n.exports=i.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(n,i,a){Object.defineProperty(a,"__esModule",{value:!0});var o=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},r=function(e,t){o(e,t)||(e.className+=" "+t)},s=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(o(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},l=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},c=function(e){e.style.opacity="",e.style.display="block"},d=function(e){if(e&&!e.length)return c(e);for(var t=0;t<e.length;++t)c(e[t])},u=function(e){e.style.opacity="",e.style.display="none"},p=function(e){if(e&&!e.length)return u(e);for(var t=0;t<e.length;++t)u(e[t])},m=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},f=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},h=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(i,t)});i()}e.style.display="block"},g=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,i=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(i,t):e.style.display="none"});i()},v=function(n){if("function"==typeof MouseEvent){var i=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(i)}else if(t.createEvent){var a=t.createEvent("MouseEvents");a.initEvent("click",!1,!1),n.dispatchEvent(a)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},b=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};a.hasClass=o,a.addClass=r,a.removeClass=s,a.escapeHtml=l,a._show=c,a.show=d,a._hide=u,a.hide=p,a.isDescendant=m,a.getTopMargin=f,a.fadeIn=h,a.fadeOut=g,a.fireClick=v,a.stopEventPropagation=b},{}],5:[function(t,i,a){Object.defineProperty(a,"__esModule",{value:!0});var o=t("./handle-dom"),r=t("./handle-swal-dom"),s=function(t,i,a){var s=t||e.event,l=s.keyCode||s.which,c=a.querySelector("button.confirm"),d=a.querySelector("button.cancel"),u=a.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var p=s.target||s.srcElement,m=-1,f=0;f<u.length;f++)if(p===u[f]){m=f;break}9===l?(p=-1===m?c:m===u.length-1?u[0]:u[m+1],o.stopEventPropagation(s),p.focus(),i.confirmButtonColor&&r.setFocusStyle(p,i.confirmButtonColor)):13===l?("INPUT"===p.tagName&&(p=c,c.focus()),p=-1===m?c:n):27===l&&i.allowEscapeKey===!0?(p=d,o.fireClick(p,s)):p=n}};a.default=s,i.exports=a.default},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(n,i,a){var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a,"__esModule",{value:!0});var r=n("./utils"),s=n("./handle-dom"),l=n("./default-params"),c=o(l),d=n("./injected-html"),u=o(d),p=".sweet-alert",m=".sweet-overlay",f=function(){var e=t.createElement("div");for(e.innerHTML=u.default;e.firstChild;)t.body.appendChild(e.firstChild)},h=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=t.querySelector(p);return e||(f(),e=h()),e}),g=function(){var e=h();return e?e.querySelector("input"):void 0},v=function(){return t.querySelector(m)},b=function(e,t){var n=r.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},y=function(n){var i=h();s.fadeIn(v(),10),s.show(i),s.addClass(i,"showSweetAlert"),s.removeClass(i,"hideSweetAlert"),e.previousActiveElement=t.activeElement;var a=i.querySelector("button.confirm");a.focus(),setTimeout(function(){s.addClass(i,"visible")},500);var o=i.getAttribute("data-timer");if("null"!==o&&""!==o){var r=n;i.timeout=setTimeout(function(){var e=(r||null)&&"true"===i.getAttribute("data-has-done-function");e?r(null):sweetAlert.close()},o)}},w=function(){var e=h(),t=g();s.removeClass(e,"show-input"),t.value=c.default.inputValue,t.setAttribute("type",c.default.inputType),t.setAttribute("placeholder",c.default.inputPlaceholder),x()},x=function(e){if(e&&13===e.keyCode)return!1;var t=h(),n=t.querySelector(".sa-input-error");s.removeClass(n,"show");var i=t.querySelector(".sa-error-container");s.removeClass(i,"show")},_=function(){var e=h();e.style.marginTop=s.getTopMargin(h())};a.sweetAlertInitialize=f,a.getModal=h,a.getOverlay=v,a.getInput=g,a.setFocusStyle=b,a.openModal=y,a.resetInput=w,a.resetInputError=x,a.fixVerticalPosition=_},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var i='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';n.default=i,t.exports=n.default},{}],8:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var a=e("./utils"),o=e("./handle-swal-dom"),r=e("./handle-dom"),s=["error","warning","info","success","input","prompt"],l=function(e){var t=o.getModal(),i=t.querySelector("h2"),l=t.querySelector("p"),c=t.querySelector("button.cancel"),d=t.querySelector("button.confirm");if(i.innerHTML=e.html?e.title:r.escapeHtml(e.title).split("\n").join("<br>"),l.innerHTML=e.html?e.text:r.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&r.show(l),e.customClass)r.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var u=t.getAttribute("data-custom-class");r.removeClass(t,u),t.setAttribute("data-custom-class","")}if(r.hide(t.querySelectorAll(".sa-icon")),e.type&&!a.isIE8()){var p=function(){for(var i=!1,a=0;a<s.length;a++)if(e.type===s[a]){i=!0;break}if(!i)return logStr("Unknown alert type: "+e.type),{v:!1};var l=["success","error","warning","info"],c=n;-1!==l.indexOf(e.type)&&(c=t.querySelector(".sa-icon.sa-"+e.type),r.show(c));var d=o.getInput();switch(e.type){case"success":r.addClass(c,"animate"),r.addClass(c.querySelector(".sa-tip"),"animateSuccessTip"),r.addClass(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":r.addClass(c,"animateErrorIcon"),r.addClass(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":r.addClass(c,"pulseWarning"),r.addClass(c.querySelector(".sa-body"),"pulseWarningIns"),r.addClass(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":d.setAttribute("type",e.inputType),d.value=e.inputValue,d.setAttribute("placeholder",e.inputPlaceholder),r.addClass(t,"show-input"),setTimeout(function(){d.focus(),d.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof p)return p.v}if(e.imageUrl){var m=t.querySelector(".sa-icon.sa-custom");m.style.backgroundImage="url("+e.imageUrl+")",r.show(m);var f=80,h=80;if(e.imageSize){var g=e.imageSize.toString().split("x"),v=g[0],b=g[1];v&&b?(f=v,h=b):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}m.setAttribute("style",m.getAttribute("style")+"width:"+f+"px; height:"+h+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?c.style.display="inline-block":r.hide(c),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?d.style.display="inline-block":r.hide(d),e.cancelButtonText&&(c.innerHTML=r.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(d.innerHTML=r.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(d.style.backgroundColor=e.confirmButtonColor,d.style.borderLeftColor=e.confirmLoadingButtonColor,d.style.borderRightColor=e.confirmLoadingButtonColor,o.setFocusStyle(d,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var y=!!e.doneFunction;t.setAttribute("data-has-done-function",y),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};i.default=l,t.exports=i.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,n,i){Object.defineProperty(i,"__esModule",{value:!0});var a=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},o=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},r=function(){return e.attachEvent&&!e.addEventListener},s=function(t){e.console&&e.console.log("SweetAlert: "+t)},l=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,i,a="#";for(i=0;3>i;i++)n=parseInt(e.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),a+=("00"+n).substr(n.length);return a};i.extend=a,i.hexToRgb=o,i.isIE8=r,i.logStr=s,i.colorLuminance=l},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document);var app=angular.module("app",["ngCookies","ngResource","ngSanitize","ngStorage","ngTouch","ngFileUpload","ui.router","ui.bootstrap","smart-table","oc.lazyLoad","ui.load","ui.jq","ng.deviceDetector","ng-sortable","ui.colorpicker","ui-iconpicker","summernote","chart.js"]).factory("Data",["$http","VARS","$q",function(e,t,n){
var i=function(n){return n.__ref="__fromapp",e.post(t.ajaxurl,n).then(function(e){return e.data})};return{check_login:function(){return i({action:"check_login"})},logout:function(){return i({action:"logout"})},do_login:function(e,t){return i({action:"do_login",username_or_email:e,user_pass:t})},ajax:function(e){return i(e)},go:function(e,t){return angular.isObject(t)||(t={}),t.action=e,i(t)}}}]);app.config(["$locationProvider","$urlRouterProvider",function(e,t){e.hashPrefix("!"),t.when("/","/app/home"),t.when("/home","/app/home"),t.otherwise("/access/404")}]).config(["$controllerProvider","$compileProvider","$filterProvider","$provide",function(e,t,n,i){app.controller=e.register,app.directive=t.directive,app.filter=n.register,app.factory=i.factory,app.service=i.service,app.constant=i.constant,app.value=i.value}]).config(["$httpProvider",function(e){e.interceptors.push(["$q","$rootScope","VARS",function(e,t,n){return{request:function(i){if(i.url.indexOf("tpl/")>-1){var a=i.url.indexOf("?")===-1?"?":"&";i.url=i.url+a+"_="+n.version}return"GET"==i.method?t.$broadcast("loading-started"):t.$broadcast("saving-started"),i||e.when(i)},response:function(n){return t.online=!0,t.$broadcast("check_connection"),t.$broadcast("loading-complete"),n||e.when(n)},responseError:function(n){var i="timeout";return n&&n.status&&n.data&&(i=n.data.ExceptionMessage),null!=n.data||""!==n.statusText||0!==n.status&&n.status!==-1?n:(console.log("responseError",n),t.online=!1,t.$broadcast("check_connection"),e.reject(n))}}}]),e.defaults.transformRequest=function(e){return void 0===e?e:$.param(e)},e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"]}]).config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension|sms|whatsapp):/)}]),app.constant("VARS",window.vars).constant("JQ_CONFIG",{highcharts:[window.vars.url+"/assets/mods/highcharts/jsa.js"],sparkline:[window.vars.url+"/assets/mods/sparkline/js.js"],daterange:[window.vars.url+"/assets/mods/daterange/css.css",window.vars.url+"/assets/mods/daterange/js.js"],redactor:[window.vars.url+"/assets/mods/redactor/jsa.js",window.vars.url+"/assets/mods/redactor/css.css"],gmaps:["https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyDBbCeq_vmHZZ3gVjBdlYtdjms2QGJetLs"],gmaps_ang:[window.vars.url+"/assets/mods/gmaps/jsa.js"],pdfjs_build:[window.vars.url+"/pdfjs/build/pdf.js",window.vars.url+"/pdfjs/build/pdf.worker.js"],pdfMake:[window.vars.url+"/assets/mods/pdfmake/js.js"]}),app.factory("Modals",["$rootScope","$uibModal","$log","Data","VARS","$timeout",function(e,t,n,i,a,o){return{calc:function(){return t.open({templateUrl:"modals/calc.html",size:"calc"})},date_format:function(){return t.open({templateUrl:"modals/date-format.html",size:"lg"})},currency:function(){return t.open({templateUrl:"modals/currency.html",size:"currency"})},upgrade:function(){return t.open({templateUrl:"modals/app/upgrade.html",size:"lg"})},notifications:function(){return t.open({templateUrl:"modals/app/notifications.html",size:"lg"})},preview_lead:function(n){var i=e.$new();return i.params={id:n||!1},t.open({templateUrl:"modals/preview/lead.html",scope:i,size:"lg"})},preview_client:function(n){var i=e.$new();return i.params={id:n||!1},t.open({templateUrl:"modals/preview/client.html",scope:i,size:"lg"})},preview_policy:function(n){var i=e.$new();return i.params={id:n||!1},t.open({templateUrl:"modals/preview/policy.html",scope:i,size:"lg"})},preview_claim:function(n){var i=e.$new();return i.params={id:n||!1},t.open({templateUrl:"modals/preview/claim.html",scope:i,size:"lg"})},preview_invoice:function(n){var i=e.$new();return i.params={item:n||[]},t.open({templateUrl:"modals/preview/invoice.html",scope:i,size:"lg"})},leads:function(n,i){var a=e.$new();return a.params={item:i||[],is_new:n||!1},t.open({templateUrl:"modals/app/leads.html",scope:a,size:"lg",backdrop:"static",keyboard:!1})},clients:function(n,i){var a=e.$new();return a.params={item:i||[],is_new:n||!1},t.open({templateUrl:"modals/app/clients.html",scope:a,size:"lg",backdrop:"static",keyboard:!1})},policies:function(n,i,a){var o=e.$new();return o.params={item:i||[],is_new:n||!1,data:a||""},t.open({templateUrl:"modals/app/policies.html",scope:o,size:"lg",backdrop:"static",keyboard:!1})},claims:function(n,i){var a=e.$new();return a.params={item:i||[],is_new:n||!1},t.open({templateUrl:"modals/app/claims.html",scope:a,size:"lg",backdrop:"static",keyboard:!1})},claims_settlement:function(n){var i=e.$new();return i.params={item:n||[]},t.open({templateUrl:"modals/app/claims_settlement.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},loss_ratio:function(n){var i=e.$new();return i.params={item:n||{}},t.open({templateUrl:"modals/app/clients_loss_ratio.html",scope:i,size:"lg"})},SOA:function(n){var i=e.$new();return i.params={item:n||[]},t.open({templateUrl:"modals/app/clients_SOA.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},convert_to_client:function(n){var i=e.$new();return i.params={item:n||[]},t.open({templateUrl:"modals/app/convert-to-client.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},client:function(){return t.open({templateUrl:"modals/app/new/client.html",size:"md",backdrop:"static",keyboard:!1})},clients_group:function(){return t.open({templateUrl:"modals/app/new/clients-group.html",size:"sm",backdrop:"static",keyboard:!1})},company:function(){return t.open({templateUrl:"modals/app/new/company.html",size:"sm",backdrop:"static",keyboard:!1})},product:function(){return t.open({templateUrl:"modals/app/new/product.html",size:"md",backdrop:"static",keyboard:!1})},reference:function(){return t.open({templateUrl:"modals/app/new/reference.html",size:"md",backdrop:"static",keyboard:!1})},team:function(){return t.open({templateUrl:"modals/app/new/team.html",size:"md",backdrop:"static",keyboard:!1})},sms:function(n,i,a){var o=e.$new();return o.params={mobile:n||"",name:i||"",msg:a||""},t.open({templateUrl:"modals/app/sms/new.html",scope:o,size:"md",backdrop:"static",keyboard:!1})},email:function(n,i,a){var o=e.$new();return o.params={email:n||"",name:i||"",msg:a||""},t.open({templateUrl:"modals/app/email/new.html",scope:o,size:"md",backdrop:"static",keyboard:!1})},email_file:function(n,i,a){var o=e.$new();return o.params={files:n||[],obj:i||"",obj_id:a||""},t.open({templateUrl:"modals/app/email/file.html",scope:o,size:"lg",backdrop:"static",keyboard:!1})},email_briefcase:function(n){var i=e.$new();return i.params={files:n||[]},t.open({templateUrl:"modals/app/email/briefcase.html",scope:i,size:"lg",backdrop:"static",keyboard:!1})},gmap:function(n){var i=e.$new();return i.params={item:n||[]},t.open({templateUrl:"modals/app/gmap.html",scope:i,size:"md",resolve:{deps:["uiLoad","$ocLazyLoad","JQ_CONFIG",function(e,t,n){return e.load(n.gmaps).then(function(){return t.load(n.gmaps_ang)})}]}})},mailout_receivers:function(n){var i=e.$new();return i.params=n||0,t.open({templateUrl:"modals/mailout-receivers.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},sms_receivers:function(n){var i=e.$new();return i.params=n||0,t.open({templateUrl:"modals/sms-receivers.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},sending_log:function(n){var i=e.$new();return i.params=n||0,t.open({templateUrl:"modals/sending-log.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},payment:function(n){var i=e.$new();return i.params=n||0,t.open({templateUrl:"modals/accounting/payment.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},expense:function(n){var i=e.$new();return i.params={id:n||0},t.open({templateUrl:"modals/accounting/expense.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},invoice:function(n,i,a,o,r){var s=e.$new();return s.params={action:n||"new",invoice_id:i||0,client_id:a||0,client_name:o||"",policy_id:r||""},t.open({templateUrl:"modals/accounting/invoice.html",scope:s,size:"full",backdrop:"static",keyboard:!1})},invoice_pattern:function(){return t.open({templateUrl:"modals/settings/invoice_pattern.html",size:"md"})},invoice_no_edit:function(){return t.open({templateUrl:"modals/accounting/invoice-no-edit.html",size:"md"})},invoice_print:function(n){var i=e.$new();return i.params=n||0,t.open({templateUrl:"modals/accounting/invoice-print.html",scope:i,size:"md"})},invoice_installments:function(n){var i=e.$new();return i.params=n||0,t.open({templateUrl:"modals/accounting/invoice-installments.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},invoice_send:function(n){var i=e.$new();return i.params=n||0,t.open({templateUrl:"modals/accounting/invoice-send.html",scope:i,size:"lg"})},invoice_delete:function(n){var i=e.$new();return i.params=n||0,t.open({templateUrl:"modals/accounting/invoice-delete.html",scope:i,size:"md"})},transaction_info:function(n){var i=e.$new();return i.params=n||0,t.open({templateUrl:"modals/accounting/transaction-info.html",scope:i,size:"md"})},credit:function(n){var i=e.$new();return i.params={id:n||0},t.open({templateUrl:"modals/accounting/credit.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},transfer:function(n){var i=e.$new();return i.params={id:n||0},t.open({templateUrl:"modals/accounting/transfer.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},user:function(n){var i=e.$new();return i.params={obj:n||0},t.open({templateUrl:"modals/settings/user.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},user_pass:function(n){var i=e.$new();return i.params={obj:n||0},t.open({templateUrl:"modals/settings/user_pass.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},user_delete:function(n){var i=e.$new();return i.params={obj:n||0},t.open({templateUrl:"modals/settings/user_delete.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},vendor:function(n){var i=e.$new();return i.params={id:n||0},t.open({templateUrl:"modals/settings/vendor.html",scope:i,size:"md",backdrop:"static",keyboard:!1})},bank:function(n){var i=e.$new();return i.params={id:n||0},t.open({templateUrl:"modals/settings/bank.html",scope:i,size:"md",backdrop:"static",keyboard:!1})}}}]),angular.module("app").config(["$stateProvider","JQ_CONFIG","VARS",function(e,t,n){e.state("access",{url:"/access",template:'<div ui-view class="fade-in-right-big smooth h-full-force"></div>'}).state("access.lockme",{url:"/lockme",templateUrl:"access/lockme.html"}).state("access.signin",{url:"/signin",templateUrl:"access/signin.html",resolve:{$title:function(){return"Login"}}}).state("access.logout",{url:"/logout",templateUrl:"access/logout.html",controller:"LogoutController",resolve:{$title:function(){return"Login"}}}).state("access.forgotpwd",{url:"/forgotpwd",templateUrl:"access/forgotpwd.html",resolve:{$title:function(){return"Forgot my Password"}}}).state("access.404",{url:"/404",templateUrl:"access/404.html",resolve:{$title:function(){return"404 Page not found"}}})}]),angular.module("app").config(["$stateProvider","JQ_CONFIG","VARS",function(e,t,n){e.state("accounting",{abstract:!0,url:"/accounting",templateUrl:"app.html"}).state("accounting.index",{url:"/index",templateUrl:"accounting/index.html",resolve:{$title:function(){return"Accounting "}}}).state("accounting.invoices",{url:"/invoices",templateUrl:"accounting/invoices.html",resolve:{$title:function(){return"Invoices - Accounting "}}}).state("accounting.transactions",{url:"/transactions",templateUrl:"accounting/transactions.html",resolve:{$title:function(){return"Transactions - Accounting "}}}).state("accounting.statement",{url:"/statement",templateUrl:"accounting/statement.html",resolve:{$title:function(){return"Account Statement - Accounting"}}}).state("accounting.tracker",{url:"/tracker",templateUrl:"accounting/tracker.html",resolve:{$title:function(){return"Tracker - Accounting "},deps:["uiLoad","JQ_CONFIG",function(e,t){return e.load(t.pdfMake)}]}}).state("accounting.credits",{url:"/credits",templateUrl:"accounting/credits.html",resolve:{$title:function(){return"Credits - Accounting "}}})}]),angular.module("app").config(["$stateProvider","JQ_CONFIG","VARS",function(e,t,n){e.state("app",{abstract:!0,url:"/app",templateUrl:"app.html"}).state("app.home",{url:"/home",templateUrl:"app/home/index.html",resolve:{$title:function(){return"Dashboard"}}}).state("app.notifications",{url:"/notifications",templateUrl:"app/notifications.html",resolve:{$title:function(){return"Notifications"}}}).state("app.leads",{url:"/leads?ID&search",templateUrl:"app/leads/index.html",resolve:{$title:function(){return"Leads"}},controller:["$scope","$stateParams",function(e,t){e.ID=t.ID,e.QUERY=t.search}]}).state("app.clients",{url:"/clients?ID&search",templateUrl:"app/clients/index.html",resolve:{$title:function(){return"Clients"}},controller:["$scope","$stateParams",function(e,t){e.ID=t.ID,e.QUERY=t.search}]}).state("app.import",{url:"/import/:ImportType",templateUrl:"app/import/index.html",resolve:{$title:function(){return"Import"}},controller:["$scope","$stateParams",function(e,t){e.ImportType=t.ImportType}]}).state("app.export",{url:"/export/:ExportType",templateUrl:"app/export/index.html",resolve:{$title:function(){return"Export"}},controller:["$scope","$stateParams",function(e,t){e.ExportType=t.ExportType}]}).state("app.policies",{url:"/policies?ID&search",templateUrl:"app/policies/index.html",resolve:{$title:function(){return"Policies"}},controller:["$scope","$stateParams",function(e,t){e.ID=t.ID,e.QUERY=t.search}]}).state("app.claims",{url:"/claims?ID&search",templateUrl:"app/claims/index.html",resolve:{$title:function(){return"Claims"}},controller:["$scope","$stateParams",function(e,t){e.ID=t.ID,e.QUERY=t.search}]}).state("app.briefcase",{url:"/briefcase",templateUrl:"app/briefcase/index.html",resolve:{$title:function(){return"Files Briefcase "}}}).state("app.reporting",{url:"/reporting",templateUrl:"app/reporting/index.html",resolve:{$title:function(){return"Reporting "},deps:["uiLoad","JQ_CONFIG",function(e,t){return e.load(t.pdfMake)}]}}).state("app.reporting_indepth",{url:"/reporting_indepth",templateUrl:"app/reporting/indepth.html",resolve:{$title:function(){return"In-Depth Reporting"},deps:["uiLoad","JQ_CONFIG",function(e,t){return e.load(t.pdfMake)}]}}).state("app.mechanique",{url:"/mechanique",templateUrl:"app/mechanique/index.html",resolve:{$title:function(){return"Mechanique"}}}).state("app.notes",{url:"/note",templateUrl:"app/notes/index.html",resolve:{$title:function(){return"Notes"}}}).state("app.weather",{url:"/weather",templateUrl:"app/weather/index.html",resolve:{$title:function(){return"Weather"}}}).state("app.todo",{url:"/todo/:fold",templateUrl:"app/todo/index.html",resolve:{$title:function(){return"Todo"}},controller:["$scope","$stateParams",function(e,t){e.fold=t.fold}]})}]),angular.module("app").config(["$stateProvider","JQ_CONFIG","VARS",function(e,t,n){e.state("marketing",{abstract:!0,url:"/marketing",templateUrl:"app.html"}).state("marketing.sms",{url:"/sms",templateUrl:"marketing/sms.html",resolve:{$title:function(){return"Marketing - SMS "}}}).state("marketing.sms_add",{url:"/sms/add?ID",templateUrl:"marketing/sms.add.html",resolve:{$title:function(){return"Marketing - New SMS Campaign"}},controller:["$scope","$stateParams",function(e,t){e.ID=t.ID}]}).state("marketing.mailout",{url:"/mailout",templateUrl:"marketing/mailout.html",resolve:{$title:function(){return"Marketing - MailOut "}}}).state("marketing.mailout_add",{url:"/mailout/add?ID",templateUrl:"marketing/mailout.add.html",resolve:{$title:function(){return"Marketing - New MailOut Campaign"}},controller:["$scope","$stateParams",function(e,t){e.ID=t.ID}]})}]),angular.module("app").config(["$stateProvider","JQ_CONFIG","VARS",function(e,t,n){e.state("mobile",{abstract:!0,url:"/mobile",templateUrl:"app.html"}).state("mobile.add",{url:"/add",templateUrl:"mobile/add.html",resolve:{$title:function(){return"Create"}}}).state("mobile.accounting",{url:"/accounting",templateUrl:"mobile/accounting.html",resolve:{$title:function(){return"Accounting"}}})}]),angular.module("app").config(["$stateProvider","JQ_CONFIG","VARS",function(e,t,n){e.state("settings",{abstract:!0,url:"/settings",templateUrl:"app.html"}).state("settings.index",{url:"/index",templateUrl:"settings/index.html",resolve:{$title:function(){return"Settings "}}}).state("settings.users",{url:"/users",templateUrl:"settings/users.html",resolve:{$title:function(){return"Settings - Users Management"}}}).state("settings.business",{url:"/business",templateUrl:"settings/business.html",resolve:{$title:function(){return"Settings - Business Profile"}}}).state("settings.account",{url:"/profile",templateUrl:"settings/account.html",resolve:{$title:function(){return"Settings - My Account"}}}).state("settings.billing",{url:"/billing",templateUrl:"settings/billing.html",resolve:{$title:function(){return"Settings - Billing"}}}).state("settings.companies",{url:"/companies",templateUrl:"settings/companies.html",resolve:{$title:function(){return"Settings - Companies"}}}).state("settings.products",{url:"/products",templateUrl:"settings/products.html",resolve:{$title:function(){return"Settings - Products"}}}).state("settings.references",{url:"/references",templateUrl:"settings/references.html",resolve:{$title:function(){return"Settings - Reference Lists"}}}).state("settings.mailtemplate",{url:"/mailtemplate",templateUrl:"settings/mail/index.html",resolve:{$title:function(){return"Settings - Mail Template"}}}).state("settings.invoices",{url:"/invoices",templateUrl:"settings/invoices.html",resolve:{$title:function(){return"Settings - Invoices"}}}).state("settings.mailtemplates",{url:"/mailtemplates",templateUrl:"settings/mail-templates.html",resolve:{$title:function(){return"Settings - Mail Templates"}}}).state("settings.banks",{url:"/banks",templateUrl:"settings/banks.html",resolve:{$title:function(){return"Settings - Banks"}}}).state("settings.taxrates",{url:"/taxrates",templateUrl:"settings/taxrates.html",resolve:{$title:function(){return"Settings - Tax Rates"}}}).state("settings.vendors",{url:"/vendors",templateUrl:"settings/vendors.html",resolve:{$title:function(){return"Settings - Vendors"}}}).state("settings.expensecats",{url:"/expensecats",templateUrl:"settings/expensecats.html",resolve:{$title:function(){return"Settings - Expense Categories"}}}).state("settings.onlinepayments",{url:"/onlinepayments",templateUrl:"settings/onlinepayments.html",resolve:{$title:function(){return"Settings - Online Payments"}}}).state("settings.backup",{url:"/backup",templateUrl:"settings/backup.html",resolve:{$title:function(){return"Settings - Backup"}}})}]),angular.module("app").filter("ageFilter",function(){return function(e){if(void 0!==e&&null!==e&&e){"[object Date]"!==Object.prototype.toString.call(e)&&(e=new Date(e));var t=Date.now()-e.getTime(),n=new Date(t);return Math.abs(n.getUTCFullYear()-1970)}}}),angular.module("app").filter("capitalize",function(){return function(e){return e?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():""}}),angular.module("app").filter("dateFromMySQL",function(){return function(e){return e&&"0000-00-00"!==e?new Date(e+"T00:00:00.000Z").toISOString():null}}),angular.module("app").filter("dateToISO",function(){return function(e){return e?e=new Date(e).toISOString():null}}),angular.module("app").filter("datetimeFromMySQL",function(){return function(e){return e&&"0000-00-00 00:00:00"!==e?(e=e.replace(" ","T")+".000Z",new Date(e).toISOString()):null}}),angular.module("app").filter("fileExtension",["$filter",function(e){return function(t){return/\./.test(t)&&e("strLimit")(t.split(".").pop(),3,"..")||""}}]),angular.module("app").filter("filesize",function(){return function(e){if(0===e)return"---";if(isNaN(parseFloat(e))||!isFinite(e))return"-";var t=["bytes","kB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(n))).toFixed(1)+" "+(t[n]||"b")}}),angular.module("app").filter("formalname",function(){return function(e){return e=e||"",arr=e.split(" "),arr.length?arr[0]+" "+arr[arr.length-1].charAt(0).toUpperCase()+".":e}}),angular.module("app").filter("fromNow",function(){return function(e){return moment(e).fromNow()}}),angular.module("app").filter("html",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),angular.module("app").filter("md5",function(){return function(e){return md5(e)}}),angular.module("app").filter("strLimit",["$filter",function(e){return function(t,n,i){return t.length<=n?t:e("limitTo")(t,n)+(i||"...")}}]),angular.module("app").filter("to_unix_date",function(){return function(e){if(e)return Math.round(e.getTime()/1e3)}}),angular.module("app").filter("unix_date",function(){return function(e){if(e)return 1e3*parseInt(e)}}),angular.module("app").filter("urldecode",["$window",function(e){return function(t){return e.decodeURI(t)}}]),angular.module("app").filter("urlencode",["$window",function(e){return function(t){return e.encodeURIComponent(t)}}]),angular.module("app").factory("SWAL",["$rootScope","JQ_CONFIG","uiLoad",function(e,t,n){var i=window.swal;return{go:function(t,n,a){e.$evalAsync(function(){"function"==typeof n?i(t,function(t){e.$evalAsync(function(){n(t)})},a):i(t,n,a)})},success:function(t,n){e.$evalAsync(function(){i(t,n,"success")})},error:function(t,n){e.$evalAsync(function(){i(t,n,"error")})},warning:function(t,n){e.$evalAsync(function(){i(t,n,"warning")})},info:function(t,n){e.$evalAsync(function(){i(t,n,"info")})},showInputError:function(t){e.$evalAsync(function(){i.showInputError(t)})},close:function(){e.$evalAsync(function(){i.close()})},confirm:function(t,n){n=void 0===n?{}:n;var a=void 0===n.title?"Are you sure?":n.title,o=void 0===n.text?"This action cannot be undone, proceed with caution!":n.text,r=void 0===n.yes?"Yes, proceed!":n.yes,s=void 0===n.no?"No!":n.no;return e.$evalAsync(function(){return i({title:a,text:o,confirmButtonText:r,cancelButtonText:s,type:"warning",showCancelButton:!0,confirmButtonColor:"#f8bb86",closeOnConfirm:!0,closeOnCancel:!0,animation:!1},function(n){n&&e.$evalAsync(function(){t()})})})}}}]),angular.module("app").directive("addressCard",["$rootScope","$filter",function(e,t){return{scope:{item:"=",class:"@"},templateUrl:"app/address/card.html",link:function(n,i,a){n.countries=e.assets_countries,n.country="",n.item.country&&(n.country=t("filter")(n.countries,{iso:n.item.country})[0].name)}}}]),angular.module("app").directive("addressForm",["$rootScope","$timeout",function(e,t){return{scope:{item:"="},templateUrl:"app/address/form.html",link:function(t,n,i){function a(){t.assets_countries=e.assets_countries,t.Modals=e.Modals,t.hideGeo=!1,i.hideGeo&&(t.hideGeo=!0)}e.$on("assets_loaded",function(e,t){a()}),a()}}}]),angular.module("app").directive("autoSize",["$timeout","$window",function(e,t){"use strict";return{require:"ngModel",restrict:"AC",link:function(n,i,a,o){function r(){var e=g;p=c,y=getComputedStyle(c),angular.forEach(D,function(t){e+=t+":"+y.getPropertyValue(t)+";"}),b.setAttribute("style",e)}function s(){var t,i,a,o,s;p!==c&&r(),m||(m=!0,b.value=c.value+f,b.style.overflowY=c.style.overflowY,t=""===c.style.height?"auto":parseInt(c.style.height,10),i=getComputedStyle(c).getPropertyValue("width"),"px"===i.substr(i.length-2,2)&&(o=parseInt(i,10)-_.width,b.style.width=o+"px"),a=b.scrollHeight,a>C?(a=C,s="scroll"):a<S&&(a=S),a+=_.height,c.style.overflowY=s||"hidden",t!==a&&(n.$emit("elastic:resize",d,t,a),c.style.height=a+"px"),e(function(){m=!1},1,!1))}function l(){m=!1,s()}var c=i[0],d=i;if("TEXTAREA"===c.nodeName&&t.getComputedStyle){d.css({overflow:"hidden","overflow-y":"hidden","word-wrap":"break-word"});var u=c.value;c.value="",c.value=u;var p,m,f=a.msdElastic?a.msdElastic.replace(/\\n/g,"\n"):"",h=angular.element(t),g="position: absolute; top: -999px; right: auto; bottom: auto;left: 0; overflow: hidden; -webkit-box-sizing: content-box;-moz-box-sizing: content-box; box-sizing: content-box;min-height: 0 !important; height: 0 !important; padding: 0;word-wrap: break-word; border: 0;",v=angular.element('<textarea aria-hidden="true" tabindex="-1" style="'+g+'"/>').data("elastic",!0),b=v[0],y=getComputedStyle(c),w=y.getPropertyValue("resize"),x="border-box"===y.getPropertyValue("box-sizing")||"border-box"===y.getPropertyValue("-moz-box-sizing")||"border-box"===y.getPropertyValue("-webkit-box-sizing"),_=x?{width:parseInt(y.getPropertyValue("border-right-width"),10)+parseInt(y.getPropertyValue("padding-right"),10)+parseInt(y.getPropertyValue("padding-left"),10)+parseInt(y.getPropertyValue("border-left-width"),10),height:parseInt(y.getPropertyValue("border-top-width"),10)+parseInt(y.getPropertyValue("padding-top"),10)+parseInt(y.getPropertyValue("padding-bottom"),10)+parseInt(y.getPropertyValue("border-bottom-width"),10)}:{width:0,height:0},$=parseInt(y.getPropertyValue("min-height"),10),k=parseInt(y.getPropertyValue("height"),10),S=Math.max($,k)-_.height,C=parseInt(y.getPropertyValue("max-height"),10),D=["font-family","font-size","font-weight","font-style","letter-spacing","line-height","text-transform","word-spacing","text-indent"];d.data("elastic")||(C=C&&C>0?C:9e4,b.parentNode!==document.body&&angular.element(document.body).append(b),d.css({resize:"none"===w||"vertical"===w?"none":"horizontal"}).data("elastic",!0),"onpropertychange"in c&&"oninput"in c?c.oninput=c.onkeyup=s:c.oninput=s,h.bind("resize",l),n.$watch(function(){return o.$modelValue},function(e){l()}),n.$on("elastic:adjust",function(){r(),l()}),e(s,0,!1),n.$on("$destroy",function(){v.remove(),h.unbind("resize",l)}))}}}}]),angular.module("app").directive("autocomplete",["$parse","$http","$sce","$timeout","Data",function(e,t,n,i,a){return{restrict:"E",scope:{id:"@id",placeholder:"@placeholder",selectedObject:"=selectedobject",url:"@url",ajaxAction:"@ajaxaction",dataField:"@datafield",titleField:"@titlefield",descField:"@descfield",imageField:"@imagefield",imageUri:"@imageuri",inputClass:"@inputclass",userPause:"@pause",localData:"=localdata",searchFields:"@searchfields",minLengthUser:"@minlength",matchClass:"@matchclass"},template:'<div class="autocomplete-holder"><i ng-show="searching" class="autocomplete-spinner fa fa-refresh fa-spin"></i><input autocomplete="off" id="autocomplete_{{id}}" ng-model="searchStr" type="text" placeholder="{{placeholder}}" class="form-control {{inputClass}}" onmouseup="this.select();" ng-focus="resetHideResults()" ng-blur="hideResults()" /><div id="autocomplete_dropdown_{{id}}" class="autocomplete-dropdown" ng-if="showDropdown"><div class="autocomplete-searching" ng-show="searching">Searching...</div><div class="autocomplete-searching" ng-show="!searching && (!results || results.length == 0)">No results found</div><div class="autocomplete-row clearfix" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseover="hoverRow()" ng-class="{\'autocomplete-selected-row\': $index == currentIndex}"><div ng-if="imageField" class="autocomplete-image-holder"><img ng-if="result.image && result.image != \'\' && result.image !== imageUri" ng-src="{{result.image}}" class="autocomplete-image"/><div ng-if="!result.image || result.image == imageUri" class="autocomplete-image-default"></div></div><div class="autocomplete-text-holder"><div class="autocomplete-title" ng-bind-html="result.title"></div><div ng-if="result.description && result.description != \'\'" class="autocomplete-description" ng-bind-html="result.description"></div></div></div></div></div>',link:function(e,o,r){e.lastSearchTerm=null,e.currentIndex=null,e.justChanged=!1,e.searchTimer=null,e.hideTimer=null,e.searching=!1,e.pause=500,e.minLength=3,e.searchStr=null,e.minLengthUser&&""!=e.minLengthUser&&(e.minLength=e.minLengthUser),e.$watch(function(){return r.reset},function(t){"YES"==t&&i(function(){e.searchStr=null})}),e.userPause&&(e.pause=e.userPause),isNewSearchNeeded=function(t,n){return t.length>=e.minLength&&t!=n},e.processResults=function(t,i){if(t&&t.length>0){e.results=[];var a=[];e.titleField&&""!=e.titleField&&(a=e.titleField.split(","));for(var o=0;o<t.length;o++){for(var r=[],s=0;s<a.length;s++)r.push(t[o][a[s]]);var l="";e.descField&&(l=n.trustAsHtml(t[o][e.descField]));var c="";e.imageUri&&(c=e.imageUri);var d="";e.imageField&&(d=c+t[o][e.imageField]);var u=r.join(" ");if(e.matchClass){var p=new RegExp(i,"i"),m=u.match(p)[0];u=n.trustAsHtml(u.replace(p,'<span class="'+e.matchClass+'">'+m+"</span>"))}var f={title:u,description:l,image:d,row:t[o]};e.results[e.results.length]=f}}else e.results=[]},e.searchTimerComplete=function(n){if(n.length>=e.minLength)if(e.localData){for(var i=e.searchFields.split(","),o=[],r=0;r<e.localData.length;r++){for(var s=!1,l=0;l<i.length;l++)s=s||"string"==typeof e.localData[r][i[l]]&&"string"==typeof n&&e.localData[r][i[l]].toLowerCase().indexOf(n.toLowerCase())>=0;s&&(o[o.length]=e.localData[r])}e.searching=!1,e.processResults(o,n)}else e.ajaxAction?a.go(e.ajaxAction,{s:n}).then(function(t){e.searching=!1,e.processResults(e.dataField?t.items[e.dataField]:t.items,n)}):e.url&&t.get(e.url+n,{}).success(function(t,i,a,o){e.searching=!1,e.processResults(e.dataField?t[e.dataField]:t,n)}).error(function(e,t,n,i){console.log("error")})},e.hideResults=function(){e.hideTimer=i(function(){e.showDropdown=!1},e.pause)},e.resetHideResults=function(){e.hideTimer&&i.cancel(e.hideTimer)},e.hoverRow=function(t){e.currentIndex=t},e.keyPressed=function(t){38!=t.which&&40!=t.which&&13!=t.which?e.searchStr&&""!=e.searchStr?isNewSearchNeeded(e.searchStr,e.lastSearchTerm)&&(e.lastSearchTerm=e.searchStr,e.showDropdown=!0,e.currentIndex=-1,e.results=[],e.searchTimer&&i.cancel(e.searchTimer),e.searching=!0,e.searchTimer=i(function(){e.searchTimerComplete(e.searchStr)},e.pause)):(e.showDropdown=!1,e.lastSearchTerm=null,e.searching=!1):t.preventDefault()},e.selectResult=function(t){e.matchClass&&(t.title=t.title.toString().replace(/(<([^>]+)>)/gi,"")),e.searchStr=e.lastSearchTerm=t.title,i(function(){e.selectedObject=t}),e.showDropdown=!1,e.results=[]};var s=o.find("input");s.on("keyup",e.keyPressed),o.on("keyup",function(t){40===t.which?(e.results&&e.currentIndex+1<e.results.length&&(e.currentIndex++,e.$apply(),t.preventDefault,t.stopPropagation()),e.$apply()):38==t.which?e.currentIndex>=1&&(e.currentIndex--,e.$apply(),t.preventDefault,t.stopPropagation()):13==t.which?e.results&&e.currentIndex>=0&&e.currentIndex<e.results.length?(e.selectResult(e.results[e.currentIndex]),e.$apply(),t.preventDefault,t.stopPropagation()):(e.results=[],e.$apply(),t.preventDefault,t.stopPropagation()):27==t.which?(e.results=[],e.showDropdown=!1,e.$apply()):8==t.which&&(e.selectedObject=null,e.$apply())})}}}]),angular.module("app").directive("autofocus",["$timeout",function(e){return{restrict:"AC",link:function(t,n){e(function(){n[0].focus()},0)}}}]),angular.module("app").directive("chartStack",["$timeout",function(e){return{restrict:"E",replace:!0,scope:{items:"="},template:'<div class="chart-stack-graph-holder"><div class="chart-stack-graph"><span ng-repeat="i in items track by $index" class="animated __val" style="flex: {{i.valnum}};-ms-flex: {{i.valnum}};-webkit-flex: {{i.valnum}}; background-color: {{val.color || d_colors[$index]}}">{{i.val}}</span></div><div class="chart-stack-graph"><span ng-repeat="i in items" class="animated __lbl" style="flex: {{i.valnum}};-ms-flex: {{i.valnum}}; -webkit-flex: {{i.valnum}}">{{i.label}}</span></div></div>',link:function(t,n,i){t.d_colors=["#5fad56","#2a628f","#f2c14e","#f78154","#b4436c"],t.do=function(){e(function(){angular.forEach(t.items,function(e,t){e.valnum=parseInt(e.val.replace(/[^-0-9\.]/g,"")),e.valnum=0==e.valnum?1:e.valnum})})},t.$watch("items",function(){t.do()}),t.do()}}}]),angular.module("app").directive("checkbox",function(){return{scope:{},require:"ngModel",restrict:"E",replace:"true",template:"<button type=\"button\" ng-style=\"stylebtn\" class=\"btn btn-default\" ng-class=\"{'btn-xs': size==='default', 'btn-sm': size==='large', 'btn-lg': size==='largest', 'checked': checked===true}\"><span ng-style=\"styleicon\" class=\"glyphicon\" ng-class=\"{'glyphicon-ok': checked===true, 'glyphicon-minus': checked===undefined}\"></span></button>",
compile:function(e,t,n){return void 0!==t.ngClass&&(t.ngClass=t.ngClass.replace(/}\s*{/g,", ")),function(e,t,n,i){e.size="default",e.stylebtn={},e.styleicon={width:"10px",left:"-1px"},void 0!==n.large&&(e.size="large",e.stylebtn={"padding-top":"2px","padding-bottom":"2px",height:"30px"},e.styleicon={width:"8px",left:"-5px","font-size":"17px"}),void 0!==n.larger&&(e.size="larger",e.stylebtn={"padding-top":"2px","padding-bottom":"2px",height:"34px"},e.styleicon={width:"8px",left:"-8px","font-size":"22px"}),void 0!==n.largest&&(e.size="largest",e.stylebtn={"padding-top":"2px","padding-bottom":"2px",height:"45px"},e.styleicon={width:"11px",left:"-11px","font-size":"30px"});var a=!1;"true"===n.indeterminate&&(a=!0);var o=!0,r=!1,s=void 0;void 0!==n.ngTrueValue&&(o=n.ngTrueValue),void 0!==n.ngFalseValue&&(r=n.ngFalseValue),void 0!==n.ngIndeterminateValue&&(s=n.ngIndeterminateValue),void 0!==e.name&&(t.name=e.name),e.$watch(function(){return i.$modelValue===o||i.$modelValue===!0?i.$setViewValue(o):a!==!0||i.$modelValue!==s&&void 0!==i.$modelValue?i.$setViewValue(r):i.$setViewValue(s),i.$modelValue},function(t,n){a===!0&&i.$modelValue===s?e.checked=void 0:e.checked=i.$modelValue===o},!0),t.bind("click",function(){e.$apply(function(){a===!0?i.$modelValue===r?i.$setViewValue(o):i.$modelValue===o?i.$setViewValue(s):i.$setViewValue(r):i.$modelValue===r?i.$setViewValue(o):i.$setViewValue(r)})})}}}}),angular.module("app").directive("clickOutside",["$document","$parse","$timeout",function(e,t,n){return{restrict:"A",link:function(i,a,o){n(function(){function r(e){var r,s,d,u,p,m;if(!angular.element(a).hasClass("ng-hide")&&e&&e.target){for(s=e.target;s;s=s.parentNode){if(s===a[0])return;if(u=s.id,p=s.className,m=c.length,p&&void 0!==p.baseVal&&(p=p.baseVal),p||u)for(r=0;r<m;r++)if(d=new RegExp("\\b"+c[r]+"\\b"),void 0!==u&&u===c[r]||p&&d.test(p))return}n(function(){(l=t(o.clickOutside))(i,{event:e})})}}function s(){return"ontouchstart"in window||navigator.maxTouchPoints}var l,c=void 0!==o.outsideIfNot?o.outsideIfNot.split(/[ ,]+/):[];s()&&e.on("touchstart",r),e.on("click",r),i.$on("$destroy",function(){s()&&e.off("touchstart",r),e.off("click",r)})})}}}]),angular.module("app").factory("clipboard",["$document","$window",function(e,t){function n(n,i){var a=e[0].createElement("textarea");return a.style.position="absolute",a.textContent=n,a.style.left="-10000px",a.style.top=(t.pageYOffset||e[0].documentElement.scrollTop)+"px",a}function i(t){try{e[0].body.style.webkitUserSelect="initial";var n=e[0].getSelection();if(n.removeAllRanges(),t.select(),!e[0].execCommand("copy"))throw"failure copy";n.removeAllRanges()}finally{e[0].body.style.webkitUserSelect=""}}function a(t,a){var o=n(t,a);e[0].body.appendChild(o),i(o),e[0].body.removeChild(o)}return{copyText:a,supported:"queryCommandSupported"in e[0]&&e[0].queryCommandSupported("copy")}}]).directive("clipboard",["clipboard",function(e){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"=",supported:"=?"},link:function(t,n){t.supported=e.supported,n.on("click",function(i){try{e.copyText(t.text,n[0]),angular.isFunction(t.onCopied)&&t.$evalAsync(t.onCopied())}catch(e){angular.isFunction(t.onError)&&t.$evalAsync(t.onError({err:e}))}})}}}]),angular.module("app").provider("$colorThief",[function(){var e,t,n=new ColorThief,i=!1,a=!0;this.setDefaultQuality=function(t){e=t},this.setDefaultColorCount=function(e){t=e},this.setReturnObjects=function(e){i=e},this.$get=[function(){function o(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function r(e){return a?"#"+o(e[0])+o(e[1])+o(e[2]):i?{r:e[0],g:e[1],b:e[2]}:e}return{getColor:function(t,i){return r(n.getColor(t,i||e))},getPalette:function(i,a,o){for(var s=n.getPalette(i,a||t,o||e),l=s.length-1;l>=0;l--)s[l]=r(s[l]);return s}}}]}]).directive("colorThief",["$parse","$colorThief",function(e,t){return{restrict:"A",scope:{dominant:"=ctDominant",palette:"=ctPalette"},link:function(n,i,a){if("IMG"!==angular.uppercase(i[0].tagName))throw new Error("The colorThief directive has to be applied to an IMG tag.");i[0].crossOrigin="Anonymous";var o=a.ctPaletteCount?e(a.ctPaletteCount)():void 0;i.on("load",function(){n.$apply(function(){a.ctDominant&&(n.dominant=t.getColor(i[0])),a.ctPalette&&(n.palette=t.getPalette(i[0],o))})})}}}]),angular.module("app").directive("compile",["$compile","$timeout",function(e,t){return{restrict:"A",link:function(n,i,a){n.$watch(function(){return n.$eval(a.compile)},function(a){t(function(){i.html(a&&a.toString()),e(i.contents())(n)})})}}}]),angular.module("app").directive("confirmOnExit",["$timeout",function(e){return{restrict:"AE",require:"^form",link:function(e,t,n,i){window.onbeforeunload=function(){if(i.$dirty)return"Do you want to navigate away?\nChanges you have made may not be saved."},e.$on("$stateChangeStart",function(e,t,n,a,o){i.$dirty&&(confirm("Do you want to navigate away?\nChanges you have made may not be saved.")||e.preventDefault())})}}}]),angular.module("app").directive("custom",function(){return{restrict:"A",require:"select",link:function(e,t,n){var i=angular.element('<div class="custom-select"></div>');n.block&&n.block!==!1&&i.addClass("block"),t.addClass("form-control").wrap(i).after('<span class="caret"></span>')}}}),angular.module("app").directive("dateSelect",[function(){var e=['<div class="date-select custom-select-wrap">','<span class="custom-select"><select class="form-control" ng-class="selectClass" ng-model="val.date", ng-options="d for d in dates track by d">',"<option value disabled selected>Day</option>",'</select><span class="caret"></span></span>','<span class="custom-select"><select class="form-control" ng-class="selectClass" ng-model="val.month", ng-options="m.value as m.name for m in months">',"<option value disabled>Month</option>",'</select><span class="caret"></span></span>','<span class="custom-select"><select class="form-control" ng-class="selectClass" ng-model="val.year" ng-options="y for y in years">',"<option value disabled selected>Year</option>",'</select><span class="caret"></span></span>',"</div>"];return{restrict:"A",replace:!0,template:e.join(""),require:"ngModel",scope:{selectClass:"@selectClass"},link:function(e,t,n,i){function a(){e.months=[];for(var t=e.val.year&&r.isSame([e.val.year],"year")?r.month():0,n=e.val.year&&s.isSame([e.val.year],"year")?s.month():11,i=moment.months(),a=t;a<=n;a++)e.months.push({name:i[a],value:a+1});(e.val.month-1>n||e.val.month-1<t)&&delete e.val.month}function o(t,n){var i,a;i=e.val.year&&e.val.month&&r.isSame([e.val.year,e.val.month-1],"month")?r.date():1,a=e.val.year&&e.val.month&&s.isSame([e.val.year,e.val.month-1],"month")?s.date():e.val.year&&e.val.month?moment([e.val.year,e.val.month-1]).daysInMonth():31,e.dates=[];for(var o=i;o<=a;o++)e.dates.push(o);(e.val.date<i||e.val.date>a)&&delete e.val.date}e.val={};var r=e.min=moment(n.min||"1900-01-01"),s=e.max=moment(n.max);e.years=[];for(var l=s.year();l>=r.year();l--)e.years.push(l);e.$watch("val.year",function(){a()}),e.$watchCollection("[val.month, val.year]",function(){o()}),e.$watchCollection("[val.date, val.month, val.year]",function(){if(e.val.year&&e.val.month&&e.val.date){var t=moment([e.val.year,e.val.month-1,e.val.date]);i.$setViewValue(t.format("YYYY-MM-DD"))}else i.$setViewValue()}),i.$render=function(){if(i.$viewValue){var t=moment(i.$viewValue);e.val={year:t.year(),month:t.month()+1,date:t.date()}}}}}}]),angular.module("app").directive("input",["$compile","$parse","$filter","uiLoad","JQ_CONFIG",function(e,t,n,i,a){return{restrict:"E",require:"?ngModel",link:function(e,o,r,s){if("daterange"===r.type&&null!==s)return i.load(a.daterange).then(function(){function i(e){return moment.isMoment(e)?e.toDate():e}function a(e){return moment.isMoment(e)?e:moment(e)}function l(e){return n("date")(i(e),d.format.replace(/Y/g,"y").replace(/D/g,"d"))}function c(e){return[l(e.startDate),l(e.endDate)].join(d.separator)}var d={};d.format=r.format||"MMM Do YYYY",d.separator=r.separator||" - ",d.minDate=r.minDate&&moment(r.minDate),d.maxDate=r.maxDate&&moment(r.maxDate),d.dateLimit=r.limit&&moment.duration.apply(this,r.limit.split(" ").map(function(e,t){return 0===t&&parseInt(e,10)||e})),d.ranges=r.ranges&&t(r.ranges)(e),d.locale=r.locale&&t(r.locale)(e),d.opens=r.opens||t(r.opens)(e),r.enabletimepicker&&(d.timePicker=!0,angular.extend(d,t(r.enabletimepicker)(e))),s.$render=function(){s.$viewValue&&s.$viewValue.startDate&&o.val(c(s.$viewValue))},e.$watch(function(){return r.ngModel},function(e,t){return s.$modelValue&&s.$modelValue.startDate?void(t===e&&(o.data("daterangepicker").startDate=a(s.$modelValue.startDate),o.data("daterangepicker").endDate=a(s.$modelValue.endDate),o.data("daterangepicker").updateView(),o.data("daterangepicker").updateCalendars(),o.data("daterangepicker").updateInputText())):void s.$setViewValue({startDate:moment().startOf("day"),endDate:moment().startOf("day")})}),o.daterangepicker(d,function(t,n,i){var a=s.$viewValue;angular.equals(t,a.startDate)&&angular.equals(n,a.endDate)||e.$apply(function(){s.$setViewValue({startDate:moment.isMoment(a.startDate)?t:t.toDate(),endDate:moment.isMoment(a.endDate)?n:n.toDate()}),s.$render()})})})}}}]),angular.module("app").directive("datepickerPopup",function(){return{restrict:"EAC",require:"ngModel",link:function(e,t,n,i){i.$formatters.shift()}}}).directive("datetimepicker",[function(){return{restrict:"EA",require:"ngModel",scope:{ngModel:"=",ngChange:"&",dayFormat:"=",monthFormat:"=",yearFormat:"=",minTime:"=",maxTime:"=",dayHeaderFormat:"=",dayTitleFormat:"=",monthTitleFormat:"=",yearRange:"=",dateOptions:"=?",dateDisabled:"&",dateNgClick:"&",hourStep:"=",dateOpened:"=",minuteStep:"=",showMeridian:"=",meredians:"=",mousewheel:"=",readonlyTime:"=",readonlyDate:"=",disabledDate:"=",hiddenTime:"=",hiddenDate:"="},template:function(e,t){function n(e){return e.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})}function i(e,i){var a=angular.isDefined(i)?i:e;return t[a]?n(e)+'="'+a+'" ':""}function a(e,i,a,o){var r=angular.isDefined(a)?a:e;return t[r]?n(e)+'="'+r+"({"+i+'})" ':angular.isDefined(o)?n(e)+'="'+o+'"':""}function o(e,i){var a=angular.isDefined(i)?i:e;return t[a]?n(e)+'="'+t[a]+'" ':n(e)+" "}function r(e,t){return e+i.apply(null,t)}var s='<div class="datetimepicker-wrapper"><input class="form-control" type="text" name="datepicker"ng-change="date_change($event)" is-open="innerDateOpened" datepicker-options="dateOptions" uib-datepicker-popup="{{dateFormat}}"ng-model="ngModel" '+[["dayFormat"],["monthFormat"],["yearFormat"],["dayHeaderFormat"],["dayTitleFormat"],["monthTitleFormat"],["yearRange"],["showButtonBar"],["ngHide","hiddenDate"],["ngReadonly","readonlyDate"],["ngDisabled","disabledDate"]].reduce(r,"")+a("ngClick","$event: $event, opened: opened","dateNgClick","open($event)")+o("currentText","currentText")+o("clearText","clearText")+o("datepickerAppendToBody","datepickerAppendToBody")+o("closeText","closeText")+o("placeholder","placeholder")+"/>\n</div>\n",l='<div class="datetimepicker-wrapper" name="timepicker" ng-model="time" ng-change="time_change()" style="display:inline-block">\n<div uib-timepicker min="minDate" max="maxDate" '+[["hourStep"],["minuteStep"],["showMeridian"],["meredians"],["mousewheel"],["ngHide","hiddenTime"],["ngDisabled","readonlyTime"]].reduce(r,"")+o("showSpinners","showSpinners")+"></div>\n</div>",c='<ng-form name="datetimepickerForm" isolate-form>'+s+l+"</ng-form>";return c},controller:["$scope","$attrs",function(e,t){e.date_change=function(){var t=e.time;e.ngModel&&e.time&&e.ngModel.setHours(t.getHours(),t.getMinutes(),0,0)},e.time_change=function(){e.ngModel&&e.time&&e.ngModel.setHours(e.time.getHours(),e.time.getMinutes(),0,0)},e.open=function(t){t.preventDefault(),t.stopPropagation(),e.innerDateOpened=!0},t.$observe("dateFormat",function(t,n){e.dateFormat=t}),e.dateOptions=angular.isDefined(e.dateOptions)?e.dateOptions:{},e.dateOptions.dateDisabled=e.dateDisabled}],link:function(e,t,n,i){var a=function(){e.ngModel&&(e.minTime?(e.minDate=new Date(e.ngModel.getFullYear(),e.ngModel.getMonth(),e.ngModel.getDate(),e.minTime.getHours(),e.minTime.getMinutes(),0),e.dateOptions.minDate&&e.dateOptions.minDate>e.minDate&&(e.minDate=e.dateOptions.minDate)):e.minDate=e.dateOptions.minDate)},o=function(){e.ngModel&&(e.maxTime?(e.maxDate=new Date(e.ngModel.getFullYear(),e.ngModel.getMonth(),e.ngModel.getDate(),e.maxTime.getHours(),e.maxTime.getMinutes(),0),e.dateOptions.maxDate&&e.dateOptions.maxDate<e.maxDate&&(e.maxDate=e.dateOptions.maxDate)):e.maxDate=e.dateOptions.maxDate)},r=!0;e.$watch(function(){return e.ngModel},function(n){!e.ngModel||e.ngModel instanceof Date||(e.ngModel=new Date(e.ngModel));var i=t[0].querySelector("[name=timepicker]");if(i&&!i.contains(document.activeElement)){if(null===n||""===n){if(!r)return e.time=null,void(e.ngChange&&e.$eval(e.ngChange));n=new Date,n.setHours(0,0,0,0)}n=new Date(n),isNaN(n.getTime())===!1&&(e.time=n,r&&(r=!1))}a(),o(),e.ngChange&&e.$eval(e.ngChange)},!0),e.$watch(function(){return e.datetimepickerForm&&e.datetimepickerForm.$error},function(e){angular.isUndefined(e)||(Object.keys(i.$error).forEach(function(e){i.$setValidity(e,!0)}),Object.keys(e).forEach(function(e){i.$setValidity(e,!1)}))},!0),e.$watch(function(){return e.datetimepickerForm&&(e.datetimepickerForm.timepicker.$touched||e.datetimepickerForm.datepicker.$touched)},function(e){e&&i.$setTouched()}),e.$watch(function(){return e.datetimepickerForm&&e.datetimepickerForm.$dirty},function(e){e&&i.$setDirty()}),e.$watch("dateOpened",function(t){e.innerDateOpened=t}),e.$watch("innerDateOpened",function(t){angular.isDefined(e.dateOpened)&&(e.dateOpened=t)}),e.$watch("dateOptions.minDate",function(e){a()}),e.$watch("timeMin",function(e){a()}),e.$watch("dateOptions.maxDate",function(e){o()}),e.$watch("timeMax",function(e){o()})}}}]).directive("isolateForm",[function(){return{restrict:"A",require:"?form",link:function(e,t,n,i){if(i){var a={};angular.copy(i,a);var o=t.parent().controller("form");if(o){o.$removeControl(i);var r={$setValidity:function(e,t,n){a.$setValidity(e,t,n),o.$setValidity(e,!0,i)}};angular.extend(i,r)}}}}}]),angular.module("app").directive("detectInputLang",["$timeout",function(e){var t=function(e){var t="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",n="֑-߿יִ-﷽ﹰ-ﻼ",i=new RegExp("^[^"+t+"]*["+n+"]");return i.test(e)};return{restrict:"A",link:function(n,i,a){i.on("keypress",function(n){e(function(){var e=t(String.fromCharCode(n.charCode)),a=e?"RTL":"LTR";i[0].style.direction=a},0)})}}}]),angular.module("app").directive("easyPie",[function(){return{restrict:"AE",require:"?ngModel",scope:{percent:"="},link:function(e,t,n){e.percent=e.percent||0,e.options=n.options||{},e.text=n.text||"---";var i={textColor:n.textColor||"#58666e",barColor:n.barColor||"#23b7e5",trackColor:n.trackColor||"#e8eff0",scaleColor:n.scaleColor||"#e8eff0",scaleLength:n.scaleLength||5,lineCap:n.lineCap||"butt",lineWidth:n.lineWidth||5,size:n.size||110,rotate:n.rotate||0,animate:{duration:1e3,enabled:!0}};e.options=angular.extend(i,e.options);var a=new EasyPieChart(t[0],i);t.addClass("easyPieChart").css({width:e.options.size+"px",height:e.options.size+"px"}).append('<div style="height:'+e.options.size+"px; line-height:"+e.options.size+'px;"><span class="h3" style="color:'+e.options.textColor+';">'+e.text+"</span></div>"),e.$watch("percent",function(e,t){a.update(e)})}}}]),angular.module("app").directive("fileIcon",["VARS","$compile",function(e,t){return{restrict:"E",replace:!0,template:'<div class="file-icon"></div>',link:function(t,n,i){var a=i.file,o=i.url,r="deb";if(a){r=a.split(".").pop().toLowerCase(),!o||"jpg"!=r&&"jpeg"!=r&&"gif"!=r&&"png"!=r?icon='<img src="'+e.url+"/assets/img/ext/"+r+'.png" />':icon='<img src="'+o+'" />';var s=angular.element('<i class="fa fa-refresh fa-spin"></i>');angular.element(icon);n.html(icon).after(s),n.find("img").hide().on("load",function(){s.remove(),n.find("img").show()})}}}}]),angular.module("app").directive("filebox",["VARS","$filter",function(e,t){return{restrict:"E",replace:!0,template:'<div class="file-box"></div>',link:function(e,n,i){var a=i.file||"",o=i.url||"",r=i.size||0,s="deb";if(a){s=a.split(".").pop().toLowerCase(),!o||"jpg"!=s&&"jpeg"!=s&&"gif"!=s&&"png"!=s?(icon='<i class="fa fa-file-text"></i>',iconClass="icon"):(icon='<img src="'+o+'" />',iconClass="image"),a=t("strLimit")(a,20),r?(r=t("filesize")(r),r="<small>"+r+"</small>"):r="";var l='<div class="file"><span class="corner"></span><div class="'+iconClass+'">'+icon+'</div><div class="file-name">'+a+"<br>"+r+"</div></div>";n.html(l)}}}}]),angular.module("app").directive("help",["$timeout",function(e){return{restrict:"A",link:function(t,n,i){var a=i.help;if(a){var o=angular.element('<i class="fa fa-question-circle m-l-sm"></i>');n.append(o),e(function(){$(o).data("title",a),$(o).tooltip()})}}}}]),angular.module("app").directive("holder",["uiLoad","JQ_CONFIG","$timeout",function(e,t,n){function i(e){if(void 0==e)return"1c2b36";for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);for(var i="",n=0;n<3;n++){var a=t>>2*n&255;i+=("00"+a.toString(16)).substr(-2)}return i}function a(e,t){void 0==e&&(e=""),void 0==t&&(t=96);var n=e.split(" ").map(function(e){return e.charAt(0)}).join("").toUpperCase();n=n||"◕‿◕";var a=i(n);return"holder.js/"+t+"x"+t+"?text="+n+"&fg=ffffff&bg="+a+"&size="+t/4}return{restrict:"A",link:function(e,t,i){var o=96;i.holderSize&&(o=i.holderSize),i.holder&&i.$set("data-src",a(i.holder,o)),Holder.run({images:t[0]}),i.$observe("holder",function(e,r){n(function(){i.src||i.ngSrc||(i.holder&&i.$set("data-src",a(i.holder,o)),Holder.run({images:t[0]}))},0)})}}}]),angular.module("app").directive("imgGmap",["$rootScope","$window","Notify",function(e,t,n){return{scope:{lat:"=",lng:"=",show:"="},templateUrl:"app/img/gmap.html",link:function(i,a,o){i.Modals=e.Modals,i.link_raw="https://maps.google.com/?q="+i.lat+","+i.lng,i.link=t.encodeURIComponent(i.link_raw),i.src="https://maps.googleapis.com/maps/api/staticmap?key=AIzaSyBTFQzqXMhbv-hHKGAH4z8m36bEqUnmhY8&zoom=13&size=400x200&maptype=roadmap&center="+i.lat+","+i.lng+"&markers=color:red%7Clabel:S%7C"+i.lat+","+i.lng,i.copied=function(){n.success({message:"Map link copied!",delay:2e3})}}}}]),angular.module("app").directive("imgResize",["$parse",function(e){return{link:function(t,n,i){var a=angular.element('<i class="fa fa-refresh fa-spin"></i>'),o=angular.element('<div class="bg-info rounded"><i class="fa fa-exclamation-triangle"></i></div>');n.hide().after(a);var r=e(i.imgResize)(t);return n.one("load",function(){var e,t,i,s,l,c=n.width(),d=n[0].naturalWidth,u=n[0].naturalHeight;return a.remove(),d>5e3?(o.css({width:c+"px",height:c+"px","line-height":c+"px"}),n.after(o)):(l=2*parseInt(r),s=u*l/d,t=document.createElement("canvas"),t.width=l,t.height=s,i=t.getContext("2d"),i.drawImage(n[0],0,0,l,s),e=t.toDataURL(),n.attr("src",e).show())})}}}]),angular.module("app").directive("infiniteScroll",["$rootScope","$timeout",function(e,t){return{link:function(e,t,n){var i,a,o,r;$scroller=angular.element("#scroller"),o=0,null!=n.infiniteScrollDistance&&e.$watch(n.infiniteScrollDistance,function(e){return o=parseInt(e,10)}),r=!0,i=!1,a=function(){var a,s,l,c;return c=$scroller.height()+$scroller.scrollTop(),a=t.offset().top+t.height(),s=a-c,l=s<=$scroller.height()*o,l&&r?e.$apply(n.infiniteScroll):l?i=!0:void 0},$scroller.on("scroll",a),e.$on("$destroy",function(){return $scroller.off("scroll",a)})}}}]),angular.module("app").directive("inputSpinner",["$timeout",function(e){return{restrict:"AE",replace:!0,require:"ngModel",scope:{ngModel:"="},template:'<div class="input-group"><div class="input-group-btn"><button ng-click="decrement();" class="btn btn-default" type="button"><i class="fa fa-minus"></i></button></div><input ng-model="ngModel" readonly type="text" class="form-control text-center"/><div class="input-group-btn"><button ng-click="increment();" class="btn btn-default" type="button"><i class="fa fa-plus"></i></button></div></div>',link:function(e,t,n,i){function a(e){var t=parseInt(i.$viewValue),a=t+e;angular.isDefined(n.min)&&a<parseInt(n.min,10)||angular.isDefined(n.max)&&a>parseInt(n.max,10)||(i.$setViewValue(a),i.$render())}e.increment=function(){var e=angular.isDefined(n.step)?parseInt(n.step,10):1;a(+e)},e.decrement=function(){var e=angular.isDefined(n.step)?parseInt(n.step,10):1;a(-e)}}}}]),angular.module("app").directive("iosDblclick",function(){var e,t=300,n=!1;return{restrict:"A",link:function(i,a,o){a.bind("click",function(a){if(n){n=!1;var r=(new Date).getTime();r-e<t&&i.$apply(o.iosDblclick)}else e=(new Date).getTime(),n=!0,setTimeout(function(){n=!1},t)})}}}),angular.module("app").directive("keyEnter",function(){return function(e,t,n){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(n.keyEnter)}),t.preventDefault())})}}),angular.module("app").directive("mainLoader",[function(){return{restrict:"E",replace:!0,template:'<div class="text-center main-loader"><p><i class="fa fa-refresh fa-spin"></i></p><p class="text-muted text-sm italic">Please Wait</p></div>'}}]),angular.module("app").directive("miniClaim",["$rootScope","$filter",function(e,t){return{restrict:"E",scope:{item:"="},template:'<div class="m-b-sm p-b-sm b-b mini-policy"><p class="m-n"><a ng-click="Modals.preview_claim(item.ID)" class="link bold">{{item.ref_id}}</a><span class="text-muted m-l-sm text-sm bold">( {{cat}} )</span></p><p class="text-muted m-n text-sm bold">{{item.date_loss | unix_date | date:"mediumDate"}}</p></div>',link:function(n,i,a){if(n.broker=n.company=n.product="",angular.isObject(n.item)){var o=n.item;n.cat=t("filter")(e.assets_claim_types,{ID:o.status})[0].name||"---",n.Modals=e.Modals}}}}]),angular.module("app").directive("miniInvoice",["$rootScope","$filter",function(e,t){return{restrict:"E",scope:{item:"="},template:'<div class="m-b-sm p-b-sm b-b mini-invoice"><p class="m-b-xs"><span class="m-r-sm" ng-bind-html="get_status(item.status) | html"></span><a ng-click="Modals.preview_invoice(item)" class="link bold">{{item.invoice_number}}</a><span class="text-muted m-l-sm text-sm bold">{{item.total | currency}}</span><span class="text-muted m-l-sm text-sm bold">( {{item.balance | currency}} )</span></p><p class="text-muted m-n text-sm bold">Date: {{item.date | unix_date | date:"mediumDate"}}<i class="fa fa-arrow-right m-l-sm m-r-sm"></i>Due Date: {{item.due_date | unix_date | date:"mediumDate"}}</p></div>',link:function(t,n,i){t.Modals=e.Modals,t.get_status=function(e){var t,n;switch(e){case"paid":t="label-success",n=e;break;case"unpaid":t="label-default",n=e;break;case"partial":t="label-warning",n=e;break;case"overdue":t="label-danger",n=e;break;default:t="label-default",n="---"}return'<span class="label '+t+'">'+n+"</span>"}}}}]),angular.module("app").directive("miniLoader",[function(){return{restrict:"E",replace:!0,template:'<i class="fa fa-refresh fa-spin mini-loader"></i>'}}]),angular.module("app").directive("miniPolicy",["$rootScope","$filter",function(e,t){return{restrict:"E",scope:{item:"="},template:'<div class="m-b-sm p-b-sm b-b mini-policy"><p class="m-n"><a ng-click="Modals.preview_policy(item.ID)" class="link bold">{{item.name}}</a><span class="text-muted m-l-sm text-sm bold">( {{item.amount | currency}} )</span></p><p class="text-muted m-n text-sm bold">{{item.date_effective | unix_date | date:"mediumDate"}}<i class="fa fa-arrow-right m-l-sm m-r-sm"></i>{{item.date_expiry | unix_date | date:"mediumDate"}}</p><p class="text-muted m-n text-sm">Company: <b>{{company}}</b>, Product: <b>{{product}}</b></p></div>',link:function(n,i,a){if(n.broker=n.company=n.product="",angular.isObject(n.item)){var o=n.item;n.broker=t("filter")(e.assets_teams,{ID:o.user_id})[0].name||"---",n.company=t("filter")(e.assets_companies,{ID:o.company})[0].name||"---",n.product=t("filter")(e.assets_products,{ID:o.product})[0].name||"---",n.Modals=e.Modals}}}}]),angular.module("app").directive("miniTransaction",["$rootScope","$filter",function(e,t){return{restrict:"E",scope:{item:"="},template:'<div class="m-b-xs p-b-xs b-b mini-transaction"><p class="m-b-xs"><span class="m-r-sm" ng-bind-html="get_status(item.type) | html"></span><a href ng-click="Modals.transaction_info(item)" class="link bold">{{item.date | unix_date | date:"mediumDate"}}</a><span class="text-muted text-sm m-l-sm">{{item.date | unix_date | date:"mediumTime"}}</span></p><p class="text-muted text-sm bold m-n">{{item.description}}</p></div>',link:function(t,n,i){t.Modals=e.Modals,t.get_status=function(e){var t,n;switch(e){case"income":t="label-success",n=e;break;case"transfer":t="label-info",n=e;break;case"credit":t="label-warning",n=e;break;case"expense":t="label-danger",n=e;break;default:t="label-default",n="---"}return'<span class="label '+t+'">'+n+"</span>"}}}}]),angular.module("app").directive("ngRightClick",["$parse",function(e){return function(t,n,i){var a=e(i.ngRightClick);n.bind("contextmenu",function(e){t.$apply(function(){e.preventDefault(),a(t,{$event:e})})})}}]),angular.module("app").directive("noRightClick",["$parse",function(e){return{restrict:"A",link:function(t,n,i){var a=e(i.ngRightClick);n.bind("contextmenu",function(e){t.$apply(function(){e.preventDefault(),a(t,{$event:e})})})}}}]),angular.module("app").provider("Notify",function(){this.options={delay:4e3,startTop:60,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"right",positionY:"top",replaceMessage:!1,templateUrl:"angular-ui-notification.html",onClose:void 0,closeOnClick:!0,maxCount:0,container:"body"},this.setOptions=function(e){if(!angular.isObject(e))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,e)},this.$get=["$timeout","$http","$compile","$templateCache","$rootScope","$injector","$sce","$q","$window",function(e,t,n,i,a,o,r,s,l){var c=this.options,d=c.startTop,u=c.startRight,p=c.verticalSpacing,m=c.horizontalSpacing,f=c.delay,h=[],g=!1,v=function(o,v){var b=s.defer();return"object"!=typeof o&&(o={message:o}),o.scope=o.scope?o.scope:a,o.template=o.templateUrl?o.templateUrl:c.templateUrl,o.delay=angular.isUndefined(o.delay)?f:o.delay,o.type=v||c.type||"",o.positionY=o.positionY?o.positionY:c.positionY,o.positionX=o.positionX?o.positionX:c.positionX,o.replaceMessage=o.replaceMessage?o.replaceMessage:c.replaceMessage,o.onClose=o.onClose?o.onClose:c.onClose,o.closeOnClick=null!==o.closeOnClick&&void 0!==o.closeOnClick?o.closeOnClick:c.closeOnClick,o.container=o.container?o.container:c.container,t.get(o.template,{cache:i}).success(function(t){function i(e){["-webkit-transition","-o-transition","transition"].forEach(function(t){f.css(t,e)})}var a=o.scope.$new();a.message=r.trustAsHtml(o.message),a.title=r.trustAsHtml(o.title),a.t=o.type.substr(0,1),a.delay=o.delay,a.onClose=o.onClose;var s=function(){for(var e=0,t=0,n=d,i=u,a=[],r=h.length-1;r>=0;r--){var s=h[r];if(o.replaceMessage&&r<h.length-1)s.addClass("killed");else{var l=parseInt(s[0].offsetHeight),f=parseInt(s[0].offsetWidth),g=a[s._positionY+s._positionX];v+l>window.innerHeight&&(g=d,t++,e=0);var v=n=g?0===e?g:g+p:d,b=i+t*(m+f);s.css(s._positionY,v+"px"),"center"==s._positionX?s.css("left",parseInt(window.innerWidth/2-f/2)+"px"):s.css(s._positionX,b+"px"),a[s._positionY+s._positionX]=v+l,c.maxCount>0&&h.length>c.maxCount&&0===r&&s.scope().kill(!0),e++}}},f=n(t)(a);f._positionY=o.positionY,f._positionX=o.positionX,f.addClass(o.type);var v=function(e){e=e.originalEvent||e,("click"===e.type||"opacity"===e.propertyName&&e.elapsedTime>=1)&&(a.onClose&&a.$apply(a.onClose(f)),f.remove(),h.splice(h.indexOf(f),1),a.$destroy(),s())};o.closeOnClick&&(f.addClass("clickable"),f.bind("click",v)),f.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",v),angular.isNumber(o.delay)&&e(function(){f.addClass("killed")},o.delay),i("none"),angular.element(document.querySelector(o.container)).append(f);var y=-(parseInt(f[0].offsetHeight)+50);if(f.css(f._positionY,y+"px"),h.push(f),"center"==o.positionX){var w=parseInt(f[0].offsetWidth);f.css("left",parseInt(window.innerWidth/2-w/2)+"px")}e(function(){i("")}),a._templateElement=f,a.kill=function(t){t?(a.onClose&&a.$apply(a.onClose(a._templateElement)),h.splice(h.indexOf(a._templateElement),1),a._templateElement.remove(),a.$destroy(),e(s)):a._templateElement.addClass("killed")},e(s),g||(angular.element(l).bind("resize",function(t){e(s)}),g=!0),b.resolve(a)}).error(function(e){throw new Error("Template ("+o.template+") could not be loaded. "+e)}),b.promise};return v.primary=function(e){return this(e,"primary")},v.error=function(e){return this(e,"error")},v.success=function(e){return this(e,"success")},v.info=function(e){return this(e,"info")},v.warning=function(e){return this(e,"warning")},v.clearAll=function(){angular.forEach(h,function(e){e.addClass("killed")})},v}]}).run(["$templateCache",function(e){e.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]),angular.module("app").directive("numWords",function(){var e=function(e){return e%1===0},t=function(e){var t=["","thousand","million","billion","trillion"],n=["zero","one","two","three","four","five","six","seven","eight","nine"],i=["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],a=["twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];if(e=e.toString(),e=e.replace(/[\, ]/g,""),e!=parseFloat(e))return"not a number";var o=e.indexOf(".");if(o==-1&&(o=e.length),o>15)return"too big";for(var r=e.split(""),s="",l=0,c=0;c<o;c++)(o-c)%3==2?"1"==r[c]?(s+=i[Number(r[c+1])]+" ",c++,l=1):0!=r[c]&&(s+=a[r[c]-2]+" ",l=1):0!=r[c]&&(s+=n[r[c]]+" ",(o-c)%3==0&&(s+="hundred "),l=1),(o-c)%3==1&&(l&&(s+=t[(o-c-1)/3]+" "),l=0);if(o!=e.length){var d=e.length;s+="point ";for(var c=o+1;c<d;c++)s+=n[r[c]]+" "}return s.replace(/\s+/g," ")};return{restrict:"E",template:'<div class="num-words"></div>',link:function(n,i,a){var o=a.int;o&&e(o)&&(o=t(o)),a.prefix&&(o=a.prefix+" "+o),a.suffix&&(o=o+" "+a.suffix),i.text(o)},replace:!0}}),angular.module("app").directive("onlyNumbers",function(){return{require:"ngModel",restrict:"A",link:function(e,t,n,i){}}}),angular.module("app").directive("passwordVerify",[function(){return{require:"ngModel",scope:{passwordVerify:"="},link:function(e,t,n,i){e.$watch(function(){var t;return(e.passwordVerify||i.$viewValue)&&(t=e.passwordVerify+"_"+i.$viewValue),t},function(t){t&&i.$parsers.unshift(function(t){var n=e.passwordVerify;return n!==t?void i.$setValidity("passwordVerify",!1):(i.$setValidity("passwordVerify",!0),t)})})}}}]),angular.module("app").directive("pdfObject",["$timeout","VARS","deviceDetector",function(e,t,n){return{restrict:"EA",replace:!0,template:"<div></div>",scope:{url:"="},link:function(i,a,o){e(function(){var e=n.browser,o=(n.browser_version,t.url+"/pdfjs/web/viewer.html"),r={zoom:"100",pagemode:"none",toolbar:"1",statusbar:"1",navpanes:"0"};if("firefox"==e||"chrome"==e)var s={pdfOpenParams:r};else var s={forcePDFJS:!0,PDFJS_URL:o,pdfOpenParams:r};PDFObject.embed(i.url,a,s)})}}}]),angular.module("app").directive("required",[function(){return{restrict:"C",link:function(e,t,n){t.append('<span class="text-danger m-l-xs">*</span>')}}}]),angular.module("app").directive("reverseGeocode",function(){return{restrict:"E",scope:{lat:"=",lng:"="},template:"<div></div>",link:function(e,t,n){function i(){var n=new google.maps.LatLng(e.lat,e.lng),i=new google.maps.Geocoder;i.geocode({latLng:n},function(e,n){n==google.maps.GeocoderStatus.OK?e[1]?t.text(e[1].formatted_address):t.text("Location not found"):t.text("Geocoder failed due to: "+n)})}i(),e.$watch("lat",function(e){i()}),e.$watch("lng",function(e){i()})},replace:!0}}),angular.module("app").directive("robohash",function(){return{restrict:"AE",scope:{text:"=",size:"@",set:"@",bg:"@"},template:'<img src="">',replace:!0,link:function(e,t,n){function i(e){t.attr("src","https://robohash.org/"+md5(e)+"?set="+r+"&bgset="+s+"&size="+a+"x"+a);
}var a=e.size||128,o=e.text||"hello",r=e.set||"set2",s=e.bg||"";i(o),e.$watch("text",function(e){i(e)})}}}),angular.module("app").directive("selectPicker",["uiLoad","JQ_CONFIG","$parse","$timeout",function(e,t,n,i){"use strict";var a=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;return{restrict:"CA",scope:!1,require:["^ngModel","select"],link:function(e,t,o,r){function s(){var e=t.find("option");if(e.eq(0).html()||"?"!==e.eq(0).attr("value")&&e.eq(0).attr("value")||h&&e.eq(0).remove(),e.length!==y.length)y=d(e),u();else{var n=!1;e.each(function(e,t){k(t,e)||(S(t),n=!0)}),n&&u(),_()||($(),t.selectpicker("refresh")),y=d(e)}}function l(e,t){for(var n=0;n<t.length;n++)if(angular.equals(e,t[n]))return n;return-1}function c(e,t){var n=null;return angular.forEach(t,function(t,i){angular.equals(t,e)&&(n=i)}),n}function d(e){var t=[];return e.each(function(e,n){for(var i={},a=0;a<n.attributes.length;a++)n.attributes[a].nodeName.indexOf("data-")!==-1&&(i[n.attributes[a].nodeName]=n.attributes[a].nodeValue);t.push({value:n.value,text:n.text,attributes:i})}),t}function u(){i(function(){t.selectpicker("refresh"),p&&!f?C(v.$modelValue):t.val(v.$modelValue).selectpicker("render"),/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&t.selectpicker("mobile")})}var p,m,f,h,g=o.ngOptions;g&&(m=g.match(a))&&(h=m[3],p=n(m[7]),f=m[8]);var v=r[0],b=r[1];b.renderUnknownOption=angular.noop;var y=[],w={},x=["container","countSelectedText","dropupAuto","header","hideDisabled","selectedTextFormat","size","showSubtext","showIcon","showContent","style","title","width","disabled"],_=function(){var e=!0;angular.forEach(x,function(t){e=e&&o[t]===w[t]})},$=function(){return angular.forEach(x,function(e){w[e]=o[e]}),w},k=function(e,t){var n=e.value===y[t].value&&e.text===y[t].text;if(n)for(var i=0;i<e.attributes.length;i++)if(e.attributes[i].nodeName.indexOf("data-")!==-1&&y[t].attributes[e.attributes[i].nodeName]!==e.attributes[i].nodeValue){n=!1;break}return n},S=function(e){for(var t=e.attributes,n=0;n<t.length;n++)t[n].nodeName.indexOf("data-")!==-1&&angular.element(e).data(t[n].nodeName.substring(5,t[n].nodeName.length),t[n].value)};e.$watch(function(){return{ngModel:v.$viewValue,options:d(t.find("option")),selectors:$()}},s,!0);var C=function(n){var i=p(e);if(angular.isArray(i)&&!angular.isArray(n)){var a=l(n,i);a>-1&&t.val(a).selectpicker("render")}else if(angular.isArray(i)&&angular.isArray(n)){for(var o=[],r=0;r<n.length;r++){var s=l(n[r],i);s>-1&&o.push(s)}t.val(o).selectpicker("render")}else if(angular.isArray(i)||angular.isArray(n)){if(!angular.isArray(i)&&angular.isArray(n)){for(var d=[],u=0;u<n.length;u++){var m=c(n[u],i);m&&d.push(m)}t.val(d).selectpicker("render")}}else{var f=c(n,i);f&&t.val(f).selectpicker("render")}};v.$render=function(){var e=t.data("selectpicker");e&&(p&&!f?C(v.$viewValue):t.val(v.$viewValue).selectpicker("render"))}}}}]),angular.module("app").directive("setNgAnimate",["$animate",function(e){return{link:function(t,n,i){t.$watch(function(){return t.$eval(i.setNgAnimate,t)},function(t,i){e.enabled(!!t,n)})}}}]),angular.module("app").directive("slimScroll",["$timeout","$window",function(e,t){return{restrict:"A",link:function(n,i,a){function o(){$(window).width()>991&&angular.element(i).slimScroll({height:"100%",size:"5px"})}function r(){angular.element(i).slimScroll({destroy:!0})}e(function(){angular.element(i);r(),o()}),angular.element(t).bind("resize",function(){o()}),n.$on("$destroy",function(){r()})}}}]),angular.module("app").directive("stRefresh",function(){return{require:"stTable",restrict:"A",link:function(e,t,n,i){n.stRefresh&&e.$on(n.stRefresh,function(){i.pipe(i.tableState())})}}}),angular.module("app").directive("stSelectAll",function(){return selectAll=function(e,t){return 0===t.length?angular.forEach(e,function(e){t.push(e.ID)}):t.length>0&&t.length!=e.length?angular.forEach(e,function(e){var n=t.indexOf(e.ID);n==-1&&t.push(e.ID)}):t=[],t},{require:"^stTable",template:'<input type="checkbox">',scope:{all:"=stSelectAll",selected:"="},link:function(e,t,n){e.isAllSelected=!1,t.bind("click",function(t){e.$apply(function(){e.selected=selectAll(e.all,e.selected),angular.forEach(e.all,function(t){t.isSelected=e.isAllSelected})})}),e.$watchCollection("selected",function(n){var i=n.length,a=e.all.length;i==a&&i>0&&a>0?(t.find("input").prop("checked",!0),e.isAllSelected=!1):(t.find("input").prop("checked",!1),e.isAllSelected=!0)})}}}),angular.module("app").directive("stSelect",function(){return{require:"^stTable",template:'<input type="checkbox"/>',scope:{row:"=stSelect",selected:"="},link:function(e,t,n,i){t.bind("change",function(t){e.$apply(function(){i.select(e.row,"multiple")})}),e.$watch("row.isSelected",function(n,i){var a=e.selected.indexOf(e.row.ID);n===!0?(t.parent().addClass("st-selected"),t.find("input").prop("checked",!0),a==-1&&e.selected.push(e.row.ID)):(t.parent().removeClass("st-selected"),t.find("input").prop("checked",!1),a!==-1&&e.selected.splice(a,1))})}}}),angular.module("app").directive("switch",function(){return{restrict:"E",replace:!0,transclude:!0,template:function(e,t){var n="";return n+="<span",n+=' class="switch'+(t.class?" "+t.class:"")+'"',n+=t.ngModel?' ng-click="'+t.disabled+" ? "+t.ngModel+" : "+t.ngModel+"=!"+t.ngModel+(t.ngChange?"; "+t.ngChange+'()"':'"'):"",n+=' ng-class="{ checked:'+t.ngModel+", disabled:"+t.disabled+' }"',n+=">",n+="<small></small>",n+='<input type="checkbox"',n+=t.id?' id="'+t.id+'"':"",n+=t.name?' name="'+t.name+'"':"",n+=t.ngModel?' ng-model="'+t.ngModel+'"':"",n+=' style="display:none" />',n+='<span class="switch-text">',n+=t.on?'<span class="on">'+t.on+"</span>":"",n+=t.off?'<span class="off">'+t.off+"</span>":" ",n+="</span>"}}}),function(){"use strict";function e(e,t){var n=parseInt(e,10),i=parseInt(t,10);return this.currentPage=function(){return n},this.nextPage=function(){n>=i||(n+=1)},this.previousPage=function(){1!==n&&(n-=1)},this}function t(e,t,n,i){var a=e,o=t,r=i||0;return this.adjustCanvasDimensions=function(e,t,n){var i=t/e;e>a&&(e=a,t=e*i),t>o&&(t=o,e=t/i),n.height=e,n.width=t},this.rotateClockwise=function(){r+=90},this.rotateCounterClockwise=function(){r-=90},this.getRotation=function(){return r},this}function n(n,i){var a=null,o=function(e){a.getPage(e.currentPage()).then(function(e){var a=e.getViewport(parseInt(n.scale,10)||1,0),o=new t(n.maxHeight||a.height,n.maxWidth||a.width);o.adjustCanvasDimensions(a.height,a.width,i),e.render({canvasContext:i.getContext("2d"),viewport:e.getViewport(i.height/a.height,o.getRotation())})})};return this.render=function(){n.source&&(PDFJS.disableWorker=!0,PDFJS.getDocument(n.source).then(function(t){a=t,n.$apply(function(){o(new e(n.pageNum||1,a.numPages))})},function(e){console.log(e)}))},this}function i(e,n,i){return this.render=function(){var a=document.createElement("video");a.setAttribute("style","display: none"),a.addEventListener("canplay",function(){new t(e.maxHeight||a.videoHeight,e.maxWidth||a.videoWidth).adjustCanvasDimensions(a.videoHeight,a.videoWidth,i),e.$apply(function(){i.getContext("2d").drawImage(a,0,0,a.videoWidth,a.videoHeight,0,0,i.width,i.height)})}),n.append(a),a.src=e.source},this}function a(e,n){return this.render=function(){var i=new Image;i.addEventListener("load",function(){e.$apply(function(){new t(e.maxHeight||i.height,e.maxWidth||i.width).adjustCanvasDimensions(i.height,i.width,n),n.getContext("2d").drawImage(i,0,0,i.width,i.height,0,0,n.width,n.height)})},!1),i.src=e.source},this}angular.module("app").directive("thumbnail",["$window","JQ_CONFIG","uiLoad",function(e,t,o){return{restrict:"E",scope:{source:"@",scale:"=",fileType:"@",maxHeight:"@",maxWidth:"@"},link:function(e,r,s){o.load(t.pdfjs_build).then(function(){var t=document.createElement("canvas"),o=null,s=function(){o&&o.render()};r.append(t),"pdf"===e.fileType?o=new n(e,t):"image"===e.fileType?o=new a(e,t):"video"===e.fileType&&(o=new i(e,r,t)),e.$watch("source + fileType + scale + maxHeight + maxWidth",s)})}}}])}(),angular.module("app").directive("treeModel",["$compile",function(e){return{restrict:"A",link:function(t,n,i){var a=i.treeId,o=i.treeModel,r=i.nodeId||"id",s=i.nodeLabel||"label",l=i.nodeChildren||"children",c='<ul><li data-ng-repeat="node in '+o+'"><i class="glyphicon glyphicon-folder-open" data-ng-show="node.'+l+'.length && node.collapsed" data-ng-click="'+a+'.selectNodeHead(node)"></i><i class="glyphicon glyphicon-folder-open" data-ng-show="node.'+l+'.length && !node.collapsed" data-ng-click="'+a+'.selectNodeHead(node)"></i><i class="glyphicon glyphicon-folder-close" data-ng-hide="node.'+l+'.length"></i> <span data-ng-class="node.selected" data-ng-click="'+a+'.selectNodeLabel(node)">{{node.'+s+'}}</span><div data-ng-hide="node.collapsed" data-tree-id="'+a+'" data-tree-model="node.'+l+'" data-node-id='+r+" data-node-label="+s+" data-node-children="+l+"></div></li></ul>";a&&o&&(t[a]=t[a]||{},t[a].selectNodeHead=t[a].selectNodeHead||function(e){e.collapsed=!e.collapsed},t[a].selectNodeLabel=t[a].selectNodeLabel||function(e){t[a].currentNode&&t[a].currentNode.selected&&(t[a].currentNode.selected=void 0),e.selected="selected",t[a].currentNode=e}),n.html("").append(e(c)(t))}}}]),angular.module("app").directive("uiButterbar",["$rootScope","$anchorScroll","$timeout",function(e,t,n){return{restrict:"AC",template:'<span class="bar"></span>',link:function(e,i,a){i.addClass("butterbar hide"),e.$on("$stateChangeStart",function(e){t(),n(function(){angular.isDefined(e.defaultPrevented)&&e.defaultPrevented||i.removeClass("hide").addClass("active")})}),e.$on("$stateChangeSuccess",function(e,t,n,a){e.targetScope.$watch("$viewContentLoaded",function(){i.addClass("hide").removeClass("active")})}),e.$on("loading-started",function(e){i.removeClass("hide").addClass("active")}),e.$on("saving-started",function(e){i.removeClass("hide").addClass("active")}),e.$on("loading-complete",function(e){i.addClass("hide").removeClass("active")}),e.$on("show-loading",function(e){i.removeClass("hide").addClass("active")}),e.$on("hide-loading",function(e){t(),i.addClass("hide").removeClass("active")})}}}]),angular.module("app").directive("uiDraggable",["$parse","$rootScope",function(e,t){return function(n,i,a){window.jQuery&&!window.jQuery.event.props.dataTransfer&&window.jQuery.event.props.push("dataTransfer"),i.attr("draggable",!1),a.$observe("uiDraggable",function(e){i.attr("draggable",e)});var o="";n.$watch(a.drag,function(e){o=e}),i.bind("dragstart",function(e){var n=angular.toJson(o),i=a.dragChannel||"defaultchannel";e.dataTransfer.setData("Text",n),t.$broadcast("ANGULAR_DRAG_START",i)}),i.bind("dragend",function(i){var o=a.dragChannel||"defaultchannel";if(t.$broadcast("ANGULAR_DRAG_END",o),i.dataTransfer&&"none"!==i.dataTransfer.dropEffect&&a.onDropSuccess){var r=e(a.onDropSuccess);n.$apply(function(){r(n,{$event:i})})}})}}]).directive("uiOnDrop",["$parse","$rootScope",function(e,t){return function(n,i,a){function o(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.dataTransfer.dropEffect="move",!1}function r(e){t.$broadcast("ANGULAR_HOVER",l),i.addClass(u)}function s(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();var o=t.dataTransfer.getData("Text"),r=e(a.uiOnDrop);n.$apply(function(){r(n,{$data:o,$event:t})}),i.removeClass(d)}var l="defaultchannel",c="",d=a.dragEnterClass||"on-drag-enter",u=a.dragHoverClass||"on-drag-hover";t.$on("ANGULAR_DRAG_START",function(e,t){c=t,l===t&&(i.bind("dragover",o),i.bind("dragenter",r),i.bind("drop",s),i.addClass(d))}),t.$on("ANGULAR_DRAG_END",function(e,t){c="",l===t&&(i.unbind("dragover",o),i.unbind("dragenter",r),i.unbind("drop",s),i.removeClass(u),i.removeClass(d))}),t.$on("ANGULAR_HOVER",function(e,t){l===t&&i.removeClass(u)}),a.$observe("dropChannel",function(e){e&&(l=e)})}}]),angular.module("app").directive("uiFocus",["$timeout","$parse",function(e,t){return{link:function(n,i,a){var o=t(a.uiFocus);n.$watch(o,function(t){t===!0&&e(function(){i[0].focus()},100)}),i.bind("blur",function(){n.$apply(o.assign(n,!1))})}}}]),angular.module("app").directive("uiFullscreen",["uiLoad","JQ_CONFIG","$document","$window",function(e,t,n,i){return{restrict:"AC",template:'<i class="fa fa-expand fa-fw text"></i><i class="fa fa-compress fa-fw text-active"></i>',link:function(e,t,i){t.addClass("hide"),screenfull.enabled&&!navigator.userAgent.match(/Trident.*rv:11\./)&&t.removeClass("hide"),t.on("click",function(){var e;i.target&&(e=$(i.target)[0]),screenfull.toggle(e)}),n.on(screenfull.raw.fullscreenchange,function(){screenfull.isFullscreen?t.addClass("active"):t.removeClass("active")})}}}]),angular.module("app").directive("uiModule",["MODULE_CONFIG","uiLoad","$compile",function(e,t,n){return{restrict:"A",compile:function(i,a){var o=i.contents().clone();return function(i,a,r){a.contents().remove(),t.load(e[r.uiModule]).then(function(){n(o)(i,function(e,t){a.append(e)})})}}}}]),angular.module("app").directive("uiNav",["$timeout",function(e){return{restrict:"AC",link:function(e,t,n){var i,a=$(window),o=768,r=$(".app-aside"),s=".dropdown-backdrop";t.on("click","a",function(e){i&&i.trigger("mouseleave.nav");var t=$(this);t.parent().siblings(".active").toggleClass("active"),t.next().is("ul")&&t.parent().toggleClass("active")&&e.preventDefault(),t.next().is("ul")||a.width()<o&&$(".app-aside").removeClass("show off-screen")}),t.on("mouseenter","a",function(e){if(i&&i.trigger("mouseleave.nav"),$("> .nav",r).remove(),!(!$(".app-aside-fixed.app-aside-folded").length||a.width()<o||$(".app-aside-dock").length)){var t,n=$(e.target),l=$(window).height(),c=50,d=150;!n.is("a")&&(n=n.closest("a")),n.next().is("ul")&&(i=n.next(),n.parent().addClass("active"),t=n.parent().position().top+c,i.css("top",t),t+i.height()>l&&i.css("bottom",0),t+d>l&&i.css("bottom",l-t-c).css("top","auto"),i.appendTo(r),i.on("mouseleave.nav",function(e){$(s).remove(),i.appendTo(n.parent()),i.off("mouseleave.nav").css("top","auto").css("bottom","auto"),n.parent().removeClass("active")}),$(".smart").length&&$('<div class="dropdown-backdrop"/>').insertAfter(".app-aside").on("click",function(e){e&&e.trigger("mouseleave.nav")}))}}),r.on("mouseleave",function(e){i&&i.trigger("mouseleave.nav"),$("> .nav",r).remove()})}}}]),angular.module("app").directive("uiScrollTo",["$location","$anchorScroll",function(e,t){return{restrict:"AC",link:function(n,i,a){i.on("click",function(n){e.hash(a.uiScrollTo),t()})}}}]),angular.module("app").directive("uiShift",["$timeout",function(e){return{restrict:"A",link:function(t,n,i){function a(){e(function(){var e=i.uiShift,t=i.target;s.hasClass("in")||s[e](t).addClass("in")})}function o(){r&&r.prepend(n),!r&&s.insertAfter(c),s.removeClass("in")}var r,s=$(n),l=$(window),c=s.prev(),d=l.width();!c.length&&(r=s.parent()),d<768&&a()||o(),l.resize(function(){d!==l.width()&&e(function(){l.width()<768&&a()||o(),d=l.width()})})}}}]),angular.module("app").directive("uiToggleClass",["$timeout","$document",function(e,t){return{restrict:"AC",link:function(e,t,n){t.on("click",function(e){function i(e,t){for(var n=new RegExp("\\s"+e.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g"),i=" "+$(t)[0].className+" ";n.test(i);)i=i.replace(n," ");$(t)[0].className=$.trim(i)}e.preventDefault();var a=n.uiToggleClass.split(","),o=n.target&&n.target.split(",")||Array(t),r=0;angular.forEach(a,function(e){var t=o[o.length&&r];e.indexOf("*")!==-1&&i(e,t),$(t).toggleClass(e),r++}),$(t).toggleClass("active")})}}}]),angular.module("app").service("AutoFocus",["$timeout",function(e){this.init=function(){e(function(){angular.element(".auto-focus").length&&angular.element(".auto-focus")[0].focus()},500)}}]),angular.module("app").service("Scroller",["$timeout",function(e){this.init=function(t){e(function(){var e=angular.element("#scroller"),n=angular.element("#scroll-"+t);e.length&&n.length&&e.animate({scrollTop:e.scrollTop()-e.offset().top+n.offset().top},400)})}}]),angular.module("app").service("scrollTo",["$location","$anchorScroll",function(e,t){"use strict";this.top=function(n){t.yOffset=80,e.hash(n),t()}}]),angular.module("app").run(["$rootScope","$q","$location","$state","$stateParams","$timeout","$window","Data",function(e,t,n,i,a,o,r,s){function l(e){return angular.isFunction(e)?e():e}""===n.path()&&n.path("/"),e.$state=i,e.$stateParams=a,e.$on("$stateChangeStart",function(){$(".app-aside").removeClass("off-screen"),$(".dropdown.open").removeClass("open"),$(".navbar-collapse.collapse.show").removeClass("show"),e.is_mobile_device()&&$(".app-content-body").fadeOut(100)}),e.$on("$stateChangeSuccess",function(){e.is_mobile_device()&&$(".app-content-body").fadeIn(100);var t=l(i.$current.locals.globals.$title);o(function(){e.$title=t}),e.$breadcrumbs=[];for(var n=i.$current;n;)n.resolve&&n.resolve.$title&&e.$breadcrumbs.unshift({title:l(n.locals.globals.$title),state:n.self.name,stateParams:n.locals.globals.$stateParams}),n=n.parent})}]),angular.module("app").run(["$rootScope","$timeout","$state",function(e,t,n){e.$on("$stateChangeError",function(e){e.preventDefault(),t(function(){n.go("access.404")},0,!1)})}]),angular.module("app").run(["$rootScope","$timeout","$filter","Data",function(e,t,n,i){e.$on("get_user",function(a,o){"yeah"!=e.fetched_assets&&(i.go("user_assets_get").then(function(t){e.assets_groups=t.groups,e.assets_products=t.products,e.assets_companies=t.companies,e.assets_references=t.references,e.assets_teams=t.teams,e.assets_countries=t.countries,e.assets_currencies=t.currencies,e.assets_leads_groups=t.lead_types,e.assets_media_types=t.media_types,e.assets_claim_types=t.claim_types,e.assets_collection_types=t.collection_types,e.assets_payment_types=t.payment_types,e.assets_invoice_types=t.invoice_types,e.assets_task_types=t.task_types,e.assets_vehicle_types=t.vehicle_types,e.assets_vehicle_codes=t.vehicle_codes,e.assets_taxrates=t.taxrates,e.assets_vendors=t.vendors,e.assets_banks=t.banks,e.assets_expense_cats=t.expense_cats,e.$broadcast("assets_loaded",t)}),e.$on("clients_group_assets_added",function(n,i){t(function(){e.assets_groups.push(i)},0)}),e.$on("clients_group_assets_changed",function(n,i){t(function(){e.assets_groups[i.index]=i.item},0)}),e.$on("clients_group_assets_deleted",function(n,i){t(function(){e.assets_groups.splice(e.assets_groups.indexOf(i),1)},0)}),e.$on("reference_assets_added",function(n,i){t(function(){e.assets_references.push(i)},0)}),e.$on("reference_assets_changed",function(n,i){t(function(){e.assets_references[i.index]=i.item},0)}),e.$on("reference_assets_deleted",function(n,i){t(function(){e.assets_references.splice(e.assets_references.indexOf(i),1)},0)}),e.$on("team_assets_added",function(n,i){t(function(){e.assets_teams.push({ID:i.ID,name:i.first_name+" "+i.last_name})},0)}),e.$on("team_assets_changed",function(i,a){t(function(){var t=n("filter")(e.assets_teams,{ID:a.ID})[0],i=e.assets_teams.indexOf(t);e.assets_teams[i]={ID:a.ID,name:a.first_name+" "+a.last_name}},0)}),e.$on("team_assets_deleted",function(i,a){t(function(){var t=n("filter")(e.assets_teams,{ID:a.ID})[0],i=e.assets_teams.indexOf(t);e.assets_teams.splice(i,1)},0)}),e.$on("company_assets_added",function(n,i){t(function(){e.assets_companies.push(i)},0)}),e.$on("company_assets_changed",function(n,i){t(function(){e.assets_companies[i.index]=i.item},0)}),e.$on("company_assets_deleted",function(n,i){t(function(){e.assets_companies.splice(e.assets_companies.indexOf(i),1)},0)}),e.$on("product_assets_added",function(n,i){t(function(){e.assets_products.push(i)},0)}),e.$on("product_assets_changed",function(n,i){t(function(){e.assets_products[i.index]=i.item},0)}),e.$on("product_assets_deleted",function(n,i){t(function(){e.assets_products.splice(e.assets_products.indexOf(i),1)},0)}),e.$on("taxrates_assets_added",function(n,i){t(function(){e.assets_taxrates.push(i)},0)}),e.$on("taxrates_assets_changed",function(n,i){t(function(){e.assets_taxrates[i.index]=i.item},0)}),e.$on("taxrates_assets_deleted",function(n,i){t(function(){e.assets_taxrates.splice(e.assets_taxrates.indexOf(i),1)},0)}),e.$on("vendors_assets_added",function(n,i){t(function(){e.assets_vendors.push(i)},0)}),e.$on("vendors_assets_changed",function(n,i){t(function(){e.assets_vendors[i.index]=i.item},0)}),e.$on("vendors_assets_deleted",function(n,i){t(function(){e.assets_vendors.splice(e.assets_vendors.indexOf(i),1)},0)}),e.$on("banks_assets_added",function(n,i){t(function(){e.assets_banks.push(i)},0)}),e.$on("banks_assets_changed",function(n,i){t(function(){e.assets_banks[i.index]=i.item},0)}),e.$on("banks_assets_deleted",function(n,i){t(function(){e.assets_banks.splice(e.assets_banks.indexOf(i),1)},0)}),e.$on("expense_cats_assets_added",function(n,i){t(function(){e.assets_expense_cats.push(i)},0)}),e.$on("expense_cats_assets_changed",function(n,i){t(function(){e.assets_expense_cats[i.index]=i.item},0)}),e.$on("expense_cats_assets_deleted",function(n,i){t(function(){e.assets_expense_cats.splice(e.assets_expense_cats.indexOf(i),1)},0)}),e.fetched_assets="yeah")})}]),angular.module("app").config(["$uibTooltipProvider",function(e){1==("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&e.options({trigger:"dontTrigger"})}]),angular.module("app").run(["$rootScope","$q","$location","$state","$stateParams","$timeout","$window","Data",function(e,t,n,i,a,o,r,s){e.$on("$stateChangeStart",function(n,a,o,r,l){e.authenticated=!1,a.redirectTo&&(n.preventDefault(),i.go(a.redirectTo,o,{location:"replace"})),a.name.indexOf("access.")==-1&&(a.resolve||(a.resolve={}),a.resolve.pauseStateChange=function(){var n=t.defer();return s.check_login().then(function(t){t.id&&angular.isNumber(t.id)?(e.authenticated=!0,e.$broadcast("get_user",t),n.resolve()):(e.$evalAsync(function(){i.go("access.signin")}),n.resolve())}),n.promise})})}]),angular.module("app").run(["$rootScope","$timeout","$http","$window","Notify","SWAL","AutoFocus","uiLoad","JQ_CONFIG",function(e,t,n,i,a,o,r,s,l){e.Notify=a,e.SWAL=o,e.AutoFocus=r,e.trackEvent=function(e,t){void 0!==i.ga&&i.ga("send","event",e,t,this.src)},e.is_mobile_device=function(){var e=i.navigator.userAgent||i.navigator.vendor||i.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(e)},e.mobile_menu=function(){angular.element(".app-aside").addClass("off-screen")},e.mobile_menu_close=function(){angular.element(".app-aside").removeClass("off-screen")},e.is_touch_device=function(){return 1==("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},e.rand=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.date_from_mysql=function(e){return e?moment.unix(e).toDate():""},e.date_to_mysql=function(e){return null!==e&&void 0!==e?Math.round(new Date(e).getTime()/1e3):""},e.number_with_commas=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},e.has_address=function(e){return!!(e.address1||e.address2||e.city||e.state||e.country||e.pobox)},e.blank_image=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII="},e.is_phone=function(e){return e=e.replace(/[^0-9]/g,""),e.length>7&&e},e.is_email=function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},e.is_image=function(e){e=e||"";var t=/\.(jpe?g|gif|bmp|png|svg|tiff?)$/i;return e&&t.test(e.toLowerCase())},e.is_browser=function(){var e=i.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i};for(var n in t)if(t[n].test(e))return n;return"unknown"},e.export_chart=function(t,n){n=n||"chart",n+=".png";var i=angular.element(t)[0];html2canvas(i,{onrendered:function(t){e.downloadFile(t.toDataURL(),n)}})},e.export_pdf=function(e,t,n,i,a){t=t||"chart",t+=".pdf",a=parseInt(a)||500,n=n||"",i=i||"";var o=angular.element(e)[0];html2canvas(o,{onrendered:function(e){var o=e.toDataURL(),r=[];n&&""!=n&&r.push({text:n,fontSize:24,bold:!0,alignment:"center",margin:[0,0,0,20]}),i&&""!=i&&r.push({text:i,fontSize:16,italic:!0,alignment:"center",margin:[0,0,0,20]}),r.push({image:o,width:a});var s={pageSize:"A4",content:r};pdfMake.createPdf(s).download(t)}})},e.downloadFile=function(e,t){var n=document.createElement("a");if(n.href=e,n.target="_blank",void 0!==n.download)if(void 0!==t)n.download=t;else{var i=e.substring(e.lastIndexOf("/")+1,e.length);n.download=i}if(document.createEvent){var a=document.createEvent("MouseEvents");return a.initEvent("click",!0,!0),n.dispatchEvent(a),!0}return window.open(e),!0},e.lightbox=function(e){var t=angular.element('<div class="angular-lightbox-overlay" style="display: none"><span class="angular-lightbox-inner"><img src="" /><a href class="close" title="Close">×</a></span></div>');angular.element(document.body).append(t);var n=angular.element('<div style="width:10em;height:10em;line-height:10em;text-align:center;"><i class="fa fa-refresh fa-spin"></i></div>'),i=t.find("img");i.hide().after(n),i.attr("src",e),i.one("load",function(){n.remove(),i.show()}),t.show(),t.on("click",function(e){t.remove()}),t.find("a.close").on("click",function(e){e.preventDefault(),t.remove()}),t.find(".angular-lightbox-inner").on("click",function(e){e.stopPropagation()}),jwerty.key("escape",function(e){t.remove()})}}]),angular.module("app").run(["$rootScope","$window","$location",function(e,t,n){void 0!==t.ga&&t.vars.ga&&(t.ga("create",t.vars.ga,"auto"),e.$on("$stateChangeSuccess",function(e){t.ga("send","pageview",n.path())}))}]),angular.module("app").run(["$rootScope",function(e){e.$on("mapInitialized",function(t,n){e.$apply(function(){e.map=n})})}]),angular.module("app").run(["$window","$rootScope","$timeout","Data",function(e,t,n,i){function a(){n(function(){if(t.online===!1){n(function(){i.go("check_internet_connection")},3e3);var e='<div id="error_message_box"><div class="primary-explanation"><i class="alertIcon fa fa-exclamation-triangle"></i>Disconnected from the server</div><div class="reconnect-explanation"><span class="time-remaining">Trying to reconnect <i class="fa fa-refresh fa-spin m-l-sm"></i></span></div><div class="secondary-explanation"><script>var conn_exp = "This can occur either because you are not connected to the Internet or because our servers are temporarily having problems. While disconnected, you can continue to use Broksy, but your changes are not being saved. Once you re-establish a connection to the server, all changes you have made will be saved and everything will be fine, but if your browser crashes in the meantime, you will lose your changes.";</script><a class="explain_link" onclick="alert(conn_exp);">What\'s going on?</a></div></div>',a=angular.element("#error_message_box");a.length||angular.element(document.body).append(e)}else angular.element("#error_message_box").remove()})}t.online=navigator.onLine,t.$on("check_connection",function(){a()}),e.addEventListener("offline",function(){t.$apply(function(){t.online=!1,a()})},!1),e.addEventListener("online",function(){t.$apply(function(){t.online=!0,a()})},!1)}]),angular.module("app").run(["$rootScope","$timeout","uiLoad",function(e,t,n){window.Tawk_API=window.Tawk_API||{};var i="https://embed.tawk.to/589b38c7a1e7630ada58eba2/default",a=(new Date,!1),o='<div class="chat_brand" style="position:fixed; bottom:0; right:13px; width: 200px; height:30px; z-index: 21474836479; background: #fff;"></div>',r=angular.element(o),s=$("body");e.$on("get_user",function(o,l){"1"==l.is_admin||"1"==l.is_owner?(window.Tawk_API.visitor={name:l.name+" ("+l.account.name+" - "+l.account.ID+")",email:l.email},window.Tawk_API.onChatMaximized=function(){s.append(r)},window.Tawk_API.onChatMinimized=function(){r.remove()},window.Tawk_API.onChatHidden=function(){r.remove()},window.Tawk_API.onStatusChange=function(e){t(function(){"online"===e?window.Tawk_API.showWidget():"away"===e?window.Tawk_API.hideWidget():"offline"===e&&window.Tawk_API.hideWidget()})},a||e.is_mobile_device()||!window.vars.enable_chat||n.load(i).then(function(){a=!0})):t(function(){window.Tawk_API.hideWidget()})})}]),angular.module("app").controller("AppCtrl",["$rootScope","$scope","$window","$state","$timeout","VARS","Data","SWAL","Modals","Notify",function(e,t,n,i,a,o,r,s,l,c){function d(e){var t=e.navigator.userAgent||e.navigator.vendor||e.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(t)}function u(){if(e.is_mobile_device())e.$doc_title="Broksy";else{var t=e.$title||"Dashboard",n=e.$title_counter?" - ("+e.$title_counter+")":"";e.$doc_title=t+" - Broksy"+n}}FastClick.attach(document.body);var p=!!navigator.userAgent.match(/MSIE/i);p&&angular.element(n.document.body).addClass("ie"),d(n)&&angular.element(n.document.body).addClass("smart"),jwerty.key("forward-slash",function(e){if("input"!=e.target.tagName.toLowerCase()&&"textarea"!=e.target.tagName.toLowerCase()&&!angular.element(e.target).hasClass("note-editable")){var t=angular.element("#autocomplete_top_search");t.length&&a(function(){t.val(""),t[0].focus()})}}),t.Modals=e.Modals=l,t.VARS=e.VARS=o,t.Notify=e.Notify=c,t.translate_available=!1,t.app=e.app={name:"Broksy",version:o.version,current_year:(new Date).getFullYear(),color:{primary:"#7266ba",info:"#23b7e5",success:"#27c24c",warning:"#fad733",danger:"#f05050",light:"#e8eff0",dark:"#3a3f51",black:"#1c2b36"},settings:{navbarHeaderColor:"bg-black lt",navbarCollapseColor:"bg-white-only",asideColor:"bg-black",headerFixed:!0,asideFixed:!0,asideFolded:!1,asideDock:!1,container:!1}},e.reset_cache_data=function(){e.leads=e.clients=e.policies=e.claims=[],e.fetched_leads=e.fetched_clients=e.fetched_policies=e.fetched_claims=!1},e.reset_cache_data(),e.user={},t.alerts="",t.alerts_pinged=!1,t.$on("get_user",function(n,i){e.user=i,e.user.can=function(t){return"admin"==t?"1"==e.user.is_admin||"1"==e.user.is_owner:"broker"==t?"1"==e.user.is_broker:"accountant"==t?"1"==e.user.is_accountant:"view_briefcase"==t?"1"==e.user.is_admin||"1"==e.user.is_owner||"1"==e.user.can_view_briefcase:"upload_briefcase"==t&&("1"==e.user.is_admin||"1"==e.user.is_owner||"1"==e.user.can_upload_briefcase)},0==t.alerts_pinged&&(t.get_alerts(),t.alerts_pinged=!0)}),t.get_alerts=function(){e.user.id&&r.go("get_alerts_count").then(function(n){parseInt(n.result)>0?e.$title_counter=t.alerts=parseInt(n.result):e.$title_counter=t.alerts="",a(function(){t.get_alerts()},6e5)})},e.permissions=function(t,n){var t=t||"admin";if(e.user.id){var o="1"===e.user.is_owner||"1"===e.user.is_admin;if(o)return!0;var r=e.user.permissions;if("1"==r[t])return!0;a(function(){i.go("app.forbidden")},0,!1)}return!1},e.$watch(function(){return e.$title},function(e){u()}),e.$watch(function(){return e.$title_counter},function(e){u()}),t.$watch("app.settings",function(){t.app.settings.asideDock&&t.app.settings.asideFixed&&(t.app.settings.headerFixed=!0)},!0),e.to_top=function(){a(function(){$anchorScroll(),console.log("to_top() called")},100)},e.fast_create=function(t,n){i.go("app."+t).then(function(){e.$broadcast("fast_create",n)})}}]),angular.module("app").controller("BriefcaseCtrl",["$rootScope","$scope","$http","$timeout","$filter","Upload","Data","VARS","SWAL","Modals",function(e,t,n,i,a,o,r,s,l,c){t.vm={},t.total_space=3221225472,t.user_space=3221225472,t.space=function(){return 100*t.user_space/t.total_space},t.can_upload=function(){return t.total_space>t.user_space},angular.element(window.document).on("click",function(){angular.element("#context-menu").hide()}),angular.element(window.document).on("contextmenu",'table.table-files tr.item-list:has("td")',function(e){var t=angular.element("#context-menu");e.pageX>=window.innerWidth-t.width()&&(e.pageX-=t.width()),e.pageY>=window.innerHeight-t.height()&&(e.pageY-=t.height()),t.hide().css({left:e.pageX,top:e.pageY}).appendTo(angular.element(document.body)).show(),
e.preventDefault()}),angular.element(window.document).on("click",function(e){var t=angular.element(e.target);t.attr("uib-popover-template")||t.attr("uib-popover")||t.attr("uib-popover-html")}),t.getBasePath=function(){var e="/",t=(e||"").replace(/^\//,"");return t.trim()?t.split("/"):[]},t.vm.tree=[],t.$watch("selected_fm_search",function(e){e&&e.row.path&&(t.currentPath=e.row.path.split("/").splice(1),t.refresh())}),t.currentPath=t.getBasePath(),t.history=[],t.fileList=[],t.error="",t.vm.newFolder=t.vm.newRename=t.vm.oldRename="",t.temps=[],t.query="",t.reverse=!1,t.predicate=["type","name"],t.order=function(e){t.reverse=t.predicate[1]===e&&!t.reverse,t.predicate[1]=e},i(function(){t.refresh()},100),t.getPath=function(e){return"/"+e.join("/")},t.getFileList=function(e){return(e||[]).map(function(e){return e&&e.fullPath()})},t.isInThisPath=function(e){var n=t.currentPath.join("/")+"/";return n.indexOf(e+"/")!==-1},t.create_folder=function(){if(t.vm.newFolder){t.is_creating_folder=!0;var e=t.getPath(t.currentPath)+"/"+t.vm.newFolder;r.go("briefcase_createFolder",{newPath:e}).then(function(e){t.is_creating_folder=!1,t.vm.nf_form_open=!1,t.vm.newFolder="",t.refresh()})}},t.email=function(){return c.email_briefcase(t.temps)},t.rename=function(){if(t.vm.newRename&&t.vm.oldRename){t.is_renaming=!0;var e=t.getPath(t.currentPath)+"/"+t.vm.oldRename,n=t.getPath(t.currentPath)+"/"+t.vm.newRename;r.go("briefcase_rename",{item:e,newItemPath:n}).then(function(e){t.is_renaming=!1,e.result.success?(t.vm.fm_rename_open=!1,t.refresh()):(t.vm.fm_rename_open=!0,l.error("Error",e.result.error))})}},t.copy=function(e){t.is_copying=!0;var n=t.getFileList(t.temps);r.go("briefcase_copy",{items:n,newPath:e}).then(function(e){t.is_copying=!1,e.result.success?(t.vm.fm_copy_open=!1,t.refresh()):l.error("Error",e.result.error)})},t.move=function(e){t.is_moving=!0;var n=t.getFileList(t.temps);r.go("briefcase_move",{items:n,newPath:e}).then(function(e){t.is_moving=!1,e.result.success?(t.vm.fm_move_open=!1,t.refresh()):l.error("Error",e.result.error)})},t.compress=function(){var e=t.getFileList(t.temps),n=t.getPath(t.currentPath);r.go("briefcase_compress",{items:e,destination:n}).then(function(e){e.result.success?t.refresh():l.error("Error",e.result.error)})},t.extract=function(){var e=t.temps[0].fullPath(),n=t.getPath(t.currentPath);r.go("briefcase_extract",{item:e,destination:n}).then(function(e){e.result.success?t.refresh():l.error("Error",e.result.error)})},t.delete=function(){l.confirm(function(){var e=t.getFileList(t.temps);r.go("briefcase_remove",{items:e}).then(function(e){e.result.success?t.refresh():l.error("Error",e.result.error)})})},t.refresh=function(){function e(e){if("---"==e)return"-";var t=(e||"").toString().split(/[- :]/);return new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])}t.vm.show_upload=!1,t.temps=[],t.currentPath.length||(t.currentPath=t.getBasePath());var n=t.currentPath.join("/");t.loaded=!1,t.fileList=[],r.go("briefcase_list",{path:t.getPath(t.currentPath)}).then(function(i){i&&"object"==typeof i||(t.error="Error - Bridge response error, please check the API docs or this ajax response."),t.user_space=parseFloat(i.space||0),t.vm.tree=i.tree,angular.forEach(i.list,function(n){n.name=n.name||"",n.url=n.url||"",n.path=t.currentPath||[],n.type=n.type||"file",n.size=parseInt(n.size||0),n.date=e(n.date)||"-",n.recursive=!1,n.fullPath=function(){var e=n.path.filter(Boolean);return("/"+e.join("/")+"/"+n.name).replace(/\/\//,"/")},n.isFolder=function(){return"dir"===n.type},n.isImage=function(){var e=/\.(jpe?g|gif|bmp|png|svg|tiff?)$/i;return e.test(n.name.toLowerCase())},n.isCompressible=function(){return n.isFolder()},n.isExtractable=function(){var e=/\.(gz|tar|rar|g?zip)$/i;return!n.isFolder()&&e.test(n.name)},n.name&&"__blank.png"!=n.name&&t.fileList.push(n)}),t.buildTree(n),t.loaded=!0})},t.buildTree=function(e){function n(e,t,i){var a=i?i+"/"+t.name:t.name;if(e.name&&e.name.trim()&&0!==i.trim().indexOf(e.name)&&(e.nodes=[]),e.name!==i)e.nodes.forEach(function(e){n(e,t,i)});else{for(var o in e.nodes)if(e.nodes[o].name===a)return;e.nodes.push({item:t,name:a,nodes:[]})}e.nodes=e.nodes.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()===t.name.toLowerCase()?0:1})}function i(e,t){t.push(e);for(var n in e.nodes)i(e.nodes[n],t)}function a(e,t){return e.filter(function(e){return e.name===t})[0]}var o=[],r={};!t.history.length&&t.history.push({name:t.getBasePath()[0]||"",nodes:[]}),i(t.history[0],o),r=a(o,e),r&&(r.nodes=[]);for(var s in t.fileList){var l=t.fileList[s];l.isFolder()&&n(t.history[0],l,e)}},t.smartClick=function(n){return n.isFolder()?t.folderClick(n):n.isImage()?e.lightbox(n.url):void e.downloadFile(n.url)},t.isSelected=function(e){return t.temps.indexOf(e)!==-1},t.selectOrUnselect=function(e,n){var i=t.temps.indexOf(e),a=n&&3==n.which;if(n&&n.target.hasAttribute("prevent"))return void(t.temps=[]);if(!(!e||a&&t.isSelected(e))){if(n&&n.shiftKey&&!a){var o=t.fileList,r=o.indexOf(e),s=t.temps[0],l=o.indexOf(s),c=void 0;if(s&&o.indexOf(s)<r){for(t.temps=[];l<=r;)c=o[l],!t.isSelected(c)&&t.temps.push(c),l++;return}if(s&&o.indexOf(s)>r){for(t.temps=[];l>=r;)c=o[l],!t.isSelected(c)&&t.temps.push(c),l--;return}}if(n&&!a&&(n.ctrlKey||n.metaKey))return void(t.isSelected(e)?t.temps.splice(i,1):t.temps.push(e));t.temps=[e],t.singleSelection()&&(t.vm.newRename=t.vm.oldRename=e.name)}},t.fileNameExists=function(e){return t.fileList.find(function(t){return e&&t.name.trim()===e.trim()})},t.hasSelection=function(){return t.temps.length>0},t.singleSelection=function(){return 1===t.temps.length&&t.temps[0]},t.singleFileSelection=function(){return 1===t.temps.length&&"file"===t.temps[0].type},t.singleFolderSelection=function(){return 1===t.temps.length&&"dir"===t.temps[0].type},t.totalSelecteds=function(){return{total:t.temps.length}},t.selectionHas=function(e){return t.temps.find(function(t){return t&&t.type===e})},t.folderClick=function(e){t.currentPath=[],e&&e.isFolder()&&(t.currentPath=e.fullPath().split("/").splice(1)),t.refresh()},t.upDir=function(){t.currentPath[0]&&(t.currentPath=t.currentPath.slice(0,-1),t.refresh())},t.goTo=function(e){t.currentPath=t.currentPath.slice(0,e+1),t.refresh()},t.fileNameExists=function(e){return t.fileList.find(function(t){return e&&t.name.trim()===e.trim()})},t.listHasFolders=function(){return t.fileList.find(function(e){return"dir"===e.type})},t.getCurrentFolderName=function(){return t.currentPath.slice(-1)[0]||"/"},t.is_input=function(e){return"input"==e.target.tagName.toLowerCase()||"textarea"==e.target.tagName.toLowerCase()},t.filtered_list=function(){return a("orderBy")(t.fileList,t.predicate,t.reverse)||[]},t.move_selection=function(e){t.singleSelection()&&i(function(){var n,i=t.singleSelection(),a=t.filtered_list(),o=a.length-1,r=a.indexOf(i);"up"===e&&(n=0===r?o:r-1,t.temps=[a[n]]),"down"===e&&(n=r===o?0:r+1,t.temps=[a[n]])})},t.tab_key=function(e){t.is_input(e)||(e.preventDefault(),i(function(){t.fileList.length&&(!t.temps.length>0?t.temps=[t.filtered_list()[0]]:t.move_selection("down"))}))},jwerty.key("enter",function(e){if(!t.is_input(e)&&t.singleSelection())return t.smartClick(t.singleSelection())}),jwerty.key("tab",function(e){return t.tab_key(e)}),jwerty.key("backspace",function(e){t.upDir()}),jwerty.key("up",function(e){return t.hasSelection()?void t.move_selection("up"):t.tab_key(e)}),jwerty.key("down",function(e){return t.hasSelection()?void t.move_selection("down"):t.tab_key(e)}),jwerty.key("shift+backspace",function(e){t.hasSelection()&&t.delete()}),t.onDrop=function(e){if(console.log("destination",e),e!=t.currentPath.join("/"))return t.move(e)},t.progress=0,t.upload_one=function(e,n){if(t.errFiles=n,e&&e.length){for(var a=0;a<e.length||t.refresh();a++){var r=e[a];r.$error||o.upload({url:s.ajaxurl,data:{action:"briefcase_upload",file:r,destination:t.getPath(t.currentPath)}}).then(function(e){},function(e){console.log("Error status:",e.status)},function(e){console.log("progress",e);var n=parseInt(100*e.loaded/e.total);100==n&&(n=0),t.progress=n})}i(function(){t.refresh()},1e3)}},t.upload=function(e,n){t.errFiles=n,e.length&&o.upload({url:s.ajaxurl,data:{action:"briefcase_upload",files:e,destination:t.getPath(t.currentPath)}}).then(function(e){t.progress=0,t.refresh()},function(e){console.log("Error status:",e.status)},function(e){console.log("progress",e);var n=parseInt(100*e.loaded/e.total);100==n&&(n=0),t.progress=1,t.fake_progress()})},t.fake_progress=function(){if(0!=t.progress){var e=Math.floor(500*Math.random())+100;i(function(){0!=t.progress&&(t.progress++,t.progress>100&&(t.progress=1),t.progress>0&&t.fake_progress())},e)}}}]),angular.module("app").directive("bnDocumentKeypress",["$document","$parse",function(e,t){return{link:function(n,i,a){var o,r;r=a.bnDocumentKeypress,o=t(r),e.on("keyup",function(e){return n.$apply(function(){return o(n,{$event:e})})})}}}]).controller("CalcController",["$scope","Notify",function($scope,Notify){return $scope.calcInput="0",$scope.memory=0,$scope.stuff=[0],$scope.justGotMath=!1,$scope.$watch("calcInput",function(e){e.length>10?$(".calc .screen_calc").fitText(1.2,{minFontSize:"11px",maxFontSize:"32px"}):$(".calc .screen_calc").fitText(.8,{minFontSize:"32px",maxFontSize:"50px"})}),$scope.onCopy=function(){Notify.success("Copied to clipboard")},$scope.acceptInput=function(e){var t;if($scope.justGotMath&&($scope.justGotMath=!1,$scope.isOperator(e)||($scope.stuff=[])),e=e.toString(),"."===e)return t=$scope.stuff.pop(),void($scope.isOperator(t)||Math.ceil(t)!==parseInt(t)?$scope.stuff.push(t):(t+=".",$scope.stuff.push(t),$scope.writeScreen()));if($scope.isOperator(e)){if(!$scope.stuff.length)return;t=$scope.stuff.pop(),$scope.isOperator(t)||$scope.stuff.push(t),$scope.stuff.push(e)}else $scope.stuff.length?(t=$scope.stuff.pop(),$scope.isOperator(t)?($scope.stuff.push(t),$scope.stuff.push(e)):"0"===t.toString()?$scope.stuff.push(e):(t+=e.toString(),$scope.stuff.push(t))):$scope.stuff.push(e);return $scope.writeScreen(),this},$scope.isOperator=function(e){return!(!isNaN(e)||"."===e)},$scope.percent=function(){},$scope.changeSign=function(){var e,t;return e=$scope.stuff.pop(),$scope.isOperator(e)?(t=$scope.stuff.pop(),t="-"===t.substr(0,1)?substr(1):"-"+t,$scope.stuff.push(t)):e="-"===e.substr(0,1)?substr(1):"-"+e,$scope.stuff.push(e),$scope.writeScreen()},$scope.writeScreen=function(){var e;e="",$.each($scope.stuff,function(t,n){return""===e?e=n:e+=n.toString()}),""===e&&(e="0"),$scope.calcInput=e.toString()},$scope.del=function(){if($scope.stuff.length){var e,t;e=$scope.stuff[$scope.stuff.length-1],e.length<2?$scope.stuff.splice(-1,1):(t=e.substring(0,e.length-1),t.length&&($scope.stuff[$scope.stuff.length-1]=e.substring(0,e.length-1)))}return $scope.writeScreen()},$scope.clearCalc=function(){return $scope.stuff=[],$scope.writeScreen()},$scope.doMath=function(){return $scope.justGotMath=!0,$scope.stuff=[$scope.getMath()],$scope.writeScreen()},$scope.getMath=function(){var job,last,x;return last=$scope.stuff.pop(),$scope.isOperator(last)||$scope.stuff.push(last),job=$scope.stuff.join(""),x=0,eval("x = "+job+";"),x},$scope.handleKeypress=function(e){var t;return t=e.which,81===t?$scope.memoryClear():87===t?$scope.memoryAdd():69===t?$scope.memorySub():82===t?$scope.memoryShow():192===t?$scope.clearCalc():8===t?$scope.del():190===t?$scope.acceptInput("."):13===t?$scope.doMath():47<t&&t<58?$scope.acceptInput(String.fromCharCode(t)):95<t&&t<106?(t-=48,$scope.acceptInput(String.fromCharCode(t))):187===t||107===t?$scope.acceptInput("+"):189===t||109===t?$scope.acceptInput("-"):106===t?$scope.acceptInput("*"):191===t||111===t||22===t?$scope.acceptInput("/"):void 0},$scope.memoryClear=function(){return $scope.memory=0,$scope.memoryIndicator(0)},$scope.memoryShow=function(){return $scope.stuff=[$scope.memory.toString()],$scope.writeScreen()},$scope.memoryAdd=function(){return $scope.memory+=$scope.getMath(),$scope.memoryIndicator(1)},$scope.memorySub=function(){return $scope.memory-=$scope.getMath(),0!==$scope.memory?$scope.memoryIndicator(1):$scope.memoryIndicator(0)},$scope.memoryIndicator=function(e){return e?$("#memoryBtn").hasClass("memoryOn")?void 0:$("#memoryBtn").addClass("memoryOn"):$("#memoryBtn").removeClass("memoryOn")}}]),angular.module("app").controller("ClaimsCtrl",["$rootScope","$scope","$filter","$timeout","$q","$window","VARS","SWAL","Data","Scroller","AutoFocus",function(e,t,n,i,a,o,r,s,l,c,d){t.page=t.pages=1,t.items=[],t.groups=[],t.filter="",t.companyFilter=t.productFilter="",jwerty.key("up",function(e){t.move_selection("up")}),jwerty.key("down",function(e){t.move_selection("down")}),t.selected_item=!1,t.filtered_list=function(){var e,i=t.items;return e=n("filter")(i,{status:t.filter_type}),e=n("filter")(e,{product:t.filter_product}),e=n("filter")(e,{company:t.filter_company}),e=n("filter")(e,t.query),e=n("orderBy")(e,t.sort,t.reverse)||[]},t.move_selection=function(e){t.selected_item&&i(function(){var n,i=t.selected_item,a=t.filtered_list(),o=a.length-1,r=a.indexOf(i);"up"===e&&(n=0===r?o:r-1,t.selectItem(a[n])),"down"===e&&(n=r===o?0:r+1,t.selectItem(a[n]))})},t.totalDisplayed=1e3,t.loadMore=function(){t.totalDisplayed<t.items.length&&(t.totalDisplayed+=100)},t.scene="details",t.set_scene=function(e){t.scene=e},t.get_scene=function(){return e.obj="claims",e.obj_id=t.item.ID,"mods/"+t.scene+".html"},t.reverse=!1,t.sort="date_created",t.allowedSort=[{name:"Date",value:"date_created"},{name:"Claim ID",value:"ref_id"},{name:"Policy ID",value:"policy_id"},{name:"Client Name",value:"client_name"}],t.reset_filters=function(){t.filter_company=t.filter_product=""},t.fetch=function(n){return e.fetched_claims===!0?void i(function(){t.items=e.claims,angular.forEach(t.items,function(e){e.selected=e.editing=!1}),t.$broadcast("finished_loading_claims")}):void l.go("claims_get",{page:n}).then(function(a){var o=parseInt(a.total_pages,10);angular.forEach(a.items,function(n){n.date_loss=e.date_from_mysql(n.date_loss),n.date_submit_broker=e.date_from_mysql(n.date_submit_broker),n.date_submit_insurer=e.date_from_mysql(n.date_submit_insurer),n.date_settlement=e.date_from_mysql(n.date_settlement),t.items.push(n)}),o>n?t.fetch(n+1):(t.$broadcast("finished_loading_claims"),i(function(){e.claims=t.items,e.fetched_claims=!0}))})},t.fetch(1),t.is_loading=!0,t.$on("finished_loading_claims",function(){if(t.is_loading=!1,t.ID&&t.ID.length){var e=n("filter")(t.items,{ID:t.ID},!0)[0];void 0!==e&&t.selectItem(e)}t.QUERY&&t.QUERY.length&&(t.query=t.QUERY)}),e.$on("increment_tasks",function(){var e=void 0!==t.item.tasks?parseInt(t.item.tasks,10):0;t.item.tasks=e+1}),e.$on("decrement_tasks",function(){var e=void 0!==t.item.tasks?parseInt(t.item.tasks,10):0;e>0&&(t.item.tasks=e-1)}),e.$on("increment_files",function(){var e=void 0!==t.item.files?parseInt(t.item.files,10):0;t.item.files=e+1}),e.$on("decrement_files",function(){var e=void 0!==t.item.files?parseInt(t.item.files,10):0;e>0&&(t.item.files=e-1)}),t.filter_type="",t.selectType=function(e){t.filter_type=e.ID},t.temps=[],t.hasMany=function(){return t.temps.length>1},t.isSelected=function(e){return t.temps.indexOf(e)!==-1},t.mobile_back=function(){angular.element(".mobile-panel").removeClass("mobile-active")},t.selectItem=function(e,n){if(t.selected_item=e,t.scene="details",angular.element(".mobile-panel").addClass("mobile-active"),n&&n.shiftKey){var i=t.items,a=i.indexOf(e),o=t.temps[0],r=i.indexOf(o),s=void 0;if(o&&i.indexOf(o)<a){for(t.temps=[];r<=a;)s=i[r],!t.isSelected(s)&&t.temps.push(s),r++;return}if(o&&i.indexOf(o)>a){for(t.temps=[];r>=a;)s=i[r],!t.isSelected(s)&&t.temps.push(s),r--;return}}else n&&(n.ctrlKey||n.metaKey)?t.isSelected(e)?t.temps.splice(t.temps.indexOf(e),1):t.temps.push(e):(t.temps=[e],t.scene="details",angular.forEach(t.items,function(e){e.selected=!1,e.editing=!1}),t.item=e,t.item.selected=!0,c.init(e.ID),0!=e.ID&&(t.item.policies_loading=!0,l.go("policies_by_id",{id:e.policy_id}).then(function(e){t.item.policies_loading=!1,t.item.policy=e.items})))},t.deleteItem=function(n){s.confirm(function(){n.ID>0&&l.go("claims_delete",{id:n.ID}),e.claims.splice(e.claims.indexOf(n),1),t.item.selected=!1})},t.deleteMany=function(){s.confirm(function(){t.deleting_many=!0,del_ids=[],angular.forEach(t.temps,function(t){del_ids.push(t.ID),e.leads.splice(e.leads.indexOf(t),1)}),l.go("claims_delete",{id:del_ids}).then(function(e){t.deleting_many=!1,t.temps=[],t.item.selected=!1})})},t.$on("claims_select",function(e,n){t.selectItem(n)})}]),angular.module("app").controller("ClientsCtrl",["$rootScope","$scope","$filter","$timeout","$q","$window","VARS","SWAL","Data","Upload","Scroller","AutoFocus",function(e,t,n,i,a,o,r,s,l,c,d,u){t.items=[],t.groups=[],t.filter="",t.onDrop=function(e){var n=[];angular.forEach(t.temps,function(t){i(function(){t.group=e}),n.push(t.ID)}),l.go("clients_set_group",{group:e,ids:n})},jwerty.key("up",function(e){t.move_selection("up")}),jwerty.key("down",function(e){t.move_selection("down")}),t.selected_item=!1,t.filtered_list=function(){var e,i=t.items;return e=n("filter")(i,{group:t.filter}),e=n("filter")(e,{filters:t.filter_extra}),e=n("filter")(e,{reference:t.filter_reference}),e=n("filter")(e,{user_id:t.filter_team}),e=n("filter")(e,t.query),e=n("orderBy")(e,t.sort,t.reverse)||[]},t.move_selection=function(e){t.selected_item&&i(function(){var n,i=t.selected_item,a=t.filtered_list(),o=a.length-1,r=a.indexOf(i);"up"===e&&(n=0===r?o:r-1,t.selectItem(a[n])),"down"===e&&(n=r===o?0:r+1,t.selectItem(a[n]))})},t.totalDisplayed=1e3,t.loadMore=function(){t.totalDisplayed<t.items.length&&(t.totalDisplayed+=1e3)},t.fetch=function(n){return e.fetched_clients===!0?void i(function(){t.items=e.clients,angular.forEach(t.items,function(e){e.selected=e.editing=!1}),t.$broadcast("finished_loading_clients")}):void l.go("clients_get",{page:n}).then(function(a){var o=parseInt(a.total_pages,10);angular.forEach(a.items,function(n){t.items.push(n),e.clients.push(n)}),o>n?t.fetch(n+1):(t.$broadcast("finished_loading_clients"),i(function(){e.clients=t.items,e.fetched_clients=!0}))})},t.fetch(1),t.is_loading=!0,t.$on("finished_loading_clients",function(){if(t.is_loading=!1,t.ID&&t.ID.length){var e=n("filter")(t.items,{ID:t.ID},!0)[0];void 0!==e&&t.selectItem(e)}t.QUERY&&t.QUERY.length&&(t.query=t.QUERY)}),t.reverse=!1,t.sort="first_name",t.allowedSort=[{name:"Date",value:"date_created"},{name:"First Name",value:"first_name"},{name:"Last Name",value:"last_name"}],t.extraFilters=[{name:"Active Policies",value:"has_active_policies"},{name:"Policies Expiring This Month",value:"has_expiring_policies"},{name:"Bills Due This Month",value:"has_bills"},{name:"Birthday This Month",value:"has_birthday_this_month"},{name:"Birthday Today",value:"has_birthday_today"},{name:"Birthday Tomorrow",value:"has_birthday_tomorrow"}],t.reset_filters=function(){t.filter_reference=t.filter_team=t.filter_extra=""},e.$on("increment_tasks",function(){var e=void 0!==t.item.tasks?parseInt(t.item.tasks,10):0;t.item.tasks=e+1}),e.$on("decrement_tasks",function(){var e=void 0!==t.item.tasks?parseInt(t.item.tasks,10):0;e>0&&(t.item.tasks=e-1)}),e.$on("increment_files",function(){var e=void 0!==t.item.files?parseInt(t.item.files,10):0;t.item.files=e+1}),e.$on("decrement_files",function(){var e=void 0!==t.item.files?parseInt(t.item.files,10):0;e>0&&(t.item.files=e-1)}),t.scene="details",t.set_scene=function(e){t.scene=e},t.get_scene=function(){return e.obj="clients",e.obj_id=t.item.ID,"mods/"+t.scene+".html"},t.createGroup=function(){var n={name:"New Group"};n.name=t.checkItem(n,t.groups,"name"),l.go("clients_groups_add",{name:n.name}).then(function(t){n.ID=t,e.$broadcast("clients_group_assets_added",n)})},t.checkItem=function(e,t,n){var i=0;return angular.forEach(t,function(t){if(0==t[n].indexOf(e[n])){var a=t[n].replace(e[n],"").trim();i=a?Math.max(i,parseInt(a)+1):1}}),e[n]+(i?" "+i:"")},t.deleteGroup=function(t){s.confirm(function(){l.go("clients_groups_delete",{id:t.ID}).then(function(n){e.$broadcast("clients_group_assets_deleted",t)})})},t.editGroup=function(e){e&&e.selected&&(e.editing=!0)},t.doneEditingGroup=function(t,n){l.go("clients_groups_edit",{id:t.ID,name:t.name}),e.$broadcast("clients_group_assets_changed",{item:t,index:n}),t.editing=!1},t.cancelEditingGroup=function(e){e.editing=!1},t.selectGroup=function(n){angular.forEach(e.assets_groups,function(e){e.selected=!1}),t.group=n,t.group.selected=!0,t.filter=n.ID},t.temps=[],t.hasMany=function(){return t.temps.length>1},t.isSelected=function(e){return t.temps.indexOf(e)!==-1},t.mobile_back=function(){angular.element(".mobile-panel").removeClass("mobile-active")},t.selectItem=function(e,n){if(t.selected_item=e,t.scene="details",angular.element(".mobile-panel").addClass("mobile-active"),n&&n.shiftKey){var i=t.items,a=i.indexOf(e),o=t.temps[0],r=i.indexOf(o),s=void 0;if(o&&i.indexOf(o)<a){for(t.temps=[];r<=a;)s=i[r],!t.isSelected(s)&&t.temps.push(s),r++;return}if(o&&i.indexOf(o)>a){for(t.temps=[];r>=a;)s=i[r],!t.isSelected(s)&&t.temps.push(s),r--;return}}else n&&(n.ctrlKey||n.metaKey)?t.isSelected(e)?t.temps.splice(t.temps.indexOf(e),1):t.temps.push(e):(t.temps=[e],angular.forEach(t.items,function(e){e.selected=e.editing=!1}),t.item=e,t.item.selected=!0,t.scene="details",d.init(e.ID),0!=e.ID&&(t.item.assets_loading=!0,l.go("clients_get_assets",{id:e.ID}).then(function(e){t.item.assets_loading=!1,t.item.assets=e.result})))},t.deleteItem=function(n){s.confirm(function(){n.ID>0&&l.go("clients_delete",{id:n.ID}),e.clients.splice(e.clients.indexOf(n),1),t.item.selected=!1})},t.deleteMany=function(){s.confirm(function(){t.deleting_many=!0,del_ids=[],angular.forEach(t.temps,function(t){del_ids.push(t.ID),e.leads.splice(e.leads.indexOf(t),1)}),l.go("clients_delete",{id:del_ids}).then(function(e){t.deleting_many=!1,t.temps=[],t.item.selected=!1})})},t.$on("clients_select",function(e,n){t.selectItem(n)})}]),angular.module("app").controller("ExportCtrl",["$rootScope","$scope","$timeout","Data","VARS","SWAL",function(e,t,n,i,a,o){t.ExportType?t.type=t.ExportType:t.type="clients",t.is_loading=!1,t.download_url=null,t.order=[],t.process=function(){t.is_loading=!0,i.go("export",{type:t.type}).then(function(e){"success"==e.status?t.download_url=e.url:o.error("Error Exporting",e.reason),t.is_loading=!1})},t.clear_download=function(){n(function(){t.download_url=null},500)}}]),angular.module("app").controller("ForgotPWDController",["$rootScope","$scope","Data","$state","$timeout","SWAL","Notify",function(e,t,n,i,a,o,r){t.forgotCollapsed=!1,t.keyCollapsed=!0,t.resetCollapsed=!0,t.forgot=function(){t.is_loading=!0,n.go("pwd_forgot",{email:t.email}).then(function(e){t.is_loading=!1,"OK"==e?(t.sheet="key",t.forgotCollapsed=!0,t.keyCollapsed=!1,t.resetCollapsed=!0):o.error("Error Occured",e)})},t.check_key=function(){t.is_loading=!0,n.go("pwd_check_key",{key:t.key}).then(function(e){t.is_loading=!1,"OK"==e.success?(t.sheet="reset",t.forgotCollapsed=!0,t.keyCollapsed=!0,t.resetCollapsed=!1,t.UID=e.id):o.error("Error Occured",e.error)})},t.reset=function(){t.is_loading=!0,n.go("pwd_reset",{key:t.key,id:t.UID,new_pass:t.new_pass,new_pass2:t.new_pass2}).then(function(e){t.is_loading=!1,"OK"==e?(r.success("Password Changed, you may login now"),i.go("access.signin")):o.error("Error Occured",e)})}}]),angular.module("app").controller("HomeCtrl",["$scope","$cookies","Data","Notify",function(e,t,n,i){e.leads_total=e.leads_this_month=e.leads_last_month=e.clients_total=e.clients_this_month=e.clients_last_month=e.policies_total=e.policies_this_month=e.policies_last_month=e.claims_total=e.claims_this_month=e.claims_last_month=0,e.detect_arrow=function(e,t){var n="fa fa-fw fa-caret-up text-success text-sm",i="fa fa-fw fa-caret-down text-danger text-sm",a="fa fa-fw fa-caret-right text-warning text-sm",e=void 0!=e?parseInt(e,10):0,t=void 0!=t?parseInt(t,10):0;return e>t?n:e==t?a:i},e.chart_stack=[{val:"$4,300",label:"Open"},{val:"$2,400",label:"Overdue"},{val:"$900",label:"Paid"}],e.total_size=5368709120,n.go("get_monthly_stats").then(function(t){e.leads_total=t.leads_total,e.leads_this_month=t.leads,e.leads_last_month=t.leads_old,e.leads_arrow=e.detect_arrow(t.leads,t.leads_old),e.leads_text="This Month: "+t.leads+"<br>Last Month: "+t.leads_old,e.clients_total=t.clients_total,e.clients_this_month=t.clients,e.clients_last_month=t.clients_old,e.clients_arrow=e.detect_arrow(t.clients,t.clients_old),e.clients_text="This Month: "+t.clients+"<br>Last Month: "+t.clients_old,e.policies_total=t.policies_total,e.policies_this_month=t.policies,e.policies_last_month=t.policies_old,e.policies_arrow=e.detect_arrow(t.policies,t.policies_old),e.policies_text="This Month: "+t.policies+"<br>Last Month: "+t.policies_old,e.claims_total=t.claims_total,e.claims_this_month=t.claims,e.claims_last_month=t.claims_old,e.claims_arrow=e.detect_arrow(t.claims,t.claims_old),e.claims_text="This Month: "+t.claims+"<br>Last Month: "+t.claims_old,e.folder_size=parseFloat(t.folder_size||0)}),e.cookie_user=t.get("user"),n.go("get_charts").then(function(t){e.lines=t.items.lines,e.bars=t.items.bars,e.doughnut=t.items.doughnut,e.pie=t.items.pie})}]),angular.module("app").controller("ImportCtrl",["$rootScope","$scope","$window","Upload","$timeout","$compile","Data","VARS","SWAL","Notify","$sce",function(e,t,n,i,a,o,r,s,l,c,d){t.ImportType?t.type=t.ImportType:t.type="clients",t.step=1,t.is_loading=!1,t.data_html=null,t.data_value=null,t.order=[],t.is_email=function(e){var t=/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/;return t.test(e)},t.process_data=function(){t.data&&(t.is_loading=!0,r.go("import_upload_handler",{data:t.data}).then(function(e){e.success?(t.identifier=e.identifier,t.get_import_data(e.identifier)):alert("Error")}))},t.process_file=function(){t.file&&(t.is_loading=!0,r.go("import_upload_handler",{file:t.file}).then(function(e){e.success?(t.identifier=e.identifier,t.get_import_data(e.identifier)):alert("Error")}))},t.get_import_data=function(e){r.go("import_get_data",{identifier:e}).then(function(e){t.step=2,t.is_loading=!1,t.count=e.count,t.data_html=d.trustAsHtml(e.html),t.data_value=e.data})},t.do_import=function(){t.order.indexOf("first_name")===-1&&t.order.indexOf("last_name")===-1?c.error("Name must be presented in data columns to process the import"):l.confirm(function(){console.log("Order",t.order),n.onbeforeunload=function(){return"You are currently importing! If you leave the page all pending items will not get imported!"},"clients"==t.type&&(e.clients=[],e.fetched_clients=!1),"leads"==t.type&&(e.leads=[],e.fetched_leads=!1),t.importstarttime=new Date,t.step=3,t.process_import(0,{identifier:t.identifier,type:t.type,order:t.order,clients_group:t.clients_group,leads_group:t.leads_group,reference:t.reference,team:t.team,interest_company:t.interest_company,interest_product:t.interest_product,media_type:t.media_type})})},t.process_import=function(e,i){(new Date).getTime();t.percentage=0,e||(e=0),r.go("import_do_import",{id:e,options:i}).then(function(a){t.percentage=100*Math.min(1,(a.imported+a.errors)/a.total);var o=(new Date).getTime()-t.importstarttime.getTime(),r=Math.ceil((100-t.percentage)*(o/t.percentage)/6e4);t.import_stats=d.trustAsHtml("Currently <b>"+a.f_imported+"</b> of <b>"+a.f_total+"</b> imported with <b>"+a.f_errors+"</b> errors. <b>"+a.memoryusage+"</b> memory usage<br>Estimate time left: "+r+" minutes"),t.import_text=d.trustAsHtml(a.html),importerrors=0;var s=t.percentage>=100;a.success&&(s?n.onbeforeunload=null:t.process_import(e+1,i))})},t.progress=0,t.upload=function(e){if(e&&e.length)for(var n=0;n<e.length;n++){var o=e[n];o.$error||i.upload({url:s.ajaxurl,data:{action:"files_upload_csv",file:o}}).then(function(e){a(function(){t.progress=0,t.file=e.data.url,t.process_file()})},function(e){console.log("Error status:",e.status)},function(e){var n=parseInt(100*e.loaded/e.total);console.log("Progress",e.config.data.file.name+" - "+n+"%"),a(function(){100==n&&(n=0),t.progress=1,t.fake_progress()})})}},t.fake_progress=function(){if(0!=t.progress){var e=Math.floor(500*Math.random())+100;a(function(){0!=t.progress&&(t.progress++,t.progress>100&&(t.progress=1),t.progress>0&&t.fake_progress())},e)}}}]),angular.module("app").controller("LeadsCtrl",["$rootScope","$scope","$filter","$timeout","$q","$window","VARS","SWAL","Data","Upload","Scroller","AutoFocus",function(e,t,n,i,a,o,r,s,l,c,d,u){t.page=t.pages=1,t.items=[],t.filter="",t.onDrop=function(e){var n=[];angular.forEach(t.temps,function(t){i(function(){t.group=e}),n.push(t.ID)}),l.go("leads_set_group",{group:e,ids:n})},jwerty.key("up",function(e){t.move_selection("up")}),jwerty.key("down",function(e){t.move_selection("down")}),t.selected_item=!1,t.filtered_list=function(){var e,i=t.items;return e=n("filter")(i,{group:t.filter}),e=n("filter")(e,{reference:t.filter_reference}),e=n("filter")(e,{user_id:t.filter_team}),e=n("filter")(e,{interest_company:t.filter_company}),e=n("filter")(e,{interest_product:t.filter_product}),e=n("filter")(e,t.query),e=n("orderBy")(e,t.sort,t.reverse)||[]},t.move_selection=function(e){t.selected_item&&i(function(){var n,i=t.selected_item,a=t.filtered_list(),o=a.length-1,r=a.indexOf(i);"up"===e&&(n=0===r?o:r-1,t.selectItem(a[n])),"down"===e&&(n=r===o?0:r+1,t.selectItem(a[n]))})},t.totalDisplayed=1e3,t.loadMore=function(){t.totalDisplayed<t.items.length&&(t.totalDisplayed+=1e3)},t.fetch=function(n){return e.fetched_leads===!0?void i(function(){t.items=e.leads,angular.forEach(t.items,function(e){e.selected=e.editing=!1}),t.$broadcast("finished_loading_leads")}):void l.go("leads_get",{page:n}).then(function(a){var o=parseInt(a.total_pages,10);angular.forEach(a.items,function(e){t.items.push(e)}),o>n?t.fetch(n+1):(t.$broadcast("finished_loading_leads"),i(function(){e.leads=t.items,e.fetched_leads=!0}))})},t.fetch(1),t.is_loading=!0,t.$on("finished_loading_leads",function(){if(t.is_loading=!1,t.ID&&t.ID.length){var e=n("filter")(t.items,{ID:t.ID},!0)[0];void 0!==e&&t.selectItem(e)}t.QUERY&&t.QUERY.length&&(t.query=t.QUERY)}),t.reverse=!1,t.sort="first_name",t.allowedSort=[{name:"Date",value:"date_created"},{name:"First Name",value:"first_name"},{name:"Last Name",value:"last_name"}],t.reset_filters=function(){t.filter_reference=t.filter_team=t.filter_company=t.filter_product=""},e.$on("increment_tasks",function(){var e=void 0!=t.item.tasks?parseInt(t.item.tasks,10):0;t.item.tasks=e+1}),e.$on("decrement_tasks",function(){var e=void 0!=t.item.tasks?parseInt(t.item.tasks,10):0;e>0&&(t.item.tasks=e-1)}),e.$on("increment_files",function(){var e=void 0!=t.item.files?parseInt(t.item.files,10):0;t.item.files=e+1}),e.$on("decrement_files",function(){var e=void 0!=t.item.files?parseInt(t.item.files,10):0;e>0&&(t.item.files=e-1)}),t.selectGroup=function(n){angular.forEach(e.assets_leads_groups,function(e){e.selected=!1}),t.group=n,t.group.selected=!0,t.filter=n.ID},t.scene="details",t.set_scene=function(e){t.scene=e},t.get_scene=function(){return e.obj="leads",e.obj_id=t.item.ID,"mods/"+t.scene+".html"},t.temps=[],t.hasMany=function(){return t.temps.length>1},t.isSelected=function(e){return t.temps.indexOf(e)!==-1},t.mobile_back=function(){angular.element(".mobile-panel").removeClass("mobile-active")},t.selectItem=function(e,n){if(t.selected_item=e,t.scene="details",angular.element(".mobile-panel").addClass("mobile-active"),n&&n.shiftKey){var i=t.items,a=i.indexOf(e),o=t.temps[0],r=i.indexOf(o),s=void 0;if(o&&i.indexOf(o)<a){for(t.temps=[];r<=a;)s=i[r],!t.isSelected(s)&&t.temps.push(s),r++;return}if(o&&i.indexOf(o)>a){for(t.temps=[];r>=a;)s=i[r],!t.isSelected(s)&&t.temps.push(s),r--;return}}else n&&(n.ctrlKey||n.metaKey)?t.isSelected(e)?t.temps.splice(t.temps.indexOf(e),1):t.temps.push(e):(t.temps=[e],angular.forEach(t.items,function(e){e.selected=!1,e.editing=!1}),t.item=e,t.item.selected=!0,t.scene="details",d.init(e.ID))},t.deleteItem=function(n){s.confirm(function(){n.ID>0&&l.go("leads_delete",{id:n.ID}),e.leads.splice(e.leads.indexOf(n),1),t.item.selected=!1})},t.deleteMany=function(){
s.confirm(function(){t.deleting_many=!0,del_ids=[],angular.forEach(t.temps,function(t){del_ids.push(t.ID),e.leads.splice(e.leads.indexOf(t),1)}),l.go("leads_delete",{id:del_ids}).then(function(e){t.deleting_many=!1,t.temps=[],t.item.selected=!1})})},t.$on("leads_select",function(e,n){t.selectItem(n)})}]),angular.module("app").controller("LogoutController",["$rootScope","$scope","$state","Data",function(e,t,n,i){e.user={},e.authError=null,e.reset_cache_data(),i.logout().then(function(){n.go("access.signin")})}]),angular.module("app").controller("MechaniqueCtrl",["$scope","Data","$filter","VARS","$sce",function(e,t,n,i,a){e.mechanic={},e.mechanic.carid=[{id:1,name:"Private cars",name_ar:"سيارات سياحة خصوصية"},{id:2,name:"Motorcycles",name_ar:"دراجات نارية غير معدة للنقل"},{id:3,name:"Other private vehicles: Ambulances, etc...",name_ar:"سيارات الأوتوبيس الخصوصية والإسعاف والإدارات العامة ..."},{id:4,name:"Private transport vehicles",name_ar:"السيارات والآليات و الدراجات الخصوصية المعدة للنقل"},{id:5,name:"Taxis",name_ar:"سيارات سياحة عمومية"},{id:6,name:"Public buses & minibuses",name_ar:"سيارات الأوتوبيس والميكروباص العمومية"},{id:7,name:"Mass public transport trucks",name_ar:"سيارات الشحن العمومية"}],e.mechanic.codeid=[{id:0,name:"No Code",name_ar:"دون رمز"},{id:1,name:"B",name_ar:"ب"},{id:2,name:"G",name_ar:"ج"},{id:3,name:"R",name_ar:"ر"},{id:4,name:"Z",name_ar:"ز"},{id:5,name:"S",name_ar:"ص"},{id:6,name:"T",name_ar:"ط"},{id:7,name:"J",name_ar:"ع"},{id:8,name:"D",name_ar:"ق"},{id:9,name:"M",name_ar:"م"},{id:10,name:"N",name_ar:"ن"},{id:11,name:"O",name_ar:"و"}],e.mechanic.horseid=[{id:1,name:"01-10",name_ar:"01-10"},{id:2,name:"11-20",name_ar:"11-20"},{id:3,name:"21-30",name_ar:"21-30"},{id:4,name:"31-40",name_ar:"31-40"},{id:5,name:"41-50",name_ar:"41-50"},{id:6,name:"51 and above",name_ar:"51 وما فوق"}],e.mechanic.yearid=[{id:1,name:"0000-2003",name_ar:"0000-2003"},{id:2,name:"2004-2011",name_ar:"2004-2011"},{id:3,name:"2012-2014",name_ar:"2012-2014"},{id:4,name:"2015-2016",name_ar:"2015-2016"}],e.codeid="0",e.carid="1",e.platenumber="",e.get_taxes=function(n,i,o,r,s){e.mtFormSubmitted=!0,angular.forEach(e.mtForm.$error.required,function(e){e.$setDirty()}),e.mtForm.$valid&&(e.taxes_return='<i class="fa fa-refresh fa-spin"></i>',t.go("mechanique",{platenumber:n,codeid:i,carid:o,horseid:r,yearid:s}).then(function(t){e.taxes_return=a.trustAsHtml(t)}))},e.speedticket={},e.speedticket.carCode=[{id:"1:not coded",name:"not coded",name_ar:"بدون رمز"},{id:"2:B",name:"B",name_ar:"ب"},{id:"3:G",name:"G",name_ar:"ج"},{id:"4:R",name:"R",name_ar:"ر"},{id:"5:Z",name:"Z",name_ar:"ز"},{id:"6:S",name:"S",name_ar:"ص"},{id:"7:T",name:"T",name_ar:"ط"},{id:"8:D",name:"D",name_ar:"ع"},{id:"9:J",name:"J",name_ar:"ق"},{id:"10:M",name:"M",name_ar:"م"},{id:"11:N",name:"N",name_ar:"ن"},{id:"12:O",name:"O",name_ar:"و"},{id:"40:Emirates",name:"Emirates",name_ar:"الإمارات"},{id:"14:Qatar",name:"Qatar",name_ar:"قطرية"},{id:"39:Lathkia",name:"Lathkia",name_ar:"اللاذقية"},{id:"44:California",name:"California",name_ar:"كاليفورنيا"},{id:"45:Foreign Plate",name:"Foreign Plate",name_ar:"لوحة أجنبية"},{id:"19:Saudi Arabia",name:"Saudi Arabia",name_ar:"سعودية"},{id:"20:Ruins",name:"Ruins",name_ar:"انقاض"},{id:"21:Without Restrictions",name:"Without Restrictions",name_ar:"دون قيود"},{id:"22:Homos",name:"Homos",name_ar:"حمص"},{id:"23:Idlib",name:"Idlib",name_ar:"ادلب"},{id:"24:Damascus",name:"Damascus",name_ar:"دمشق"},{id:"25:Kuwait",name:"Kuwait",name_ar:"الكويت"},{id:"27:Sharjah",name:"Sharjah",name_ar:"شارقة"},{id:"28:UN",name:"UN",name_ar:"يونيفيل"},{id:"46:Deir al-zour",name:"Deir al-zour",name_ar:"دير الزور"},{id:"41:Tartous",name:"Tartous",name_ar:"طرطوس"},{id:"34:Abou Dhabi",name:"Abou Dhabi",name_ar:"ابو ظبي"},{id:"49:Turkey",name:"Turkey",name_ar:"تركيا"},{id:"50:Raqaa",name:"Raqaa",name_ar:"الرقة"},{id:"51:Daraa",name:"Daraa",name_ar:"درعا"},{id:"55:Iraq",name:"Iraq",name_ar:"العراق"},{id:"26:Dubai",name:"Dubai",name_ar:"دبي"},{id:"30:Switzerland",name:"Switzerland",name_ar:"سويسرا"},{id:"31:Halab",name:"Halab",name_ar:"حلب"},{id:"32:Hama",name:"Hama",name_ar:"حماة"},{id:"33:Jordan",name:"Jordan",name_ar:"الأردن"},{id:"35:BLP",name:"BLP",name_ar:"BLP"},{id:"36:Syria",name:"Syria",name_ar:"سورية"},{id:"37:Bahrain",name:"Bahrain",name_ar:"البحرين"},{id:"38:Sweida",name:"Sweida",name_ar:"السويداء"},{id:"43:Hasakeh",name:"Hasakeh",name_ar:"الحسكة"},{id:"47:Oman",name:"Oman",name_ar:"عُمان"},{id:"48:Tried",name:"Tried",name_ar:"تجربة"},{id:"56:k1",name:"k1",name_ar:"ق1"}],e.carCode="1:not coded",e.stplatenumber="",e.get_speedtickets=function(n,i){e.stFormSubmitted=!0,angular.forEach(e.stForm.$error.required,function(e){e.$setDirty()}),e.stForm.$valid&&(e.speedtickets_return='<i class="fa fa-refresh fa-spin"></i>',t.go("speedtickets",{platenumber:n,carCode:i}).then(function(t){e.speedtickets_return=a.trustAsHtml(t)}))}}]),angular.module("app").controller("ModFilesCtrl",["$rootScope","$scope","$http","$timeout","Upload","Data","VARS","SWAL",function(e,t,n,i,a,o,r,s){t.obj=e.obj,t.obj_id=e.obj_id,t.folder=t.obj+"/"+t.obj_id,t.items=[],t.loaded=!1,t.temps=[],t.isSelected=function(e){return t.temps.indexOf(e)!==-1},t.selectOrUnselect=function(e,n){var i=t.temps.indexOf(e),a=n&&3==n.which;if(n&&n.target.hasAttribute("prevent"))return void(t.temps=[]);if(!(!e||a&&t.isSelected(e))){if(n&&n.shiftKey&&!a){var o=t.items,r=o.indexOf(e),s=t.temps[0],l=o.indexOf(s),c=void 0;if(s&&o.indexOf(s)<r){for(t.temps=[];l<=r;)c=o[l],!t.isSelected(c)&&t.temps.push(c),l++;return}if(s&&o.indexOf(s)>r){for(t.temps=[];l>=r;)c=o[l],!t.isSelected(c)&&t.temps.push(c),l--;return}}return n&&!a&&(n.ctrlKey||n.metaKey)?void(t.isSelected(e)?t.temps.splice(i,1):t.temps.push(e)):void(t.temps=[e])}},o.go("files_get",{obj:t.obj,obj_id:t.obj_id}).then(function(e){angular.forEach(e.items,function(e){e.date_created&&(e.date=new Date(1e3*parseInt(e.date_created,10))),e.file&&(e.url=r.uploadsurl+e.file,e.file_name=e.file.substring(e.file.lastIndexOf("/")+1)),t.items.push(e)}),t.loaded=!0}),t.getIDs=function(e){return(e||[]).map(function(e){return e&&e.ID})},t.delete=function(){s.confirm(function(){var n=t.getIDs(t.temps);o.go("files_delete",{ids:n}).then(function(n){angular.forEach(t.temps,function(n){t.items.splice(t.items.indexOf(n),1),e.$broadcast("decrement_files"),t.temps=[]})})})},t.edit=function(e){e&&(e.editing=!0)},t.doneEditing=function(e){o.go("files_edit",{id:e.ID,name:e.name}),e.editing=!1},t.cancelEditing=function(e){e.editing=!1},t.add=function(n,i,a){o.go("files_add",{obj:t.obj,obj_id:t.obj_id,file:n,size:a}).then(function(o){var s=n.replace(r.uploadsurl,""),l={ID:o,name:i,size:a,file:s,url:n,date:(new Date).getTime(),obj:t.obj,obj_id:t.obj_id};t.items.unshift(l),e.$broadcast("increment_files")})},t.progress=0,t.upload=function(e,n){if(t.errFiles=n,e&&e.length)for(var o=0;o<e.length;o++){var s=e[o];s.$error||a.upload({url:r.ajaxurl,data:{action:"files_upload",file:s,folder:t.folder}}).then(function(e){i(function(){t.progress=0,t.add(e.data.url,e.data.file,e.data.size)})},function(e){console.log("Error status:",e.status)},function(e){var n=parseInt(100*e.loaded/e.total);100==n&&(n=0),t.progress=1,t.fake_progress()})}},t.fake_progress=function(){if(0!=t.progress){var e=Math.floor(500*Math.random())+100;i(function(){0!=t.progress&&(t.progress++,t.progress>100&&(t.progress=1),t.progress>0&&t.fake_progress())},e)}}}]),angular.module("app").controller("ModTasksCtrl",["$rootScope","$scope","$filter","Data","SWAL",function(e,t,n,i,a){t.obj=e.obj,t.obj_id=e.obj_id;var o=t.tasks=[];i.go("tasks_get",{obj:t.obj,obj_id:t.obj_id}).then(function(e){angular.forEach(e.items,function(e){"0"!==e.dat?e.dat=new Date(1e3*parseInt(e.dat,10)):e.dat=null,"1"==e.completed?e.completed=!0:e.completed=!1,t.tasks.push(e)}),o=t.tasks,t.remainingCount=n("filter")(o,{completed:!1}).length}),t.newTitle="",t.newDat="",t.status="",t.switch=function(e){t.status=e,"completed"===e?t.statusFilter={completed:!0}:"active"===e?t.statusFilter={completed:!1}:t.statusFilter=""},t.$watch("remainingCount == 0",function(e){t.allChecked=e}),t.add=function(){var n=t.newTitle;0!==n.length&&(newDat=t.newDat?t.newDat:new Date,i.go("tasks_add",{name:n,dat:e.date_to_mysql(newDat),obj:t.obj,obj_id:t.obj_id}).then(function(i){o.push({ID:i,name:n,completed:"0",dat:newDat,obj:t.obj,obj_id:t.obj_id}),e.$broadcast("increment_tasks"),t.newTitle="",t.newDat="",t.remainingCount++}))},t.edit=function(e){e.editedTask=!0},t.doneEditing=function(e){if(e.editedTask=!1,e.name||t.remove(e),e.dat)var n=e.dat.getTime()/1e3;else var n=0;i.go("tasks_edit",{name:e.name,dat:n,id:e.ID})},t.remove=function(n){a.confirm(function(){t.remainingCount-=n.completed?0:1,o.splice(o.indexOf(n),1),i.go("tasks_delete",{id:n.ID}),e.$broadcast("decrement_tasks")})},t.taskCompleted=function(n){t.remainingCount+=n.completed?-1:1,i.go("tasks_mark",{id:n.ID}),n.completed?e.$broadcast("decrement_tasks"):e.$broadcast("increment_tasks")}}]),angular.module("app").controller("NoteCtrl",["$scope","$http","$timeout","SWAL","VARS","Data",function(e,t,n,i,a,o){e.old_content=e.old_color="",e.loaded=!1,e.note_loaded=!1,o.go("notes_get").then(function(t){n(function(){e.loaded=!0,e.notes=t.items,e.notes.length&&e.selectNote(e.notes[0])})}),e.colors=["primary","info","success","warning","danger","dark"],e.createNote=function(){var t=e.colors[Math.floor(6*Math.random())];o.go("notes_add",{content:"New Note",color:t}).then(function(i){var a={ID:i,content:"New note",color:t,date:Date.now()/1e3};n(function(){e.notes.push(a),e.selectNote(a)})})},e.deleteNote=function(t){i.confirm(function(){n(function(){o.go("notes_delete",{id:t.ID}),e.notes.splice(e.notes.indexOf(t),1),t.selected&&(e.note=e.notes[0],e.notes.length&&(e.notes[0].selected=!0))})})},e.selectNote=function(t){n(function(){angular.forEach(e.notes,function(e){e.selected=!1}),e.note=t,e.note.selected=!0,e.old_content=t.content,e.old_color=t.color})},e.onChange=function(t){n(function(){t.content===e.old_content&&t.color===e.old_color||o.go("notes_edit",{content:t.content,color:t.color,id:t.ID})})}}]),angular.module("app").controller("NotificationsCtrl",["$rootScope","$scope","$timeout","$document","$window",function(e,t,n,i,a){t.no_notifications=!0,t.start_fw=function(){t.fw_active=!0,$(".fireworks").fireworks()},t.stop_fw=function(){t.fw_active=!1,$(".fireworks").fireworks("destroy")}}]),angular.module("app").controller("PoliciesCtrl",["$rootScope","$scope","$filter","$timeout","$q","$window","VARS","SWAL","Data","Scroller","AutoFocus",function(e,t,n,i,a,o,r,s,l,c,d){t.page=t.pages=1,t.items=[],t.groups=[],t.filter="",t.filter_company=t.filter_product="",jwerty.key("up",function(e){t.move_selection("up")}),jwerty.key("down",function(e){t.move_selection("down")}),t.selected_item=!1,t.filtered_list=function(){var e,i=t.items;return e=n("filter")(i,{product:t.filter_product}),e=n("filter")(e,{company:t.filter_company}),e=n("filter")(e,{reference:t.filter_reference}),e=n("filter")(e,{user_id:t.filter_team}),e=n("filter")(e,t.query),e=n("orderBy")(e,t.sort,t.reverse)||[]},t.move_selection=function(e){t.selected_item&&i(function(){var n,i=t.selected_item,a=t.filtered_list(),o=a.length-1,r=a.indexOf(i);"up"===e&&(n=0===r?o:r-1,t.selectItem(a[n])),"down"===e&&(n=r===o?0:r+1,t.selectItem(a[n]))})},t.totalDisplayed=1e3,t.loadMore=function(){t.totalDisplayed<t.items.length&&(t.totalDisplayed+=1e3)},t.scene="details",t.set_scene=function(e){t.scene=e},t.get_scene=function(){return e.obj="policies",e.obj_id=t.item.ID,"mods/"+t.scene+".html"},t.reverse=!0,t.sort="name",t.allowedSort=[{name:"Date",value:"date_created"},{name:"Policy ID",value:"name"},{name:"Client Name",value:"client_name"},{name:"Product",value:"product"},{name:"Company",value:"company"}],t.reset_filters=function(){t.filter_reference=t.filter_team=""},t.fetch=function(n){return e.fetched_policies===!0?void i(function(){t.items=e.policies,angular.forEach(t.items,function(e){e.selected=e.editing=!1}),t.$broadcast("finished_loading_policies")}):void l.go("policies_get",{page:n}).then(function(a){var o=parseInt(a.total_pages,10);angular.forEach(a.items,function(n){n.date_issued=e.date_from_mysql(n.date_issued),n.date_effective=e.date_from_mysql(n.date_effective),n.date_expiry=e.date_from_mysql(n.date_expiry),n.amount=parseFloat(n.amount),n.commission=parseFloat(n.commission),n.team_commission=parseFloat(n.team_commission),n.platenumber=parseInt(n.platenumber),n.horseid=parseInt(n.horseid),n.yearid=parseInt(n.yearid),t.items.push(n)}),o>n?t.fetch(n+1):(t.$broadcast("finished_loading_policies"),i(function(){e.policies=t.items,e.fetched_policies=!0}))})},t.fetch(1),t.is_loading=!0,t.$on("finished_loading_policies",function(){if(t.is_loading=!1,t.ID&&t.ID.length){var e=n("filter")(t.items,{ID:t.ID},!0)[0];void 0!==e&&t.selectItem(e)}t.QUERY&&t.QUERY.length&&(t.query=t.QUERY)}),e.$on("increment_tasks",function(){var e=void 0!==t.item.tasks?parseInt(t.item.tasks,10):0;t.item.tasks=e+1}),e.$on("decrement_tasks",function(){var e=void 0!==t.item.tasks?parseInt(t.item.tasks,10):0;e>0&&(t.item.tasks=e-1)}),e.$on("increment_files",function(){var e=void 0!==t.item.files?parseInt(t.item.files,10):0;t.item.files=e+1}),e.$on("decrement_files",function(){var e=void 0!==t.item.files?parseInt(t.item.files,10):0;e>0&&(t.item.files=e-1)}),t.filter_company="",t.selectCompany=function(n){n.selected?(n.selected=!1,t.filter_company=""):(angular.forEach(e.assets_companies,function(e){e.selected=!1}),t.company=n,t.company.selected=!0,t.filter_company=n.ID)},t.filter_product="",t.selectProduct=function(n){n.selected?(n.selected=!1,t.filter_product=""):(angular.forEach(e.assets_products,function(e){e.selected=!1}),t.product=n,t.product.selected=!0,t.filter_product=n.ID)},t.temps=[],t.hasMany=function(){return t.temps.length>1},t.isSelected=function(e){return t.temps.indexOf(e)!==-1},t.mobile_back=function(){angular.element(".mobile-panel").removeClass("mobile-active")},t.selectItem=function(e,n){if(t.selected_item=e,t.scene="details",angular.element(".mobile-panel").addClass("mobile-active"),n&&n.shiftKey){var i=t.items,a=i.indexOf(e),o=t.temps[0],r=i.indexOf(o),s=void 0;if(o&&i.indexOf(o)<a){for(t.temps=[];r<=a;)s=i[r],!t.isSelected(s)&&t.temps.push(s),r++;return}if(o&&i.indexOf(o)>a){for(t.temps=[];r>=a;)s=i[r],!t.isSelected(s)&&t.temps.push(s),r--;return}}else n&&(n.ctrlKey||n.metaKey)?t.isSelected(e)?t.temps.splice(t.temps.indexOf(e),1):t.temps.push(e):(t.temps=[e],angular.forEach(t.items,function(e){e.selected=!1,e.editing=!1}),t.item=e,t.item.client_id_revert=e.ID,t.item.selected=!0,c.init(e.ID),0!=e.ID&&(t.item.assets_loading=!0,l.go("policies_get_assets",{id:e.ID}).then(function(e){t.item.assets_loading=!1,t.item.assets=e.result})))},t.deleteItem=function(n){s.confirm(function(){n.ID>0&&l.go("policies_delete",{id:n.ID}),e.policies.splice(e.policies.indexOf(n),1),t.item.selected=!1})},t.deleteMany=function(){s.confirm(function(){t.deleting_many=!0,del_ids=[],angular.forEach(t.temps,function(t){del_ids.push(t.ID),e.policies.splice(e.policies.indexOf(t),1)}),l.go("policies_delete",{id:del_ids}).then(function(e){t.deleting_many=!1,t.temps=[],t.item.selected=!1})})},t.$on("policies_select",function(e,n){t.selectItem(n)})}]),angular.module("app").controller("reportingCtrl",["$rootScope","$scope","$timeout","$filter","Data","SWAL",function(e,t,n,i,a,o){t.start_date=moment().startOf("month").toDate(),t.end_date=moment().endOf("month").toDate(),t.type="clients",t.tf="tm",t.selected="",t.working=!1,t.$watch("type",function(e){t.by=""}),t.loaded=!1,t.work=function(){t.working=!0,a.go("reporting_build",{start_date:e.date_to_mysql(t.start_date),end_date:e.date_to_mysql(t.end_date),type:t.type,by:t.by,selected:t.selected}).then(function(e){t.working=!1,t.loaded=!0,t.generate_title(),t.chart=e.result})},t.report_title=t.export_title=t.doc_title=t.doc_subtitle="",t.generate_title=function(){var e,n=i("capitalize")(t.type),a=i("date")(t.start_date,"mediumDate"),o=i("date")(t.end_date,"mediumDate"),r=i("date")(t.start_date,"dd-MM-yyyy"),s=i("date")(t.end_date,"dd-MM-yyyy"),l=t.by;switch(l){case"client_group":e="Group";break;case"lead_group":e="Status";break;case"team":e="Team Members";break;case"reference":e="Reference Lists";break;case"media_type":e="Media Type";break;default:e=i("capitalize")(l)}t.report_title="<h3>Report for "+n+" by "+e+"</h3><p>"+a+' <i class="fa fa-long-arrow-right m-l-sm m-r-sm"></i> '+o+"</p>",t.export_title="Report for "+n+" by "+e+" - FROM"+r+"TO"+s,t.doc_title="Report for "+n+" by "+e,t.doc_subtitle=a+" - "+o},t.by="",t.by_clients=[{ID:"client_group",name:"Group"},{ID:"team",name:"Team Member"},{ID:"reference",name:"Reference List"}],t.by_leads=[{ID:"lead_group",name:"Status"},{ID:"product",name:"Interested in Product"},{ID:"company",name:"Interested in Company / Insurer"},{ID:"team",name:"Team Member"},{ID:"reference",name:"Reference List"},{ID:"media_type",name:"Media Type"}],t.by_policies=[{ID:"product",name:"Product"},{ID:"company",name:"Company / Insurer"},{ID:"team",name:"Team Member"},{ID:"reference",name:"Reference List"}],t.by_claims=[{ID:"product",name:"Product"},{ID:"company",name:"Company / Insurer"},{ID:"team",name:"Team Member"},{ID:"reference",name:"Reference List"}],t.start_date_options={},t.end_date_options={},t.$watch("start_date",function(e){e&&(t.end_date_options.minDate=e)}),t.tf="tm",t.timeframes=[{ID:"l7",name:"Last 7 Days"},{ID:"l30",name:"Last 30 Days"},{ID:"tm",name:"This Month"},{ID:"lm",name:"Last Month"},{ID:"tw",name:"This Week"},{ID:"lw",name:"Last Week"},{ID:"ty",name:"This Year"},{ID:"ly",name:"Last Year"},{ID:"cd",name:"Custom Dates"}],t.$watch("tf",function(e){switch(e){case"l7":t.start_date=moment().subtract(7,"days").toDate(),t.end_date=moment().toDate();break;case"l30":t.start_date=moment().subtract(30,"days").toDate(),t.end_date=moment().toDate();break;case"tm":t.start_date=moment().startOf("month").toDate(),t.end_date=moment().endOf("month").toDate();break;case"lm":var n=moment().add(-1,"month");t.start_date=moment(n).startOf("month").toDate(),t.end_date=moment(n).endOf("month").toDate();break;case"ty":t.start_date=moment().startOf("year").toDate(),t.end_date=moment().endOf("year").toDate();break;case"ly":var n=moment().add(-1,"year");t.start_date=moment(n).startOf("year").toDate(),t.end_date=moment(n).endOf("year").toDate();break;case"tw":t.start_date=moment().startOf("week").toDate(),t.end_date=moment().endOf("week").toDate();break;case"lw":var n=moment().add(-1,"week");t.start_date=moment(n).startOf("week").toDate(),t.end_date=moment(n).endOf("week").toDate()}})}]),angular.module("app").controller("reportingInDepthCtrl",["$rootScope","$scope","$timeout","$filter","Data","SWAL",function(e,t,n,i,a,o){t.start_date=moment().startOf("month").toDate(),t.end_date=moment().endOf("month").toDate(),t.type="policies",t.tf="tm",t.selected="",t.working=!1,t.$watch("type",function(e){t.by=""}),t.loaded=!1,t.work=function(){t.working=!0,a.go("reporting_build",{start_date:e.date_to_mysql(t.start_date),end_date:e.date_to_mysql(t.end_date),type:t.type,by:t.by,selected:t.selected}).then(function(e){t.working=!1,t.loaded=!0,t.generate_title(),t.chart=e.result})},t.report_title=t.export_title=t.doc_title=t.doc_subtitle="",t.generate_title=function(){var e,n=i("capitalize")(t.type),a=i("date")(t.start_date,"mediumDate"),o=i("date")(t.end_date,"mediumDate"),r=i("date")(t.start_date,"dd-MM-yyyy"),s=i("date")(t.end_date,"dd-MM-yyyy"),l=t.by;switch(l){case"client_group":e="Group";break;case"lead_group":e="Status";break;case"team":e="Team Members";break;case"reference":e="Reference Lists";break;case"media_type":e="Media Type";break;default:e=i("capitalize")(l)}t.report_title="<h3>Report for "+n+" by "+e+"</h3><p>"+a+' <i class="fa fa-long-arrow-right m-l-sm m-r-sm"></i> '+o+"</p>",t.export_title="Report for "+n+" by "+e+" - FROM"+r+"TO"+s,t.doc_title="Report for "+n+" by "+e,t.doc_subtitle=a+" - "+o},t.by="",t.by_clients=[{ID:"client_group",name:"Group"},{ID:"team",name:"Team Member"},{ID:"reference",name:"Reference List"}],t.by_leads=[{ID:"lead_group",name:"Status"},{ID:"product",name:"Interested in Product"},{ID:"company",name:"Interested in Company / Insurer"},{ID:"team",name:"Team Member"},{ID:"reference",name:"Reference List"},{ID:"media_type",name:"Media Type"}],t.by_policies=[{ID:"product",name:"Product"},{ID:"company",name:"Company / Insurer"},{ID:"team",name:"Team Member"},{ID:"reference",name:"Reference List"}],t.by_claims=[{ID:"product",name:"Product"},{ID:"company",name:"Company / Insurer"},{ID:"team",name:"Team Member"},{ID:"reference",name:"Reference List"}],t.start_date_options={},t.end_date_options={},t.$watch("start_date",function(e){e&&(t.end_date_options.minDate=e)}),t.tf="tm",t.timeframes=[{ID:"l7",name:"Last 7 Days"},{ID:"l30",name:"Last 30 Days"},{ID:"tm",name:"This Month"},{ID:"lm",name:"Last Month"},{ID:"tw",name:"This Week"},{ID:"lw",name:"Last Week"},{ID:"ty",name:"This Year"},{ID:"ly",name:"Last Year"},{ID:"cd",name:"Custom Dates"}],t.$watch("tf",function(e){switch(e){case"l7":t.start_date=moment().subtract(7,"days").toDate(),t.end_date=moment().toDate();break;case"l30":t.start_date=moment().subtract(30,"days").toDate(),t.end_date=moment().toDate();break;case"tm":t.start_date=moment().startOf("month").toDate(),t.end_date=moment().endOf("month").toDate();break;case"lm":var n=moment().add(-1,"month");t.start_date=moment(n).startOf("month").toDate(),t.end_date=moment(n).endOf("month").toDate();break;case"ty":t.start_date=moment().startOf("year").toDate(),t.end_date=moment().endOf("year").toDate();break;case"ly":var n=moment().add(-1,"year");t.start_date=moment(n).startOf("year").toDate(),t.end_date=moment(n).endOf("year").toDate();break;case"tw":t.start_date=moment().startOf("week").toDate(),t.end_date=moment().endOf("week").toDate();break;case"lw":var n=moment().add(-1,"week");t.start_date=moment(n).startOf("week").toDate(),t.end_date=moment(n).endOf("week").toDate()}})}]),angular.module("app").controller("SigninFormController",["$rootScope","$scope","Data","$state","$timeout",function(e,t,n,i,a){t.user={},e.authError=null,t.login=function(){e.authError=null,t.is_loading=!0,n.do_login(t.user.email,t.user.password).then(function(n){t.is_loading=!1,"success"==n.status?(e.reset_cache_data(),e.$broadcast("get_user",n),i.go("app.home")):e.authError=n.message})}}]),angular.module("app").controller("TodoCtrl",["$scope","$location","$filter","Data","SWAL",function(e,t,n,i,a){var o=[];i.go("todo_get").then(function(t){o=e.todos=t.items,o.forEach(function(e){e.completed_bool="1"==e.completed}),e.remainingCount=n("filter")(o,{completed_bool:!1}).length}),e.newTodo="",""===t.path()&&t.path("/"),e.location=t,e.$watch("location.path()",function(t){e.statusFilter={"/app/todo/active":{completed_bool:!1},"/app/todo/completed":{completed_bool:!0}}[t]}),e.$watch("remainingCount == 0",function(t){e.allChecked=t}),e.addTodo=function(){var t=e.newTodo.trim();0!==t.length&&(i.go("todo_add",{title:t}).then(function(e){o.push({ID:e,title:t,completed:0,completed_bool:!1})}),e.newTodo="",e.remainingCount++)},e.editTodo=function(t){t.editedTodo=!0,e.originalTodo=angular.extend({},t)},e.doneEditing=function(t){t.editedTodo=!1,t.title=t.title.trim(),t.title||e.removeTodo(t),i.go("todo_edit",{title:t.title,id:t.ID})},e.revertEditing=function(t){o[o.indexOf(t)]=e.originalTodo,e.doneEditing(e.originalTodo)},e.removeTodo=function(t){a.confirm(function(){e.remainingCount-=t.completed_bool?0:1,o.splice(o.indexOf(t),1),i.go("todo_delete",{id:t.ID})})},e.todoCompleted=function(t){e.remainingCount+=t.completed_bool?-1:1,i.go("todo_mark",{id:t.ID})},e.clearCompletedTodos=function(){e.todos=o=o.filter(function(e){return!e.completed_bool}),i.go("todo_clear_completed")},e.markAll=function(t){o.forEach(function(e){e.completed=t?1:0,e.completed_bool=t}),e.remainingCount=t?0:o.length,i.go("todo_mark_all")}}]),angular.module("app").controller("TopSearchCtrl",["$scope","$state",function(e,t){e.$watch("selected",function(e){e&&t.go("app."+e.row.type,{ID:e.row.ID})})}]),!function(e){"use strict";function t(e,t,n,i){e.beginPath(),e.arc(t,n,i,0,b,!1),e.fill()}function n(e,t,n,i,a){e.beginPath(),e.moveTo(t,n),e.lineTo(i,a),e.stroke()}function i(e,n,i,a,o,r,s,l){var c=Math.cos(n*b),d=Math.sin(n*b);l-=s,t(e,i-d*o,a+c*r+.5*l,s+(1-.5*c)*l)}function a(e,t,n,a,o,r,s,l){var c;for(c=5;c--;)i(e,t+c/5,n,a,o,r,s,l)}function o(e,t,n,i,o,r,s){t/=3e4;var l=.21*o,c=.12*o,d=.24*o,u=.28*o;e.fillStyle=s,a(e,t,n,i,l,c,d,u),e.globalCompositeOperation="destination-out",a(e,t,n,i,l,c,d-r,u-r),e.globalCompositeOperation="source-over"}function r(e,t,i,a,o,r,s){t/=12e4;var l,c,d,u,p=.25*o-.5*r,m=.32*o+.5*r,f=.5*o-.5*r;for(e.strokeStyle=s,e.lineWidth=r,e.lineCap="round",e.lineJoin="round",e.beginPath(),e.arc(i,a,p,0,b,!1),e.stroke(),l=8;l--;)c=(t+l/8)*b,d=Math.cos(c),u=Math.sin(c),n(e,i+d*m,a+u*m,i+d*f,a+u*f)}function s(e,t,n,i,a,o,r){t/=15e3;var s=.29*a-.5*o,l=.05*a,c=Math.cos(t*b),d=c*b/-16;e.strokeStyle=r,e.lineWidth=o,e.lineCap="round",e.lineJoin="round",n+=c*l,e.beginPath(),e.arc(n,i,s,d+b/8,d+7*b/8,!1),e.arc(n+Math.cos(d)*s*y,i+Math.sin(d)*s*y,s,d+5*b/8,d+3*b/8,!0),e.closePath(),e.stroke()}function l(e,t,n,i,a,o,r){t/=1350;var s,l,c,d,u=.16*a,p=11*b/12,m=7*b/12;for(e.fillStyle=r,s=4;s--;)l=(t+s/4)%1,c=n+(s-1.5)/1.5*(1===s||2===s?-1:1)*u,d=i+l*l*a,e.beginPath(),e.moveTo(c,d-1.5*o),e.arc(c,d,.75*o,p,m,!1),e.fill()}function c(e,t,i,a,o,r,s){t/=750;var l,c,d,u,p=.1875*o;for(e.strokeStyle=s,e.lineWidth=.5*r,e.lineCap="round",e.lineJoin="round",l=4;l--;)c=(t+l/4)%1,d=Math.floor(i+(l-1.5)/1.5*(1===l||2===l?-1:1)*p)+.5,u=a+c*o,n(e,d,u-1.5*r,d,u+1.5*r)}function d(e,t,i,a,o,r,s){t/=3e3;var l,c,d,u,p=.16*o,m=.75*r,f=t*b*.7,h=Math.cos(f)*m,g=Math.sin(f)*m,v=f+b/3,y=Math.cos(v)*m,w=Math.sin(v)*m,x=f+2*b/3,_=Math.cos(x)*m,$=Math.sin(x)*m;for(e.strokeStyle=s,e.lineWidth=.5*r,e.lineCap="round",e.lineJoin="round",l=4;l--;)c=(t+l/4)%1,d=i+Math.sin((c+l/4)*b)*p,u=a+c*o,n(e,d-h,u-g,d+h,u+g),n(e,d-y,u-w,d+y,u+w),n(e,d-_,u-$,d+_,u+$)}function u(e,t,n,i,o,r,s){t/=3e4;var l=.21*o,c=.06*o,d=.21*o,u=.28*o;e.fillStyle=s,a(e,t,n,i,l,c,d,u),e.globalCompositeOperation="destination-out",a(e,t,n,i,l,c,d-r,u-r),e.globalCompositeOperation="source-over"}function p(e,t,n,i,a,o,r){var s=a/8,l=s/3,c=2*l,d=t%1*b,u=Math.cos(d),p=Math.sin(d);e.fillStyle=r,e.strokeStyle=r,e.lineWidth=o,e.lineCap="round",e.lineJoin="round",e.beginPath(),e.arc(n,i,s,d,d+Math.PI,!1),e.arc(n-l*u,i-l*p,c,d+Math.PI,d,!1),e.arc(n+c*u,i+c*p,l,d+Math.PI,d,!0),e.globalCompositeOperation="destination-out",e.fill(),e.globalCompositeOperation="source-over",e.stroke()}function m(e,t,n,i,a,o,r,s,l){t/=2500;var c,d,u,m,f=w[r],h=(t+r-x[r].start)%s,g=(t+r-x[r].end)%s,v=(t+r)%s;if(e.strokeStyle=l,e.lineWidth=o,e.lineCap="round",e.lineJoin="round",1>h){if(e.beginPath(),h*=f.length/2-1,c=Math.floor(h),h-=c,c*=2,c+=2,e.moveTo(n+(f[c-2]*(1-h)+f[c]*h)*a,i+(f[c-1]*(1-h)+f[c+1]*h)*a),1>g){for(g*=f.length/2-1,d=Math.floor(g),g-=d,d*=2,d+=2,m=c;m!==d;m+=2)e.lineTo(n+f[m]*a,i+f[m+1]*a);e.lineTo(n+(f[d-2]*(1-g)+f[d]*g)*a,i+(f[d-1]*(1-g)+f[d+1]*g)*a)}else for(m=c;m!==f.length;m+=2)e.lineTo(n+f[m]*a,i+f[m+1]*a);e.stroke()}else if(1>g){for(e.beginPath(),g*=f.length/2-1,d=Math.floor(g),g-=d,d*=2,d+=2,e.moveTo(n+f[0]*a,i+f[1]*a),m=2;m!==d;m+=2)e.lineTo(n+f[m]*a,i+f[m+1]*a);e.lineTo(n+(f[d-2]*(1-g)+f[d]*g)*a,i+(f[d-1]*(1-g)+f[d+1]*g)*a),e.stroke()}1>v&&(v*=f.length/2-1,u=Math.floor(v),v-=u,u*=2,u+=2,p(e,t,n+(f[u-2]*(1-v)+f[u]*v)*a,i+(f[u-1]*(1-v)+f[u+1]*v)*a,a,o,l))}var f,h;!function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,n=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame;t&&n?(f=function(e){function n(){i.value=t(n),e()}var i={value:null};return n(),i},h=function(e){n(e.value)}):(f=setInterval,h=clearInterval)}();var g=500,v=.08,b=2*Math.PI,y=2/Math.sqrt(2),w=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],x=[{start:.36,end:.11},{start:.56,end:.16}],_=function(e){this.list=[],this.interval=null,this.color=e&&e.color?e.color:"black",this.resizeClear=!(!e||!e.resizeClear)};_.CLEAR_DAY=function(e,t,n){var i=e.canvas.width,a=e.canvas.height,o=Math.min(i,a);r(e,t,.5*i,.5*a,o,o*v,n)},_.CLEAR_NIGHT=function(e,t,n){var i=e.canvas.width,a=e.canvas.height,o=Math.min(i,a);s(e,t,.5*i,.5*a,o,o*v,n)},_.PARTLY_CLOUDY_DAY=function(e,t,n){var i=e.canvas.width,a=e.canvas.height,s=Math.min(i,a);r(e,t,.625*i,.375*a,.75*s,s*v,n),o(e,t,.375*i,.625*a,.75*s,s*v,n)},_.PARTLY_CLOUDY_NIGHT=function(e,t,n){var i=e.canvas.width,a=e.canvas.height,r=Math.min(i,a);s(e,t,.667*i,.375*a,.75*r,r*v,n),o(e,t,.375*i,.625*a,.75*r,r*v,n)},_.CLOUDY=function(e,t,n){var i=e.canvas.width,a=e.canvas.height,r=Math.min(i,a);o(e,t,.5*i,.5*a,r,r*v,n)},_.RAIN=function(e,t,n){var i=e.canvas.width,a=e.canvas.height,r=Math.min(i,a);l(e,t,.5*i,.37*a,.9*r,r*v,n),o(e,t,.5*i,.37*a,.9*r,r*v,n)},_.SLEET=function(e,t,n){var i=e.canvas.width,a=e.canvas.height,r=Math.min(i,a);c(e,t,.5*i,.37*a,.9*r,r*v,n),o(e,t,.5*i,.37*a,.9*r,r*v,n)},_.SNOW=function(e,t,n){var i=e.canvas.width,a=e.canvas.height,r=Math.min(i,a);d(e,t,.5*i,.37*a,.9*r,r*v,n),o(e,t,.5*i,.37*a,.9*r,r*v,n)},_.WIND=function(e,t,n){var i=e.canvas.width,a=e.canvas.height,o=Math.min(i,a);m(e,t,.5*i,.5*a,o,o*v,0,2,n),m(e,t,.5*i,.5*a,o,o*v,1,2,n)},_.FOG=function(e,t,i){var a=e.canvas.width,o=e.canvas.height,r=Math.min(a,o),s=r*v;u(e,t,.5*a,.32*o,.75*r,s,i),t/=5e3;var l=Math.cos(t*b)*r*.02,c=Math.cos((t+.25)*b)*r*.02,d=Math.cos((t+.5)*b)*r*.02,p=Math.cos((t+.75)*b)*r*.02,m=.936*o,f=Math.floor(m-.5*s)+.5,h=Math.floor(m-2.5*s)+.5;e.strokeStyle=i,e.lineWidth=s,e.lineCap="round",e.lineJoin="round",n(e,l+.2*a+.5*s,f,c+.8*a-.5*s,f),n(e,d+.2*a+.5*s,h,p+.8*a-.5*s,h)},_.prototype={_determineDrawingFunction:function(e){return"string"==typeof e?(e=e.toUpperCase().replace(/-/g,"_"),_.hasOwnProperty(e)?_[e]:null):void 0},add:function(e,t){var n;"string"==typeof e&&(e=document.getElementById(e)),null!==e&&(t=this._determineDrawingFunction(t),"function"==typeof t&&(n={element:e,context:e.getContext("2d"),drawing:t},this.list.push(n),this.draw(n,g)))},set:function(e,t){var n;for("string"==typeof e&&(e=document.getElementById(e)),n=this.list.length;n--;)if(this.list[n].element===e)return this.list[n].drawing=this._determineDrawingFunction(t),void this.draw(this.list[n],g);this.add(e,t)},remove:function(e){var t;for("string"==typeof e&&(e=document.getElementById(e)),t=this.list.length;t--;)if(this.list[t].element===e)return void this.list.splice(t,1)},draw:function(e,t){var n=e.context.canvas;this.resizeClear?n.width=n.width:e.context.clearRect(0,0,n.width,n.height),e.drawing(e.context,t,this.color)},play:function(){var e=this;this.pause(),this.interval=f(function(){var t,n=Date.now();for(t=e.list.length;t--;)e.draw(e.list[t],n);
},1e3/60)},pause:function(){this.interval&&(h(this.interval),this.interval=null)}},e.Skycons=_}(this),angular.module("app").directive("skycon",function(){return{restrict:"E",replace:!0,scope:{icon:"=",size:"="},link:function(e,t,n){var i=document.createElement("canvas");n.class?i.className=n.class:i.className="";var a={};n.color?a.color=n.color:a.color="black";var o=new Skycons(a);e.$watch("size",function(t,n){t?(i.height=2*t,i.width=2*t,i.style.height=t+"px",i.style.width=t+"px"):(i.height=e.size||64,i.width=e.size||64)},!0),e.$watch("icon",function(){o.set(i,e.icon)},!0),o.play(),8===t[0].nodeType?t.replaceWith(i):t[0].appendChild(i),e.$on("$destroy",function(){o.remove(i),0===o.list.length&&o.pause(i)})}}}).factory("yahooApi",["$resource",function(e){return e("https://query.yahooapis.com/v1/public/yql",{},{query:{method:"GET",isArray:!1}})}]).factory("geoApi",["$http",function(e){return e.get("https://geoip.sellandsell.com/api/")}]).factory("worldTime",["$http",function(e){var t={},n="IItZFQ13L7mshFCzeBq42ypiPEbBp1qdvKcjsnkufAxwxFL6xp";return t.get=function(t,i){return e.get("https://worldtimeiodeveloper.p.mashape.com/geo?latitude="+t+"&longitude="+i,{headers:{"X-Mashape-Key":n,Accept:"application/json"}})},t}]).controller("WeatherCtrl",["$scope","$http","yahooApi","geoApi","worldTime","Data","SWAL","$filter","$timeout",function(e,t,n,i,a,o,r,s,l){e.userSearchText="",e.search={},e.forcast={},e.place={},e.data={},e.woeid=e.lat=e.long=e.dateTime=e.add=e.rem=e.sit="",e.items=[],e.defaults=[{woeid:1960307,city:"Beirut",country:"Lebanon"},{woeid:2459115,city:"New York",country:"United States"},{woeid:615702,city:"Paris",country:"France"},{woeid:44418,city:"London",country:"United kingdom"},{woeid:1105779,city:"Sydney",country:"Australia"}],o.go("weather_get").then(function(t){if(t.items.length)e.items=t.items,e.startup();else{var n=0;angular.forEach(e.defaults,function(t){o.go("weather_add",{woeid:t.woeid,city:t.city,country:t.country}).then(function(i){e.items.push({ID:i,woeid:t.woeid,city:t.city,country:t.country}),n++,n>=e.defaults.length-1&&l(function(){e.startup()},100)})})}}),e.startup=function(){var t=s("orderBy")(e.items,"city")[0];l(function(){e.getWeather(t.woeid,t.city,t.country)},500)},e.add_loc=function(t,n,i){o.go("weather_add",{woeid:t,city:n,country:i}).then(function(a){e.items.push({ID:a,woeid:t,city:n,country:i})})},e.rem_loc=function(t){r.confirm(function(){o.go("weather_delete",{id:t.ID}).then(function(n){e.items.splice(e.items.indexOf(t),1)})})},e.googleLocation=function(e){return t.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:e,sensor:!1}}).then(function(e){return e.data.results.map(function(e){return e.formatted_address})})},e.forceLoc=function(t){return e.userSearchText=t,e.getLocations()},e.getLocations=function(){var t='select * from geo.places where text="'+e.userSearchText+'"';n.query({q:t,format:"json"},{},function(t){e.search=t,1!==t.query.count||t.query.results.channel||e.getWeather(t.query.results.place.woeid,t.query.results.place.name,t.query.results.place.country.content)})},e.getWeather=function(t,i,o){var r=s("filter")(e.items,{woeid:t},!0)[0];r?(e.add=!1,e.rem=!0,e.sit=r):(e.add=!0,e.rem=!1,e.sit=""),e.woeid=t,e.place.city=i,e.place.country=o;var l="select item from weather.forecast where woeid="+parseInt(t,10)+' and u="c"';n.query({q:l,format:"json"},{},function(t){t.query.results.channel.item.forecast.forEach(function(t,n){t.icon=e.getCustomIcon(t.code)}),t.query.results.channel.item.condition.icon=e.getCustomIcon(t.query.results.channel.item.condition.code),e.data=t,e.lat=t.query.results.channel.item.lat,e.long=t.query.results.channel.item.long,e.dateTime="",a.get(e.lat,e.long).then(function(t){e.dateTime=new Date(Date.parse(t.data.summary.local))})})},e.getCustomIcon=function(e){switch(e){case"0":case"1":case"2":case"24":case"25":return"wind";case"5":case"6":case"7":case"18":return"sleet";case"3":case"4":case"8":case"9":case"10":case"11":case"12":case"35":case"37":case"38":case"39":case"40":case"45":case"47":return"rain";case"13":case"14":case"15":case"16":case"17":case"41":case"42":case"43":case"46":return"snow";case"19":case"20":case"21":case"22":case"23":return"fog";case"26":case"27":case"28":case"44":return"cloudy";case"29":return"partly-cloudy-night";case"30":return"partly-cloudy-day";case"31":case"33":return"clear-night";case"32":case"34":case"36":return"clear-day";default:return""}}}]),angular.module("app").controller("AccountingInvoicesCtrl",["$rootScope","$scope","Data","SWAL","VARS",function(e,t,n,i,a){t.items=[],t.selected=[],t.per_page=10,t.currencySymbol="$",t.fetch=function(e){t.isLoading=!0;var i=e.pagination,a=i.start||0,o=i.number||t.per_page,r=1+a/o,s=e.sort,l=s.predicate||"ID",c=s.reverse||!1,d=e.search,u=d.predicateObject||"";n.go("invoices_get",{page:r,per_page:o,order_by:l,reverse:c,search:u}).then(function(n){t.isLoading=!1,t.selected=[],t.items=n.items,e.pagination.numberOfPages=n.total_pages})},t.delete=function(t){e.SWAL.confirm(function(){n.go("invoices_delete",{id:t.ID}).then(function(n){"OK"==n?(e.Notify.success("Invoice #"+t.invoice_number+" deleted"),e.$broadcast("accounting-touched")):e.SWAL.error("Error deleting invoice",n)})})},t.regenerate=function(t){e.SWAL.confirm(function(){n.go("invoices_regenerate",{id:t.ID}).then(function(n){"OK"==n?e.Notify.success("Invoice #"+t.invoice_number+" regenerated"):e.SWAL.error("Error regenerating invoice",n)})},{title:"Confirmation Required",text:"Kindly confirm invoice re-generation"})},t.client_url=function(e){return window.vars.invoice_share_url+e.token},t.get_status=function(e){var t,n;switch(e){case"paid":t="label-success",n=e;break;case"unpaid":t="label-default",n=e;break;case"partial":t="label-warning",n=e;break;case"overdue":t="label-danger",n=e;break;default:t="label-default",n="---"}return'<span class="label '+t+'">'+n+"</span>"},t.can_edit=function(e){return!(e&&parseInt(e.transactions_count)>0)},t.is_sent=function(e){return e&&parseInt(e.last_sent_date)>0}}]),angular.module("app").controller("AccountingStatementCtrl",["$rootScope","$scope","$timeout","Data","SWAL",function(e,t,n,i,a){t.items=[],t.selected=[],t.per_page=10,t.currencySymbol="$",t.fetch=function(e){t.isLoading=!0;var n=e.pagination,a=n.start||0,o=n.number||t.per_page,r=1+a/o,s=e.sort,l=s.predicate||"ID",c=s.reverse||!1,d=e.search,u=d.predicateObject||"";i.go("bank_accounts_get",{page:r,per_page:o,order_by:l,reverse:c,search:u}).then(function(n){t.isLoading=!1,t.selected=[],t.items=n.items,e.pagination.numberOfPages=n.total_pages})},t.delete=function(){a.confirm(function(){console.log("DEL",t.selected),e.$broadcast("accounting-touched")})}}]),angular.module("app").controller("AccountingTrackerCtrl",["$rootScope","$scope","$timeout","$filter","Data","SWAL",function(e,t,n,i,a,o){t.start_date=moment().startOf("month").toDate(),t.end_date=moment().endOf("month").toDate(),t.type="company",t.tf="tm",t.selected="",t.working=!1,t.panel_hidden=!1,t.toggle_panel=function(){t.panel_hidden=!t.panel_hidden,n(function(){angular.element(".col.report-panel").toggleClass("zerowidth")})},t.$watch("type",function(e){t.company=t.broker=""}),t.export_title=t.doc_title=t.doc_subtitle="",t.generate_title=function(){var n,a=i("capitalize")(t.type),o=i("date")(t.start_date,"mediumDate"),r=i("date")(t.end_date,"mediumDate"),s=i("date")(t.start_date,"dd-MM-yyyy"),l=i("date")(t.end_date,"dd-MM-yyyy"),c=t.by;switch(t.type){case"company":n=i("filter")(e.assets_companies,{ID:c})[0].name;break;case"broker":n=i("filter")(e.assets_teams,{ID:c})[0].name}t.export_title="Track "+a+"-"+n+" - FROM"+s+"TO"+l,t.doc_title="Track "+a+": "+n,t.doc_subtitle=o+" - "+r},t.loaded=!1,t.work=function(){t.working=!0,a.go("tracker_build",{start_date:e.date_to_mysql(t.start_date),end_date:e.date_to_mysql(t.end_date),type:t.type,company:t.company,broker:t.broker}).then(function(e){t.show_panel=!0,t.toggle_panel(),t.working=!1,t.loaded=!0,t.policies=e.policies,t.payments=e.payments,t.total_policies=e.total_policies,t.total_payments=e.total_payments,t.total=e.total,t.generate_title()})},t.start_date_options={},t.end_date_options={},t.$watch("start_date",function(e){e&&(t.end_date_options.minDate=e)}),t.tf="tm",t.timeframes=[{ID:"l7",name:"Last 7 Days"},{ID:"l30",name:"Last 30 Days"},{ID:"tm",name:"This Month"},{ID:"lm",name:"Last Month"},{ID:"tw",name:"This Week"},{ID:"lw",name:"Last Week"},{ID:"ty",name:"This Year"},{ID:"ly",name:"Last Year"},{ID:"cd",name:"Custom Dates"}],t.$watch("tf",function(e){switch(e){case"l7":t.start_date=moment().subtract(7,"days").toDate(),t.end_date=moment().toDate();break;case"l30":t.start_date=moment().subtract(30,"days").toDate(),t.end_date=moment().toDate();break;case"tm":t.start_date=moment().startOf("month").toDate(),t.end_date=moment().endOf("month").toDate();break;case"lm":var n=moment().add(-1,"month");t.start_date=moment(n).startOf("month").toDate(),t.end_date=moment(n).endOf("month").toDate();break;case"ty":t.start_date=moment().startOf("year").toDate(),t.end_date=moment().endOf("year").toDate();break;case"ly":var n=moment().add(-1,"year");t.start_date=moment(n).startOf("year").toDate(),t.end_date=moment(n).endOf("year").toDate();break;case"tw":t.start_date=moment().startOf("week").toDate(),t.end_date=moment().endOf("week").toDate();break;case"lw":var n=moment().add(-1,"week");t.start_date=moment(n).startOf("week").toDate(),t.end_date=moment(n).endOf("week").toDate()}})}]),angular.module("app").controller("AccountingTransactionsCtrl",["$rootScope","$scope","Data","SWAL",function(e,t,n,i){t.items=[],t.selected=[],t.per_page=10,t.currencySymbol="$",t.label=function(e){var t;switch(e){case"income":t="label-success";break;case"expense":t="label-danger";break;case"credit":t="label-warning";break;case"transfer":t="label-info";break;default:t="label-default"}return t},t.fetch=function(e){t.isLoading=!0;var i=e.pagination,a=i.start||0,o=i.number||t.per_page,r=1+a/o,s=e.sort,l=s.predicate||"ID",c=s.reverse||!1,d=e.search,u=d.predicateObject||"";n.go("transactions_get",{page:r,per_page:o,order_by:l,reverse:c,search:u}).then(function(n){t.isLoading=!1,t.selected=[],t.items=n.items,e.pagination.numberOfPages=n.total_pages})},t.delete=function(t){i.confirm(function(){n.go("transaction_delete",{id:t.ID}).then(function(t){"OK"==t?e.$broadcast("accounting-touched"):i.error("Error Occured",t)})},{title:"Confirmation Required",text:"Deleting Transaction can not be undone. Current Balance with associated account will be adjusted.",yes:"Yes, I confirm"})}}]),angular.module("app").controller("MailoutAddCtrl",["$rootScope","$scope","$timeout","$state","Data","SWAL","Notify",function(e,t,n,i,a,o,r){t.ID&&t.ID.length?(t.is_editing=!0,t.hide_all=!0,a.go("campaigns_by_id",{id:t.ID}).then(function(n){angular.isObject(n.result)?(t.item=n.result.form_options,t.item.cron_date=e.date_from_mysql(t.item.cron_date),t.item.dob_date=e.date_from_mysql(t.item.dob_date),t.item.dob="true"==t.item.dob,t.hide_all=!1,t.start_watching()):o.error("Error Getting campaign",n)})):(t.item={camp_type:"mailout",type:"clients",send_type:"now",cron_date:new Date,dob_date:new Date,receivers_count:0},n(function(){t.get_receivers_count(),t.start_watching()})),t.cron_date_options={minDate:new Date,showWeeks:!1},t.get_receivers_count=function(){t.loading_count=!0,a.go("receivers_count",{type:t.item.type,clients_group:t.item.clients_group,reference:t.item.reference,team:t.item.team,leads_group:t.item.leads_group,interest_company:t.item.interest_company,interest_product:t.item.interest_product,media_type:t.item.media_type,dob:t.item.dob,dob_date:e.date_to_mysql(t.item.dob_date)}).then(function(e){t.loading_count=!1,t.item.receivers_count=parseInt(e,10)||0})},t.start_watching=function(){t.$watchGroup(["item.type","item.leads_group","item.clients_group","item.reference","item.team","item.interest_company","item.interest_product","item.media_type","item.dob","item.dob_date"],function(){t.get_receivers_count()})},t.submit=function(){t.is_saving=!0;var s,l={action:"campaigns_add",camp_type:t.item.camp_type,send_type:t.item.send_type,cron_date:e.date_to_mysql(t.item.cron_date),name:t.item.name,subject:t.item.subject,message:t.item.message,type:t.item.type,clients_group:t.item.clients_group,reference:t.item.reference,team:t.item.team,leads_group:t.item.leads_group,interest_company:t.item.interest_company,interest_product:t.item.interest_product,media_type:t.item.media_type,dob:t.item.dob,dob_date:e.date_to_mysql(t.item.dob_date)};t.is_editing?(l.id=t.ID,s="campaigns_edit"):s="campaigns_add",a.go(s,l).then(function(e){t.is_saving=!1,"OK"==e?(r.success("Campaign Processed"),n(function(){i.go("marketing.mailout")}),t.$destroy()):o.error("Error Occured",e)})}}]),angular.module("app").controller("MailoutCtrl",["$rootScope","$scope","$timeout","$interval","Data","SWAL",function(e,t,n,i,a,o){t.camp_type="mailout",t.items=[],t.selected=[],t.per_page=10,i(function(){e.$broadcast("campaigns-touched")},12e4),t.fetch=function(e){t.isLoading=!0;var n=e.pagination,i=n.start||0,o=n.number||t.per_page,r=1+i/o,s=e.sort,l=s.predicate||"ID",c=s.reverse||!1,d=e.search,u=d.predicateObject||"";a.go("campaigns_get",{camp_type:t.camp_type,page:r,per_page:o,order_by:l,reverse:c,search:u}).then(function(n){t.isLoading=!1,t.selected=[],t.items=n.items,e.pagination.numberOfPages=n.total_pages})},t.delete=function(t){o.confirm(function(){a.go("campaigns_delete",{id:t.ID}).then(function(t){"OK"==t?e.$broadcast("campaigns-touched"):o.error("Error Occured",t)})})},t.delete_all=function(){o.confirm(function(){a.go("campaigns_delete",{id:t.selected}).then(function(t){"OK"==t?e.$broadcast("campaigns-touched"):o.error("Error Occured",t)})},{title:"Confirmation Required",text:'Note: Active campaigns cannot be deleted. You need to "PAUSE" active campaigns before.',yes:"Yes, I confirm"})},t.duplicate=function(t){a.go("campaigns_duplicate",{id:t.ID}).then(function(t){"OK"==t?e.$broadcast("campaigns-touched"):o.error("Error Occured",t)})},t.pause=function(t){a.go("campaigns_pause",{id:t.ID}).then(function(t){"OK"==t?e.$broadcast("campaigns-touched"):o.error("Error Occured",t)})},t.get_status=function(e){var t;switch(e){case"queued":t="default";break;case"active":t="info";break;case"finished":t="success";break;case"paused":t="danger"}return t}}]),angular.module("app").controller("SMSAddCtrl",["$rootScope","$scope","$timeout","$state","Data","SWAL","Notify",function(e,t,n,i,a,o,r){t.balance=0,t.balance_loaded=!1,a.go("sms_balance").then(function(e){t.balance_loaded=!0,t.balance=e}),t.ID&&t.ID.length?(t.is_editing=!0,t.hide_all=!0,a.go("campaigns_by_id",{id:t.ID}).then(function(n){angular.isObject(n.result)?(t.item=n.result.form_options,t.item.cron_date=e.date_from_mysql(t.item.cron_date),t.item.dob_date=e.date_from_mysql(t.item.dob_date),t.item.dob="true"==t.item.dob,t.hide_all=!1,t.start_watching()):o.error("Error Getting campaign",n)})):(t.item={camp_type:"sms",type:"clients",send_type:"now",cron_date:new Date,dob_date:new Date,receivers_count:0},n(function(){t.get_receivers_count(),t.start_watching()})),t.cron_date_options={minDate:new Date,showWeeks:!1},t.get_receivers_count=function(){t.loading_count=!0,a.go("receivers_count",{type:t.item.type,clients_group:t.item.clients_group,reference:t.item.reference,team:t.item.team,leads_group:t.item.leads_group,interest_company:t.item.interest_company,interest_product:t.item.interest_product,media_type:t.item.media_type,dob:t.item.dob,dob_date:e.date_to_mysql(t.item.dob_date)}).then(function(e){t.loading_count=!1,t.item.receivers_count=parseInt(e,10)||0})},t.start_watching=function(){t.$watchGroup(["item.type","item.leads_group","item.clients_group","item.reference","item.team","item.interest_company","item.interest_product","item.media_type","item.dob","item.dob_date"],function(){t.get_receivers_count()})},t.submit=function(){t.is_saving=!0;var s,l={action:"campaigns_add",camp_type:t.item.camp_type,send_type:t.item.send_type,cron_date:e.date_to_mysql(t.item.cron_date),name:t.item.name,subject:t.item.subject,message:t.item.message,type:t.item.type,clients_group:t.item.clients_group,reference:t.item.reference,team:t.item.team,leads_group:t.item.leads_group,interest_company:t.item.interest_company,interest_product:t.item.interest_product,media_type:t.item.media_type,dob:t.item.dob,dob_date:e.date_to_mysql(t.item.dob_date)};t.is_editing?(l.id=t.ID,s="campaigns_edit"):s="campaigns_add",a.go(s,l).then(function(e){t.is_saving=!1,"OK"==e?(r.success("Campaign Processed"),n(function(){i.go("marketing.sms")}),t.$destroy()):o.error("Error Occured",e)})}}]),angular.module("app").controller("SMSCtrl",["$rootScope","$scope","$timeout","$interval","Data","SWAL",function(e,t,n,i,a,o){t.camp_type="sms",t.items=[],t.selected=[],t.per_page=10,i(function(){e.$broadcast("campaigns-touched")},12e4),t.fetch=function(e){t.isLoading=!0;var n=e.pagination,i=n.start||0,o=n.number||t.per_page,r=1+i/o,s=e.sort,l=s.predicate||"ID",c=s.reverse||!1,d=e.search,u=d.predicateObject||"";a.go("campaigns_get",{camp_type:t.camp_type,page:r,per_page:o,order_by:l,reverse:c,search:u}).then(function(n){t.isLoading=!1,t.selected=[],t.items=n.items,e.pagination.numberOfPages=n.total_pages})},t.delete=function(t){o.confirm(function(){a.go("campaigns_delete",{id:t.ID}).then(function(t){"OK"==t?e.$broadcast("campaigns-touched"):o.error("Error Occured",t)})})},t.delete_all=function(){o.confirm(function(){console.log("DEL",t.selected),a.go("campaigns_delete",{id:t.selected}).then(function(t){"OK"==t?e.$broadcast("campaigns-touched"):o.error("Error Occured",t)})},{title:"Confirmation Required",text:'Note: Active campaigns cannot be deleted. You need to "PAUSE" active campaigns before.',yes:"Yes, I confirm"})},t.duplicate=function(t){a.go("campaigns_duplicate",{id:t.ID}).then(function(t){"OK"==t?e.$broadcast("campaigns-touched"):o.error("Error Occured",t)})},t.pause=function(t){a.go("campaigns_pause",{id:t.ID}).then(function(t){"OK"==t?e.$broadcast("campaigns-touched"):o.error("Error Occured",t)})},t.get_status=function(e){var t;switch(e){case"queued":t="default";break;case"active":t="info";break;case"finished":t="success";break;case"paused":t="danger"}return t}}]),angular.module("app").controller("SettingsAccountCtrl",["$rootScope","$scope","$timeout","Data","SWAL","VARS","Upload",function(e,t,n,i,a,o,r){t.save_contact=function(){t.is_saving_contact=!0,i.go("user_edit",{first_name:t.user.first_name,last_name:t.user.last_name,user_phone:t.user.phone,user_image:t.user.image}).then(function(i){n(function(){"OK"==i?(e.user.name=t.user.first_name+" "+t.user.last_name,t.contact_form_error=!1,t.contact_form_error_text=""):(t.contact_form_error=!0,t.contact_form_error_text=i),t.is_saving_contact=!1,t.Form.$setPristine()})})},t.save_pwd=function(){t.is_saving_pwd=!0,i.go("user_pwd",{old_pass:t.old_pass,new_pass:t.new_pass,new_pass2:t.new_pass2,email:t.user.email}).then(function(e){n(function(){"OK"==e?(t.pwd_form_error=!1,t.pwd_form_error_text=""):(t.pwd_form_error=!0,t.pwd_form_error_text=e),t.is_saving_pwd=!1,t.pwdForm.$setPristine()})})},t.logo_progress=0,t.logo_upload=function(i,a){if(t.errFiles=a,i&&i.length)for(var s=0;s<i.length;s++){var l=i[s];l.$error||r.upload({url:o.ajaxurl,data:{action:"files_upload_img",file:l,folder:"photos/me"}}).then(function(i){n(function(){t.logo_progress=0,e.user.image=i.data.resized})},function(e){console.log("Error status:",e.status)},function(e){var n=parseInt(100*e.loaded/e.total);100==n&&(n=0),t.logo_progress=n})}}}]),angular.module("app").controller("SettingsBackupCtrl",["$scope","Data","Notify","SWAL",function(e,t,n,i){t.go("db_last_backup").then(function(t){e.last_backup=t.result.backup,e.last_restore=t.result.restore}),e.backup=function(){e.doing_backup=!0,t.go("db_backup").then(function(t){t.result.error&&!t.result.url?n.danger(t.result.error):(e.backup_url=t.result.url,n.success("Your backup file is ready to download")),e.doing_backup=!1})},e.restore=function(){i.warning("Automatic restore is disabled","Kindly send your backup file you wish to restore to system@broksy.com along with instructions.")}}]),angular.module("app").controller("settingBanksCtrl",["$rootScope","$timeout","$scope","Data","SWAL",function(e,t,n,i,a){n.per_page=10,n.delete=function(t){a.confirm(function(){i.go("banks_delete",{id:t.ID}).then(function(n){e.$broadcast("banks_assets_deleted",t)})})}}]),angular.module("app").controller("SettingsBillingCtrl",["$rootScope","$scope","$timeout","Data","SWAL",function(e,t,n,i,a){t.active=!1;var o,r;t.due_date=o=moment.unix(e.user.account.due_date).toDate(),t.today=r=moment().toDate(),t.days_left=moment(o).diff(moment(r),"days"),t.days_left>0&&(t.active=!0),t.usage_loaded=!1,i.go("get_account_usage").then(function(e){t.usage_loaded=!0,t.current_disk=parseInt(e.current_disk),t.credits_disk=parseInt(e.credits_disk),t.disk_percentage=t.current_disk/t.credits_disk*100,t.current_emails=parseInt(e.current_emails),t.credits_emails=parseInt(e.credits_emails),t.email_percentage=t.current_emails/t.credits_emails*100,t.sms_credits=parseInt(e.sms_credits),t.current_users_count=parseInt(e.current_users_count),t.allowed_users_count=parseInt(e.allowed_users_count),t.user_percentage=t.current_users_count/t.allowed_users_count*100})}]),angular.module("app").controller("BusinessCtrl",["$rootScope","$scope","$timeout","Data","VARS","SWAL","Upload",function(e,t,n,i,a,o,r){t.item=[],i.go("business_get").then(function(e){""!==e.items&&(t.item=e.result)}),t.save=function(){t.is_saving=!0,i.go("business_save",{"item[type]":t.item.type,"item[name]":t.item.name,"item[phone]":t.item.phone,"item[email]":t.item.email,"item[nf_number]":t.item.nf_number,"item[rc_number]":t.item.rc_number,"item[capital_number]":t.item.capital_number,"item[vat_number]":t.item.vat_number,"item[address1]":t.item.address1,"item[address2]":t.item.address2,"item[city]":t.item.city,"item[state]":t.item.state,"item[pobox]":t.item.pobox,"item[country]":t.item.country,"item[default_bank]":t.item.default_bank,"item[default_payment_type]":t.item.default_payment_type,"item[default_invoice_tax]":t.item.default_invoice_tax,"item[default_invoice_terms]":t.item.default_invoice_terms}).then(function(e){n(function(){t.is_saving=!1,t.Form.$setPristine()})})}}]),angular.module("app").controller("CompaniesCtrl",["$rootScope","$scope","Data","SWAL","$timeout",function(e,t,n,i,a){t.create=function(){if(t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid){var i={};n.go("companies_add",{name:t.new_name}).then(function(n){i.ID=n,i.name=t.new_name,e.$broadcast("company_assets_added",i),t.new_name="",t.FormSubmitted=!1})}},t.delete=function(t){i.confirm(function(){n.go("companies_delete",{id:t.ID}).then(function(n){e.$broadcast("company_assets_deleted",t)})})},t.edit=function(e){e&&e.selected&&(e.editing=!0)},t.doneEditing=function(t,i){n.go("companies_edit",{id:t.ID,name:t.name}),e.$broadcast("company_assets_changed",{item:t,index:i}),t.editing=!1},t.cancelEditing=function(e){e.editing=!1},t.select=function(n){angular.forEach(e.assets_companies,function(e){e.selected=!1}),t.item=n,t.item.selected=!0}}]),angular.module("app").controller("expenseCatsCtrl",["$rootScope","$timeout","$scope","Data","SWAL",function(e,t,n,i,a){n.create=function(){if(n.FormSubmitted=!0,angular.forEach(n.Form.$error.required,function(e){e.$setDirty()}),n.Form.$valid){var t={};i.go("expense_cats_add",{name:n.new_name}).then(function(i){t.ID=i,t.name=n.new_name,e.$broadcast("expense_cats_assets_added",t),n.new_name="",n.FormSubmitted=!1})}},n.delete=function(t){a.confirm(function(){i.go("expense_cats_delete",{id:t.ID}).then(function(n){e.$broadcast("expense_cats_assets_deleted",t)})})},n.edit=function(e){e&&e.selected&&(e.editing=!0)},n.doneEditing=function(t,n){i.go("expense_cats_edit",{id:t.ID,name:t.name}),e.$broadcast("expense_cats_assets_changed",{item:t,index:n}),t.editing=!1},n.cancelEditing=function(e){e.editing=!1},n.select=function(t){angular.forEach(e.assets_expense_cats,function(e){e.selected=!1}),n.item=t,n.item.selected=!0}}]),angular.module("app").controller("settingsInvoicesCtrl",["$rootScope","$scope","$timeout","Data","VARS","SWAL","Upload",function(e,t,n,i,a,o,r){t.item=[],i.go("business_get").then(function(e){""!==e.items&&(t.item=e.result,t.item.logoPalette=[])}),t.templates=[{name:"base",url:a.url+"/assets/img/invoice/base-thumb.jpg",preview:a.url+"/assets/img/invoice/base.jpg"},{name:"daisy",url:a.url+"/assets/img/invoice/daisy-thumb.jpg",preview:a.url+"/assets/img/invoice/daisy.jpg"},{name:"vip",url:a.url+"/assets/img/invoice/vip-thumb.jpg",preview:a.url+"/assets/img/invoice/vip.jpg"}],t.str_pad=function(e,t){for(e=parseInt(e,10),t=parseInt(t,10),e=""+e;e.length<t;)e="0"+e;return e},t.inv_num=function(){var e=t.item.invoice_number_type||"prefix",n=t.item.invoice_number_prefix||"",i=t.item.invoice_number_counter||1,a=t.item.invoice_number_padding||4,o=t.item.invoice_number_pattern||"";return"pattern"!=e?n+t.str_pad(i,a):o?(o.indexOf("{year}")!=-1&&(o=o.replace("{year}",moment().format("YYYY"))),o.indexOf("{year-short}")!=-1&&(o=o.replace("{year-short}",moment().format("YY"))),o.indexOf("{month}")!=-1&&(o=o.replace("{month}",moment().format("MM"))),o.indexOf("{month-name}")!=-1&&(o=o.replace("{month-name}",moment().format("MMMM"))),o.indexOf("{month-name-short}")!=-1&&(o=o.replace("{month-name-short}",moment().format("MMM"))),o.indexOf("{day}")!=-1&&(o=o.replace("{day}",moment().format("DD"))),o.indexOf("{day-name}")!=-1&&(o=o.replace("{day-name}",moment().format("dddd"))),o.indexOf("{day-name-short}")!=-1&&(o=o.replace("{day-name-short}",moment().format("ddd"))),o.indexOf("{counter}")!=-1&&(o=o.replace("{counter}",t.str_pad(i,a))),o):void 0},t.save=function(){t.is_saving=!0,i.go("business_save",{"item[logo]":t.item.logo,"item[primary_color]":t.item.primary_color,"item[secondary_color]":t.item.secondary_color,"item[invoice_design]":t.item.invoice_design,"item[invoice_number_type]":t.item.invoice_number_type,"item[invoice_number_prefix]":t.item.invoice_number_prefix,"item[invoice_number_counter]":t.item.invoice_number_counter,"item[invoice_number_padding]":t.item.invoice_number_padding,"item[invoice_number_pattern]":t.item.invoice_number_pattern}).then(function(e){n(function(){t.is_saving=!1,t.Form.$setPristine()})})},t.logo_progress=0,t.logo_upload=function(e){if(e&&e.length)for(var i=0;i<e.length;i++){var o=e[i];o.$error||r.upload({url:a.ajaxurl,data:{action:"files_upload_img",file:o,folder:"photos/business"}}).then(function(e){n(function(){t.logo_progress=0,t.item.logo=e.data.url})},function(e){console.log("Error status:",e.status)},function(e){var n=parseInt(100*e.loaded/e.total);100==n&&(n=0),t.logo_progress=1,t.fake_progress()})}},t.fake_progress=function(){if(0!=t.logo_progress){var e=Math.floor(500*Math.random())+100;n(function(){0!=t.logo_progress&&(t.logo_progress++,t.logo_progress>100&&(t.logo_progress=1),t.logo_progress>0&&t.fake_progress())},e)}},t.$watch("item.logoPalette",function(e){e&&n(function(){console.log(e),e[0]&&(t.item.primary_color=e[0]),e[1]&&(t.item.secondary_color=e[1])})})}]),angular.module("app").controller("MailDesignerCtrl",["$rootScope","$scope","Upload","VARS","$timeout","Data","SWAL",function(e,t,n,i,a,o,r){var s=e.user.first_name+" "+e.user.last_name,l=(new Date).getFullYear();t.show_preview=!1;var c={logo:"",layout_width:"680px",borderradius:"3",bgcolor:"#ffffff",header:"0",header_bgcolor:"#eeeeee",header_color:"#222222",header_textalign:"center",header_textsize:"30",header_display:"text",header_content:s,body_bgcolor:"#ffffff",body_color:"#222222",body_textsize:"14",body_textalign:"left",footer:"0",footer_bgcolor:"#eeeeee",footer_color:"#222222",footer_textsize:"14",footer_textalign:"left",footer_content:"Copyright © "+l+" "+s+". All rights reserved",bottomfooter:"0",bottomfooter_color:"#222222",bottomfooter_textsize:"12",bottomfooter_textalign:"center",bottomfooter_content:"Copyright © "+l+". All rights reserved"};o.go("mailtemplate_get").then(function(e){""!==e.items?(t.item=angular.copy(e.items),t.initial_item=angular.copy(t.item)):(t.item=angular.copy(c),t.initial_item=angular.copy(c)),t.show_preview=!0}),t.revert_changes=function(){a(function(){t.item=angular.copy(t.initial_item),t.smtForm.$setPristine()})},t.save_form=function(){t.is_saving=!0,o.go("mailtemplate_save",{item:t.item}).then(function(e){a(function(){t.is_saving=!1,t.smtForm.$setPristine()},100)})},t.logo_progress=0,t.logo_upload=function(e){if(e&&e.length)for(var o=0;o<e.length;o++){var r=e[o];r.$error||n.upload({url:i.ajaxurl,data:{action:"files_upload_img",file:r,folder:"photos/mailtemplate"}}).then(function(e){a(function(){t.logo_progress=0,t.item.logo=e.data.url})},function(e){console.log("Error status:",e.status)},function(e){var n=parseInt(100*e.loaded/e.total);100==n&&(n=0),t.logo_progress=1,t.fake_progress()})}},t.fake_progress=function(){if(0!=t.logo_progress){var e=Math.floor(500*Math.random())+100;a(function(){0!=t.logo_progress&&(t.logo_progress++,t.logo_progress>100&&(t.logo_progress=1),t.logo_progress>0&&t.fake_progress())},e)}}}]),angular.module("app").controller("settingsMailTemplatesCtrl",["$rootScope","$scope","$timeout","Data","SWAL","Notify",function(e,t,n,i,a,o){t.loaded=!1,i.go("mailcontent_get").then(function(e){t.loaded=!0,""!==e.items&&(t.item=e.items)}),t.save=function(){t.is_saving=!0,i.go("mailcontent_save",{item:t.item}).then(function(e){"OK"!=e?a.error("Error Occured"):o.success("Saved"),n(function(){t.is_saving=!1,t.Form.$setPristine()},100)})}}]),angular.module("app").controller("productsCtrl",["$rootScope","$timeout","$scope","Data","SWAL",function(e,t,n,i,a){n.create=function(){if(n.FormSubmitted=!0,angular.forEach(n.Form.$error.required,function(e){e.$setDirty()}),n.Form.$valid){var t={};i.go("products_add",{name:n.new_name,icon:n.new_icon}).then(function(i){t.ID=i,t.name=n.new_name,t.icon=n.new_icon,e.$broadcast("product_assets_added",t),n.new_name="",n.FormSubmitted=!1})}},n.delete=function(t){a.confirm(function(){i.go("products_delete",{id:t.ID}).then(function(n){e.$broadcast("product_assets_deleted",t)})})},n.edit=function(e){e&&e.selected&&(e.editing=!0)},n.doneEditing=function(t,n){i.go("products_edit",{id:t.ID,name:t.name,icon:t.icon}),e.$broadcast("product_assets_changed",{item:t,index:n}),t.editing=!1},n.cancelEditing=function(e){e.editing=!1},n.select=function(t){angular.forEach(e.assets_products,function(e){e.selected=!1}),n.item=t,n.item.selected=!0}}]),angular.module("app").controller("ReferencesCtrl",["$rootScope","$timeout","$scope","Data","SWAL",function(e,t,n,i,a){n.create=function(){if(n.FormSubmitted=!0,angular.forEach(n.Form.$error.required,function(e){e.$setDirty()}),n.Form.$valid){var t={};i.go("references_add",{name:n.new_name}).then(function(i){t.ID=i,t.name=n.new_name,e.$broadcast("reference_assets_added",t),n.new_name="",n.FormSubmitted=!1})}},n.delete=function(t){a.confirm(function(){i.go("references_delete",{id:t.ID}).then(function(n){e.$broadcast("reference_assets_deleted",t)})})},n.edit=function(e){e&&e.selected&&(e.editing=!0)},n.doneEditing=function(t,n){i.go("references_edit",{id:t.ID,name:t.name}),e.$broadcast("reference_assets_changed",{item:t,index:n}),t.editing=!1},n.cancelEditing=function(e){e.editing=!1},n.select=function(t){angular.forEach(e.assets_references,function(e){e.selected=!1}),n.item=t,n.item.selected=!0}}]),angular.module("app").controller("taxratesCtrl",["$rootScope","$timeout","$scope","Data","SWAL",function(e,t,n,i,a){n.create=function(){if(n.FormSubmitted=!0,angular.forEach(n.Form.$error.required,function(e){e.$setDirty()}),n.Form.$valid){var t={};i.go("taxrates_add",{name:n.new_name,rate:n.new_rate}).then(function(i){t.ID=i,t.name=n.new_name,t.rate=n.new_rate,e.$broadcast("taxrates_assets_added",t),n.new_name="",n.new_rate="",n.FormSubmitted=!1})}},n.delete=function(t){a.confirm(function(){i.go("taxrates_delete",{id:t.ID}).then(function(n){e.$broadcast("taxrates_assets_deleted",t)})})},n.edit=function(e){
e&&e.selected&&(e.editing=!0)},n.doneEditing=function(t,n){i.go("taxrates_edit",{id:t.ID,name:t.name,rate:t.rate}),e.$broadcast("taxrates_assets_changed",{item:t,index:n}),t.editing=!1},n.cancelEditing=function(e){e.editing=!1},n.select=function(t){angular.forEach(e.assets_taxrates,function(e){e.selected=!1}),n.item=t,n.item.selected=!0}}]),angular.module("app").controller("UsersCtrl",["$rootScope","$timeout","$scope","Data","SWAL",function(e,t,n,i,a){n.items=[],n.selected=[],n.per_page=10,n.current_users_count=n.allowed_users_count=0,i.go("get_account_usage",{type:"users"}).then(function(e){n.current_users_count=parseInt(e.current_users_count),n.allowed_users_count=parseInt(e.allowed_users_count)}),n.fetch=function(e){n.isLoading=!0;var t=e.pagination,a=t.start||0,o=t.number||n.per_page,r=1+a/o,s=e.sort,l=s.predicate||"first_name",c=s.reverse||!1,d=e.search,u=d.predicateObject||"";i.go("users_get",{page:r,per_page:o,order_by:l,reverse:c,search:u}).then(function(t){n.isLoading=!1,n.selected=[],n.items=t.items,e.pagination.numberOfPages=t.total_pages})},n.delete=function(){a.confirm(function(){console.log("DEL",n.selected)})},n.type=function(e){return"1"==e.is_owner?'<span class="label label-success">Owner</span>':"1"==e.is_admin?'<span class="label label-primary">Admin</span>':"1"==e.is_broker?'<span class="label label-default">Broker</span>':"1"==e.is_accountant?'<span class="label label-info">Accountant</span>':'<span class="label label-danger">UNKNOWN</span>'}}]),angular.module("app").controller("settingVendorsCtrl",["$rootScope","$timeout","$scope","Data","SWAL",function(e,t,n,i,a){n.per_page=10,n.delete=function(t){a.confirm(function(){i.go("vendors_delete",{id:t.ID}).then(function(n){e.$broadcast("vendors_assets_deleted",t)})})}}]),angular.module("app").controller("ModalAccountingExpenseCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.item={date:moment().toDate(),expense_type:"other",bank_id:e.user.account.default_bank,payment_type:e.user.account.default_payment_type},t.submitted=!1,t.submit=function(){if(t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid){n.go("transaction_add",{type:"expense",bank_id:t.item.bank_id,date:e.date_to_mysql(t.item.date),amount:t.item.amount,expense_type:t.item.expense_type,broker_id:t.item.broker_id,company_id:t.item.company_id,vendor_id:t.item.vendor_id,expense_cat:t.item.expense_cat,payment_type:t.item.payment_type,reference:t.item.reference,notes:t.item.notes}).then(function(n){"ERROR"==n?e.SWAL.error("Error inserting transaction"):(e.Notify.success("Transaction added"),e.$broadcast("accounting-touched"),t.submitted=!0)})}},t.__new=function(){t.submitted=!1,t.FormSubmitted=!1,AutoFocus.init(),t.reset_autocomplete="YES",t.item={date:moment().toDate(),expense_type:"other"}}}]),angular.module("app").controller("ModalAccountingInvDeleteCtrl",["$rootScope","$scope","Data","VARS",function(e,t,n,i){t.img=i.url+"/assets/img/illustrations/delete.png",t.item={},0!==t.params?t.item=t.params:t.$close(),t.submit=function(){t.accept&&n.go("invoices_delete",{id:t.item.ID}).then(function(n){"OK"==n?(e.Notify.success("Invoice Deleted"),e.$broadcast("accounting-touched"),t.$dismiss()):e.SWAL.error("Error Occured","Something weird happened while deleting the invoice, kindly retry")})},t.do_credit=function(){e.SWAL.info("Credit Notes still not available","Stay tuned, we will update you shortly once this feature gets installed.")}}]),angular.module("app").controller("ModalInvoiceInstallmentsCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.item={number:"",dur_namber:"",dur:"",start:moment().toDate()},t.items=[],t.invoice=t.params,"1"==t.invoice.has_installments&&(t.is_fetching=!0,n.go("installments_get",{invoice_id:t.invoice.ID}).then(function(e){t.is_fetching=!1,t.ii=e.items})),t.numbers=[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],t.dur_numbers=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],t.durs=["days","weeks","months","years"],t.processed=!1,t.modify=function(){t.processed=!1},t.process=function(){t.items=[];for(var n,a=parseFloat(t.invoice.balance),o=parseInt(t.item.number),r=parseInt(t.item.dur_number),s=t.item.dur,l=parseFloat(a/o),c=1;c<=o;c++){n=1==c?moment(t.item.start).toDate():moment(n).add(r,s).toDate();var d={name:c+"/"+o,amount:l,due_date:n,due_date_ms:e.date_to_mysql(n)};t.items.push(d)}i(function(){t.processed=!0})},t.submit=function(){t.is_saving=!0,n.go("installments_add",{invoice_id:t.invoice.ID,items:t.items}).then(function(n){t.is_saving=!1,"OK"==n?(e.Notify.success("Installments added for "+t.invoice.invoice_number),e.$broadcast("accounting-touched"),t.$dismiss()):e.SWAL.error("Error Occured",n)})}}]),angular.module("app").controller("ModalAccountingNoEditCtrl",["$scope","VARS",function(e,t){e.img=t.url+"/assets/img/illustrations/no-edit.png"}]),angular.module("app").controller("ModalAccountingInvPrintCtrl",["$scope","VARS",function(e,t){e.img=t.url+"/assets/img/illustrations/printer.png",e.link=e.params.invoice_url}]),angular.module("app").controller("ModalInvoiceSendCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.invoice=t.params,t.loaded=!1,n.go("invoices_pre_send",{id:t.invoice.ID}).then(function(e){t.loaded=!0,t.item={attachpdf:!0,email:e.email,subject:e.subject,message:e.message}}),t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("invoices_send",{invoice_id:t.invoice.ID,to:t.item.email,subject:t.item.subject,message:t.item.message,attachpdf:t.item.attachpdf}).then(function(n){t.is_saving=!1,"OK"==n?(e.Notify.success("Invoice Sent"),e.$broadcast("accounting-touched"),t.$dismiss()):e.SWAL.error("Error sending invoice",n)}))}}]),angular.module("app").controller("ModalAccountingInvoiceCtrl",["$rootScope","$scope","$filter","Data","$timeout","AutoFocus",function(e,t,n,i,a,o){o.init(),t.item={date:moment().toDate(),due_date:moment().add(3,"months").toDate(),currencySymbol:"$",default_tax:e.user.account.default_invoice_tax,terms:e.user.account.default_invoice_terms},t.policies=t.item.line_items=[],t.taxrates=e.assets_taxrates,t.get_invoice_number=function(){i.go("invoices_get_next_number").then(function(e){t.item.invoice_number=e})},t.get_policies=function(e,a){i.go("policies_by_client",{id:e}).then(function(e){if(t.policies=e.items,a){var i=n("filter")(t.policies,{ID:a})[0];i&&t.add_policy_item(i)}})},t.params.invoice_id>0&&"edit"==t.params.action&&(t.is_editing=!0,t.is_loading=!0,i.go("invoices_by_id",{id:t.params.invoice_id}).then(function(e){e.items.transactions_count&&parseInt(e.items.transactions_count)>0&&t.$dismiss(),t.is_loading=!1,t.item.invoice_id=e.items.ID,t.item.invoice_number=e.items.invoice_number,t.get_policies(e.items.client_id),t.item.client_id=e.items.client_id,t.item.client_name=e.items.client_name,t.item.date=moment.unix(e.items.date).toDate(),t.item.due_date=moment.unix(e.items.due_date).toDate(),t.item.line_items=e.items.line_items,a(function(){t.calc_taxes()},100)})),t.params.client_id>0&&"new"==t.params.action&&(t.get_invoice_number(),t.get_policies(t.params.client_id,t.params.policy_id),t.item.client_id=t.params.client_id,t.item.client_name=t.params.client_name,t.selected_policy=t.params.policy_id),t.$watch("client_selected",function(e){e&&a(function(){t.get_invoice_number(),t.get_policies(e.row.ID),t.item.client_id=e.row.ID,t.item.client_name=e.row.name})}),t.calc_line_total=function(e){var i=parseFloat(e.qty)||1,a=parseFloat(e.discount)||0,o=parseInt(e.tax_id)||0,r=!!o&&n("filter")(t.taxrates,{ID:o})[0],s=parseFloat(e.amount)||0,l=parseFloat(i*s),c=a?l*a/100:0,d=r?l*parseFloat(r.rate)/100:0,u=l+d-c;return r?(e.tax_name=r.name,e.tax_rate=r.rate):e.tax_name=e.tax_rate=e.tax_id="",e.subtotal=l,e.total=u,u},t.calc_subtotal=function(){var e=0;return angular.forEach(t.item.line_items,function(t,n){if(t.amount){var i=t.qty||1;e+=parseFloat(i*t.amount)}}),t.item.subtotal=e,e},t.calc_total=function(){var e=0;return angular.forEach(t.item.line_items,function(n,i){if(n.amount){n.qty||1;e+=parseFloat(t.calc_line_total(n))}}),t.item.total=e,e},t.calc_discount=function(){var e=0;return angular.forEach(t.item.line_items,function(t,n){if(t.amount){var i=t.qty||1,a=parseFloat(i*t.amount),o=parseFloat(t.discount)||0;o&&(e+=a*o/100)}}),t.item.discount=e,e},t.item.taxes=[],t.calc_taxes=function(){a(function(){var e=[];angular.forEach(t.item.line_items,function(i,a){if(i.amount){var o=i.qty||1,r=parseInt(i.tax_id)||0,s=!!r&&n("filter")(t.taxrates,{ID:r})[0],l=parseFloat(o*i.amount);if(s){var c=l*parseFloat(s.rate)/100,d={name:s.name,amount:c,rate:s.rate},u=!1;for(var p in e)if(e[p].name==s.name){e[p].amount+=c,u=!0;break}u===!1&&e.push(d)}}}),t.item.taxes=e})},t.add_blank_item=function(){t.item.line_items.push({policy_id:0,qty:1})},t.set_policy_used=function(e,i){var a=n("filter")(t.policies,{ID:e})[0];a.used=i},t.add_policy_item=function(e){t.set_policy_used(e.ID,!0),t.item.line_items.push({policy_id:e.ID,name:e.name,date_effective:e.date_effective,date_expiry:e.date_expiry,qty:1,amount:e.amount})},t.is_blank=function(e){return!(e&&parseInt(e.policy_id)&&parseInt(e.policy_id)>0)},t.cdue=function(e,n){0==e?t.item.due_date=moment().toDate():t.item.due_date=moment().add(e,n).toDate()},t.submitted=!1,t.submit=function(){a(function(){if(t.item.due_date.getTime()<t.item.date.getTime())return e.Notify.error("Due date must be greater than Invoice date"),!1;t.is_saving=!0;var n=t.is_editing?"invoices_edit":"invoices_add",a=t.is_editing?t.item.invoice_id:"";i.go(n,{id:a,client_id:t.item.client_id,client_name:t.item.client_name,date:e.date_to_mysql(t.item.date),due_date:e.date_to_mysql(t.item.due_date),taxes:t.item.taxes,discount:t.item.discount,subtotal:t.item.subtotal,total:t.item.total,terms:t.item.terms,line_items:t.item.line_items}).then(function(n){e.Notify.success("Invoice Processed"),t.is_saving=!1,e.$broadcast("accounting-touched"),t.submitted=!0})})},t.deleteItem=function(n){e.SWAL.confirm(function(){t.set_policy_used(n.policy_id,!1),t.item.line_items.splice(t.item.line_items.indexOf(n),1),t.calc_taxes()})},t.__new=function(){a(function(){t.submitted=!1,t.FormSubmitted=!1,t.reset_autocomplete="YES",o.init(),t.item={date:moment().toDate(),due_date:moment().add(3,"months").toDate(),currencySymbol:"$"},t.policies=t.item.line_items=[]})}}]),angular.module("app").controller("ModalAccountingPaymentCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus","$filter",function(e,t,n,i,a,o){a.init(),t.item={date:moment().toDate(),bank_id:e.user.account.default_bank,payment_type:e.user.account.default_payment_type},t.get_installments=function(e){t.loading_installments=!0,n.go("installments_get",{invoice_id:e}).then(function(e){t.loading_installments=!1,t.item.installments=e.items})},t.$watch("item.installment",function(e){if(e){var n=o("filter")(t.item.installments,{ID:e})[0].amount;t.item.amount=n}}),0!=t.params&&i(function(){t.item.invoice_id=t.params.ID,t.item.invoice_number=t.params.invoice_number,t.item.client_id=t.params.client_id,t.item.client_name=t.params.client_name,t.item.balance=t.params.balance,t.item.has_installments=t.params.has_installments,"1"==t.item.has_installments?t.get_installments(t.item.invoice_id):t.item.amount=t.params.balance}),t.$watch("invoice_selected",function(e){e&&i(function(){t.item.invoice_id=e.row.ID,t.item.invoice_number=e.row.invoice_number,t.item.client_id=e.row.client_id,t.item.client_name=e.row.client_name,t.item.balance=e.row.balance,t.item.has_installments=e.row.has_installments,"1"==t.item.has_installments?t.get_installments(t.item.invoice_id):t.item.amount=e.row.balance})}),t.submitted=!1,t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("transaction_add",{type:"income",bank_id:t.item.bank_id,date:e.date_to_mysql(t.item.date),amount:t.item.amount,payment_type:t.item.payment_type,invoice_id:t.item.invoice_id,client_id:t.item.client_id,reference:t.item.reference,installment:t.item.installment}).then(function(n){t.is_saving=!1,"OK"==n?(e.Notify.success("Transaction Processed"),e.$broadcast("accounting-touched"),t.submitted=!0):e.Notify.error("Error inserting transaction")}))},t.__new=function(){t.submitted=!1,t.FormSubmitted=!1,a.init(),t.reset_autocomplete="YES",t.item={date:moment().toDate()}}}]),angular.module("app").controller("ModalTransactionInfoCtrl",["$rootScope","$scope",function(e,t){t.item={},0!==t.params?t.item=t.params:t.$close()}]),angular.module("app").controller("ModalAccountingTransferCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.item={date:moment().toDate()},t.submitted=!1,t.submit=function(){if(t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid){t.is_saving=!0;n.go("transfer_add",{from_bank:t.item.from_bank,to_bank:t.item.to_bank,date:e.date_to_mysql(t.item.date),amount:t.item.amount,reference:t.item.reference,notes:t.item.notes}).then(function(n){t.is_saving=!1,"OK"==n?(e.Notify.success("Transfer Processed"),e.$broadcast("accounting-touched"),t.submitted=!0):e.SWAL.error("Error inserting transfer",n)})}},t.__new=function(){t.submitted=!1,t.FormSubmitted=!1,a.init(),t.reset_autocomplete="YES",t.item={date:moment().toDate()}}}]),angular.module("app").controller("ModalsClaimsCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus","Upload","$filter","VARS",function(e,t,n,i,a,o,r,s){a.init(),t.item=t.params.item,t.is_new=t.params.is_new,t.$watch("item.policy_selected",function(e){e&&i(function(){t.item.policy_id=e.row.ID,t.item.policy_id_revert=e.row.ID,t.item.policy_name=e.row.name,t.item.client_id=e.row.client_id,t.item.client_name=e.row.client_name})}),t.createItem=function(n){var i={ID:0,user_id:e.user.id,ref_id:"",client_id:"",client_name:"",status:"1",loss_amount_currency:"1",deductable_amount_currency:"1",date_loss:moment().toDate(),date_submit_broker:moment().toDate()};n&&(i.policy_id=n.ID||"",i.policy_id_revert=n.ID||"",i.policy_name=n.name||"",i.client_id=n.client_id||"",i.client_name=n.client_name||""),e.claims.push(i),t.item=i,a.init()},t.is_new?t.createItem():t.init_item=angular.copy(t.item),t.close=function(){i(function(){if(t.is_new){var n=r("filter")(e.claims,{ID:0},!0)[0];void 0!==n&&e.claims.splice(e.claims.indexOf(n),1)}else{var n=r("filter")(e.claims,{ID:t.item.ID},!0)[0],i=e.claims.indexOf(n);e.claims[i]=t.init_item,e.$broadcast("claims_select",e.claims[i])}t.$dismiss()})},t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("claims_handle",{id:t.item.ID,user_id:t.item.user_id||e.user.id,name:t.item.name,client_id:t.item.client_id,client_name:t.item.client_name,policy_id:t.item.policy_id,policy_name:t.item.policy_name,status:t.item.status,ref_id:t.item.ref_id,loss_location:t.item.loss_location,loss_amount:t.item.loss_amount,loss_amount_currency:t.item.loss_amount_currency,deductable_amount:t.item.deductable_amount,deductable_amount_currency:t.item.deductable_amount_currency,insurer_name:t.item.insurer_name,insurer_email:t.item.insurer_email,insurer_phone:t.item.insurer_phone,loss_description:t.item.loss_description,incident_circumstances:t.item.incident_circumstances,claim_info:t.item.claim_info,date_loss:e.date_to_mysql(t.item.date_loss),date_submit_broker:e.date_to_mysql(t.item.date_submit_broker),date_submit_insurer:e.date_to_mysql(t.item.date_submit_insurer),date_settlement:e.date_to_mysql(t.item.date_settlement),notes:t.item.notes}).then(function(n){"OK"==n||(t.item.ID=n),e.$broadcast("claims_select",t.item),t.$dismiss()}))}}]),angular.module("app").controller("ModalsClaimsSettlementCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.item=t.params.item,t.payments=[],t.add_payment=function(){t.paymnets.push({payment_type:"100",amount:"0.00",date:moment().toDate(),reference:""})}}]),angular.module("app").controller("ModalsClientsSOACtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.item=t.params.item,t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("SOA",{id:t.item.ID}).then(function(n){t.is_saving=!1,"OK"==n?(e.Notify.success("SOA Generated for: "+t.item.name),t.generated=!0):e.SWAL.error("Error occured",n)}))}}]),angular.module("app").controller("ModalsClientsLossRatioCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.item=t.params.item,t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("leads_convert",{id:t.item.ID,group:t.group}).then(function(n){t.is_saving=!1,"OK"==n?(e.Notify.success(t.item.name+" Converted to client"),t.converted=!0):e.SWAL.error("Error occured",n)}))}}]),angular.module("app").controller("ModalsClientsCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus","Upload","$filter","VARS",function(e,t,n,i,a,o,r,s){a.init(),t.item=t.params.item,t.is_new=t.params.is_new,t.createItem=function(){t.scene="details";var n={ID:0,user_id:e.user.id,group:"",reference:"",avatar:"",type:"individual",date_created:(new Date).getTime()};e.clients.push(n),t.item=n,a.init()},t.is_new?t.createItem():t.init_item=angular.copy(t.item),t.close=function(){i(function(){if(t.is_new){var n=r("filter")(e.clients,{ID:0},!0)[0];void 0!==n&&e.clients.splice(e.clients.indexOf(n),1)}else{var n=r("filter")(e.clients,{ID:t.item.ID},!0)[0],i=e.clients.indexOf(n);e.clients[i]=t.init_item,e.$broadcast("clients_select",e.clients[i])}t.$dismiss()})},t.avatar_progress=0,t.avatar_upload=function(e,n){if(t.errFiles=n,e&&e.length)for(var a=0;a<e.length;a++){var r=e[a];r.$error||o.upload({url:s.ajaxurl,data:{action:"files_upload_img",file:r,folder:"photos/clients"}}).then(function(e){i(function(){t.avatar_progress=0,t.item.avatar=e.data.resized})},function(e){console.log("Error status:",e.status)},function(e){var n=parseInt(100*e.loaded/e.total);100==n&&(n=0),t.avatar_progress=1,t.fake_progress()})}},t.fake_progress=function(){if(0!=t.avatar_progress){var e=Math.floor(500*Math.random())+100;i(function(){0!=t.avatar_progress&&(t.avatar_progress++,t.avatar_progress>100&&(t.avatar_progress=1),t.avatar_progress>0&&t.fake_progress())},e)}},t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("clients_handle",{id:t.item.ID,user_id:t.item.user_id||e.user.id,group:t.item.group,reference:t.item.reference,avatar:t.item.avatar,first_name:t.item.first_name,last_name:t.item.last_name,email:t.item.email,mobile:t.item.mobile,phone_home:t.item.phone_home,phone_work:t.item.phone_work,company:t.item.company,gender:t.item.gender,dob:t.item.dob,address1:t.item.address1,address2:t.item.address2,city:t.item.city,state:t.item.state,pobox:t.item.pobox,country:t.item.country,lat:t.item.lat,lng:t.item.lng,notes:t.item.notes}).then(function(n){"OK"==n?void 0!=t.avatar_preview&&(t.item.avatar=t.avatar_preview):t.item.ID=n,e.$broadcast("clients_select",t.item),t.$dismiss()}))}}]),angular.module("app").controller("ModalConvertToClientCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.item=t.params.item,t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("leads_convert",{id:t.item.ID,group:t.group}).then(function(n){t.is_saving=!1,"OK"==n?(e.Notify.success(t.item.name+" Converted to client"),t.converted=!0):e.SWAL.error("Error occured",n)}))}}]),angular.module("app").controller("ModalEmailBriefcaseCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.files=t.params.files,t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("briefcase_email",{to:t.email,subject:t.subject,message:t.message,files:t.files}).then(function(n){t.is_saving=!1,"OK"==n?(e.Notify.success("Email Sent"),t.$dismiss()):e.SWAL.error("Error sending email",n)}))}}]),angular.module("app").controller("ModalEmailFilesCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.files=t.params.files,t.obj=t.params.obj,t.obj_id=t.params.obj_id,n.go("get_obj_info",{obj:t.obj,obj_id:t.obj_id}).then(function(e){t.name=e.name,t.email=e.email,t.mobile=e.mobile}),t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("files_email",{to:t.email,subject:t.subject,message:t.message,files:t.files}).then(function(n){t.is_saving=!1,"OK"==n?(e.Notify.success("Email Sent"),t.$dismiss()):e.SWAL.error("Error sending email",n)}))}}]),angular.module("app").controller("ModalEmailNewCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.email=t.params.email,t.name=t.params.name,t.message=t.params.msg,t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("mail_send",{to:t.email,subject:t.subject,message:t.message}).then(function(n){t.is_saving=!1,"OK"==n?(e.Notify.success("Email sent"),t.$dismiss()):e.SWAL.error("Error sending email",n)}))}}]),angular.module("app").controller("ModalGMapCtrl",["$rootScope","$scope","Data","$timeout","$window","VARS","NgMap","$interval",function(e,t,n,i,a,o,r,s){t.item=t.params.item,t.item.position_search="",r.getMap({id:"mainmap"}).then(function(e){t.map=e,i(function(){google.maps.event.trigger(t.map,"resize"),t.get_loc()},100),t.marker=new google.maps.Marker({draggable:!0,map:t.map,animation:"DROP"}),google.maps.event.addListener(t.marker,"dragend",function(e){t.item.lat=e.latLng.lat(),t.item.lng=e.latLng.lng(),t.get_loc()}),t.$watch("item.lat",function(){t.get_loc()}),t.$watch("item.lng",function(){t.get_loc()}),t.$watch("item.position_search",function(){t.get_loc_pos_watcher()}),t.get_loc()}),t.get_loc=function(){t.item.lat&&t.item.lng?(t.item.position=[t.item.lat,t.item.lng],i(function(){t.set_marker_pos(t.item.lat,t.item.lng)})):t.get_loc_pos("Beirut, Lebanon")},t.get_loc_pos=function(e){var n=new google.maps.Geocoder;e.length>2&&n.geocode({address:e},function(e,n){"OK"===n&&(t.item.lat=e[0].geometry.location.lat().toPrecision(8),t.item.lng=e[0].geometry.location.lng().toPrecision(8),t.get_loc())})},t.get_loc_pos_watcher=function(){return t.get_loc_pos(t.item.position_search)},t.map_link=function(){return a.encodeURIComponent("https://maps.google.com/?q="+t.item.lat+","+t.item.lng)},t.getCurrentPos=function(){var n={enableHighAccuracy:!0},i=angular.element("#locateme");i.addClass("blink"),navigator.geolocation.getCurrentPosition(function(e){i.removeClass("blink"),t.item.lat=e.coords.latitude.toPrecision(8),t.item.lng=e.coords.longitude.toPrecision(8),t.item.position=[t.item.lat,t.item.lng],t.get_loc()},function(t){i.removeClass("blink"),e.SWAL.error("Unable to get location",t.message)},n)},t.set_marker_pos=function(e,n){if(e.length&&n.length){var i=new google.maps.LatLng(parseFloat(e),parseFloat(n));t.marker.setPosition(i),t.map.panTo(i)}},t.click=function(e){var n=e.latLng.lat().toPrecision(8),i=e.latLng.lng().toPrecision(8);t.item.lat=n,t.item.lng=i,t.set_marker_pos(n,i)},t.submit=function(){t.$dismiss()}}]),angular.module("app").controller("ModalsLeadsCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus","Upload","$filter","VARS",function(e,t,n,i,a,o,r,s){a.init(),t.item=t.params.item,t.is_new=t.params.is_new,t.createItem=function(){t.scene="details";var n={ID:0,user_id:e.user.id,group:"1",avatar:"",interest_company:"",interest_product:"",media_type:"",reference:"",type:"individual",date_created:(new Date).getTime()};e.leads.push(n),t.item=n,a.init()},t.is_new?t.createItem():t.init_item=angular.copy(t.item),t.close=function(){i(function(){if(t.is_new){var n=r("filter")(e.leads,{ID:0},!0)[0];void 0!==n&&e.leads.splice(e.leads.indexOf(n),1)}else{var n=r("filter")(e.leads,{ID:t.item.ID},!0)[0],i=e.leads.indexOf(n);e.leads[i]=t.init_item,e.$broadcast("leads_select",e.leads[i])}t.$dismiss()})},t.avatar_progress=0,t.avatar_upload=function(e,n){if(t.errFiles=n,e&&e.length)for(var a=0;a<e.length;a++){var r=e[a];r.$error||o.upload({url:s.ajaxurl,data:{action:"files_upload_img",file:r,folder:"photos/leads"}}).then(function(e){i(function(){t.avatar_progress=0,t.item.avatar=e.data.resized})},function(e){console.log("Error status:",e.status)},function(e){var n=parseInt(100*e.loaded/e.total);100==n&&(n=0),t.avatar_progress=1,t.fake_progress()})}},t.fake_progress=function(){if(0!=t.avatar_progress){var e=Math.floor(500*Math.random())+100;i(function(){0!=t.avatar_progress&&(t.avatar_progress++,t.avatar_progress>100&&(t.avatar_progress=1),t.avatar_progress>0&&t.fake_progress())},e)}},t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("leads_handle",{id:t.item.ID,user_id:t.item.user_id||e.user.id,group:t.item.group,interest_company:t.item.interest_company,interest_product:t.item.interest_product,media_type:t.item.media_type,reference:t.item.reference,avatar:t.item.avatar,first_name:t.item.first_name,last_name:t.item.last_name,email:t.item.email,mobile:t.item.mobile,phone_home:t.item.phone_home,phone_work:t.item.phone_work,company:t.item.company,gender:t.item.gender,dob:t.item.dob,address1:t.item.address1,address2:t.item.address2,city:t.item.city,state:t.item.state,pobox:t.item.pobox,country:t.item.country,lat:t.item.lat,lng:t.item.lng,notes:t.item.notes}).then(function(n){"OK"==n?void 0!=t.avatar_preview&&(t.item.avatar=t.avatar_preview):t.item.ID=n,e.$broadcast("leads_select",t.item),t.$dismiss()}))}}]),angular.module("app").controller("ModalClientsGroupCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.submit=function(){if(t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid){var i={},a={name:t.name},o=t.checkItem(a,e.assets_groups,"name");n.go("clients_groups_add",{name:o}).then(function(n){i.ID=n,i.name=o,e.$broadcast("clients_group_assets_added",i),t.$dismiss()})}},t.checkItem=function(e,t,n){var i=0;return angular.forEach(t,function(t){if(0==t[n].indexOf(e[n])){var a=t[n].replace(e[n],"").trim();i=a?Math.max(i,parseInt(a)+1):1}}),e[n]+(i?" "+i:"")}}]),angular.module("app").controller("ModalClientsCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init();t.submit=function(){if(t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid){n.go("clients_handle",{id:0,group:t.item.group,reference:t.item.reference,team:t.item.team,avatar:t.item.avatar,first_name:t.item.first_name,last_name:t.item.last_name,email:t.item.email,mobile:t.item.mobile,phone_home:t.item.phone_home,phone_work:t.item.phone_work,company:t.item.company,gender:t.item.gender,dob:t.item.dob,address1:t.item.address1,address2:t.item.address2,city:t.item.city,state:t.item.state,pobox:t.item.pobox,country:t.item.country,lat:t.item.lat,lng:t.item.lng,notes:t.item.notes}).then(function(n){t.item.ID=n,e.Notify.success("Client Created"),e.$broadcast("client_added",t.item),t.$dismiss()})}}}]),angular.module("app").controller("ModalCompanyCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.submit=function(){if(t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid){var i={};n.go("companies_add",{name:t.name}).then(function(n){i.ID=n,i.name=t.name,e.$broadcast("company_assets_added",i),e.Notify.success("Company Created"),t.$dismiss()})}}}]),angular.module("app").controller("ModalProductCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.submit=function(){if(t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid){var i={};n.go("products_add",{name:t.name,icon:t.icon}).then(function(n){i.ID=n,i.name=t.name,i.icon=t.icon,e.$broadcast("product_assets_added",i),e.Notify.success("Product Added"),t.$dismiss()})}}}]),angular.module("app").controller("ModalReferenceCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.submit=function(){if(t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid){var i={};n.go("references_add",{name:t.name}).then(function(n){i.ID=n,i.name=t.name,i.icon=t.icon,e.$broadcast("reference_assets_added",i),t.$dismiss()})}}}]),angular.module("app").controller("ModalsPoliciesCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus","Upload","$filter","VARS",function(e,t,n,i,a,o,r,s){a.init(),t.item=t.params.item,t.is_new=t.params.is_new,t.data=t.params.data,t.$watch("item.client_selected",function(e){e&&i(function(){t.item.client_id=e.row.ID,t.item.client_id_revert=e.row.ID,t.item.client_name=e.row.name,t.item.team=e.row.team,t.item.reference=e.row.reference})}),e.$on("client_added",function(e,n){t.item.client_id=n.ID,t.item.client_id_revert=n.ID,t.item.client_name=n.first_name+" "+n.last_name,t.item.team=n.team,t.item.reference=n.reference}),t.calc_comm=function(){"f"==t.item.commission_type?t.item.commission_total=parseFloat(t.item.commission):t.item.commission_total=parseFloat(t.item.amount)*parseFloat(t.item.commission)/100,""==t.item.user_id?(t.item.team_commission=0,t.item.team_commission_total=parseFloat(0)):"f"==t.item.team_commission_type?t.item.team_commission_total=parseFloat(t.item.team_commission):t.item.team_commission_total=parseFloat(t.item.amount)*parseFloat(t.item.team_commission)/100,t.item.company_total=parseFloat(t.item.amount-(t.item.commission_total+t.item.team_commission_total))},t.watch_comm=function(){t.$watchGroup(["item.user_id","item.amount","item.commission","item.commission_type","item.team_commission","item.team_commission_type"],function(){t.calc_comm()})},t.createItem=function(n){var i=moment().toDate(),o=moment().add(1,"years").toDate(),r={ID:0,user_id:e.user.id,client_id:"",client_name:"",company:"",product:"",reference:"",currency:"USD",commission_type:"p",team_commission_type:"p",team_commission:0,is_vehicle:"0",vehicle_code:"",vehicle_type:"1",date_issued:i,date_effective:i,date_expiry:o};n&&(r.client_id=n.ID||"",r.client_id_revert=n.ID||"",r.client_name=n.name||"",r.team=n.team||"",r.reference=n.reference||""),e.policies.push(r),t.item=r,a.init()},t.watch_comm(),t.is_new?t.createItem(t.data):t.init_item=angular.copy(t.item),t.close=function(){i(function(){if(t.is_new){var n=r("filter")(e.policies,{ID:0},!0)[0];void 0!==n&&e.policies.splice(e.policies.indexOf(n),1)}else{var n=r("filter")(e.policies,{ID:t.item.ID},!0)[0],i=e.policies.indexOf(n);e.policies[i]=t.init_item,e.$broadcast("policies_select",e.policies[i])}t.$dismiss()})},t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("policies_handle",{id:t.item.ID,user_id:t.item.user_id||e.user.id,name:t.item.name,client_id:t.item.client_id,client_name:t.item.client_name,company:t.item.company,product:t.item.product,reference:t.item.reference,currency:t.item.currency,amount:t.item.amount,commission:t.item.commission,commission_type:t.item.commission_type,commission_total:t.item.commission_total,team_commission:t.item.team_commission,team_commission_type:t.item.team_commission_type,team_commission_total:t.item.team_commission_total,company_total:t.item.company_total,is_vehicle:t.item.is_vehicle,vehicle_code:t.item.vehicle_code,platenumber:t.item.platenumber,vehicle_type:t.item.vehicle_type,horseid:t.item.horseid,yearid:t.item.yearid,date_issued:e.date_to_mysql(t.item.date_issued),
date_effective:e.date_to_mysql(t.item.date_effective),date_expiry:e.date_to_mysql(t.item.date_expiry),notes:t.item.notes}).then(function(n){"OK"==n||(t.item.ID=n),e.$broadcast("policies_select",t.item),t.$dismiss()}))}}]),angular.module("app").controller("ModalSmsNewCtrl",["$rootScope","$scope","Data","$timeout","Notify","AutoFocus",function(e,t,n,i,a,o){o.init(),t.mobile=t.params.mobile,t.name=t.params.name,t.message=t.params.msg,t.balance=0,t.balance_loaded=!1,n.go("sms_balance").then(function(e){t.balance_loaded=!0,t.balance=e}),t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("sms_send",{to:t.mobile,message:t.message}).then(function(e){t.is_saving=!1,"OK"==e?(a.success("SMS sent"),t.$dismiss()):a.error("Error sending SMS",e)}))}}]),angular.module("app").controller("ModalUpgradeCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){}]),angular.module("app").controller("ModalSettingsBankCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.params.id?(t.is_editing=!0,t.header_text="Edit",t.save_btn="Save",t.item=t.params.id):(t.is_editing=!1,t.header_text="Create",t.save_btn="Add",t.item={type:"cash"}),t.submit=function(){if(t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid){t.is_saving=!0;var a,o={name:t.item.name,type:t.item.type,description:t.item.description,account_number:t.item.account_number,contact_person:t.item.contact_person,contact_phone:t.item.contact_phone};t.is_editing?(o.id=t.item.ID,a="banks_edit"):(o.balance=t.item.balance,a="banks_add"),n.go(a,o).then(function(n){i(function(){t.is_editing?e.$broadcast("banks_assets_changed",o):(o.ID=n,e.$broadcast("banks_assets_added",o)),e.Notify.success("Bank Processed"),t.$dismiss(),t.is_saving=!1,t.Form.$setPristine()})})}}}]),angular.module("app").controller("ModalSettingsUserDeleteCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.params.obj?(t.item=t.params.obj,t.item.user_pass="",t.item.del_type=""):t.$dismiss(),t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("users_delete",{id:t.item.ID,del_type:t.item.del_type,new_user:t.item.new_user}).then(function(n){i(function(){"OK"==n?(e.Notify.success("User Deleted"),e.$broadcast("team_assets_deleted",t.item),e.$broadcast("users_updated"),t.$dismiss()):e.SWAL.error("Error Occured",n),t.is_saving=!1,t.Form.$setPristine()})}))}}]),angular.module("app").controller("ModalSettingsUserPassCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.params.obj?(t.item=t.params.obj,t.item.user_pass=""):t.$dismiss(),t.submit=function(){t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid&&(t.is_saving=!0,n.go("users_pass",{id:t.item.ID,user_pass:t.item.user_pass,user_pass2:t.item.user_pass2}).then(function(n){i(function(){"OK"==n?(e.Notify.success("Password changed"),t.$dismiss()):e.SWAL.error("Error Occured",n),t.is_saving=!1,t.Form.$setPristine()})}))}}]),angular.module("app").controller("ModalSettingsUserCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.can_add=!0,t.loaded=!1,t.current_users_count=t.allowed_users_count=0,t.check=function(){n.go("get_account_usage",{type:"users"}).then(function(e){t.loaded=!0,t.current_users_count=parseInt(e.current_users_count),t.allowed_users_count=parseInt(e.allowed_users_count),t.current_users_count>=t.allowed_users_count&&(t.can_add=!1)})},t.check(),e.$on("team_assets_added",function(){t.check()}),t.params.obj?(t.is_editing=!0,t.header_text="Edit",t.save_btn="Save",t.item=t.params.obj,"1"==t.item.is_admin?t.item.permtype="admin":"1"==t.item.is_broker?t.item.permtype="broker":"1"==t.item.is_accountant&&(t.item.permtype="accountant"),t.item.can_view_briefcase="1"==t.item.can_view_briefcase,t.item.can_upload_briefcase="1"==t.item.can_upload_briefcase):(t.is_editing=!1,t.header_text="Create",t.save_btn="Add",t.item={permtype:"broker"}),t.submit=function(){if(t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid){t.is_saving=!0;var a,o={first_name:t.item.first_name,last_name:t.item.last_name,user_phone:t.item.user_phone,user_email:t.item.user_email,user_pass:t.item.user_pass,is_admin:"admin"==t.item.permtype?1:0,is_broker:"broker"==t.item.permtype?1:0,is_accountant:"accountant"==t.item.permtype?1:0,can_view_briefcase:t.item.can_view_briefcase===!0?1:0,can_upload_briefcase:t.item.can_upload_briefcase===!0?1:0};t.is_editing?(a="users_edit",o.id=t.item.ID):(a="users_add",o.user_pass=t.item.user_pass),n.go(a,o).then(function(n){i(function(){"OK"==n?(t.is_editing?e.$broadcast("team_assets_changed",t.item):e.$broadcast("team_assets_added",t.item),e.Notify.success("User Created"),e.$broadcast("users_updated"),t.$dismiss()):e.SWAL.error("Error Occured",n),t.is_saving=!1,t.Form.$setPristine()})})}}}]),angular.module("app").controller("ModalSettingsVendorCtrl",["$rootScope","$scope","Data","$timeout","AutoFocus",function(e,t,n,i,a){a.init(),t.params.id?(t.is_editing=!0,t.header_text="Edit",t.save_btn="Save",t.item=t.params.id):(t.is_editing=!1,t.header_text="Create",t.save_btn="Add",t.item={}),t.submit=function(){if(t.FormSubmitted=!0,angular.forEach(t.Form.$error.required,function(e){e.$setDirty()}),t.Form.$valid){t.is_saving=!0;var a,o={name:t.item.name,email:t.item.email,phone:t.item.phone,address1:t.item.address1,address2:t.item.address2,city:t.item.city,state:t.item.state,pobox:t.item.pobox,country:t.item.country,notes:t.item.notes};t.is_editing?(o.id=t.item.ID,a="vendors_edit"):a="vendors_add",n.go(a,o).then(function(n){i(function(){t.is_editing?e.$broadcast("vendors_assets_changed",o):(o.ID=n,e.$broadcast("vendors_assets_added",o)),e.Notify.success("Vendor Processed"),t.$dismiss(),t.is_saving=!1,t.Form.$setPristine()})})}}}]),angular.module("app").filter("myFormat",["$filter",function(e){return function(t,n){var i=[];for(var a in t)t[a].currency!=n&&i.push(t[a]);return i=e("orderBy")(i,"currency")}}]),angular.module("app").controller("ModalCurrencyCtrl",["$scope","$http","$timeout","$filter","AutoFocus","Notify",function(e,t,n,i,a,o){a.init(),e.curl=window.vars.url+"/assets/currency/latest.json",e.parsedList=[],e.cmap=window.vars.url+"/assets/currency/currencies.json",e.map=[],e.selectedCur="USD",e.onCopy=function(){o.warning("Copied to clipboard")},e.loadData=function(){t({method:"GET",url:e.cmap}).then(function(n){e.map=n.data,t({method:"GET",url:e.curl}).then(function(t){e.currencyData=t.data,e.parseData()},function(t){console.log("ERROR STATUS = "+t.statusText),$timout(function(){e.loadData()},5e3)})})},e.parseData=function(){e.currencyData.rates.USD=1,fx.rates=e.currencyData.rates;for(var t in e.currencyData.rates)if(t){var n=e.currencyData.rates[t],a={rate:n,currency:t,name:e.map[t]};e.parsedList.push(a)}e.parsedList=i("orderBy")(e.parsedList,"currency")},e.currencyChanged=function(t,n){if(null!=n&&null!=t){e.currencyList=[];for(var i=0;i<e.parsedList.length;i++){var a=e.parsedList[i].currency,o=fx(t).from(n).to(a).toFixed(4),r={amount:t,base:n,rate:o,currency:a,name:e.map[a]};e.currencyList.push(r)}}else e.currencyList=[]},e.loadData()}]),angular.module("app").controller("ModalMailoutReceiversCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.per_page=10,0!=t.params&&(t.is_loading=!0,t.item=t.params,n.go("receivers_modal",{type:t.item.type,clients_group:t.item.clients_group,reference:t.item.reference,team:t.item.team,leads_group:t.item.leads_group,interest_company:t.item.interest_company,interest_product:t.item.interest_product,media_type:t.item.media_type,dob:t.item.dob,dob_date:e.date_to_mysql(t.item.dob_date)}).then(function(e){t.is_loading=!1,t.items=e.items}))}]),angular.module("app").controller("ModalSMSReceiversCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.per_page=10,0!=t.params&&(t.is_loading=!0,t.item=t.params,n.go("receivers_modal",{type:t.item.type,clients_group:t.item.clients_group,reference:t.item.reference,team:t.item.team,leads_group:t.item.leads_group,interest_company:t.item.interest_company,interest_product:t.item.interest_product,media_type:t.item.media_type,dob:t.item.dob,dob_date:e.date_to_mysql(t.item.dob_date)}).then(function(e){t.is_loading=!1,t.items=e.items}))}]),angular.module("app").controller("ModalsPreviewClaimCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.id=t.params.id,t.scene="details",t.set_scene=function(e){t.scene=e},t.get_scene=function(){return"details"==t.scene?"app/claims/view.html":(e.obj="claims",e.obj_id=t.item.ID,"mods/"+t.scene+".html")},t.loaded=!1,t.id?n.go("claims_by_id",{id:t.id}).then(function(n){n.error?(e.Notify.error(n.error),t.$dismiss()):(t.loaded=!0,t.item=n.items)}):(e.Notify.error("No item specified"),t.$dismiss())}]),angular.module("app").controller("ModalsPreviewClientCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.id=t.params.id,t.scene="details",t.set_scene=function(e){t.scene=e},t.get_scene=function(){return"details"==t.scene?"app/clients/view.html":(e.obj="clients",e.obj_id=t.item.ID,"mods/"+t.scene+".html")},t.loaded=!1,t.id?n.go("clients_by_id",{id:t.id}).then(function(i){i.error?(e.Notify.error(i.error),t.$dismiss()):(t.loaded=!0,t.item=i.items,t.item.assets_loading=!0,n.go("clients_get_assets",{id:t.id}).then(function(e){t.item.assets_loading=!1,t.item.assets=e.result}))}):(e.Notify.error("No item specified"),t.$dismiss())}]),angular.module("app").controller("ModalsPreviewInvoiceCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.item=t.params.item,t.id=t.item.ID||!1,t.client_url=function(e){return window.vars.invoice_share_url+e.token},t.loaded=!1,t.id?n.go("invoices_preview",{id:t.id}).then(function(n){n.error?(e.Notify.error(n.error),t.$dismiss()):(t.loaded=!0,t.html=n.html)}):(e.Notify.error("No item specified"),t.$dismiss())}]),angular.module("app").controller("ModalsPreviewLeadCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.id=t.params.id,t.scene="details",t.set_scene=function(e){t.scene=e},t.get_scene=function(){return"details"==t.scene?"app/leads/view.html":(e.obj="leads",e.obj_id=t.item.ID,"mods/"+t.scene+".html")},t.loaded=!1,t.id?n.go("leads_by_id",{id:t.id}).then(function(n){n.error?(e.Notify.error(n.error),t.$dismiss()):(t.loaded=!0,t.item=n.items)}):(e.Notify.error("No item specified"),t.$dismiss())}]),angular.module("app").controller("ModalsPreviewPolicyCtrl",["$rootScope","$scope","Data","$timeout",function(e,t,n,i){t.id=t.params.id,t.scene="details",t.set_scene=function(e){t.scene=e},t.get_scene=function(){return"details"==t.scene?"app/policies/view.html":(e.obj="policies",e.obj_id=t.item.ID,"mods/"+t.scene+".html")},t.loaded=!1,t.id?n.go("policies_by_id",{id:t.id}).then(function(i){i.error?(e.Notify.error(i.error),t.$dismiss()):(t.loaded=!0,t.item=i.items,t.item.assets_loading=!0,n.go("policies_get_assets",{id:t.id}).then(function(e){t.item.assets_loading=!1,t.item.assets=e.result}))}):(e.Notify.error("No item specified"),t.$dismiss())}]),angular.module("app").run(["$templateCache",function(e){e.put("app/address/card.html",'<div class="address-card {{class}}"><p ng-show="item.address1">{{item.address1}}</p><p ng-show="item.address2">{{item.address2}}</p><p ng-show="item.city || item.state || item.pobox || country"><span ng-show="item.city">{{item.city}}, </span><span ng-show="item.state">{{item.state}}, </span><span ng-show="item.pobox">{{item.pobox}}, </span><span ng-show="country">{{country}}</span></p></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("app/address/form.html",'<div class="row"><div class="col-sm-12 m-b"><input type="text" class="form-control" ng-model="item.address1" placeholder="Street"></div><div class="col-sm-12 m-b"><input type="text" class="form-control" ng-model="item.address2" placeholder="Apt/Suite"></div><div class="col-sm-12 m-b"><div class="row"><div class="col-sm-4"><input type="text" class="form-control" ng-model="item.city" placeholder="City"></div><div class="col-sm-4"><input type="text" class="form-control" ng-model="item.state" placeholder="State"></div><div class="col-sm-4"><input type="text" class="form-control" ng-model="item.pobox" placeholder="Postal Code"></div></div></div><div class="col-sm-12 m-b"><select custom block="true" ng-model="item.country" class="form-control"><option value=""> -- Country -- </option><option ng-repeat="cntry in assets_countries" value="{{cntry.iso}}" ng-selected="{{cntry.iso == item.country}}">{{cntry.name}}</option></select></div><div class="col-sm-12 m-b" ng-if="!hideGeo"><a href ng-click="Modals.gmap(item)" class="link bold"><i class="fa fa-map-o m-r-sm"></i>Record Map Position</a></div><div class="col-sm-12" ng-if="!hideGeo"><img ng-if="item.lat && item.lng" src="https://maps.googleapis.com/maps/api/staticmap?key=AIzaSyBTFQzqXMhbv-hHKGAH4z8m36bEqUnmhY8&zoom=13&size=400x200&maptype=roadmap&center={{item.lat}},{{item.lng}}&markers=color:red%7Clabel:S%7C{{item.lat}},{{item.lng}}"></img></div></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("app/img/gmap.html",'<div class="pos-rlt hover-anchor" ng-if="lat && lng"><div class="pos-abt hover-action m-t-xs m-l-xs"><a class="btn btn-default m-r-xs" href ng-click="Modals.email(null, null, link_raw)"><i class="fa fa-envelope-o"></i></a><a class="btn btn-default m-r-xs" href="whatsapp://send?text={{link}}" data-action="share/whatsapp/share"><i class="fa fa-whatsapp"></i></a><a class="btn btn-default m-r-xs" href ng-click="Modals.sms(null, null, link_raw)"><i class="fa fa-comments-o"></i></a><a class="btn btn-default m-r-xs" href clipboard text="link_raw" on-copied="copied()">Copy</a></div><img ng-src="{{src}}" ng-if="src"></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("app/pagination.html",'<div class="row m-t p-t b-t" ng-show="numPages > 1"><div class="col-sm-6 text-left">P: {{currentPage}} of {{numPages}} <span class="dropup m-l-xs m-r-xs"><a href class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{stItemsByPage}} <span class="caret"></span></a><ul class="dropdown-menu"><li><a href ng-click="stItemsByPage=10;to_top()">10</a></li><li><a href ng-click="stItemsByPage=25;to_top()">25</a></li><li><a href ng-click="stItemsByPage=50;to_top()">50</a></li><li><a href ng-click="stItemsByPage=100;to_top()">100</a></li></ul></span> records/page.</div><div class="col-sm-6 text-right"><div class="pagination m-n" ng-if="pages.length >= 2"><ul class="pagination m-n"><li ng-if="currentPage > 1"><a ng-click="selectPage(1);to_top()"><i class="fa fa-angle-double-left"></i></a></li><li ng-if="currentPage > 1"><a ng-click="selectPage(currentPage-1);to_top()"><i class="fa fa-angle-left"></i></a></li><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a ng-click="selectPage(page);to_top()">{{page}}</a></li><li ng-if="currentPage < numPages"><a ng-click="selectPage(currentPage+1);to_top()"><i class="fa fa-angle-right"></i></a></li><li ng-if="currentPage < numPages"><a ng-click="selectPage(numPages);to_top()"><i class="fa fa-angle-double-right"></i></a></li></ul></div></div></div>')}]),angular.module("app").run(["$templateCache",function(e){e.put("app-footer.html","<p class=m-b-none> <small class=text-muted> Broksy v{{app.version}}. &copy; {{app.current_year}}. <a href=http://bitwize.com.lb target=_blank>Bitwize &trade;</a>. All rights reserved. </small> </p> "),e.put("app-header.html",' <div class="navbar-header {{app.settings.navbarHeaderColor}}">  <button id=off-screen class="pull-left visible-xs" data-target=.app-aside ui-scroll-to=app ui-toggle-class=off-screen> <i class="glyphicon glyphicon-align-justify"></i> </button> <button class="pull-right visible-xs dk" data-target=.navbar-collapse ui-toggle-class=show> <i class="glyphicon glyphicon-cog"></i> </button> <button class="pull-right visible-xs" ui-sref=app.notifications> <i class=icon-bell></i> </button>   <a class="navbar-brand text-lt" ui-sref=app.home>  <span class=shown-folded> <img ng-src="{{VARS.url}}/assets/img/logo-sm.png?_={{VARS.version}}"> </span> <span class=hidden-folded> <img ng-src="{{VARS.url}}/assets/img/logo.png?_={{VARS.version}}"> </span> </a>  </div>   <div class="collapse pos-rlt navbar-collapse p-l-none box-shadow app-navbar-collapse {{app.settings.navbarCollapseColor}}">  <div class="nav navbar-nav hidden-xs"> <a class="btn no-shadow navbar-btn p-l-xs p-r-xs m-l-none" href ng-click="app.settings.asideFolded = !app.settings.asideFolded"> <i class="{{app.settings.asideFolded ? \'icon-arrow-right\' : \'icon-arrow-left\'}}"></i> </a> </div>   <ul class="nav navbar-nav"> <li class="dropdown mobile-hidden" uib-dropdown ng-if="user.can(\'admin\') || user.can(\'broker\')"> <a class="dropdown-toggle b-l" href uib-dropdown-toggle> <i class="icon-plus m-r-xs"></i> <span translate=header.navbar.new.NEW>New</span> <span class=caret></span> </a> <ul class=dropdown-menu role=menu> <li><a ng-click=Modals.leads(true)><i class="icon-user-follow m-r"></i> Lead</a></li> <li><a ng-click=Modals.clients(true)><i class="icon-people m-r"></i> Client</a></li> <li><a ng-click=Modals.policies(true)><i class="icon-umbrella m-r"></i> Policy</a></li> <li><a ng-click=Modals.claims(true)><i class="icon-shield m-r"></i> Claim</a></li> </ul> </li> <li class=mobile-hidden ng-if="user.can(\'admin\')" uib-dropdown> <a href class=b-l uib-dropdown-toggle> <i class="icon-rocket m-r-xs"></i> <span>Reports</span> <span class=caret></span> </a> <ul uib-dropdown-menu> <li><a ui-sref=app.reporting>Summary</a></li> <li><a ui-sref=app.reporting_indepth>In-Depth</a></li> </ul> </li> <li class="dropdown mobile-hidden" uib-dropdown ng-if="user.can(\'admin\') || user.can(\'accountant\')"> <a href class=b-l uib-dropdown-toggle> <i class="icon-book-open m-r-xs"></i> <span>Accounting</span> <span class=caret></span> </a> <ul class=dropdown-menu role=menu> <li> <div class="row m-n" style="width: 380px;"> <ul class="col-md-6 multi-column-dropdown b-r p-n"> <li><a ui-sref=accounting.invoices> <i class="icon-book-open m-r"></i> Invoices</a></li> <li><a ui-sref=accounting.transactions> <i class="icon-list m-r"></i> Transactions</a></li> <li><a ui-sref=accounting.statement> <i class="icon-equalizer m-r"></i> Acc Statement</a></li> <li><a ui-sref=accounting.tracker> <i class="icon-vector m-r"></i> Tracker</a></li> </ul> <ul class="col-md-6 multi-column-dropdown p-n"> <li><a ng-click=Modals.invoice()> <i class="icon-book-open m-r"></i> New Invoice</a></li> <li><a ng-click=Modals.payment()> <i class="icon-plus m-r"></i> New Payment</a></li> <li><a ng-click=Modals.expense()> <i class="icon-minus m-r"></i> New Expense</a></li> <li><a ui-sref=accounting.credits> <i class="fa fa-credit-card m-r"></i> Credit Notes</a></li> </ul> </div> </li> </ul> </li> </ul>   <div class="navbar-form navbar-left" ng-controller=TopSearchCtrl> <autocomplete id=top_search placeholder="Search: Shortcut is /" pause=250 selectedobject=selected ajaxaction=top_search titlefield=name descfield=desc imagefield=avatar minlength=2 inputclass="bg-light border rounded padder top-search-input"> </autocomplete> </div>   <ul class="nav navbar-nav navbar-right">  <li class="dropdown hidden-sm" ng-show=translate_available uib-dropdown> <a class="dropdown-toggle b-r" href uib-dropdown-toggle> {{selectLang}} <b class=caret></b> </a> <ul class="dropdown-menu animated-- fadeInRight-- w"> <li ng-repeat="(langKey, label) in langs"> <a href ng-click="setLang(langKey, $event)">{{label}}</a> </li> </ul> </li>  <li class=hidden-xs> <a href ng-click=Modals.calc() uib-tooltip=calculator tooltip-placement=bottom> <i class="fa fa-calculator"></i> </a> </li>  <li class="dropdown hidden-xs" uib-dropdown> <a class="dropdown-toggle b-l" href uib-dropdown-toggle> <i class=icon-layers></i> <span class=hidden-md>Apps</span> <span class=caret></span> </a> <ul class=dropdown-menu role=menu> <li><a ui-sref=app.mechanique>Mechanique</a></li> <li><a href ng-click=Modals.currency()>Currency Converter</a></li> <li><a ui-sref=app.todo>Todo List</a></li> <li><a ui-sref=app.notes>Notes</a></li> <li><a ui-sref=app.weather>Weather</a></li> </ul> </li>  <li class=hidden-xs> <a class=b-l href ui-sref=app.notifications> <i class="icon-bell fa-fw"></i> <span class=visible-xs-inline>Notifications</span> <span class="badge up bg-danger" ng-show=alerts>{{alerts}}</span> </a> </li>  <li class=dropdown uib-dropdown> <a class="dropdown-toggle b-l clear" href uib-dropdown-toggle>  <span class=hidden-md>{{user.name | formalname}}</span> <b class=caret></b> </a>  <ul class="dropdown-menu w"> <li><a ui-sref=settings.account>My Account</a></li> <li ng-if="user.can(\'admin\')"><a ui-sref=settings.index>Settings</a></li> <li class=divider></li> <li><a ui-sref=access.logout>Logout</a></li> </ul>  </li>  <li class=hidden-xs uib-tooltip="Full Screen" tooltip-placement=bottom> <a class=b-l ui-fullscreen style="padding:15px 10px;"></a> </li> </ul>  </div>  '),e.put("app-nav.html",' <ul class=nav> <li ui-sref-active=active class="mobile-show-block m-t-sm"> <a ui-sref=mobile.add><i class="icon-plus icon"></i><span>Create</span></a> </li> <li class="line dk hidden-folded mobile-show-block"></li> <li class="hidden-folded padder m-t-sm m-b-xs text-muted text-xs"> <span>Manage</span> </li> <li ui-sref-active=active> <a ui-sref=app.leads><i class="icon-user-follow icon"></i><span>Leads</span></a> </li> <li ui-sref-active=active> <a ui-sref=app.clients><i class="icon-people icon"></i><span>Clients</span></a> </li> <li ui-sref-active=active> <a ui-sref=app.policies><i class="icon-umbrella icon"></i><span>Policies</span></a> </li>  <li ui-sref-active=active> <a ui-sref=app.claims><i class="icon-shield icon"></i><span>Claims</span></a> </li>  <li ui-sref-active=active ng-if="user.can(\'view_briefcase\')" class=mobile-hidden> <a ui-sref=app.briefcase><i class="icon-briefcase icon"></i><span>Briefcase</span></a> </li> <li class="line dk hidden-folded mobile-hidden"></li> <li class="hidden-folded padder m-t-xs m-b-xs text-muted text-xs mobile-hidden" ng-if="user.can(\'admin\')"> <span>Marketing Tools</span> </li> <li ui-sref-active=active ng-if="user.can(\'admin\')" class=mobile-hidden> <a ui-sref=marketing.mailout><i class="icon-cursor icon"></i><span>Mail Out</span></a> </li> <li ui-sref-active=active ng-if="user.can(\'admin\')" class=mobile-hidden> <a ui-sref=marketing.sms><i class="icon-screen-smartphone icon"></i><span>SMS</span></a> </li> <li class="line dk hidden-folded mobile-show-block" ng-if="user.can(\'admin\') || user.can(\'accountant\')"></li> <li ui-sref-active=active class="mobile-show-block m-t-sm" ng-if="user.can(\'admin\') || user.can(\'accountant\')"> <a ui-sref=mobile.accounting><i class="icon-book-open icon"></i><span>Accounting</span></a> </li> <li class="line dk hidden-folded" ng-if="user.can(\'admin\')"></li>  <li ui-sref-active=active ng-if="user.can(\'admin\')"> <a ui-sref=settings.index class=auto>  <i class="icon-settings icon"></i><span>Settings</span> </a>  </li> </ul>  '),e.put("app-side.html",'<div class=aside-wrap> <div class=navi-wrap slim-scroll> <nav class="navi clearfix" ng-include="\'app-nav.html\'" ui-nav></nav> <div class="wrapper bitwize"><small class=text-muted> v{{app.version}}. &copy; {{app.current_year}}  </small></div> </div> </div> '),e.put("app.html",' <div ng-include="\'app-header.html\'" class="app-header navbar"></div>   <div ng-include="\'app-side.html\'" class="app-aside hidden-xs {{app.settings.asideColor}}" ng-class="{\'hide\': app.hideAside }"></div>   <div class=app-content ng-class="{\'h-full\': app.fullheight }"> <div ui-butterbar></div> <div ng-click=mobile_menu_close() class="app-content-body fade-in" ng-class="{\'app-content-full h-full\': app.fullheight }" ui-view></div> </div>   '),e.put("layout.html",' <div ng-include="\'app-header.html\'" class="app-header navbar" ng-init="app.settings.asideFixed = true;"></div>   <div ng-include="\'app-side.html\'" class="app-aside hidden-xs {{app.settings.asideColor}}" ng-class="{\'hide\': app.hideAside }"></div>   <div class=app-content ng-class="{\'m-n\': app.hideAside, \'h-full\': app.fullheight }"> <div ui-butterbar></div> <div class="app-content-body fade-in" ng-class="{\'app-content-full h-full\': app.fullheight }" ui-view></div> </div>     '),e.put("access/404.html",'<div ng-init="app.settings.container = false;"> <div class=wrapper style="height: 100vh; margin-top: -50px; background: #1c2b36;"> <div class="container text-center"> <header class=header-404><a href="#/" rel=home>404</a></header> <div class=content-404> <h1 class="m-b text-xxl italic bold text-white">Page Not Found</h1> <p class="m-b-lg text-white">The page you are looking for was moved, removed, <br> renamed or might never existed.</p> <div class=section-footer> <a ui-sref=app.home class="btn btn-dark bold">Back To Homepage</a> <a href=mailto:support@broksy.com class="btn btn-black bold">Report Error</a> </div> </div> </div> </div> </div> '),e.put("access/forgotpwd.html",'<div class=hbox style="min-height: 100vh;" ng-controller=ForgotPWDController ng-init="app.settings.headerFixed = false;"> <div class="col w-50p dark-overlay hidden-xs" ui-jq=backstretch ui-options="VARS.access_bgs, {duration: 8000, fade: 900}"> <img class="m-t m-l" ng-src="{{VARS.url}}/assets/img/logo.png?_={{VARS.version}}" style="z-index: 3; position: relative; max-height: 50px;"> </div> <div class="col w-50p v-middle login-panel"> <div class="container w-xl w-auto-xs--" ng-init="app.settings.container = false;"> <div class="m-b-lg text-center mobile-show-block"> <img ng-src="{{VARS.url}}/assets/img/logo.png?_={{VARS.version}}" style="z-index: 3; position: relative; max-height: 40px;"> </div>  <div class=m-b-lg> <form name=forgotForm ng-submit=forgot() uib-collapse=forgotCollapsed> <p class="wrapper text-center">Input your email to reset your password</p> <div class="list-group list-group-sm"> <div class=list-group-item> <input class="form-control no-border" ng-model=email placeholder=Email required type=email autofocus autocomplete=off> </div> <button class="list-group-item btn btn-lg btn-info bold btn-block text-center" ng-disabled="forgotForm.$invalid || is_loading" type=submit> <mini-loader class=m-r ng-show=is_loading></mini-loader> Send </button> </div> </form> <form name=keyForm ng-submit=check_key() uib-collapse=keyCollapsed> <p class="wrapper text-center">Input the key sent to your email</p> <div class="list-group list-group-sm"> <div class=list-group-item> <input class="form-control no-border" ng-model=key placeholder=Key required type=text> </div> <button class="list-group-item btn btn-lg btn-info bold btn-block text-center" ng-disabled="keyForm.$invalid || is_loading" type=submit> <mini-loader class=m-r ng-show=is_loading></mini-loader> Check </button> </div> </form> <form name=resetForm ng-submit=reset() uib-collapse=resetCollapsed> <p class="wrapper text-center bold">Input new password</p> <div class="list-group list-group-sm"> <div class=list-group-item> <input class="form-control no-border" name=new_pass ng-model=new_pass minlength=4 placeholder="New Password" required type=password> </div> <div class=list-group-item> <input class="form-control no-border" name=new_pass2 ng-model=new_pass2 placeholder="New Password" required type=password data-password-verify=new_pass> </div> <div ng-show=resetForm.new_pass2.$error.passwordVerify> Passwords don\'t match! </div> <button class="list-group-item btn btn-lg btn-info bold btn-block text-center" ng-disabled="resetForm.$invalid || is_loading" type=submit> <mini-loader class=m-r ng-show=is_loading></mini-loader> Change </button> </div> </form> <div class="m-t text-center"> <a class="btn btn-sm btn-default" ui-sref=access.signin>Back to Sign in</a> </div> </div> <div class=text-center ng-include="\'app-footer.html\'"> </div> </div> </div> </div> '),e.put("access/lockme.html",'<div class="modal-over bg-black"> <div class="modal-center animated fadeInUp text-center" style="width:200px;margin:-100px 0 0 -100px;"> <div class=thumb-lg> <img src={{VARS.url}}/assets/img/a0.jpg class=img-circle> </div> <p class="h4 m-t m-b">John.Smith</p> <div class=input-group> <input type=password class="form-control text-sm btn-rounded no-border" placeholder="Enter pwd to continue"> <span class=input-group-btn> <a href="#/" class="btn btn-success btn-rounded no-border"><i class="fa fa-arrow-right"></i></a> </span> </div> </div> </div> '),e.put("access/logout.html",'<div class=hbox style="min-height: 100vh;"> <div class="col v-middle text-center"> <img ng-src={{VARS.url}}/assets/img/loading.gif> </div> </div> '),e.put("access/signin.html",'<div class=hbox style="min-height: 100vh;" ng-init="app.settings.headerFixed = false;"> <div class="col w-50p dark-overlay hidden-xs" ui-jq=backstretch ui-options="VARS.access_bgs, {duration: 8000, fade: 900}"> <img class="m-t m-l" ng-src="{{VARS.url}}/assets/img/logo.png?_={{VARS.version}}" style="z-index: 3; position: relative; max-height: 50px;"> </div> <div class="col w-50p v-middle login-panel"> <div class="container w-xl w-auto-xs--" ng-controller=SigninFormController ng-init="app.settings.container = false;"> <div class="m-b-lg text-center mobile-show-block"> <img ng-src="{{VARS.url}}/assets/img/logo.png?_={{VARS.version}}" style="z-index: 3; position: relative; max-height: 40px;"> </div>  <div class=m-b-lg> <form class=form-validation name=form> <div class="alert-danger m-b-md wrapper text-center" ng-show=authError> {{authError}} </div> <div class="list-group list-group-sm"> <div class=list-group-item> <input class="form-control no-border" ng-model=user.email placeholder=Email required type=email autofocus autocomplete=off> </div> <div class=list-group-item> <input class="form-control no-border" ng-model=user.password placeholder=Password required type=password> </div> <button class="list-group-item btn btn-lg btn-info bold btn-block text-center" ng-click=login() ng-disabled="form.$invalid || is_loading" type=submit> Log in <i ng-show=is_loading class="fa fa-refresh fa-spin m-l"></i> </button> </div> <div class="text-center m-t m-b"> <a ui-sref=access.forgotpwd> Forgot password? </a> </div> <div class="line line-dashed"> </div> <p class=text-center> <small> Do not have an account? </small> </p> <a class="btn btn-default btn-block" href="https://broksy.com/" target=_blank> Create an account </a> </form> </div> <div class=text-center ng-include="\'app-footer.html\'"></div> </div> </div> </div> '),e.put("accounting/credits.html",'<div ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> Correct mistakes quickly with Credit Notes </h2> <p class="text-lg text-muted"> We’re all human – correct your mistakes professionally with a credit note </p> <p class="text-lg bold"> A credit note is a document you send to your customer to correct mistakes or take back an invoice. </p> <div class="row m-b"> <div class=col-md-4> <div class="text-lg text-muted--"> <h3 class=bold>Keep your customers happy with correct invoices</h3> <p>You’ve done your job, sent your invoice and the only thing that’s missing is for the money to show up in your account.</p> <p>And then your customer calls you with changes to the invoice or requests to return the goods they just purchased. How do you handle this?</p> <p>A final invoice is a legal document and therefore shouldn\'t be changed once it has been sent. The official way to handle these changes is to issue a credit note that contains the same details as your invoice, but in the negative.</p> </div> </div> <div class="col-md-4 col-md-offset-1" style="color: #555;"> <h3 class=bold>So what if my customer has already paid the invoice?</h3> <p>You should issue a credit note every time you take back an invoice – regardless of whether the invoice has already been paid.</p> <p>If your customer has already paid and you need to reimburse the amount, it’s a good idea to include a message on the credit note about how and when your customer can expect to get the money back.</p> <p>If your customer has not yet paid your invoice, the credit note will reset that transaction to zero and no money will be transferred.</p> <p>You can also create a credit note that only reimburses part of the invoice, such as one or more of the invoice lines.</p> </div> </div> <h2 class="bold italic">Coming Soon to Broksy!</h2> </div> </div> '),
e.put("accounting/invoices.html",'<div ng-controller=AccountingInvoicesCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <div class=row> <div class=col-sm-4> <h2 ng-hide=isLoading class=m-t-none>Invoices</h2> <mini-loader ng-show=isLoading class=m-t-sm></mini-loader> </div> <div class=col-sm-8> <div class="btn-group pull-right"> <a class="btn btn-default bold" href ng-click=Modals.invoice()> <i class="fa fa-plus m-r-sm"></i> Invoice </a> <a class="btn btn-default bold" href ng-click=Modals.payment()> <i class="fa fa-plus m-r-sm"></i> Payment </a> <a class="btn btn-default bold" href ng-click=Modals.expense()> <i class="fa fa-plus m-r-sm"></i> Expense </a> <a class="btn btn-default bold" href ng-click=Modals.transfer()> <i class="fa fa-plus m-r-sm"></i> Transfer </a>   </div> </div> </div> <table class="table table-striped" st-table=items st-pipe=fetch st-refresh=accounting-touched> <thead> <tr class=thead_dark>  <th>Status</th> <th st-sort=invoice_number>Number</th> <th st-sort=client_id>Client</th> <th st-sort=date>Date</th> <th st-sort=due_date>Due Date</th> <th st-sort=total>Amount</th> <th><input st-search placeholder=Search class="form-control rounded" type=text></th> </tr> </thead> <tbody> <tr ng-if="!items.length && !isLoading"> <td colspan=9> <div class="alert alert-warning m-n text-center"> No Records Found </div> </td> </tr> <tr ng-repeat="i in items track by $index" class="vmiddle hover-anchor">  <td><div ng-bind-html="get_status(i.status) | html"></div></td> <td> <i class="fa fa-check-circle text-success m-r-sm" ng-if=is_sent(i) uib-tooltip="Sent on: {{i.last_sent_date | unix_date | date:\'mediumDate\'}}"></i> <i class="fa fa-circle-thin m-r-sm" ng-if=!is_sent(i) uib-tooltip="Not sent yet"></i> {{i.invoice_number}} </td> <td><a class=link ng-click=Modals.preview_client(i.client_id)>{{i.client_name}}</a></td> <td>{{i.date | unix_date | date:\'mediumDate\'}}</td> <td>{{i.due_date | unix_date | date:\'mediumDate\'}}</td> <td> {{i.total |currency:currencySymbol}} <p class=text-muted ng-show="i.balance && i.balance != \'0.00\'"> ( {{i.balance |currency:currencySymbol}} ) </p> </td> <td class=text-center> <span uib-dropdown> <a href class="btn btn-default dropdown-toggle p-l-lg p-r-lg bold" uib-dropdown-toggle> Select <span class=caret></span> </a> <ul uib-dropdown-menu class="dropdown-menu right sm">  <li ng-if=can_edit(i)><a href ng-click="Modals.invoice(\'edit\', i.ID)">Edit</a></li> <li ng-if=!can_edit(i)><a href ng-click=Modals.invoice_no_edit()>Edit</a></li> <li><a href ng-click=Modals.preview_invoice(i)>Preview</a></li> <li><a href ng-click=Modals.invoice_installments(i)>Manage Installments</a></li> <li role=separator class=divider></li> <li><a href ng-click=Modals.invoice_send(i)>Send</a></li> <li> <a href ng-click=Modals.payment(i)>Enter Payment</a> </li> <li><a href ng-click=Modals.invoice_print(i)>Print</a></li>  <li><a href={{client_url(i)}} target=_blank>View as Client</a></li> <li role=separator class=divider></li> <li><a href ng-click=regenerate(i)>Re-Generate PDF</a></li> <li><a href ng-click=Modals.invoice_delete(i)>Delete</a></li> </ul> </span> </td> </tr> </tbody> <tfoot> <tr> <td colspan=9 class=text-center> <div st-pagination st-template=app/pagination.html st-items-by-page=per_page></div> </td> </tr> </tfoot> </table> </div> </div> '),e.put("accounting/statement.html",'<div ng-controller=AccountingStatementCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <div class=row> <div class=col-sm-6> <h2 ng-hide=isLoading class=m-t-none>Account Statement</h2> <mini-loader ng-show=isLoading class=m-t-sm></mini-loader> </div> <div class=col-sm-6> <div class="btn-group pull-right"> <a class="btn btn-default bold" href ng-click=Modals.bank()> <i class="fa fa-plus m-r-sm"></i> Add Bank / Cash Account </a> <a class="btn btn-default bold" href ng-click=Modals.transfer()> <i class="fa fa-plus m-r-sm"></i> New Transfer </a> </div> </div> </div> <table class="table table-striped" st-table=items st-pipe=fetch st-refresh=accounting-touched> <thead> <tr class=thead_dark> <th st-sort=name>Name</th> <th st-sort=balance>Balance</th> <th st-sort=account_number>Acc #</th> <th st-sort=date_created>Dates</th> <th><input st-search placeholder=Search class="form-control rounded" type=text></th> </tr> </thead> <tbody> <tr ng-if="!items.length && !isLoading"> <td colspan=9> <div class="alert alert-warning m-n text-center"> No Records Found </div> </td> </tr> <tr ng-repeat="i in items" class="vmiddle hover-anchor"> <td> <i class="fa fa-credit-card m-r" ng-if="i.type==\'bank\'"></i> <i class="fa fa-database m-r" ng-if="i.type==\'cash\'"></i> {{i.name}} <p class=text-muted ng-if=i.description>{{i.description}}</p> </td> <td>{{i.balance | currency}}</td> <td> {{i.account_number}} <p class=text-muted ng-if="i.contact_person || i.contact_name"> {{i.contact_person}} {{i.contact_name}} </p> </td> <td class=text-sm> Created: {{i.date_created | unix_date | date:\'mediumDate\'}}<br> Last Edited: {{i.date_edited | unix_date | date:\'mediumDate\'}} </td> <td class=text-center></td> </tr> </tbody> <tfoot> <tr> <td colspan=9 class=text-center> <div st-pagination st-template=app/pagination.html st-items-by-page=per_page></div> </td> </tr> </tfoot> </table> </div> </div> '),e.put("accounting/tracker.html",' <div class="hbox hbox-auto-xs hbox-auto-sm bg-light" ng-controller=AccountingTrackerCtrl ng-init="app.fullheight=true;">  <div class="col w-xl b-r report-panel"> <div class=vbox> <div class=row-row> <div class="cell scrollable hover"> <div class="cell-inner wrapper"> <h2 class="m-t-none m-b-none">Tracker</h2> <p class="text-muted m-b italic">Track down Insurers and brokers</p> <div class=m-b-sm><div class=input-group> <span class=input-group-btn> <a href class="btn btn-default bold btn-label">Range:</a> </span> <select select-picker ng-model=tf class=form-control> <option ng-repeat="i in timeframes" value={{i.ID}} ng-selected="i.ID == tf"> {{i.name}} </option> </select> </div></div> <div class="row m-b-sm" ng-show="tf==\'cd\'"> <div class=col-md-6> <div class=input-group> <span class="input-group-addon bg-white bold btn-label">From:</span> <input type=text readonly class=form-control ng-model=start_date uib-datepicker-popup=mediumDate datepicker-options=start_date_options is-open=start_date_opened ng-focus="start_date_opened=true"> </div> </div> <div class=col-md-6> <div class=input-group> <span class="input-group-addon bg-white bold btn-label">To:</span> <input type=text readonly class=form-control ng-model=end_date uib-datepicker-popup=mediumDate datepicker-options=end_date_options is-open=end_date_opened ng-focus="end_date_opened=true"> </div> </div> </div> <div class=m-b-sm><div class=btn-group> <label class="btn btn-default bold btn-label">Track:</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'company\'">Insurers</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'broker\'">Brokers</label> </div></div> <div class=m-b-sm ng-show="type==\'company\'"><div class=input-group> <span class=input-group-btn> <a href class="btn btn-default bold btn-label">For:</a> </span> <select select-picker ng-model=company class=form-control title=--Select--> <option ng-repeat="i in assets_companies" value={{i.ID}}> {{i.name}} </option> </select> </div></div> <div class=m-b-sm ng-show="type==\'broker\'"><div class=input-group> <span class=input-group-btn> <a href class="btn btn-default bold btn-label">For:</a> </span> <select select-picker ng-model=broker class=form-control title=--Select--> <option ng-repeat="i in assets_teams" value={{i.ID}}> {{i.name}} </option> </select> </div></div> <div> <a href ng-click=work() class="btn btn-success btn-lg bold" ng-class="{\'disabled\': (working==true || (company==\'\' && broker==\'\')) }"> <span ng-hide="working==true">Build Report</span> <span ng-show="working==true">Building <mini-loader class=m-l-sm></mini-loader></span> </a> </div> </div> </div> </div> </div> </div>  <div class="col bg-white-only"> <div class=vbox> <a href ng-click=toggle_panel() ng-show=show_panel class=report_back> <i class="fa fa-angle-double-left" ng-if=!panel_hidden></i> <i class="fa fa-angle-double-right" ng-if=panel_hidden></i> </a> <div class=row-row> <div class=cell> <div class=cell-inner> <div class="text-center pos-abt w-full text-muted" style=top:45% ng-hide="loaded || working"> <h3>Build your report</h3> <p>use the left panel to specify report credentials.</p> </div> <div class="text-center pos-abt w-full text-muted" style=top:45% ng-show=working> <h3>Building...</h3> <p><mini-loader></mini-loader> Please wait.</p> </div> <div ng-if="loaded && !working"> <div class="text-center bg-black lt text-white b-b"> <h3 class="p-t p-b-sm m-n"> Track {{type | capitalize}}: <span ng-if="type==\'company\'"> {{(assets_companies | filter : {ID: by})[0].name}} </span> <span ng-if="type==\'broker\'"> {{(assets_teams | filter : {ID: by})[0].name}} </span> </h3> <p class="p-b m-n"> {{start_date | date:\'mediumDate\'}} <i class="fa fa-long-arrow-right m-l-sm m-r-sm"></i> {{end_date | date:\'mediumDate\'}} </p> </div> <div class=wrapper> <div id=export_table> <div class=row> <div class=col-sm-6> <div class="panel panel-default"> <div class=panel-heading>Policies</div> <table st-table=policies class="table table-bordered"> <thead><tr> <th>No</th> <th>Dates</th> <th>Amounts</th> </tr></thead> <tbody> <tr ng-repeat="i in policies"> <td> <a href ui-sref="app.policies({ID: {{i.ID}}})" class="link bold block">{{i.name}}</a> <a href ui-sref="app.clients({ID: {{i.client_id}}})" class=link>{{i.client_name}}</a> </td> <td class=text-sm> <p class=m-n>Issued: {{i.date_issued | unix_date | date:\'mediumDate\'}}</p> <p class=m-n>Effective: {{i.date_effective | unix_date | date:\'mediumDate\'}}</p> <p class=m-n>Expiry: {{i.date_expiry | unix_date | date:\'mediumDate\'}}</p> </td> <td> <p class=m-b-sm ng-if="type==\'company\'">Insurer Total: <span class="label label-danger">{{i.company_total | currency}}</span></p> <p class=m-b-sm ng-if="type==\'broker\'">Broker Total: <span class="label label-danger">{{i.team_commission_total | currency}}</span></p> <p class="text-muted text-sm"> <a href=i.invoice_url class=link target=_blank>{{i.invoice_number}}</a> - Total: <b>{{i.total | currency}}</b> - Balance: <b>{{i.balance | currency}}</b> </p> </td> </tr> <tr class="bg-danger text-white bold"> <td></td> <td></td> <td>{{total_policies | currency}}</td> </tr> </tbody> </table> </div> </div> <div class=col-sm-6> <div class="panel panel-default"> <div class=panel-heading>Payments</div> <table st-table=payments class="table table-bordered"> <thead><tr> <th>No</th> <th>Dates</th> <th>Amounts</th> </tr></thead> <tbody> <tr ng-repeat="i in payments"> <td><a href ng-click=Modals.transaction_info(i) class="link bold">Get Info</a></td> <td>{{i.date | unix_date | date:\'mediumDate\'}}</td> <td>{{i.amount | currency}}</td> </tr> <tr class="bg-success text-white bold"> <td></td> <td></td> <td>{{total_payments | currency}}</td> </tr> </tbody> </table> </div> </div> </div>  <p class="bold text-center text-xl"> Total Due: {{total | currency}} </p> </div>  <p class="m-t-md text-center"> <a href ng-click="export_pdf(\'#export_table\', export_title, doc_title, doc_subtitle)" class="btn btn-default bold"> <i class="fa fa-level-up m-r"></i>Export </a> </p> </div> </div> </div> </div> </div> </div> </div>  </div>  '),e.put("accounting/transactions.html",'<div ng-controller=AccountingTransactionsCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <div class=row> <div class=col-sm-6> <h2 ng-hide=isLoading class=m-t-none>Transactions</h2> <mini-loader ng-show=isLoading class=m-t-sm></mini-loader> </div> <div class=col-sm-6> <div class="btn-group pull-right"> <a class="btn btn-default bold" href ng-click=Modals.invoice()> <i class="fa fa-plus m-r-sm"></i> Invoice </a> <a class="btn btn-default bold" href ng-click=Modals.payment()> <i class="fa fa-plus m-r-sm"></i> Payment </a> <a class="btn btn-default bold" href ng-click=Modals.expense()> <i class="fa fa-plus m-r-sm"></i> Expense </a> <a class="btn btn-default bold" href ng-click=Modals.transfer()> <i class="fa fa-plus m-r-sm"></i> Transfer </a>  </div> </div> </div> <table class="table table-striped" st-table=items st-pipe=fetch st-refresh=accounting-touched> <thead> <tr class=thead_dark>  <th>Date</th> <th>Account</th> <th>Type</th> <th>Amount</th> <th>Description</th>  <th> <input st-search placeholder=Search class="form-control rounded" type=text> </th> </tr> </thead> <tbody> <tr ng-if="!items.length && !isLoading"> <td colspan=9> <div class="alert alert-warning m-n text-center"> No Records Found </div> </td> </tr> <tr ng-repeat="i in items track by $index" class="vmiddle hover-anchor">  <td> {{i.date | unix_date | date:\'mediumDate\'}} <p class="text-muted text-sm m-n"> {{i.date | unix_date | date:\'mediumTime\'}} </p> </td> <td> <p class=m-n>{{i.bank_name || \'---\'}}</p> <span class="text-success text-sm">+ {{i.cr | currency:currencySymbol}}</span> <span class="text-danger text-sm m-l-sm">- {{i.dr | currency:currencySymbol}}</span> </td> <td><span class="label {{label(i.type)}}">{{i.type}}</span></td> <td>{{i.amount |currency:currencySymbol}}</td> <td class=text-sm>{{i.description}}</td>  <td class=text-center> <span uib-dropdown> <a href class="btn btn-default dropdown-toggle p-l-lg p-r-lg bold" uib-dropdown-toggle> Select <span class=caret></span> </a> <ul uib-dropdown-menu class="dropdown-menu right sm"> <li> <a href ng-click=Modals.transaction_info(i)>Get Info</a> </li> <li ng-if="i.type != \'transfer\'" role=separator class=divider></li> <li ng-if="i.type != \'transfer\'"> <a href ng-click=delete(i)>Delete Transaction</a> </li> </ul> </span> </td> </tr> </tbody> <tfoot> <tr> <td colspan=9 class=text-center> <div st-pagination st-template=app/pagination.html st-items-by-page=per_page></div> </td> </tr> </tfoot> </table> <div class=p ng-if=pdf_url> <pdf-object url=pdf_url></pdf-object> </div> </div> </div> '),e.put("app/notifications.html",'<div ng-controller=NotificationsCtrl ng-init="app.fullheight = false;"> <div class=fireworks></div> <div class="settings-wrapper pos-rlt"> <h2 class=m-t-none>Notifications</h2> <div class="m-t-lg m-b-lg" ng-show=no_notifications> <p class="text-lg text-muted"> Hooray, you\'ve got no notifications... </p> <div class="m-t-lg m-b-lg"> <a href ng-click=start_fw() ng-show=!fw_active class="btn btn-lg btn-success bold"> <i class="fa fa-smile-o m-r-sm"></i>Celebrate </a> <a href ng-click=stop_fw() ng-show=fw_active class="btn btn-lg btn-danger bold"> <i class="fa fa-meh-o m-r-sm"></i>Make it Stop </a> </div> </div> </div> </div> '),e.put("marketing/mailout.add.html",'<div class=wrapper ng-controller=MailoutAddCtrl ng-init="app.fullheight=false;"> <form name=Form ng-submit=submit() class=form-horizontal novalidate ng-disabled=is_saving> <div class=settings-wrapper ng-if=!hide_all> <h2 class=m-t-none> <a ui-sref=marketing.mailout class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> {{is_editing ? \'Edit\' : \'New\'}} Mailout Campaign </h2> <div class=row> <div class=col-md-7> <div class="panel panel-default"> <div class=panel-heading>Details</div> <div class=panel-body> <div class=form-group> <label class="col-sm-4 control-label bold required">Campaign Title</label> <div class=col-sm-8> <input type=text class=form-control name=name ng-model=item.name required> </div> </div> <div class=form-group> <label class="col-sm-4 control-label bold required">Email Subject</label> <div class=col-sm-8> <input type=text class=form-control name=subject ng-model=item.subject required> </div> </div> <summernote ng-model=item.message height=400 required></summernote> </div> </div> </div> <div class=col-md-5> <div class="panel panel-default m-b"> <div class=panel-heading>Receivers</div> <div class=panel-body> <div class="btn-group m-b"> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'clients\'">Clients</label> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'leads\'">Leads</label> </div> <div class="form-group m-b-sm" ng-show="item.type==\'leads\'"> <label class="col-sm-4 control-label">Status</label> <div class=col-sm-8> <select class=form-control ng-model=item.leads_group select-picker title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="lg in assets_leads_groups" value={{lg.ID}}>{{lg.name}}</option> </select> </div> </div> <div class="form-group m-b-sm" ng-show="item.type==\'clients\'"> <label class="col-sm-4 control-label">Group</label> <div class=col-sm-8> <select class=form-control ng-model=item.clients_group select-picker title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="cg in assets_groups" value={{cg.ID}}>{{cg.name}}</option> </select> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-4 control-label">Reference List</label> <div class=col-sm-8> <select class=form-control ng-model=item.reference select-picker title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="reference in assets_references" value={{reference.ID}}> {{reference.name}} </option> </select> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-4 control-label">Broker</label> <div class=col-sm-8> <select class=form-control ng-model=item.team select-picker title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="team in assets_teams" value={{team.ID}}> {{team.name}} </option> </select> </div> </div> <div class="form-group m-b-sm" ng-show="item.type==\'leads\'"> <label class="col-sm-4 control-label" help="Interested in Company / Insurer">Company</label> <div class=col-sm-8> <select select-picker class=form-control ng-model=item.interest_company title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="company in assets_companies" value={{company.ID}}>{{company.name}}</option> </select> </div> </div> <div class="form-group m-b-sm" ng-show="item.type==\'leads\'"> <label class="col-sm-4 control-label" help="Interested in Product">Product</label> <div class=col-sm-8> <select select-picker class=form-control ng-model=item.interest_product title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="product in assets_products" data-icon="{{product.icon}} m-r-sm" value={{product.ID}}>{{product.name}}</option> </select> </div> </div> <div class="form-group m-b-sm" ng-show="item.type==\'leads\'"> <label class="col-sm-4 control-label">Media Type</label> <div class=col-sm-8> <select class=form-control ng-model=item.media_type select-picker title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="mt in assets_media_types" value={{mt.ID}}>{{mt.name}}</option> </select> </div> </div> <div class="form-group m-b-none p-t-sm b-t"> <label class="col-sm-4 control-label"> <checkbox ng-model=item.dob></checkbox> Birthday at </label> <div class=col-sm-8> <div class=input-group> <input type=text class=form-control ng-model=item.dob_date uib-datepicker-popup=mediumDate is-open=dob_date_o ng-focus="dob_date_o=true" ng-disabled=!item.dob> <span class=input-group-addon ng-click="dob_date_o=true"> <i class="fa fa-calendar-o"></i> </span> </div> </div> </div> </div> <div class=panel-footer> Total receivers: <mini-loader class="m-l-sm m-r-sm" ng-show=loading_count></mini-loader> <strong>{{item.receivers_count}}</strong> <span class=m-l-sm ng-if="item.receivers_count > 0"> <a class="btn btn-sm btn-info bold" href ng-click=Modals.mailout_receivers(item)>Preview Receivers</a> </span> </div> </div> <div class="panel panel-default m-b"> <div class=panel-heading>Delivery</div> <div class=panel-body> <div class=btn-group> <label class="btn btn-default" ng-model=item.send_type uib-btn-radio="\'now\'">Send Now</label> <label class="btn btn-default" ng-model=item.send_type uib-btn-radio="\'later\'">Send Later</label> </div> <div class=m-t ng-show="item.send_type==\'later\'"> <datetimepicker ng-model=item.cron_date date-options=cron_date_options hour-step=1 minute-step=1 show-meridian=true date-format=mediumDate readonly-date=true readonly-time=false show-spinners=true date-opened=cron_date_o datepicker-append-to-body=false></datetimepicker> </div> </div> <div class=panel-footer> <button type=submit class="btn btn-lg btn-success bold" ng-if="item.send_type==\'now\'" ng-disabled="!Form.$valid || item.receivers_count == 0 || is_saving"> <mini-loader class=m-r ng-if=is_saving></mini-loader> Send Now </button> <button type=submit class="btn btn-lg btn-info bold" ng-if="item.send_type==\'later\'" ng-disabled="!Form.$valid || item.receivers_count == 0 || is_saving"> <mini-loader class=m-r ng-if=is_saving></mini-loader> Schedule </button> </div> </div> </div> </div> </div> </form> </div> '),e.put("marketing/mailout.html",'<div class=wrapper ng-controller=MailoutCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <div class=row> <div class=col-sm-8> <h2 class=m-t-none> <mini-loader ng-show=isLoading class="m-r-sm text-sm"></mini-loader> Mailout Campaigns <a ui-sref=marketing.mailout_add class="btn btn-success bold m-r">Add New Campaign</a> </h2> </div> <div class="col-sm-4 text-right"> <a href ng-click=delete_all() ng-if=selected.length class="btn btn-danger bold">Delete ({{selected.length}})</a> </div> </div> <table class="table table-striped" st-table=items st-pipe=fetch st-refresh=campaigns-touched> <thead> <tr class=thead_dark> <th width=20 st-select-all=items selected=selected></th> <th st-sort=name>Title</th> <th st-sort=status>Status</th> <th st-sort=sent>Stats</th> <th st-sort=timestamp>Date</th> <th> <input st-search placeholder="Search Campaigns" class="form-control rounded" type=text> </th> </tr> </thead> <tbody> <tr ng-if="!items.length && !isLoading"> <td colspan=9> <div class="alert alert-warning m-n text-center"> No Records Found </div> </td> </tr> <tr ng-repeat="i in items" class=vmiddle> <td st-select=i selected=selected></td> <td>{{i.name}}</td> <td class=text-center style=min-width:120px;> <span class="label label-{{get_status(i.status)}}"> {{i.status}} </span> <p class="m-n p-t-sm" ng-if="i.status==\'active\'"> <uib-progressbar type=info class="progress-striped active" max=i.count value=i.sent><i><b>{{i.sent}} / {{i.count}}</b></i></uib-progressbar> </p> <p class="m-n p-t-sm text-sm text-muted" ng-if="i.status==\'finished\'"> {{i.date_finished | unix_date | date:\'mediumDate\'}} @ {{i.date_finished | unix_date | date:\'mediumTime\'}} </p> </td> <td> <div class="btn-group block"> <a href class="btn btn-default btn-label btn-sm">Total</a> <a href class="btn btn-default btn-label btn-sm bold">{{i.count}}</a> <a href class="btn btn-default btn-label btn-sm">Sent</a> <a href class="btn btn-default btn-label btn-sm bold">{{i.sent}}</a> </div> <div class=btn-group> <a href class="btn btn-default btn-label btn-sm">Delivered</a> <a href class="btn btn-default btn-label btn-sm bold">{{i.delivered}}</a> <a href class="btn btn-default btn-label btn-sm">Opened</a> <a href class="btn btn-default btn-label btn-sm bold">{{i.opened}}</a> </div> </td> <td> {{i.timestamp | unix_date | fromNow}} <p class="m-n text-sm text-muted"> {{i.timestamp | unix_date | date:\'mediumDate\'}} @ {{i.timestamp | unix_date | date:\'mediumTime\'}} </p> </td> <td class=text-center> <span uib-dropdown> <a href class="btn btn-default dropdown-toggle p-l-lg p-r-lg bold" uib-dropdown-toggle> Select <span class=caret></span> </a> <ul uib-dropdown-menu class="dropdown-menu right sm"> <li ng-if="i.status != \'active\' && i.status != \'finished\'"> <a ui-sref="marketing.mailout_add({ID: {{i.ID}}})">Edit</a> </li> <li ng-if="i.status != \'active\' && i.status != \'finished\'" class=divider></li> <li ng-if="i.status == \'active\'"><a href ng-click=pause(i)>Pause</a></li> <li><a href ng-click=duplicate(i)>Duplicate</a></li> <li ng-if="i.status == \'finished\' && i.errors"><a href ng-click=Modals.sending_log(i)>Sending Logs</a></li> <li ng-if="i.status != \'active\'" class=divider></li> <li ng-if="i.status != \'active\'"> <a href ng-click=delete(i)>Delete</a> </li> </ul> </span> </td> </tr> </tbody> <tfoot> <tr> <td colspan=9 class=text-center> <div st-pagination st-template=app/pagination.html st-items-by-page=per_page></div> </td> </tr> </tfoot> </table> </div> </div> '),e.put("marketing/sms.add.html",'<div class=wrapper ng-controller=SMSAddCtrl ng-init="app.fullheight=false;"> <form name=Form ng-submit=submit() class=form-horizontal novalidate ng-disabled=is_saving> <div class=settings-wrapper ng-if=!hide_all> <h2 class=m-t-none> <a ui-sref=marketing.sms class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> {{is_editing ? \'Edit\' : \'New\'}} SMS Campaign </h2> <div class=row> <div class=col-md-7> <div class="panel panel-default"> <div class=panel-heading>Details</div> <div class=panel-body> <div class=form-group> <label class="col-sm-4 control-label bold required">Campaign Title</label> <div class=col-sm-8> <input type=text class=form-control name=name ng-model=item.name required> </div> </div> <div class=form-group> <label class="col-sm-4 control-label bold required">Message</label> <div class=col-sm-8> <textarea auto-size name=message ng-model=item.message class="form-control autofocus" style="min-height: 80px;" required ng-class="{\'has-error\': Form.message.$invalid && FormSubmitted}" maxlength=160 ng-trim=false></textarea> <p class="text-muted text-sm bold">{{160 - item.message.length}} characters left</p> </div> </div> <div class="row m-b"> <div class=text-center ng-hide=balance_loaded> <mini-loader></mini-loader> </div> <div class="col-sm-8 col-sm-offset-4" ng-show=balance_loaded> {{balance}} SMS credits left </div> </div> </div> </div> <div class="panel panel-default m-b"> <div class=panel-heading>Delivery</div> <div class=panel-body> <div class=btn-group> <label class="btn btn-default" ng-model=item.send_type uib-btn-radio="\'now\'">Send Now</label> <label class="btn btn-default" ng-model=item.send_type uib-btn-radio="\'later\'">Send Later</label> </div> <div class=m-t ng-show="item.send_type==\'later\'"> <datetimepicker ng-model=item.cron_date date-options=cron_date_options hour-step=1 minute-step=1 show-meridian=true date-format=mediumDate readonly-date=true readonly-time=false show-spinners=true date-opened=cron_date_o datepicker-append-to-body=false></datetimepicker> </div> </div> <div class=panel-footer> <button type=submit class="btn btn-lg btn-success bold" ng-if="item.send_type==\'now\'" ng-disabled="!Form.$valid || item.receivers_count == 0 || is_saving || item.receivers_count > balance"> <mini-loader class=m-r ng-if=is_saving></mini-loader> Send Now </button> <button type=submit class="btn btn-lg btn-info bold" ng-if="item.send_type==\'later\'" ng-disabled="!Form.$valid || item.receivers_count == 0 || is_saving || item.receivers_count > balance"> <mini-loader class=m-r ng-if=is_saving></mini-loader> Schedule </button> </div> </div> </div> <div class=col-md-5> <div class="panel panel-default m-b"> <div class=panel-heading>Receivers</div> <div class=panel-body> <div class="btn-group m-b"> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'clients\'">Clients</label> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'leads\'">Leads</label> </div> <div class="form-group m-b-sm" ng-show="item.type==\'leads\'"> <label class="col-sm-4 control-label">Status</label> <div class=col-sm-8> <select class=form-control ng-model=item.leads_group select-picker title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="lg in assets_leads_groups" value={{lg.ID}}>{{lg.name}}</option> </select> </div> </div> <div class="form-group m-b-sm" ng-show="item.type==\'clients\'"> <label class="col-sm-4 control-label">Group</label> <div class=col-sm-8> <select class=form-control ng-model=item.clients_group select-picker title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="cg in assets_groups" value={{cg.ID}}>{{cg.name}}</option> </select> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-4 control-label">Reference List</label> <div class=col-sm-8> <select class=form-control ng-model=item.reference select-picker title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="reference in assets_references" value={{reference.ID}}> {{reference.name}} </option> </select> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-4 control-label">Broker</label> <div class=col-sm-8> <select class=form-control ng-model=item.team select-picker title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="team in assets_teams" value={{team.ID}}> {{team.name}} </option> </select> </div> </div> <div class="form-group m-b-sm" ng-show="item.type==\'leads\'"> <label class="col-sm-4 control-label" help="Interested in Company / Insurer">Company</label> <div class=col-sm-8> <select select-picker class=form-control ng-model=item.interest_company title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="company in assets_companies" value={{company.ID}}>{{company.name}}</option> </select> </div> </div> <div class="form-group m-b-sm" ng-show="item.type==\'leads\'"> <label class="col-sm-4 control-label" help="Interested in Product">Product</label> <div class=col-sm-8> <select select-picker class=form-control ng-model=item.interest_product title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="product in assets_products" data-icon="{{product.icon}} m-r-sm" value={{product.ID}}>{{product.name}}</option> </select> </div> </div> <div class="form-group m-b-sm" ng-show="item.type==\'leads\'"> <label class="col-sm-4 control-label">Media Type</label> <div class=col-sm-8> <select class=form-control ng-model=item.media_type select-picker title="-- ALL --"> <option value>-- ALL --</option> <option ng-repeat="mt in assets_media_types" value={{mt.ID}}>{{mt.name}}</option> </select> </div> </div> <div class="form-group m-b-none p-t-sm b-t"> <label class="col-sm-4 control-label"> <checkbox ng-model=item.dob></checkbox> Birthday at </label> <div class=col-sm-8> <div class=input-group> <input type=text class=form-control ng-model=item.dob_date uib-datepicker-popup=mediumDate is-open=dob_date_o ng-focus="dob_date_o=true" ng-disabled=!item.dob> <span class=input-group-addon ng-click="dob_date_o=true"> <i class="fa fa-calendar-o"></i> </span> </div> </div> </div> </div> <div class=panel-footer> Total receivers: <mini-loader class="m-l-sm m-r-sm" ng-show=loading_count></mini-loader> <strong>{{item.receivers_count}}</strong> <span class=m-l-sm ng-if="item.receivers_count > 0"> <a class="btn btn-sm btn-info bold" href ng-click=Modals.sms_receivers(item)>Preview Receivers</a> </span> </div> </div> </div> </div> </div> </form> </div> '),e.put("marketing/sms.html",'<div class=wrapper ng-controller=SMSCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <div class=row> <div class=col-sm-8> <h2 class=m-t-none> <mini-loader ng-show=isLoading class="m-r-sm text-sm"></mini-loader> SMS Campaigns <a ui-sref=marketing.sms_add class="btn btn-success bold m-r">Add New Campaign</a> </h2> </div> <div class="col-sm-4 text-right"> <a href ng-click=delete_all() ng-if=selected.length class="btn btn-danger bold">Delete ({{selected.length}})</a> </div> </div> <table class="table table-striped" st-table=items st-pipe=fetch st-refresh=campaigns-touched> <thead> <tr class=thead_dark> <th width=20 st-select-all=items selected=selected></th> <th st-sort=name>Title</th> <th st-sort=status>Status</th> <th st-sort=sent>Stats</th> <th st-sort=timestamp>Date</th> <th> <input st-search placeholder="Search Campaigns" class="form-control rounded" type=text> </th> </tr> </thead> <tbody> <tr ng-if="!items.length && !isLoading"> <td colspan=9> <div class="alert alert-warning m-n text-center"> No Records Found </div> </td> </tr> <tr ng-repeat="i in items" class=vmiddle> <td st-select=i selected=selected></td> <td>{{i.name}}</td> <td class=text-center style=min-width:120px;> <span class="label label-{{get_status(i.status)}}"> {{i.status}} </span> <p class="m-n p-t-sm" ng-if="i.status==\'active\'"> <uib-progressbar type=info class="progress-striped active" max=i.count value=i.sent><i><b>{{i.sent}} / {{i.count}}</b></i></uib-progressbar> </p> <p class="m-n p-t-sm text-sm text-muted" ng-if="i.status==\'finished\'"> {{i.date_finished | unix_date | date:\'mediumDate\'}} @ {{i.date_finished | unix_date | date:\'mediumTime\'}} </p> </td> <td> <div class="btn-group block"> <a href class="btn btn-default btn-label btn-sm">Total</a> <a href class="btn btn-default btn-label btn-sm bold">{{i.count}}</a> <a href class="btn btn-default btn-label btn-sm">Sent</a> <a href class="btn btn-default btn-label btn-sm bold">{{i.sent}}</a> </div> <div class=btn-group> <a href class="btn btn-default btn-label btn-sm">Delivered</a> <a href class="btn btn-default btn-label btn-sm bold">{{i.delivered}}</a> <a href class="btn btn-default btn-label btn-sm">Opened</a> <a href class="btn btn-default btn-label btn-sm bold">{{i.opened}}</a> </div> </td> <td> {{i.timestamp | unix_date | fromNow}} <p class="m-n text-sm text-muted"> {{i.timestamp | unix_date | date:\'mediumDate\'}} @ {{i.timestamp | unix_date | date:\'mediumTime\'}} </p> </td> <td class=text-center> <span uib-dropdown> <a href class="btn btn-default dropdown-toggle p-l-lg p-r-lg bold" uib-dropdown-toggle> Select <span class=caret></span> </a> <ul uib-dropdown-menu class="dropdown-menu right sm"> <li ng-if="i.status != \'active\' && i.status != \'finished\'"> <a ui-sref="marketing.sms_add({ID: {{i.ID}}})">Edit</a> </li> <li ng-if="i.status != \'active\' && i.status != \'finished\'" class=divider></li> <li ng-if="i.status == \'active\'"><a href ng-click=pause(i)>Pause</a></li> <li><a href ng-click=duplicate(i)>Duplicate</a></li> <li ng-if="i.status == \'finished\' && i.errors"><a href ng-click=Modals.sending_log(i)>Sending Logs</a></li> <li ng-if="i.status != \'active\'" class=divider></li> <li ng-if="i.status != \'active\'"> <a href ng-click=delete(i)>Delete</a> </li> </ul> </span> </td> </tr> </tbody> <tfoot> <tr> <td colspan=9 class=text-center> <div st-pagination st-template=app/pagination.html st-items-by-page=per_page></div> </td> </tr> </tfoot> </table> </div> </div> '),
e.put("mobile/accounting.html","<div class=settings-wrapper ng-init=\"app.fullheight=false;\"> <h4 ng-if=\"user.can('admin') || user.can('accountant')\">Accounting</h4> <div class=clearfix ng-if=\"user.can('admin') || user.can('accountant')\"> <a ui-sref=accounting.invoices class=settings-tile> <div class=icon><i class=icon-book-open></i></div> Invoices </a> <a ui-sref=accounting.transactions class=settings-tile> <div class=icon><i class=icon-list></i></div> Transactions </a> <a ui-sref=accounting.statement class=settings-tile> <div class=icon><i class=icon-equalizer></i></div> Acc Statement </a> </div> <h4>Create New</h4> <div class=clearfix> <a href ng-click=Modals.payment() class=settings-tile ng-if=\"user.can('admin') || user.can('accountant')\"> <div class=icon><i class=icon-plus></i></div> Payment </a> <a href ng-click=Modals.expense() class=settings-tile ng-if=\"user.can('admin') || user.can('accountant')\"> <div class=icon><i class=icon-minus></i></div> Expence </a> <a href ng-click=Modals.invoice() class=settings-tile ng-if=\"user.can('admin') || user.can('accountant')\"> <div class=icon><i class=icon-book-open></i></div> Invoice </a> </div> </div> "),e.put("mobile/add.html","<div class=settings-wrapper ng-init=\"app.fullheight=false;\"> <h4>Create New</h4> <div class=clearfix> <a href ng-click=Modals.leads(true) class=settings-tile> <div class=icon><i class=icon-user-follow></i></div> Lead </a> <a href ng-click=Modals.clients(true) class=settings-tile> <div class=icon><i class=icon-people></i></div> Client </a> <a href ng-click=Modals.policies(true) class=settings-tile> <div class=icon><i class=icon-umbrella></i></div> Policy </a> <a href ng-click=Modals.claims(true) class=settings-tile> <div class=icon><i class=icon-shield></i></div> Claim </a> </div> <h4 ng-if=\"user.can('admin') || user.can('accountant')\">Accounting</h4> <div class=clearfix ng-if=\"user.can('admin') || user.can('accountant')\"> <a href ng-click=Modals.payment() class=settings-tile> <div class=icon><i class=icon-plus></i></div> Payment </a> <a href ng-click=Modals.expense() class=settings-tile> <div class=icon><i class=icon-minus></i></div> Expence </a> <a href ng-click=Modals.invoice() class=settings-tile> <div class=icon><i class=icon-book-open></i></div> Invoice </a> </div> </div> "),e.put("modals/calc.html",'<div class="calc noselect" ng-controller=CalcController bn-document-keypress=handleKeypress($event)> <div class=screen> <div class=screen_help> <span class=pointer clipboard text=calcInput on-copied=onCopy()>COPY</span> </div> <div class=screen_calc>{{calcInput}}</div> </div> <div class="buttonpad clearfix">  <a class=top ng-click=clearCalc()>C</a> <a class=top ng-click=changeSign()>&plusmn;</a> <a class="top del" ng-click=del()>DEL</a> <a class="color last" ng-click="acceptInput(\'/\')">&divide;</a> <a ng-click=acceptInput(7)>7</a> <a ng-click=acceptInput(8)>8</a> <a ng-click=acceptInput(9)>9</a> <a class="color last" ng-click="acceptInput(\'*\')">&times;</a> <a ng-click=acceptInput(4)>4</a> <a ng-click=acceptInput(5)>5</a> <a ng-click=acceptInput(6)>6</a> <a class="color last" ng-click="acceptInput(\'-\')">&minus;</a> <a ng-click=acceptInput(1)>1</a> <a ng-click=acceptInput(2)>2</a> <a ng-click=acceptInput(3)>3</a> <a class="color last" ng-click="acceptInput(\'+\')">&plus;</a> <a class="zero double" ng-click=acceptInput(0)>0</a> <a ng-click="acceptInput(\'.\')">.</a> <a class="color last" ng-click=doMath()>=</a> </div> </div> '),e.put("modals/currency.html",'<div ng-controller=ModalCurrencyCtrl><div class=modal-body> <div class="container-fluid bg-black lter text-white p-b"> <h2 class="text-center m-b-none m-t-xs">Currency Calculator</h2> <p class="text-center text-xs m-b-none m-t-xs"> The currency data is from {{currencyData.timestamp | unix_date | date:\'mediumDate\'}} </p> </div> <div class="container-fluid bg-light p-t-xs text-sm"> <div class=row> <div class=col-xs-4> <div class=form-group> <label class=bold>Cash amount</label> <input class="form-control auto-focus" id=currency1 ng-change="currencyChanged(moneyAmount, selectedCur)" ng-maxlength=8 ng-model=moneyAmount placeholder="type amount" step=0.01 type=number> </div> </div> <div class=col-xs-8> <div class=form-group> <label class=bold>Currency</label> <select select-picker class=form-control ng-change="currencyChanged(moneyAmount, selectedCur)" ng-model=selectedCur required data-live-search=true> <option value={{item.currency}} ng-repeat="item in parsedList" data-subtext={{item.currency}}>{{item.name}}</option> </select> </div> </div> </div> </div> <div class="bg-light dker p p-t-xs p-b-xs" ng-show=currencyList[0]> <input type=text class=form-control ng-model=query placeholder="Filter Results"> </div> <div id=infoText ng-hide=currencyList[0]> <div id=textSuccess> Type in the cash amount and choose your currency to see the exchange rates! </div> <br> <i class="glyphicon glyphicon-info-sign"></i> </div> <div id=currencyList ng-show=currencyList[0]> <div ng-class-even="\'evenCurrencyStyle\'" ng-class-odd="\'oddCurrencyStyle\'" ng-repeat="curr in currencyList | filter:query | myFormat: selectedCur" class="currency-item hover-anchor"> <b>{{curr.base}}</b> {{curr.amount}} = <b>{{curr.currency}}</b> {{curr.rate}} <span class="m-l-xs text-sm text-muted"> {{curr.name}} </span> <span class="pull-right hover-action pointer" uib-tooltip=Copy clipboard text=curr.rate on-copied=onCopy()><i class="fa fa-clipboard"></i></span> </div> </div> </div></div> '),e.put("modals/date-format.html",'<div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>New Clients Group</h4> </div> <div class=modal-body> <table class="table table-striped"> <thead> <tr> <th>format character</th> <th>Description</th> <th>Example returned values</th> </tr> </thead> <tbody class=tbody> <tr> <td style="text-align: center;"><em class=emphasis>Day</em> </td> <td>---</td> <td>---</td> </tr> <tr> <td><em>d</em> </td> <td>Day of the month, 2 digits with leading zeros</td> <td><em>01</em> to <em>31</em> </td> </tr> <tr> <td><em>D</em> </td> <td>A textual representation of a day, three letters</td> <td><em>Mon</em> through <em>Sun</em> </td> </tr> <tr> <td><em>j</em> </td> <td>Day of the month without leading zeros</td> <td><em>1</em> to <em>31</em> </td> </tr> <tr> <td><em>l</em> (lowercase \'L\')</td> <td>A full textual representation of the day of the week</td> <td><em>Sunday</em> through <em>Saturday</em> </td> </tr> <tr> <td><em>N</em> </td> <td>ISO-8601 numeric representation of the day of the week (added in PHP 5.1.0)</td> <td><em>1</em> (for Monday) through <em>7</em> (for Sunday)</td> </tr> <tr> <td><em>S</em> </td> <td>English ordinal suffix for the day of the month, 2 characters</td> <td><em>st</em> , <em>nd</em> , <em>rd</em> or <em>th</em> . Works well with <em>j</em> </td> </tr> <tr> <td><em>w</em> </td> <td>Numeric representation of the day of the week</td> <td><em>0</em> (for Sunday) through <em>6</em> (for Saturday)</td> </tr> <tr> <td><em>z</em> </td> <td>The day of the year (starting from 0)</td> <td><em>0</em> through <em>365</em> </td> </tr> <tr> <td style="text-align: center;"><em class=emphasis> Week</em> </td> <td>---</td> <td>---</td> </tr> <tr> <td><em>W</em> </td> <td>ISO-8601 week number of year, weeks starting on Monday</td> <td>Example: <em>42</em> (the 42nd week in the year)</td> </tr> <tr> <td style="text-align: center;"><em class=emphasis> Month</em> </td> <td>---</td> <td>---</td> </tr> <tr> <td><em>F</em> </td> <td>A full textual representation of a month, such as January or March</td> <td><em>January</em> through <em>December</em> </td> </tr> <tr> <td><em>m</em> </td> <td>Numeric representation of a month, with leading zeros</td> <td><em>01</em> through <em>12</em> </td> </tr> <tr> <td><em>M</em> </td> <td>A short textual representation of a month, three letters</td> <td><em>Jan</em> through <em>Dec</em> </td> </tr> <tr> <td><em>n</em> </td> <td>Numeric representation of a month, without leading zeros</td> <td><em>1</em> through <em>12</em> </td> </tr> <tr> <td><em>t</em> </td> <td>Number of days in the given month</td> <td><em>28</em> through <em>31</em> </td> </tr> <tr> <td style="text-align: center;"><em class=emphasis> Year</em> </td> <td>---</td> <td>---</td> </tr> <tr> <td><em>L</em> </td> <td>Whether it\'s a leap year</td> <td><em>1</em> if it is a leap year, <em>0</em> otherwise.</td> </tr> <tr> <td><em>o</em> </td> <td>ISO-8601 week-numbering year. This has the same value as <em>Y</em> , except that if the ISO week number ( <em>W</em> ) belongs to the previous or next year, that year is used instead. </td> <td>Examples: <em>1999</em> or <em>2003</em> </td> </tr> <tr> <td><em>Y</em> </td> <td>A full numeric representation of a year, 4 digits</td> <td>Examples: <em>1999</em> or <em>2003</em> </td> </tr> <tr> <td><em>y</em> </td> <td>A two digit representation of a year</td> <td>Examples: <em>99</em> or <em>03</em> </td> </tr> <tr> <td style="text-align: center;"><em class=emphasis> Time</em> </td> <td>---</td> <td>---</td> </tr> <tr> <td><em>a</em> </td> <td>Lowercase Ante meridiem and Post meridiem</td> <td><em>am</em> or <em>pm</em> </td> </tr> <tr> <td><em>A</em> </td> <td>Uppercase Ante meridiem and Post meridiem</td> <td><em>AM</em> or <em>PM</em> </td> </tr> <tr> <td><em>B</em> </td> <td>Swatch Internet time</td> <td><em>000</em> through <em>999</em> </td> </tr> <tr> <td><em>g</em> </td> <td>12-hour format of an hour without leading zeros</td> <td><em>1</em> through <em>12</em> </td> </tr> <tr> <td><em>G</em> </td> <td>24-hour format of an hour without leading zeros</td> <td><em>0</em> through <em>23</em> </td> </tr> <tr> <td><em>h</em> </td> <td>12-hour format of an hour with leading zeros</td> <td><em>01</em> through <em>12</em> </td> </tr> <tr> <td><em>H</em> </td> <td>24-hour format of an hour with leading zeros</td> <td><em>00</em> through <em>23</em> </td> </tr> <tr> <td><em>i</em> </td> <td>Minutes with leading zeros</td> <td><em>00</em> to <em>59</em> </td> </tr> <tr> <td><em>s</em> </td> <td>Seconds, with leading zeros</td> <td><em>00</em> through <em>59</em> </td> </tr> <tr> <td><em>u</em> </td> <td>Microseconds.</td> <td>Example: <em>654321</em> </td> </tr> <tr> <td><em>v</em> </td> <td>Milliseconds. Same note applies as for <em>u</em> .</td> <td>Example: <em>654</em> </td> </tr> <tr> <td style="text-align: center;"><em class=emphasis>Timezone</em> </td> <td>---</td> <td>---</td> </tr> <tr> <td><em>e</em> </td> <td>Timezone identifier</td> <td>Examples: <em>UTC</em> , <em>GMT</em> , <em>Atlantic/Azores</em> </td> </tr> <tr> <td><em>I</em> (capital i)</td> <td>Whether or not the date is in daylight saving time</td> <td><em>1</em> if Daylight Saving Time, <em>0</em> otherwise.</td> </tr> <tr> <td><em>O</em> </td> <td>Difference to Greenwich time (GMT) in hours</td> <td>Example: <em>+0200</em> </td> </tr> <tr> <td><em>P</em> </td> <td>Difference to Greenwich time (GMT) with colon between hours and minutes</td> <td>Example: <em>+02:00</em> </td> </tr> <tr> <td><em>T</em> </td> <td>Timezone abbreviation</td> <td>Examples: <em>EST</em> , <em>MDT</em> ...</td> </tr> <tr> <td><em>Z</em> </td> <td>Timezone offset in seconds. The offset for timezones west of UTC is always negative, and for those east of UTC is always positive.</td> <td><em>-43200</em> through <em>50400</em> </td> </tr> <tr> <td style="text-align: center;"><em class=emphasis>Full Date/Time</em> </td> <td>---</td> <td>---</td> </tr> <tr> <td><em>c</em> </td> <td>ISO 8601 date</td> <td>2004-02-12T15:19:21+00:00</td> </tr> <tr> <td><em>r</em> </td> <td>RFC 2822 formatted date</td> <td>Example: <em>Thu, 21 Dec 2000 16:01:07 +0200</em> </td> </tr> <tr> <td><em>U</em> </td> <td>Seconds since the Unix Epoch (January 1 1970 00:00:00 GMT)</td> <td></td> </tr> </tbody> </table> </div> '),e.put("modals/mailout-receivers.html",'<div ng-controller=ModalMailoutReceiversCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Preview Mailout Campaign Receivers</h4> </div> <div class=modal-body> <main-loader ng-show=is_loading></main-loader> <table class="table table-striped" st-table=safeitems st-safe-src=items ng-hide=is_loading> <thead> <tr class=thead_dark> <th st-sort=name>Name</th> <th st-sort=email>Email</th> </tr> </thead> <tbody class=tbody> <tr><td colspan=2> <input st-search placeholder=Search class="form-control rounded" type=text> </td></tr> <tr ng-repeat="i in safeitems track by $index"> <td> {{i.name}} <span ng-if=i.company class="text-muted m-l"> ({{i.company}}) </span> </td> <td> <i class="m-r fa fa-circle text-{{is_email(i.email) ? \'success\' : \'danger\'}}"></i> {{i.email}} </td> </tr> </tbody> <tfoot> <tr> <td colspan=3 class="text-center text-sm"> <div st-pagination st-template=app/pagination.html st-items-by-page=per_page></div> </td> </tr> </tfoot> </table> </div> </div> '),e.put("modals/sending-log.html",'<div> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Sending Logs</h4> </div> <div class=modal-body> <texatrea style="min-height: 400px;" class=form-control>{{params.errors}}</texatrea> </div> </div> '),e.put("modals/sms-receivers.html",'<div ng-controller=ModalSMSReceiversCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Preview SMS Campaign Receivers</h4> </div> <div class=modal-body> <main-loader ng-show=is_loading></main-loader> <table class="table table-striped" st-table=safeitems st-safe-src=items ng-hide=is_loading> <thead> <tr class=thead_dark> <th st-sort=name>Name</th> <th st-sort=email>Mobile</th> </tr> </thead> <tbody class=tbody> <tr><td colspan=2> <input st-search placeholder=Search class="form-control rounded" type=text> </td></tr> <tr ng-repeat="i in safeitems track by $index"> <td> {{i.name}} <span ng-if=i.company class="text-muted m-l"> ({{i.company}}) </span> </td> <td> <i class="m-r fa fa-circle text-{{is_phone(i.mobile) ? \'success\' : \'danger\'}}"></i> {{is_phone(i.mobile) || \'---\'}} </td> </tr> </tbody> <tfoot> <tr> <td colspan=3 class="text-center text-sm"> <div st-pagination st-template=app/pagination.html st-items-by-page=per_page></div> </td> </tr> </tfoot> </table> </div> </div> '),e.put("mods/files.html",'<div ng-controller=ModFilesCtrl ng-init="vm.show_upload=false"> <main-loader ng-hide=loaded></main-loader> <div class=row ng-show=loaded> <div class=col-sm-12> <a href class="btn btn-info bold" ng-click="vm.show_upload = !vm.show_upload"> <i class="fa fa-plus m-r"></i>Add Files </a> <div class="btn-group pull-right"> <a href class="btn btn-default btn-label bold" ng-disabled=!temps.length>{{temps.length}}</a> <a href class="btn btn-default bold" ng-click="Modals.email_file(temps, obj, obj_id)" ng-disabled=!temps.length> <i class="fa fa-paper-plane m-r-sm"></i> Send </a> <a href class="btn btn-default bold" ng-click=delete() ng-disabled=!temps.length> <i class="fa fa-trash-o"></i> </a> </div> </div> <div class="col-sm-12 m-t m-b" ng-if=vm.show_upload> <div> <div ng-model=files name=files class="drop-box m-t" style=width:80%; ngf-drop ngf-select ngf-drag-over-class="\'dragover\'" ngf-multiple=true ngf-allow-dir=true accept=.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.rtf,.txt,video/*,image/*,.csv,.zip,.rar,.7z ngf-pattern="\'.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.rtf,.txt,video/*,image/*,.csv,.zip,.rar,.7z\'" ngf-max-size=20MB ngf-change="upload($files, $invalidFiles)"> <h3>Click or Drop your files here</h3> <uib-progressbar ng-show="progress>0" value=progress type=info></uib-progressbar> <p ng-repeat="f in errFiles" class="alert alert-warning">{{f.name}} was not uploaded. reason: {{f.$error}} is {{f.$errorParam}}</p> </div> </div> </div> </div> <table st-table=fileItems st-safe-src=items class="table noselect" ng-show=loaded> <thead> <tr> <th width=40></th> <th st-sort=name> Name <span class="text-muted m-l-sm" uib-tooltip="Double click to Edit"> <i class="fa fa-question"></i> </span> </th> <th st-sort=size>Size</th> <th st-sort=date>Date</th> <th><input st-search placeholder=Search class="form-control rounded" type=text></th> </tr> </thead> <tbody> <tr ng-if=!fileItems.length> <td colspan=5> <div class="alert alert-default m-n text-center"> No Files Found <a href ng-click="vm.show_upload=!vm.show_upload" class=m-l-xs>Add Files</a> </div> </td> </tr> <tr ng-repeat="row in fileItems" class="vmiddle b-b" ng-click="selectOrUnselect(row, $event)" ng-right-click="selectOrUnselect(row, $event)" ng-class="{selected: isSelected(row)}"> <td width=40 class="text-center p-r-none"> <a href={{row.url}} target=_blank> <file-icon file={{row.file}} url={{row.url}}></file-icon> </a> </td> <td class=pos-rlt> <h4 ng-hide=row.editing ng-dblclick=edit(row) class=m-n>{{row.name}}</h4> <a ng-hide=row.editing href class="text-muted text-xs m-r-sm" ng-if=is_image(row.file) ng-click=lightbox(row.url)>Preview</a> <a ng-hide=row.editing href ng-click=downloadFile(row.url) class="text-muted text-xs">Download</a> <input class="form-control pos-abt" key-enter=doneEditing(row) ng-model=row.name ng-show=row.editing ui-focus=row.editing style=top:10px;left:0;right:0; type=text> </td> <td>{{row.size | filesize}}</td> <td>{{row.date | date}}</td> <td></td> </tr> </tbody> <tfoot> <tr> <td colspan=5 class=text-center> <div st-pagination st-items-by-page=10></div> </td> </tr> </tfoot> </table> </div> '),e.put("mods/tasks.html",'<div class=todos ng-controller=ModTasksCtrl> <div> <ul class="nav nav-xs nav-pills" ng-show=tasks.length> <li ng-class="{\'active\': status==\'\'}"> <a href ng-click="switch(\'\')">All</a> </li> <li ng-class="{\'active\': status==\'active\'}"> <a href ng-click="switch(\'active\')">Active</a> </li> <li ng-class="{\'active\': status==\'completed\'}"> <a href ng-click="switch(\'completed\')">Completed</a> </li> </ul> <form id=todo-form ng-submit=add()> <div class=input-group> <input autofocus class="form-control w-75p" ng-model=newTitle placeholder="What needs to be done?"> <input class="form-control w-25p needsclick" ng-model=newDat type=text uib-datepicker-popup=dd-MM-yyyy is-open=dat.opened ng-focus="dat.opened=true" readonly placeholder=When> <span class=input-group-btn> <button type=submit class="btn btn-info"> <i class="fa fa-plus m-r"></i>Add Task </button> </span> </div> </form> <ul class="list-group m-n"> <li class=list-group-item ng-class="{\'completed text-l-t\': task.completed == \'1\', editing: task == editedTask}" ng-repeat="task in tasks | filter:statusFilter track by $index"> <div class=hover-anchor ng-dblclick=edit(task) ng-hide=task.editedTask> <a class="text-muted hover-action" ng-click=remove(task)> <i class="icon-close text-md m-t-xs pull-right"></i> </a> <label class="i-checks i-checks-sm"> <input ng-change=taskCompleted(task) ng-model=task.completed type=checkbox><i></i> </label> <span ng-dblclick=edit(task)> {{task.name}} <span class="text-muted text-sm m-l m-r pull-right">{{task.dat | date}}</span> </span> </div> <form ng-show=task.editedTask ng-submit=doneEditing(task)> <div class=input-group> <input class="form-control w-75p" ng-model=task.name> <input class="form-control w-25p" ng-model=task.dat type=text uib-datepicker-popup=dd-MM-yyyy is-open=task.dat.opened ng-focus="task.dat.opened=true" readonly placeholder=When> <span class=input-group-btn> <button type=submit class="btn btn-info">Save</button> </span> <span class=input-group-btn> <button ng-click="task.editedTask=false" type=button class="btn btn-default">Cancel</button> </span> </div> </form> </li> </ul> </div> <div class=todo-footer ng-show=tasks.length> <div class=text-center> <strong class=m-l> {{remainingCount}} </strong> <ng-pluralize count=remainingCount when="{ one: \'item left\', other: \'items left\' }"> </ng-pluralize> </div> </div> <p class="text-muted text-sm italic p-md" ng-show=tasks.length> Double click on each item to edit </p> </div> '),e.put("settings/account.html",'<div ng-controller=SettingsAccountCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <a ng-if="user.is_admin==\'1\'" ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> <span class="thumb-sm avatar"> <img ng-src={{user.image}}> </span> My Account </h2> <div class="row m-b"> <div class=col-md-6> <div class="panel panel-default"> <div class=panel-heading>Contact Information</div> <div class="panel-body form-horizontal"> <div class="alert alert-danger" ng-if=contact_form_error>{{contact_form_error_text}}</div> <form name=Form ng-submit=save_contact() novalidate> <div class=form-group> <label class="col-sm-4 control-label">First Name</label> <div class=col-sm-8> <input type=text class=form-control ng-model=user.first_name name=first_name required minlength=2 ng-class="{\'has-error\': Form.first_name.$invalid}"> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Last Name</label> <div class=col-sm-8> <input type=text class=form-control ng-model=user.last_name name=last_name minlength=2 required ng-class="{\'has-error\': Form.last_name.$invalid}"> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Mobile</label> <div class=col-sm-8> <input type=text class=form-control ng-model=user.phone name=phone minlength=8 required ng-class="{\'has-error\': Form.phone.$invalid}"> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Photo</label> <div class=col-sm-8> <span class="thumb-sm avatar m-r"> <img ng-src={{user.image}}> </span> <a href class="btn btn-default" ng-model=user_img name=user_img ngf-select ngf-multiple=false ngf-allow-dir=true accept=image/* ngf-pattern="\'image/*\'" ngf-max-size=1MB ngf-change="logo_upload($files, $invalidFiles)" ng-disabled="logo_progress>0"><i ng-show="logo_progress>0" class="fa fa-refresh fa-spin m-r"></i>Change</a> <p ng-repeat="f in errFiles" class="alert alert-warning">{{f.name}} was not uploaded. reason: {{f.$error}} is {{f.$errorParam}}</p> </div> </div> <div class=form-group> <label class="col-sm-4 control-label"></label> <div class=col-sm-8> <button type=submit class="btn btn-info" ng-disabled="Form.$invalid || is_saving_contact"> <i ng-show=is_saving_contact class="fa fa-refresh fa-spin m-r"></i>Save </button> </div> </div> </form> </div> </div> </div> <div class=col-md-6> <div class="panel panel-default m-b"> <div class=panel-heading>Email / Password</div> <div class="panel-body form-horizontal"> <div class="alert alert-danger" ng-if=pwd_form_error>{{pwd_form_error_text}}</div> <form name=pwdForm ng-submit=save_pwd() novalidate> <div class=form-group> <label class="col-sm-4 control-label">Current Password</label> <div class=col-sm-8> <input type=password class=form-control ng-model=old_pass name=old_pass required minlength=4 ng-class="{\'has-error\': pwdForm.old_pass.$invalid && is_saving_pwd}"> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Email</label> <div class=col-sm-8> <input type=email class=form-control ng-model=user.email name=email required ng-class="{\'has-error\': pwdForm.email.$invalid && is_saving_pwd}"> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">New Password</label> <div class=col-sm-8> <input type=password class=form-control ng-model=new_pass name=new_pass minlength=4 ng-class="{\'has-error\': pwdForm.new_pass.$invalid}"> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Confirm Password</label> <div class=col-sm-8> <input type=password class=form-control ng-model=new_pass2 name=new_pass2 data-password-verify=new_pass ng-class="{\'has-error\': pwdForm.new_pass2.$invalid}"> <div ng-show=pwdForm.new_pass2.$error.passwordVerify> Passwords don\'t match! </div> </div> </div> <div class=form-group> <label class="col-sm-4 control-label"></label> <div class=col-sm-8> <button type=submit class="btn btn-info" ng-disabled="pwdForm.$invalid || is_saving_pwd"> <i ng-show=is_saving_contact class="fa fa-refresh fa-spin m-r"></i>Save </button> </div> </div> </form> </div> </div> </div> </div> </div> </div> '),e.put("settings/backup.html",'<div ng-controller=SettingsBackupCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <a ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> Backup </h2> <p class="text-lg text-muted m-b"> This page lets you backup all your account data, then restore to earlier versions. </p> <p class="text-md m-b" ng-if=last_backup> Your last backup was performed at: <b>{{last_backup | unix_date | date:\'mediumDate\'}}</b> </p> <p class="text-md m-b" ng-if=last_restore> Your last restore was performed at: <b>{{last_restore | unix_date | date:\'mediumDate\'}}</b> </p> <p class=m-b> <a href ng-click=backup() class="btn btn-lg btn-success bold" ng-class="{\'disabled\': doing_backup}"> Backup Now <mini-loader class=m-l ng-if=doing_backup></mini-loader> </a> <a href ng-click=restore() class="btn btn-lg btn-warning m-l bold" ng-class="{\'disabled\': doing_restore}"> Restore <mini-loader class=m-l ng-if=doing_restore></mini-loader> </a> </p> <p ng-if=backup_url class=m-t-xl> Your backup file is ready, <a href={{backup_url}} target=_blank class="btn btn-default">Download Now</a> </p> </div> </div> '),e.put("settings/banks.html",'<div ng-controller=settingBanksCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <span class="m-r-sm text-sm pull-left" ng-if=isLoading> <mini-loader class=m-t-sm></mini-loader> </span> <a ui-sref=settings.index ng-if=!isLoading class="m-r-sm m-t-sm text-sm pull-left link"> <i class="fa fa-arrow-left"></i> </a> Bank / Cash Accounts <a href ng-click=Modals.bank() class="btn btn-success m-l-sm bold"> <i class="fa fa-plus m-r"></i>Add New </a> </h2> <table class="table table-striped" st-table=safeItems st-safe-src=assets_banks> <thead> <tr class=thead_dark> <th st-sort=name>Name</th> <th st-sort=balance>Balance</th> <th st-sort=account_number>Acc #</th> <th>Contact</th> <th st-sort=date_created>Dates</th> <th><input st-search placeholder=Search class="form-control rounded" type=text></th> </tr> </thead> <tbody> <tr ng-if=!assets_banks.length> <td colspan=9> <div class="alert alert-warning m-n text-center"> No Records Found </div> </td> </tr> <tr ng-repeat="i in safeItems" class="vmiddle hover-anchor"> <td> <i class="fa fa-credit-card m-r" ng-if="i.type==\'bank\'"></i> <i class="fa fa-database m-r" ng-if="i.type==\'cash\'"></i> {{i.name}} <p class=text-muted ng-if=i.description>{{i.description}}</p> </td> <td>{{i.balance | currency}}</td> <td>{{i.account_number}}</td> <td>{{i.contact_person}} {{i.contact_name}}</td> <td class=text-sm> Created: {{i.date_created | unix_date | date:\'mediumDate\'}}<br> Last Edited: {{i.date_edited | unix_date | date:\'mediumDate\'}} </td> <td class=text-center> <span class=dropdown ng-if="i.is_system!=\'1\'"> <a href class="btn btn-default dropdown-toggle p-l-lg p-r-lg bold" data-toggle=dropdown> <span class=m-r-xs>Select</span><span class=caret></span> </a> <ul class=dropdown-menu> <li><a href ng-click=Modals.bank(i)>Edit</a></li> <li role=separator class=divider></li> <li><a href ng-click=delete(i)>Delete</a></li> </ul> </span> </td> </tr> </tbody> <tfoot> <tr> <td colspan=9 class=text-center> <div st-pagination st-template=app/pagination.html st-items-by-page=per_page></div> </td> </tr> </tfoot> </table> </div> </div> '),e.put("settings/billing.html",'<div ng-controller=SettingsBillingCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <a ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> Billing </h2> <p class="text-lg text-muted m-b"> Here you can upgrade, downgrade, cancel, update billing information, and see current usage levels. </p> <div class="row m-b"> <div class=col-md-6> <div class="panel panel-default"> <div class=panel-heading>Your Subscription</div> <div class="panel-body form-horizontal"> <div class=row> <label class="control-label col-sm-4">Plan</label> <div class="col-sm-8 form-control-static"> <span>{{user.package.name}}</span> <span> - <a href ng-click=Modals.upgrade() class=link>Upgrade</a></span> </div> </div> <div class=row> <label class="control-label col-sm-4">Status</label> <div class="col-sm-8 form-control-static"> <strong class=text-success>Active</strong> <span class=text-muted> - {{days_left}} days left</span> </div> </div> <div class=row> <label class="control-label col-sm-4">Account Ends</label> <div class="col-sm-8 form-control-static"> <span>{{due_date | date:\'mediumDate\'}}</span> </div> </div> </div> </div> </div> <div class=col-md-6> <div class="panel panel-default"> <div class=panel-heading>Current Usage</div> <div class="panel-body form-horizontal"> <main-loader ng-hide=usage_loaded></main-loader> <div ng-if=usage_loaded> <div class=m-b><b>{{sms_credits}}</b> SMS Credits</div> <div><b>{{current_users_count}} Users</b> / {{allowed_users_count}}</div> <uib-progressbar class=progress-sm type=info value=user_percentage><b>{{user_percentage | number:2}}%</b></uib-progressbar> <div><b>{{current_emails}} Emails</b> / {{credits_emails}}</div> <uib-progressbar class=progress-sm type=success value=email_percentage><b>{{email_percentage | number:2}}%</b></uib-progressbar> <div><b>{{current_disk | filesize}}</b> / {{credits_disk | filesize}} (Disk Space)</div> <uib-progressbar class=progress-sm type=warning value=disk_percentage><b>{{disk_percentage | number:2}}%</b></uib-progressbar> </div> </div> </div> </div> </div> <div class=p>   </div> </div> </div> '),e.put("settings/business.html",'<div ng-controller=BusinessCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <form name=Form ng-submit=save() novalidate> <h2 class=m-t-none> <a ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> Business Profile </h2> <p class="text-lg text-muted m-b"> This page lets you manage the contact information, branding, localization settings, and addons for your business. </p> <div class="row m-b"> <div class=col-md-6> <div class="panel panel-default m-n"> <div class=panel-heading>Business Information</div> <div class="panel-body form-horizontal" ng-init="item.type=\'individual\'"> <div class=form-group> <label class="col-sm-4 control-label required">Business Type</label> <div class=col-sm-8> <div class=btn-group> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'company\'">Company</label> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'individual\'">Individual</label> </div> </div> </div> <div class=form-group> <label class="col-sm-4 control-label required">Business Name</label> <div class=col-sm-8> <input class=form-control ng-model=item.name required> </div> </div> <div class=form-group> <label class="col-sm-4 control-label required">Business Email</label> <div class=col-sm-8> <input class=form-control ng-model=item.email type=email required> </div> </div> <div class=form-group> <label class="col-sm-4 control-label required">Business Phone</label> <div class=col-sm-8> <input class=form-control ng-model=item.phone required> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Website</label> <div class=col-sm-8> <input class=form-control ng-model=item.website> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">N.F #</label> <div class=col-sm-8> <input class=form-control ng-model=item.nf_number> <span class="text-muted text-sm">Financial Number. EX: 1271280</span> </div> </div> <div class=form-group ng-show="item.type==\'company\'"> <label class="col-sm-4 control-label">R.C.</label> <div class=col-sm-8> <input class=form-control ng-model=item.rc_number> <span class="text-muted text-sm">Company Registration Number. EX: 2007699</span> </div> </div> <div class=form-group ng-show="item.type==\'company\'"> <label class="col-sm-4 control-label">Capital</label> <div class=col-sm-8> <input class=form-control ng-model=item.capital_number> <span class="text-muted text-sm">Capital Number. EX: /5.000.000/L.L. Fully Paid</span> </div> </div> <div class=form-group ng-show="item.type==\'company\'"> <label class="col-sm-4 control-label">VAT Number</label> <div class=col-sm-8> <input class=form-control ng-model=item.vat_number> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Address</label> <div class=col-sm-8> <address-form item=item hide-geo=true></address-form> </div> </div> </div> </div> </div> <div class=col-md-6> <div class="panel panel-default m-n"> <div class=panel-heading>Defaults</div> <div class="panel-body form-horizontal"> <div class=form-group> <label class="col-sm-4 control-label">Default Bank / Cash Acc.</label> <div class=col-sm-8> <select select-picker class=form-control ng-model=item.default_bank> <option value>--None--</option> <option ng-repeat="i in assets_banks" ng-selected="i.ID == item.default_bank" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Default Payment Type</label> <div class=col-sm-8> <select select-picker class=form-control ng-model=item.default_payment_type> <option value>--None--</option> <option ng-repeat="i in assets_payment_types" ng-selected="i.ID == item.default_payment_type" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Default Tax Rate</label> <div class=col-sm-8> <select select-picker class=form-control ng-model=item.default_invoice_tax> <option value>--None--</option> <option ng-repeat="i in assets_taxrates" ng-selected="i.ID == item.default_invoice_tax" value={{i.ID}}>{{i.name}} - {{i.rate}}%</option> </select> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Default Invoice Terms</label> <div class=col-sm-8> <textarea class=form-control ng-model=item.default_invoice_terms rows=6></textarea> </div> </div> </div> </div> </div> </div> <button type=submit class="btn btn-success btn-lg bold" ng-disabled="Form.$invalid || is_saving"> <mini-loader ng-show=is_saving class=m-r></mini-loader> Save <i class="fa fa-save m-l"></i> </button> </form> </div> </div> '),
e.put("settings/companies.html",'<div ng-controller=CompaniesCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <a ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> Companies / Insurers </h2> <p class="text-lg text-muted m-b"> This page lets you manage the companies / Insurers you work with. </p> <div class="row m-b"> <div class=col-md-6> <div class="panel panel-default"> <div class=panel-heading> <form name=Form ng-submit=create() novalidate> <div class=form-group--> <div class=input-group> <input name=new_name ng-model=new_name type=text placeholder="Company Name" class=form-control required ng-class="{\'has-error\': Form.new_name.$invalid && FormSubmitted}"> <span class=input-group-btn> <button type=submit class="btn btn-info"> <i class="fa fa-plus m-r-sm"></i>Add</button> </span> </div> </div> </form> </div> <div class=panel-body> <div class="list-group no-radius no-border no-bg m-b-none"> <a class="list-group-item p-sm hover-anchor b-b no-select" ng-click=select(item) ng-dblclick="edit(item, $index)" ng-repeat="item in assets_companies"> <span class="pull-right text-muted hover-action m-l-sm" ng-click=delete(item)> <i class="fa fa-times"></i> </span> <span class="block bold"> {{ item.name ? item.name : \'Untitled\' }}  </span> <form ng-show=item.editing class=pos-abt style=top:3px;left:0px;width:100%> <div class=input-group> <input class=form-control ng-model=item.name type=text key-enter="doneEditing(item, $index)"> <span class=input-group-btn> <button type=submit ng-click="doneEditing(item, $index)" class="btn btn-info">Save</button> <button type=button ng-click=cancelEditing(item) class="btn btn-default">Cancel</button> </span> </div> </form> </a> <div class="text-muted text-center" ng-hide=assets_companies.length> No Items Found </div> </div> </div> <div class=panel-footer> <span class="text-muted italic text-sm">Double Click to Edit</span> </div> </div> </div> </div> </div> </div> '),e.put("settings/expensecats.html",'<div ng-controller=expenseCatsCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <a ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> Expense Categories </h2> <p class="text-lg text-muted m-b"> This page lets you manage the expense categories. </p> <div class="row m-b"> <div class="col-md-6 col-sm-12"> <div class="panel panel-default"> <div class=panel-heading> <form name=Form ng-submit=create() novalidate> <div class=form-group--> <div class=input-group> <input name=new_name ng-model=new_name type=text placeholder=Name detect-input-lang class=form-control required ng-class="{\'has-error\': Form.new_name.$invalid && FormSubmitted}"> <span class=input-group-btn> <button type=submit class="btn btn-info"> <i class="fa fa-plus m-r-sm"></i>Add</button> </span> </div> </div> </form> </div> <div class=panel-body> <div class="list-group no-radius no-border no-bg m-b-none"> <div class="text-muted text-center" ng-hide=assets_expense_cats.length> No Items Found </div> <a class="list-group-item p-sm hover-anchor b-b no-select" ng-click=select(item) ng-dblclick=edit(item) ng-repeat="item in assets_expense_cats"> <span class="pos-abs text-muted hover-action m-l-sm" ng-click=delete(item) style="top:10px; right:5px; z-index: 2;"> <i class="fa fa-times"></i> </span> <div class="row bold"> <div class=col-md-12>{{ item.name ? item.name : \'Untitled\' }}</div> </div> <form name=eForm ng-show=item.editing class=pos-abt style=top:3px;left:0px;width:100% ng-submit="doneEditing(item, $index)"> <div class=input-group> <input class=form-control ng-model=item.name type=text key-enter="doneEditing(item, $index)"> <span class=input-group-btn> <button type=submit ng-click="doneEditing(item, $index)" class="btn btn-info">Save</button> <button type=button ng-click=cancelEditing(item) class="btn btn-default">Cancel</button> </span> </div> </form> </a> </div> </div> <div class=panel-footer> <span class="text-muted italic text-sm">Double Click to Edit</span> </div> </div> </div> </div> </div> </div> '),e.put("settings/index.html",'<div class=settings-wrapper ng-init="app.fullheight=false;"> <h4>Business Settings</h4> <div class=clearfix> <a ui-sref=settings.business class=settings-tile> <div class=icon><i class=icon-organization></i></div> Business Profile </a> <a ui-sref=settings.companies class=settings-tile> <div class=icon><i class=icon-vector></i></div> Companies / Insurers </a> <a ui-sref=settings.products class=settings-tile> <div class=icon><i class=icon-list></i></div> Product Lines </a> <a ui-sref=settings.references class=settings-tile> <div class=icon><i class=icon-energy></i></div> Reference Lists </a>  </div> <h4>Accounting</h4> <div class=clearfix> <a ui-sref=settings.banks class=settings-tile> <div class=icon><i class="fa fa-bank"></i></div> Bank/Cash Accounts </a> <a ui-sref=settings.taxrates class=settings-tile> <div class=icon><i class="fa fa-percent"></i></div> Tax Rates </a> <a ui-sref=settings.vendors class=settings-tile> <div class=icon><i class="fa fa-flag-checkered"></i></div> Vendors </a> <a ui-sref=settings.expensecats class=settings-tile> <div class=icon><i class="fa fa-inr"></i></div> Expense Categories </a> <a ui-sref=settings.onlinepayments class=settings-tile> <div class=icon><i class="fa fa-credit-card"></i></div> Online Payments </a> </div> <h4>Appearance</h4> <div class=clearfix> <a ui-sref=settings.mailtemplate class=settings-tile> <div class=icon><i class=icon-envelope-letter></i></div> Emails </a> <a ui-sref=settings.mailtemplates class=settings-tile> <div class=icon><i class=icon-cursor></i></div> Email Templates </a> <a ui-sref=settings.invoices class=settings-tile> <div class=icon><i class=icon-book-open></i></div> Invoices </a>  </div> <h4>Account</h4> <div class=clearfix> <a ui-sref=settings.account class=settings-tile> <div class=icon><i class=icon-settings></i></div> Preferences </a> <a ui-sref=settings.users class=settings-tile> <div class=icon><i class=icon-people></i></div> Users Management </a> <a ui-sref=settings.billing class=settings-tile> <div class=icon><i class=icon-wallet></i></div> Billing </a> <a ui-sref=settings.backup class=settings-tile> <div class=icon><i class=icon-ghost></i></div> Backup </a> </div> </div> '),e.put("settings/invoices.html",'<div class=settings-wrapper ng-controller=settingsInvoicesCtrl ng-init="app.fullheight=false;"> <form name=Form ng-submit=save() novalidate> <h2 class=m-t-none> <a ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> Invoice Settings </h2>  <div class="row m-b"> <div class=col-md-6> <div class="panel panel-default m-n"> <div class=panel-heading>Branding</div> <div class="panel-body form-horizontal"> <div class=form-group> <label class="col-sm-4 control-label"> Logo <span class="block m-t"> <img ng-if=item.logo ng-src={{item.logo}} color-thief ct-palette=item.logoPalette> </span> </label> <div class=col-sm-8> <a href class="btn btn-default" ng-model=item.logo_uploader name=item.logo_uploader ngf-select ngf-multiple=false ngf-allow-dir=true accept=image/* ngf-pattern="\'image/*\'" ngf-max-size=1MB ngf-change=logo_upload($files) ng-disabled="logo_progress>0"> <i ng-show="logo_progress>0" class="fa fa-refresh fa-spin m-r"></i>Upload</a> <a href class="btn btn-danger m-l-sm" ng-if=item.logo ng-click="item.logo=\'\'">Remove</a> <span class="text-muted text-sm block m-t">JPEG, PNG, or GIF less than 1MB. At least 400 pixels wide looks best.</span> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Colors</label> <div class=col-sm-8> <div class=row> <div class=col-sm-6> <label class="control-label block text-left">Primary</label> <colorpicker color=item.primary_color ng-model=item.primary_color></colorpicker> </div> <div class=col-sm-6> <label class="control-label block text-left">Secondary</label> <colorpicker color=item.secondary_color ng-model=item.secondary_color></colorpicker> </div> </div> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Invoice Template</label> <div class=col-sm-8> <div class=image_picker> <div class="thumb text-center" ng-class="{\'selected\': item.invoice_design == i.name}" ng-repeat="i in templates" style=min-width:120px;> <img ng-src={{i.url}} class=pointer ng-click="item.invoice_design = i.name"> <div class=m-t-sm> <a href ng-click=lightbox(i.preview) class="btn btn-default btn-sm">Preview</a> </div> </div> </div> </div> </div> </div> </div> </div> <div class=col-md-6> <div class="panel panel-default m-n"> <div class=panel-heading>Invoice Numbers</div> <div class="panel-body form-horizontal"> <div class=form-group> <label class="col-sm-4 control-label">Type</label> <div class=col-sm-8> <div class=btn-group> <label class="btn btn-default" ng-model=item.invoice_number_type uib-btn-radio="\'prefix\'">Prefix</label> <label class="btn btn-default" ng-model=item.invoice_number_type uib-btn-radio="\'pattern\'">Pattern</label> </div> </div> </div> <div class=form-group ng-show="item.invoice_number_type==\'prefix\'"> <label class="col-sm-4 control-label">Prefix</label> <div class=col-sm-8> <input class=form-control ng-model=item.invoice_number_prefix> </div> </div> <div class=form-group ng-show="item.invoice_number_type==\'pattern\'"> <label class="col-sm-4 control-label">Pattern</label> <div class=col-sm-8> <div class=input-group> <input class=form-control ng-model=item.invoice_number_pattern> <span class=input-group-addon> <span class="fa fa-question-circle pointer" ng-click=Modals.invoice_pattern()></span> </span> </div> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Padding</label> <div class=col-sm-8> <input only-numbers class=form-control ng-model=item.invoice_number_padding ng-maxlength=1> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Counter</label> <div class=col-sm-8> <input only-numbers class=form-control ng-model=item.invoice_number_counter> </div> </div> <div class=form-group> <label class="col-sm-4 control-label"></label> <div class="col-sm-8 text-muted"> Specify a prefix or use a custom pattern to dynamically set the invoice number. The next invoice number is:<br> <div class=bold>{{ inv_num() }}</div> </div> </div> </div> </div> </div> </div> <button type=submit class="btn btn-success btn-lg bold" ng-disabled="Form.$invalid || is_saving"> <mini-loader ng-show=is_saving class=m-r></mini-loader> Save <i class="fa fa-save m-l"></i> </button> </form> </div> '),e.put("settings/mail-templates.html",'<div class=settings-wrapper ng-controller=settingsMailTemplatesCtrl ng-init="app.fullheight=false;"> <main-loader ng-hide=loaded></main-loader> <form name=Form class=form-horizontal ng-submit=save() novalidate ng-show=loaded> <h2 class=m-t-none> <a ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> Email Templates </h2> <p class="text-lg text-muted m-b"> With Broksy you can send emails to your customers in your own language. Use placeholders to mix in information such as customer name, amount or invoice number. </p> <div class="form-group b-b m-b p-b"> <label class="col-md-2 italic">Invoice</label> <div class=col-md-7> <label>Subject</label> <input type=text class="form-control m-b" ng-model=item.subject_invoice> <label>Message</label> <textarea auto-size class=form-control ng-model=item.message_invoice></textarea> </div> <div class=col-md-3> <div class="m-t-lg bg-white p text-sm"> <p>Placeholders</p> <p><b>{client_name}</b>: Client Name</p> <p><b>{company_name}</b>: Company Name</p> <p><b>{number}</b>: Invoice No.</p> <p><b>{link}</b>: Invoice Link</p> <p><b>{unpaid_amount}</b>: Amount Due</p> <p><b>{total_amount}</b>: Total Amount</p> </div> </div> </div> <div class="form-group b-b m-b p-b"> <label class="col-md-2 italic">Reminder</label> <div class=col-md-7> <label>Subject</label> <input type=text class="form-control m-b" ng-model=item.subject_reminder> <label>Message</label> <textarea auto-size class=form-control ng-model=item.message_reminder></textarea> </div> <div class=col-md-3> <div class="m-t-lg bg-white p text-sm"> <p>Placeholders</p> <p><b>{client_name}</b>: Client Name</p> <p><b>{company_name}</b>: Company Name</p> <p><b>{number}</b>: Invoice No.</p> <p><b>{reminder_type}</b>: Reminder Type</p> <p><b>{reminder_text}</b>: Reminder Text</p> </div> </div> </div> <div class="form-group b-b m-b p-b"> <label class="col-md-2 italic">Credit Note</label> <div class=col-md-7> <label>Subject</label> <input type=text class="form-control m-b" ng-model=item.subject_creditnote> <label>Message</label> <textarea auto-size class=form-control ng-model=item.message_creditnote></textarea> </div> <div class=col-md-3> <div class="m-t-lg bg-white p text-sm"> <p>Placeholders</p> <p><b>{client_name}</b>: Client Name</p> <p><b>{company_name}</b>: Company Name</p> <p><b>{number}</b>: Invoice No.</p> <p><b>{unpaid_amount}</b>: Amount Due</p> <p><b>{total_amount}</b>: Total Amount</p> </div> </div> </div> <button type=submit class="btn btn-success btn-lg bold" ng-disabled="Form.$invalid || is_saving"> <mini-loader ng-show=is_saving class=m-r></mini-loader> Save <i class="fa fa-save m-l"></i> </button> </form> </div> '),e.put("settings/onlinepayments.html",'<div ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <a ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> Online Payments </h2> <p class="text-lg text-muted m-b">Accept online payments, let your clients pay you at the comfort of their convenience</p> <p class="text-lg text-muted m-b">Standard fees apply: 3.5% + $0.50 per successful charge.</p> <p class="m-b-lg m-t-lg"><img src={{VARS.url}}/assets/img/card-icons.png></p> <h2 class="bold italic">Coming Soon to Broksy!</h2> </div> </div> '),e.put("settings/products.html",'<div ng-controller=productsCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <a ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> Product Lines </h2> <p class="text-lg text-muted m-b"> This page lets you manage the products you offer to your clients. </p> <div class="row m-b"> <div class="col-md-6 col-sm-12"> <div class="panel panel-default"> <div class=panel-heading> <form name=Form ng-submit=create() novalidate> <div class=form-group--> <div class=input-group> <span class=input-group-btn> <ui-iconpicker groups=font-awesome ng-model=new_icon></ui-iconpicker> </span> <input name=new_name ng-model=new_name type=text placeholder="Product Name" detect-input-lang class=form-control required ng-class="{\'has-error\': Form.new_name.$invalid && FormSubmitted}"> <span class=input-group-btn> <button type=submit class="btn btn-info"> <i class="fa fa-plus m-r-sm"></i>Add</button> </span> </div> </div> </form> </div> <div class=panel-body> <div class="list-group no-radius no-border no-bg m-b-none"> <div class="text-muted text-center" ng-hide=assets_products.length> No Items Found </div> <a class="list-group-item p-sm hover-anchor b-b no-select" ng-click=select(item) ng-dblclick=edit(item) ng-repeat="item in assets_products"> <span class="pull-right text-muted hover-action m-l-sm" ng-click=delete(item)> <i class="fa fa-times"></i> </span> <span class="block bold"> <i class="{{item.icon}} m-r"></i> {{ item.name ? item.name : \'Untitled\' }} <b class="badge bg-default pull-right">{{item.policy_count || \'0\'}}</b> </span> <form name=eForm ng-show=item.editing class=pos-abt style=top:3px;left:0px;width:100% ng-submit="doneEditing(item, $index)"> <div class=input-group> <span class=input-group-btn> <ui-iconpicker groups=font-awesome ng-model=item.icon value={{item.icon}}></ui-iconpicker> </span> <input class=form-control ng-model=item.name type=text key-enter="doneEditing(item, $index)"> <span class=input-group-btn> <button type=submit ng-click="doneEditing(item, $index)" class="btn btn-info">Save</button> <button type=button ng-click=cancelEditing(item) class="btn btn-default">Cancel</button> </span> </div> </form> </a> </div> </div> <div class=panel-footer> <span class="text-muted italic text-sm">Double Click to Edit</span> </div> </div> </div> </div> </div> </div> '),e.put("settings/references.html",'<div ng-controller=ReferencesCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <a ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> Reference Lists </h2> <p class="text-lg text-muted m-b"> Here you can manage the reference lists applied for leads and clients </p> <div class="row m-b"> <div class="col-md-6 col-sm-12"> <div class="panel panel-default"> <div class=panel-heading> <form name=Form ng-submit=create() novalidate> <div class=form-group--> <div class=input-group> <input name=new_name ng-model=new_name type=text placeholder="Reference List Name" class=form-control required ng-class="{\'has-error\': Form.new_name.$invalid && FormSubmitted}"> <span class=input-group-btn> <button type=submit class="btn btn-info"> <i class="fa fa-plus m-r-sm"></i>Add</button> </span> </div> </div> </form> </div> <div class=panel-body> <div class="list-group no-radius no-border no-bg m-b-none"> <a class="list-group-item p-sm hover-anchor b-b no-select" ng-click=select(item) ng-dblclick=edit(item) ng-repeat="item in assets_references"> <span class="pull-right text-muted hover-action m-l-sm" ng-click=delete(item)> <i class="fa fa-times"></i> </span> <span class="block bold"> {{ item.name ? item.name : \'Untitled\' }} </span> <form ng-show=item.editing class=pos-abt style=top:3px;left:0px;width:100%> <div class=input-group> <input class=form-control ng-model=item.name type=text key-enter="doneEditing(item, $index)"> <span class=input-group-btn> <button type=submit ng-click="doneEditing(item, $index)" class="btn btn-info">Save</button> <button type=button ng-click=cancelEditing(item) class="btn btn-default">Cancel</button> </span> </div> </form> </a> <div class="text-muted text-center" ng-hide=assets_references.length> No Items Found </div> </div> </div> <div class=panel-footer> <span class="text-muted italic text-sm">Double Click to Edit</span> </div> </div> </div> </div> </div> </div> '),e.put("settings/taxrates.html",'<div ng-controller=taxratesCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <a ui-sref=settings.index class="m-r-sm m-t-sm text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> Tax Rates </h2> <p class="text-lg text-muted m-b"> This page lets you manage the tax rates for invoicing. </p> <div class="row m-b"> <div class="col-md-6 col-sm-12"> <div class="panel panel-default"> <div class=panel-heading> <form name=Form ng-submit=create() novalidate> <div class=form-group--> <div class=input-group> <input name=new_name ng-model=new_name type=text placeholder=Name detect-input-lang class="form-control w-50p" required ng-class="{\'has-error\': Form.new_name.$invalid && FormSubmitted}"> <input name=new_rate ng-model=new_rate type=number placeholder="Rate (%)" class="form-control w-50p" required ng-class="{\'has-error\': Form.new_rate.$invalid && FormSubmitted}"> <span class=input-group-btn> <button type=submit class="btn btn-info"> <i class="fa fa-plus m-r-sm"></i>Add</button> </span> </div> </div> </form> </div> <div class=panel-body> <div class="list-group no-radius no-border no-bg m-b-none"> <div class="text-muted text-center" ng-hide=assets_taxrates.length> No Items Found </div> <a class="list-group-item p-sm hover-anchor b-b no-select" ng-click=select(item) ng-dblclick=edit(item) ng-repeat="item in assets_taxrates"> <span class="pos-abs text-muted hover-action-- m-l-sm" ng-click=delete(item) style="top:10px; right:5px; z-index: 2;"> <i class="fa fa-times"></i> </span> <div class="row bold"> <div class=col-md-6>{{ item.name ? item.name : \'Untitled\' }}</div> <div class=col-md-6>{{ item.rate ? item.rate : 0 }}%</div>  </div> <form name=eForm ng-show=item.editing class=pos-abt style=top:3px;left:0px;width:100% ng-submit="doneEditing(item, $index)"> <div class=input-group> <input class="form-control w-50p" ng-model=item.name type=text key-enter="doneEditing(item, $index)"> <input class="form-control w-50p" ng-model=item.rate type=text key-enter="doneEditing(item, $index)"> <span class=input-group-btn> <button type=submit ng-click="doneEditing(item, $index)" class="btn btn-info">Save</button> <button type=button ng-click=cancelEditing(item) class="btn btn-default">Cancel</button> </span> </div> </form> </a> </div> </div> <div class=panel-footer> <span class="text-muted italic text-sm">Double Click to Edit</span> </div> </div> </div> </div> </div> </div> '),e.put("settings/users.html",'<div ng-controller=UsersCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <span class="m-r-sm text-sm pull-left" ng-if=isLoading> <mini-loader class=m-t-sm></mini-loader> </span> <a ui-sref=settings.index ng-if=!isLoading class="m-r-sm m-t-sm text-sm pull-left link"> <i class="fa fa-arrow-left"></i> </a> Users Management <a href ng-click=Modals.user() class="btn btn-success m-l-sm bold"> <i class="fa fa-plus m-r"></i>Add New </a> <span class="pull-right text-sm text-muted p-t"> <b>{{current_users_count}} / {{allowed_users_count}}</b> Users used. <a href ng-click=Modals.upgrade() class="link bold">Upgrade</a> </span> </h2> <table class="table table-striped" st-table=items st-pipe=fetch st-refresh=users_updated> <thead> <tr class=thead_dark> <th st-sort=first_name>Name</th> <th st-sort=user_email>Email</th> <th st-sort=user_phone>Phone</th> <th>Type</th> <th st-sort=user_created>Dates</th> <th><input st-search placeholder=Search class="form-control rounded" type=text></th> </tr> </thead> <tbody> <tr ng-if="!items.length && !isLoading"> <td colspan=9> <div class="alert alert-warning m-n text-center"> No Records Found </div> </td> </tr> <tr ng-repeat="i in items track by $index" class="vmiddle hover-anchor"> <td>{{i.first_name}} {{i.last_name}}</td> <td>{{i.user_email}}</td> <td>{{i.user_phone}}</td> <td><span ng-bind-html="type(i) | html"></span></td> <td class=text-sm> Registered: {{i.user_created | datetimeFromMySQL | date:\'mediumDate\'}}<br> Last Login: {{i.user_lastlogin | datetimeFromMySQL | date:\'mediumDate\'}} </td> <td class=text-center> <span class=dropdown ng-if="i.is_owner !== \'1\' && i.ID != user.id"> <a href class="btn btn-default dropdown-toggle p-l-lg p-r-lg bold" data-toggle=dropdown> <span class=m-r-xs>Select</span><span class=caret></span> </a> <ul class="dropdown-menu sm"> <li><a href ng-click=Modals.user(i)>Edit</a></li> <li><a href ng-click=Modals.user_pass(i)>Change Password</a></li> <li role=separator class=divider></li> <li><a href ng-click=Modals.email(i.user_email)>Send Mail</a></li> <li><a href ng-click=Modals.sms(i.user_phone)>Send SMS</a></li> <li role=separator class=divider></li> <li><a href ng-click=Modals.user_delete(i)>Delete</a></li> </ul> </span> </td> </tr> </tbody> <tfoot> <tr> <td colspan=9 class=text-center> <div st-pagination st-template=app/pagination.html st-items-by-page=per_page></div> </td> </tr> </tfoot> </table> </div> </div> '),e.put("settings/vendors.html",'<div ng-controller=settingVendorsCtrl ng-init="app.fullheight=false;"> <div class=settings-wrapper> <h2 class=m-t-none> <span class="m-r-sm text-sm pull-left" ng-if=isLoading> <mini-loader class=m-t-sm></mini-loader> </span> <a ui-sref=settings.index ng-if=!isLoading class="m-r-sm m-t-sm text-sm pull-left link"> <i class="fa fa-arrow-left"></i> </a> Vendors <a href ng-click=Modals.vendor() class="btn btn-success m-l-sm bold"> <i class="fa fa-plus m-r"></i>Add New </a> </h2> <table class="table table-striped" st-table=safeItems st-safe-src=assets_vendors> <thead> <tr class=thead_dark> <th st-sort=name>Name</th> <th st-sort=email>Email</th> <th st-sort=phone>Phone</th> <th>Address</th> <th st-sort=date_created>Dates</th> <th><input st-search placeholder=Search class="form-control rounded" type=text></th> </tr> </thead> <tbody> <tr ng-if="!assets_vendors.length && !isLoading"> <td colspan=9> <div class="alert alert-warning m-n text-center"> No Records Found </div> </td> </tr> <tr ng-repeat="i in safeItems" class="vmiddle hover-anchor"> <td>{{i.name}}</td> <td>{{i.email}}</td> <td>{{i.phone}}</td> <td class=text-sm><address-card item=i></address-card></td> <td class=text-sm> Created: {{i.date_created | unix_date | date:\'mediumDate\'}}<br> Last Edited: {{i.date_edited | unix_date | date:\'mediumDate\'}} </td> <td class=text-center> <span class="dropdown hover-action--"> <a href class="btn btn-default dropdown-toggle p-l-lg p-r-lg bold" data-toggle=dropdown> <span class=m-r-xs>Select</span><span class=caret></span> </a> <ul class=dropdown-menu> <li><a href ng-click=Modals.vendor(i)>Edit</a></li> <li role=separator class=divider></li> <li><a href ng-click=delete(i)>Delete</a></li> </ul> </span> </td> </tr> </tbody> <tfoot> <tr> <td colspan=9 class=text-center> <div st-pagination st-template=app/pagination.html st-items-by-page=per_page></div> </td> </tr> </tfoot> </table> </div> </div> '),e.put("app/briefcase/index.html",'<div ng-controller=BriefcaseCtrl ng-init="app.fullheight = true; vm.show_upload=false"> <div class="bg-light dk filters"> <div class=row> <div class=col-sm-3> <h3 class="m-t-none m-b-none m-l"> Files Briefcase <span class=m-l uib-popover-html="\'<div><p><b>Double Click</b> to preview/Download each file</p><p>Use <b>CTRL, CMD, SHIFT</b> keys to select multiple files</p></div>\'" popover-title=Help popover-placement=bottom popover-trigger="\'mouseenter\'"> <i class="fa fa-question-circle text-lg"></i> </span> </h3> </div> <div class="col-sm-9 text-right"> <ol class="breadcrumb box-shadow"> <li><a href ng-click=goTo(-1)>Root</a></li> <li ng-repeat="(key, dir) in currentPath track by key" ng-class="{\'active\':$last}" class="animated fast fadeIn"> <a href ng-show=!$last ng-click=goTo(key)>{{dir | strLimit : 8}}</a> <span ng-show=$last>{{dir | strLimit : 12}}</span> </li> </ol> </div> </div> </div>  <div class="hbox hbox-filters hbox-auto-xs hbox-auto-sm bg-light" ng-class="{\'briefcase_disabled\': !loaded}">  <div class="col w-lg b-r"> <div class=vbox> <div class=row-row> <div class="cell scrollable hover"> <div class=cell-inner> <uib-progressbar value=space() type=info class="progress-xs progress-striped active bg-white bold box-shadow m" uib-tooltip="{{user_space | filesize}} / {{total_space | filesize}}" tooltip-placement=bottom></uib-progressbar> <ul class="nav nav-sidebar file-tree-root"> <li ng-repeat="item in history" ng-include="\'folder-branch-item\'" ng-class="{\'active\': item.name == currentPath.join(\'/\')}"></li> </ul> <script type=text/ng-template id=folder-branch-item> <a href="" ng-click="folderClick(item.item)" class="animated fast fadeInDown" ui-on-Drop="onDrop(item.name)" drag-hover-class="drag-hover"> <span class="point"> <i class="glyphicon glyphicon-chevron-down" ng-show="isInThisPath(item.name)"></i> <i class="glyphicon glyphicon-chevron-right" ng-show="!isInThisPath(item.name)"></i> </span> <i class="glyphicon glyphicon-folder-open m-r" ng-show="isInThisPath(item.name)"></i> <i class="glyphicon glyphicon-folder-close m-r" ng-show="!isInThisPath(item.name)"></i> {{ (item.name.split(\'/\').pop() || getBasePath().join(\'/\') || \'/\') | strLimit : 30 }} </a> <ul class="nav nav-sidebar"> <li ng-repeat="item in item.nodes" ng-include="\'folder-branch-item\'" ng-class="{\'active\': item.name == currentPath.join(\'/\')}"></li> </ul> </script> </div> </div> </div> <div class="wrapper text-center b-t" ng-show="user.can(\'upload_briefcase\')"> <a class="btn btn-sm btn-success bold" href uib-popover-template="\'new_folder.html\'" popover-title="Folder Name:" popover-is-open=vm.nf_form_open> <i class="fa fa-plus fa-fw m-r-xs"></i> <span>New Folder</span> </a> <script type=text/ng-template id=new_folder.html> <form class="input-group" ng-submit="create_folder()"> <input type="text" ng-model="$parent.vm.newFolder" autofocus="" class="form-control"> <span class="input-group-btn"> <button type="submit" href class="btn btn-success" ng-disabled="is_creating_folder"> <mini-loader class="m-r-xs" ng-show="is_creating_folder"></mini-loader> GO </button> </span> </form> </script> </div> </div> </div>   <div class="col bg-white-only"> <div class=vbox> <div class="wrapper-sm bg-light lter b-b"> <div class="row m-n"> <div class=col-sm-1> <a href class="btn btn-info bold" ng-click="vm.show_upload = !vm.show_upload" ng-if="user.can(\'upload_briefcase\')"> <i class="fa fa-plus m-r"></i>Add Files </a> </div> <div class="col-sm-8 text-center"> <div class="btn-group bold" ng-show="hasSelection() && user.can(\'upload_briefcase\')"> <a href class="btn btn-default btn-sm" ng-if=singleSelection() uib-popover-template="\'fm_rename.html\'" popover-title="Rename \'{{vm.oldRename}}\' TO:" popover-placement=bottom popover-is-open=vm.fm_rename_open> <i class="glyphicon glyphicon-edit m-r-xs"></i>Rename </a> <a href class="btn btn-default btn-sm" uib-popover-template="\'fm_copy.html\'" popover-title="Copy {{temps.length}} Item(s)" popover-placement=bottom popover-is-open=vm.fm_copy_open> <i class="glyphicon glyphicon-log-out m-r-xs"></i>Copy </a> <a href class="btn btn-default btn-sm" uib-popover-template="\'fm_move.html\'" popover-title="Move {{temps.length}} Item(s)" popover-placement=bottom popover-is-open=vm.fm_move_open> <i class="glyphicon glyphicon-arrow-right m-r-xs"></i>Move </a>  <a href class="btn btn-warning btn-sm" ng-click=delete()> <i class="glyphicon glyphicon-trash m-r-xs"></i>Delete </a> <a href class="btn btn-info btn-sm" ng-if="!selectionHas(\'dir\')" ng-click=email()> <i class="glyphicon glyphicon-send m-r-xs"></i>Email </a> </div> <script type=text/ng-template id=fm_rename.html> <form class="input-group" ng-submit="rename()"> <input type="text" ng-model="$parent.vm.newRename" autofocus="" class="form-control"> <span class="input-group-btn"> <button type="submit" href class="btn btn-success" ng-disabled="!vm.newRename || vm.oldRename == vm.newRename || is_renaming"><mini-loader class="m-r-xs" ng-show="is_renaming"></mini-loader>GO</button> </span> </form> </script> <script type=text/ng-template id=fm_copy.html> <p>Select Destination Folder</p> <div data-tree-id="copy_tree" data-tree-model="vm.tree"></div> <div class="m-t"> <button type="submit" href class="btn btn-success" ng-disabled="!copy_tree.currentNode.folder" ng-click="copy(copy_tree.currentNode.folder)" ng-disabled="is_copying"><mini-loader class="m-r-xs" ng-show="is_copying"></mini-loader>Copy</button> </div> </script> <script type=text/ng-template id=fm_move.html> <p>Select Destination Folder</p> <div data-tree-id="move_tree" data-tree-model="vm.tree"></div> <div class="m-t"> <button type="submit" href class="btn btn-success" ng-disabled="!move_tree.currentNode.folder" ng-click="move(move_tree.currentNode.folder)" ng-disabled="is_moving"><mini-loader class="m-r-xs" ng-show="is_moving"></mini-loader>Move</button> </div> </script> </div> <div class=col-sm-3>  <autocomplete id=files_search placeholder=Search pause=250 selectedobject=selected_fm_search ajaxaction=briefcase_search titlefield=name descfield=path minlength=2 inputclass="form-control rounded"> </autocomplete> </div> </div> </div> <div class=row-row> <div class=cell> <div class=cell-inner> <div ng-if="vm.show_upload && user.can(\'upload_briefcase\')" class="m-t m-b"> <div ng-if=can_upload() ng-model=files name=files class=drop-box style=width:80%; ngf-drop ngf-select ngf-drag-over-class="\'dragover\'" ngf-multiple=true ngf-allow-dir=true accept=.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.rtf,.txt,video/*,image/*,.csv,.zip,.rar,.7z ngf-pattern="\'.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.rtf,.txt,video/*,image/*,.csv,.zip,.rar,.7z\'" ngf-max-size=20MB ngf-model-invalid=errorFiles ngf-change="upload($files, $invalidFiles)"> <h3>Click or Drop your files here</h3> <uib-progressbar ng-show="progress>0" value=progress type=info></uib-progressbar> <p ng-repeat="f in errFiles" class="alert alert-warning">{{f.name}} was not uploaded. reason: {{f.$error}} is {{f.$errorParam}}</p> </div> <div ng-if=!can_upload() class=wrapper> <div class="alert alert-danger"> You\'ve exceeded your space limit, request upgrade. </div> </div> </div> <table class="table table-files noselect"> <thead> <tr> <th></th> <th> <a href ng-click="order(\'name\')"> Name <span class=sortorder ng-show="predicate[1] === \'name\'" ng-class={reverse:reverse}></span> </a> </th> <th> <a href ng-click="order(\'size\')"> Size <span class=sortorder ng-show="predicate[1] === \'size\'" ng-class={reverse:reverse}></span> </a> </th> <th> <a href ng-click="order(\'date\')"> Date <span class=sortorder ng-show="predicate[1] === \'date\'" ng-class={reverse:reverse}></span> </a> </th> </tr> </thead> <tbody class=file-item> <tr ng-if=!loaded> <td colspan=4><main-loader></main-loader></td> </tr> <tr ng-if="loaded && !fileList.length"> <td colspan=4> <div class="alert alert-default m-n text-center"> No Files Found <a href ng-click="vm.show_upload=!vm.show_upload" class=m-l-xs>Add Files</a> </div> </td> </tr> <tr class="item-list vmiddle" ng-repeat="item in fileList | filter: {name: query} | orderBy:predicate:reverse" ng-click="selectOrUnselect(item, $event)" ng-right-click="selectOrUnselect(item, $event)" ng-dblclick=smartClick(item) ng-class="{selected: isSelected(item)}" ui-draggable={{isSelected(item)}}> <td width=40 class="text-center p-r-none"> <i style="font-size:32px; color:#23b7e5;" class="glyphicon glyphicon-folder-open" ng-if="item.type === \'dir\'"></i> <file-icon file={{item.name}} url={{item.url}} ng-if="item.type === \'file\'"></file-icon> </td> <td> <h4 class=m-n>{{item.name}}</h4> </td> <td>{{item.size | filesize}}</td> <td>{{item.date | date}}</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>  </div>  <div id=context-menu class="dropdown clearfix animated fast fadeIn"> <ul class="dropdown-menu dropdown-right-click" role=menu aria-labelledby=dropdownMenu ng-show=temps.length> <li ng-show="singleSelection() && singleSelection().isFolder()"> <a href tabindex=-1 ng-click=smartClick(singleSelection())> <i class="glyphicon glyphicon-folder-open"></i> Open </a> </li> <li ng-show="!selectionHas(\'dir\') && singleSelection()"> <a href tabindex=-1 ng-click=downloadFile(singleSelection().url)> <i class="glyphicon glyphicon-cloud-download"></i> Download </a> </li> <li ng-show="!selectionHas(\'dir\')"> <a href tabindex=-1 ng-click=email()> <i class="glyphicon glyphicon-send"></i> Email </a> </li>  <li ng-show="singleSelection().isImage() && singleSelection()"> <a href tabindex=-1 ng-click=lightbox(singleSelection().url)> <i class="glyphicon glyphicon-picture"></i> Preview </a> </li> <li ng-show="singleSelection()&& user.can(\'upload_briefcase\')"> <a href tabindex=-1 ng-click="vm.fm_rename_open=true"> <i class="glyphicon glyphicon-edit"></i> Rename </a> </li> <li> <a href tabindex=-1 ng-click="vm.fm_move_open=true" ng-if="user.can(\'upload_briefcase\')"> <i class="glyphicon glyphicon-arrow-right"></i> Move </a> </li> <li ng-show="!selectionHas(\'dir\')" ng-if="user.can(\'upload_briefcase\')"> <a href tabindex=-1 ng-click="vm.fm_copy_open=true"> <i class="glyphicon glyphicon-log-out"></i> Copy </a> </li>  <li class=divider ng-if="user.can(\'upload_briefcase\')"></li> <li> <a href tabindex=-1 ng-click=delete() ng-if="user.can(\'upload_briefcase\')"> <i class="glyphicon glyphicon-trash"></i> Delete </a> </li> </ul> </div>  </div> '),
e.put("app/claims/index.html",'<div ng-controller=ClaimsCtrl ng-init="app.fullheight = true;"> <div class="bg-light dk filters mobile-hidden"> <div class="row m-n"> <div class=col-md-2> <div class=input-group> <select select-picker ng-model=sort class=form-control data-style="btn-sm btn-default"> <option value disabled>Sort By</option> <option ng-repeat="item in allowedSort" value={{item.value}} ng-selected="item.value == sort">{{item.name}}</option> </select> <span class=input-group-btn> <a href class="btn btn-default btn-sm" ng-click="reverse = !reverse" uib-tooltip="ASC / DESC" tooltip-placement=bottom> <i class=fa ng-class="{\'fa-sort-alpha-desc\':reverse, \'fa-sort-alpha-asc\':!reverse}"></i> </a> </span> </div> </div> <div class=col-md-4> <div class=input-group> <select select-picker ng-model=filter_company class="form-control w-50p" data-style="btn-sm btn-default" title="Company / Insurer"> <option value data-hidden=true></option> <option ng-repeat="i in assets_companies" value={{i.ID}} ng-selected="i.ID == filter_company" data-subtext={{(items|filter:{company:i.ID}:true).length}}>{{i.name}}</option> </select> <select select-picker ng-model=filter_product class="form-control w-50p" data-style="btn-sm btn-default" title=Product> <option value data-hidden=true></option> <option ng-repeat="item in assets_products" value={{item.ID}} ng-selected="item.ID == filter_product" data-subtext={{(items|filter:{product:item.ID}:true).length}}>{{item.name}}</option> </select> <span class=input-group-btn ng-if="filter_company || filter_product"> <a href class="btn btn-danger btn-sm" ng-click=reset_filters() uib-tooltip="Reset Filters" tooltip-placement=bottom> <i class="fa fa-times"></i> </a> </span> <span class=input-group-btn> <a href class="btn btn-default btn-sm"> <i class="fa fa-filter"></i> </a> </span> </div> </div> </div> </div>  <div class="hbox hbox-filters hbox-auto-xs hbox-auto-sm bg-light mobile-panel">  <div class="col w b-r mobile-hidden"> <div class=vbox> <div class=row-row> <div class="cell scrollable hover"> <div class=cell-inner slim-scroll> <div class="list-group no-radius no-border no-bg m-b-none text-sm"> <a class="list-group-item b-b" ng-class="{\'focus\': (filter_type == \'\')}" ng-click="filter_type = \'\'">ALL Claims <b class="badge bg-default pull-right">{{items.length}}</b></a> <a class="list-group-item p-xs hover-anchor b-a no-select" ng-class="{\'focus\': item.ID == filter_type}" ng-click=selectType(item) ng-repeat="item in assets_claim_types"> <span class="block p-l-xs clearfix"> <span class="pull-left w-73p truncate"> <i class="fa m-r-xs" ng-class="{\'fa-clock-o\': item.ID<3, \'fa-check-circle-o\': item.ID>2}"></i> {{item.name}} </span> <b class="badge bg-default pull-right"> {{(items|filter:{status:item.ID}).length}} </b> </span> </a> </div> </div> </div> </div> </div> </div>   <div class="col w-md lter b-r mobile-list" ng-swipe-right=mobile_menu()> <div class=vbox> <div class="wrapper-xs b-b bg-yellow bar_height_fix"> <div class="input-group m-b-xxs"> <span class="input-group-addon input-sm no-border no-bg"> <mini-loader ng-show=is_loading></mini-loader> <i class="icon-magnifier text-md m-t-xxs" ng-hide=is_loading></i> </span> <input class="form-control input-sm no-border no-bg text-md" ng-model=query placeholder="Search Claims" type=text> <span class="input-group-addon input-sm no-border no-bg" ng-show=query> <a href ng-click="query=\'\'" uib-tooltip="Clear Search"> <i class="fa fa-times pull-right"></i> </a> </span> </div> </div> <div class=row-row> <div class="cell scrollable hover"> <div id=scroller class="cell-inner noselect" slim-scroll> <div class=m-t-n-xxs> <div class="list-group list-group no-radius no-border no-bg m-b-none" infinite-scroll=loadMore()> <a id=scroll-{{item.ID}} class=list-group-item ng-class="{\'select\': isSelected(item) }" ng-click="selectItem(item, $event)" ng-repeat="item in items | filter:{status: filter_type} | filter:{product: filter_product} | filter:{company: filter_company} | filter:query | orderBy:sort:reverse | limitTo:totalDisplayed track by $index"> <span class="block text-ellipsis text-md"> <div ng-show=item.ref_id> <strong>{{ item.ref_id }}</strong> <p class=m-n>{{item.policy_name}}</p> <p class="text-sm text-muted m-n"> {{item.client_name}} </p> </div> <span ng-hide=item.ref_id> --- </span> </span> </a> </div> </div> <div class="text-center pos-abt w-full" ng-hide="(items | filter:{status: filter_type} | filter:{product: filter_product} | filter:{company: filter_company} | filter:query).length" style=top:50%;> No Claims </div> </div> </div> </div> <div class="wrapper b-t text-center mobile-footer"> <a class="btn btn-sm btn-success bold" id=create_client href ng-click=Modals.claims(true)> <i class="fa fa-plus fa-fw m-r-xs"></i> New Claim </a> </div> </div> </div>   <div class="col bg-white-only mobile-detail" ng-swipe-right=mobile_back()> <div class=vbox> <div class="wrapper-sm b-b lter bar_height_fix"> <div class="row no-gutter"> <div class=col-xs-8><div class=scene-group ng-show="item.selected && !item.editing && !hasMany()"> <a href ng-click=mobile_back() class=mobile-show> <i class="fa fa-arrow-left"></i> </a> <a href ng-click="set_scene(\'details\')" ng-class="{\'selected\': scene==\'details\'}">Details</a> <a href ng-click="set_scene(\'files\')" ng-class="{\'selected\': scene==\'files\'}"> Files <span class="badge up bg-danger" ng-show="item.files && item.files!=\'0\'">{{item.files}}</span> </a> <a href ng-click="set_scene(\'tasks\')" ng-class="{\'selected\': scene==\'tasks\'}"> Tasks <span class="badge up bg-danger" ng-show="item.tasks && item.tasks!=\'0\'">{{item.tasks}}</span> </a> </div></div> <div class="col-xs-4 text-right actions-wrap bold" ng-show="scene==\'details\' && !hasMany()" ng-class="{\'w-full\': item.editing}"> <span uib-dropdown ng-hide=!item.selected> <a href uib-dropdown-toggle class="btn btn-sm btn-default p-l p-r"> Actions <span class="caret m-l-sm"></span> </a> <ul uib-dropdown-menu class="right sm"> <li><a href ng-click="Modals.claims(false, item)"> <i class="fa fa-pencil m-r-sm"></i>Edit </a></li> <li class=divider></li> <li><a href ng-click=Modals.claims_settlement(item)> <i class="fa fa-thumbs-o-up m-r-sm"></i>Record Insurer Settlement </a></li> <li class=divider></li> <li><a href ng-click=deleteItem(item)> <i class="fa fa-trash-o m-r-sm"></i>Delete </a></li> </ul> </span> </div> </div> </div> <div class=row-row> <div class=cell> <div class=cell-inner slim-scroll> <div class="text-center pos-abt w-full text-muted" style=top:45% ng-hide=item.selected> <h3>No Item Selected.</h3> <p>Click any item in the list to preview it here.</p> </div> <div ng-if="scene != \'details\'"> <div class=wrapper> <div ng-include=get_scene()></div> </div> </div> <form name=Form> <div class=wrapper ng-if="scene==\'details\' && hasMany()"> <p> <a href ng-click=deleteMany() class="btn btn-danger btn-lg"> <span ng-if=$scope.deleting_many><mini-loader></mini-loader> Deleting</span> <span ng-if=!$scope.deleting_many>Delete</span> {{temps.length}} Records </a> </p> <p class=m-t-lg> <img ng-src="{{VARS.url+\'/assets/img/illustrations/drag.png\'}}" width=300> </p> </div> <div class=wrapper ng-if="scene==\'details\' && !hasMany()"> <div ng-if=item.selected ng-include="\'app/claims/view.html\'"></div> </div> </form> </div> </div> </div> </div> </div>  </div>  </div> '),e.put("app/claims/view.html",'<div class="row form-horizontal"> <div class=col-sm-7>  <h4 class="form-header b-b p-b-xs">Claim Information</h4> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Claim #</label> <div class=col-xs-8><p class=form-control-static> {{item.ID}} </p></div> </div> <div class="form-group m-b-xs" ng-show=item.ref_id> <label class="col-xs-4 control-label">Insurer Reference #</label> <div class=col-xs-8><p class=form-control-static> {{item.ref_id}} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Policy Holder</label> <div class=col-xs-8><p class=form-control-static> <a ng-click=Modals.preview_client(item.client_id) class=link>{{item.client_name}}</a> </p></div> </div> <div class="form-group m-b-xs" ng-show=item.status> <label class="col-xs-4 control-label">Status</label> <div class=col-xs-8><p class=form-control-static> {{(assets_claim_types | filter : {ID: item.status})[0].name }} <b>[ {{(assets_claim_types | filter : {ID: item.status})[0].status }} ]</b> </p></div> </div> <h4 class="form-header b-b p-b-xs p-t-sm">Claim Dates</h4> <div class="form-group m-b-xs" ng-show=item.date_loss> <label class="col-xs-4 control-label">Incident/Loss date</label> <div class=col-xs-8><p class=form-control-static> {{item.date_loss | date:\'mediumDate\'}} - {{item.date_loss | date:\'shortTime\'}} </p></div> </div> <div class="form-group m-b-xs" ng-show=item.date_submit_broker> <label class="col-xs-4 control-label">Declaration Date</label> <div class=col-xs-8><p class=form-control-static> {{item.date_submit_broker | date:\'mediumDate\'}} </p></div> </div> <div class="form-group m-b-xs" ng-show=item.date_submit_insurer> <label class="col-xs-4 control-label">submitted to Insurer</label> <div class=col-xs-8><p class=form-control-static> {{item.date_submit_insurer | date:\'mediumDate\'}} </p></div> </div> <div class="form-group m-b-xs" ng-show=item.date_settlement> <label class="col-xs-4 control-label">Settlement Date</label> <div class=col-xs-8><p class=form-control-static> {{item.date_settlement | date:\'mediumDate\'}} </p></div> </div> <h4 class="form-header b-b p-b-xs p-t-sm">Policy Information <mini-loader ng-show=policies_loading></mini-loader></h4> <div ng-hide=policies_loading> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Policy #</label> <div class=col-xs-8><p class=form-control-static> <a href ng-click=Modals.preview_policy(item.policy.ID) class="link bold">{{item.policy.name}}</a> </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Insurer</label> <div class=col-xs-8><p class=form-control-static> {{(assets_companies | filter : {ID: item.policy.company})[0].name || \'---\' }} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Product Line</label> <div class=col-xs-8><p class=form-control-static> {{(assets_products | filter : {ID: item.policy.product})[0].name || \'---\' }} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Date Issued</label> <div class=col-xs-8><p class=form-control-static> {{item.policy.date_issued | unix_date | date:\'mediumDate\'}} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Date Effective</label> <div class=col-xs-8><p class=form-control-static> {{item.policy.date_effective | unix_date | date:\'mediumDate\'}} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Date Expiry</label> <div class=col-xs-8><p class=form-control-static> {{item.policy.date_expiry | unix_date | date:\'mediumDate\'}} </p></div> </div> </div> <h4 class="form-header b-b p-b-xs p-t-sm">Loss Information</h4> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Loss/incident Location</label> <div class=col-xs-8><p class=form-control-static> {{item.loss_location}} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Cause of Loss</label> <div class=col-xs-8><p class=form-control-static> {{item.incident_circumstances}} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Nature of Loss</label> <div class=col-xs-8><p class=form-control-static> {{item.loss_description}} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Claim Info</label> <div class=col-xs-8><p class=form-control-static> {{item.claim_info}} </p></div> </div> <h4 class="form-header b-b p-b-xs p-t-sm">Insurer Contacts</h4> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Name</label> <div class=col-xs-8><p class=form-control-static> {{item.insurer_name}} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">E-mail</label> <div class=col-xs-8><p class=form-control-static> {{item.insurer_email}} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Phone</label> <div class=col-xs-8><p class=form-control-static> {{item.insurer_phone}} </p></div> </div>  </div> <div class=col-sm-5> <h4 class="form-header b-b p-b-xs">Amounts</h4> <div class="form-group m-b-xs"> <label class="col-xs-6 control-label">Loss Amount</label> <div class=col-xs-6><p class=form-control-static> {{item.loss_amount | currency}} </p></div> </div> <div class="form-group m-b"> <label class="col-xs-6 control-label">Excess / Deductable</label> <div class=col-xs-6><p class=form-control-static> {{item.deductable_amount | currency}} </p></div> </div> <h4 class="form-header b-b p-b-xs">Settlements</h4> <div class="form-group m-b-xs"> <div class=col-xs-12> <p class="text-muted italic m-b-none">No Insurer Settlements found</p> </div> </div> <h4 class="form-header b-b p-b-xs p-t-sm">Dates</h4> <div class="form-group m-b-xs text-sm" ng-if=item.date_created> <label class="col-xs-4 control-label">Created</label> <div class=col-xs-8> <p class=form-control-static>{{item.date_created | unix_date | date:\'mediumDate\'}}</p> </div> </div> <div class="form-group m-b-xs text-sm" ng-if=item.date_edited> <label class="col-xs-4 control-label">Last Edited</label> <div class=col-xs-8> <p class=form-control-static>{{item.date_edited | unix_date | date:\'mediumDate\'}}</p> </div> </div> <h4 class="form-header b-b p-b p-t-sm">Notes</h4> <div class=m-b-xs> {{item.notes}} </div> </div> </div> '),e.put("app/clients/index.html",'<div ng-controller=ClientsCtrl ng-init="app.fullheight = true;">  <div> <div class="bg-light dk filters mobile-hidden"> <div class="row m-n"> <div class=col-md-2> <div class=input-group> <select select-picker ng-model=sort class=form-control data-style="btn-sm btn-default"> <option value disabled>Sort By</option> <option ng-repeat="item in allowedSort" value={{item.value}} ng-selected="item.value == sort">{{item.name}}</option> </select> <span class=input-group-btn uib-tooltip=Ascending/Descending tooltip-placement=right> <a href class="btn btn-default btn-sm" ng-click="reverse = !reverse"> <i class=fa ng-class="{\'fa-sort-alpha-desc\':reverse, \'fa-sort-alpha-asc\':!reverse}"></i> </a> </span> </div> </div> <div class=col-md-6> <div class=input-group> <select select-picker ng-model=filter_extra class=form-control data-style="btn-sm btn-default" ng-class="{\'w-30p\': user.can(\'admin\'), \'w-50p\': !user.can(\'admin\')}" title="Clients with"> <option value data-hidden=true></option> <option ng-repeat="i in extraFilters" value={{i.value}} ng-selected="i.value == filter_extra" data-subtext={{(items|filter:{filters:i.value}).length}}>{{i.name}}</option> </select> <select select-picker ng-model=filter_reference class=form-control data-style="btn-sm btn-default" ng-class="{\'w-30p\': user.can(\'admin\'), \'w-50p\': !user.can(\'admin\')}" title="Reference Lists"> <option value data-hidden=true></option> <option ng-repeat="i in assets_references" value={{i.ID}} ng-selected="i.ID == filter_reference" data-subtext={{(items|filter:{reference:i.ID}:true).length}}>{{i.name}}</option> </select> <select select-picker ng-model=filter_team class=form-control data-style="btn-sm btn-default" ng-class="{\'w-30p\': user.can(\'admin\'), \'w-50p\': !user.can(\'admin\')}" ng-show="user.can(\'admin\')" title=Broker> <option value data-hidden=true></option> <option ng-repeat="i in assets_teams" value={{i.ID}} ng-selected="i.ID == filter_team" data-subtext={{(items|filter:{user_id:i.ID}:true).length}}>{{i.name}}</option> </select> <span class=input-group-btn ng-if="filter_extra || filter_reference || filter_team"> <a href class="btn btn-danger btn-sm" ng-click=reset_filters()> <i class="fa fa-times"></i> </a> </span> <span class=input-group-btn> <a href class="btn btn-default btn-sm"> <i class="fa fa-filter"></i> </a> </span> </div> </div> <div class=col-md-4> <div class=pull-right> <div class=btn-group> <a ui-sref="app.import({ImportType: \'clients\'})" class="btn btn-sm btn-default"> <i class="fa fa-download m-r-sm"></i> Import </a> <a ui-sref="app.export({ExportType: \'clients\'})" class="btn btn-sm btn-default" ng-if="user.can(\'admin\')"> <i class="fa fa-upload m-r-sm"></i> Export </a> </div> </div> </div> </div> </div>  <div class="hbox hbox-filters hbox-auto-xs hbox-auto-sm bg-light mobile-panel">  <div class="col w b-r mobile-hidden"> <div class=vbox> <div class=row-row> <div class="cell scrollable hover"> <div class=cell-inner slim-scroll> <div class="list-group no-radius no-border no-bg m-b-none text-sm"> <a class="list-group-item b-b" ng-class="{\'focus\': (filter == \'\')}" ng-click="selectGroup({ID:\'\'})">ALL Clients <b class="badge bg-default pull-right">{{items.length}}</b></a>  <a class="list-group-item p-xs hover-anchor b-a no-select" ng-class="{\'focus\': group.selected}" ng-click=selectGroup(group) ng-dblclick=editGroup(group) ng-repeat="group in assets_groups" ui-on-drop=onDrop(group.ID) drag-hover-class=drag-hover> <span class="pull-right text-muted hover-action m-l-sm" ng-click=deleteGroup(group)> <i class="fa fa-times"></i> </span> <span class="block p-l-xs clearfix"> <span class="pull-left w-73p truncate">{{ group.name ? group.name : \'Untitled\' }}</span> <b class="badge bg-default pull-right hover-action-hide">{{(items|filter:{group:group.ID}).length}}</b> </span> <input class="form-control pos-abt" key-enter="doneEditingGroup(group, $index)" ng-model=group.name ng-show=group.editing ui-focus=group.editing style=top:3px;left:2px;width:98% type=text> </a> </div> </div> </div> </div> <div class="wrapper b-t"> <span class="pull-right text-muted inline wrapper-xs m-r-sm" uib-tooltip="Double click to Edit"> <i class="fa fa-question"></i> </span> <a class="btn btn-sm btn-default" href ng-click=Modals.clients_group()> <i class="fa fa-plus fa-fw m-r-xs"></i> New Group </a> </div> </div> </div>   <div class="col w-md lter b-r mobile-list" ng-swipe-right=mobile_menu()> <div class=vbox> <div class="wrapper-xs b-b bg-yellow bar_height_fix"> <div class="input-group m-b-xxs"> <span class="input-group-addon input-sm no-border no-bg"> <mini-loader ng-show=is_loading></mini-loader> <i class="icon-magnifier text-md m-t-xxs" ng-hide=is_loading></i> </span> <input class="form-control input-sm no-border no-bg text-md" ng-model=query placeholder="Search Clients" type=text> <span class="input-group-addon input-sm no-border no-bg" ng-show=query> <a href ng-click="query=\'\'" uib-tooltip="Clear Search"> <i class="fa fa-times pull-right"></i> </a> </span> </div> </div> <div class=row-row> <div class="cell scrollable hover"> <div id=scroller class="cell-inner noselect" slim-scroll> <div class=m-t-n-xxs> <div class="list-group list-group no-radius no-border no-bg m-b-none" infinite-scroll=loadMore()> <a id=scroll-{{item.ID}} class=list-group-item ng-class="{\'select\': isSelected(item) }" ng-click="selectItem(item, $event)" ng-repeat="item in items | filter:{group:filter} | filter:{filters:filter_extra} | filter:{reference:filter_reference} | filter:{user_id:filter_team} | filter:query | orderBy:sort:reverse | limitTo:totalDisplayed track by $index" ui-draggable={{isSelected(item)}}> <span class="block text-ellipsis text-md">  <div class="inline pull-left" ng-show="item.first_name || item.last_name"> {{ item.first_name }} <strong>{{ item.last_name }}</strong> <p class="text-sm text-muted m-n"> {{item.desc}} </p> </div> <span ng-hide="item.first_name || item.last_name"> No Name </span> </span> </a> </div> </div> <div class="text-center pos-abt w-full" ng-hide="(items | filter:{group:filter} | filter:{filters:filter_extra} | filter:{reference:filter_reference} | filter:{user_id:filter_team} | filter:query).length" style=top:50%;> No Clients </div> </div> </div> </div> <div class="wrapper b-t text-center mobile-footer"> <a class="btn btn-sm btn-success bold" id=create_client href ng-click=Modals.clients(true)> <i class="fa fa-plus fa-fw m-r-xs"></i> New Client </a> </div> </div> </div>   <div class="col bg-white-only mobile-detail" ng-swipe-right=mobile_back()> <div class=vbox> <div class="wrapper-sm b-b lter bar_height_fix"> <div class="row no-gutter"> <div class=col-xs-8><div class=scene-group ng-show="item.selected && !hasMany()"> <a href ng-click=mobile_back() class=mobile-show> <i class="fa fa-arrow-left"></i> </a> <a href ng-click="set_scene(\'details\')" ng-class="{\'selected\': scene==\'details\'}">Details</a> <a href ng-click="set_scene(\'files\')" ng-class="{\'selected\': scene==\'files\'}"> Files <span class="badge up bg-danger" ng-show="item.files && item.files!=\'0\'">{{item.files}}</span> </a> <a href ng-click="set_scene(\'tasks\')" ng-class="{\'selected\': scene==\'tasks\'}"> Tasks <span class="badge up bg-danger" ng-show="item.tasks && item.tasks!=\'0\'">{{item.tasks}}</span> </a> </div></div> <div class="col-xs-4 text-right actions-wrap bold" ng-show="scene==\'details\' && !hasMany()"> <span uib-dropdown ng-hide=!item.selected> <a href uib-dropdown-toggle class="btn btn-sm btn-default p-l p-r"> Actions <span class="caret m-l-sm"></span> </a> <ul uib-dropdown-menu class="right sm"> <li><a href ng-click="Modals.clients(false, item)"> <i class="fa fa-pencil m-r-sm"></i>Edit </a></li> <li class=divider></li> <li><a href ng-click=Modals.SOA(item)> <i class="fa fa-file-text m-r-sm"></i>Download Statement (SOA) </a></li> <li><a href ng-click=Modals.loss_ratio(item)> <i class="fa fa-search-minus m-r-sm"></i>Loss Ratio Report </a></li> <li class=divider></li> <li><a href ng-click=deleteItem(item)> <i class="fa fa-trash-o m-r-sm"></i>Delete </a></li> </ul> </span> </div> </div> </div> <div class=row-row> <div class=cell> <div class=cell-inner slim-scroll> <div class="text-center pos-abt w-full text-muted" style=top:45% ng-hide=item.selected> <h3>No Item Selected.</h3> <p>Click any item in the list to preview it here.</p> </div> <div ng-if="scene != \'details\'"> <div class=wrapper> <div ng-include=get_scene()></div> </div> </div> <form name=Form> <div class=wrapper ng-if="scene==\'details\' && hasMany()"> <p> <a href ng-click=deleteMany() class="btn btn-danger btn-lg"> <span ng-if=$scope.deleting_many><mini-loader></mini-loader> Deleting</span> <span ng-if=!$scope.deleting_many>Delete</span> {{temps.length}} Records </a> </p> <p class=m-t-lg> <img ng-src="{{VARS.url+\'/assets/img/illustrations/drag.png\'}}" width=300> </p> </div> <div class=wrapper ng-if="scene==\'details\' && !hasMany()"> <div ng-if=item.selected ng-include="\'app/clients/view.html\'"></div> </div> </form> </div> </div> </div> </div> </div>  </div>  </div>  </div> '),e.put("app/clients/view.html",' <div class="hbox h-auto m-b-lg"> <div class="col text-center w-sm"> <div class="thumb-lg avatar inline loader" ng-hide=!item.first_name> <img ng-show=item.avatar ng-src={{item.avatar}}> <img holder="{{item.first_name+\' \'+item.last_name}}" holder-size=96 ng-hide=item.avatar> </div> </div> <div class="col v-middle h2 font-thin"> <div>{{item.first_name}} {{item.last_name}}</div> </div> </div> <div class=row> <div class=col-sm-6> <main-loader ng-show=item.assets_loading></main-loader> <uib-tabset active=active justified__=true ng-hide=item.assets_loading> <uib-tab> <uib-tab-heading>O/V</uib-tab-heading> <div class="form-horizontal p-t p-b"> <div class=row> <label class="col-xs-4 control-label">Policies</label> <div class="col-xs-8 control-text"> {{item.assets.policies_count}} <a href ng-click="Modals.policies(true, {}, {ID: item.ID, name:item.name, team:item.team, reference: item.reference})" class="m-l-sm btn btn-sm btn-default bold">New Policy</a> </div> </div> <div class=row> <label class="col-xs-4 control-label">Claims</label> <div class="col-xs-8 control-text"> {{item.assets.claims_count}} </div> </div> <div class=row> <label class="col-xs-4 control-label">Paid to Date</label> <div class="col-xs-8 control-text">{{item.assets.paid | currency}}</div> </div> <div class=row> <label class="col-xs-4 control-label">Balance</label> <div class="col-xs-8 control-text">{{item.assets.unpaid | currency}}</div> </div> <div class=row> <label class="col-xs-4 control-label">Total</label> <div class="col-xs-8 control-text">{{item.assets.total | currency}}</div> </div> </div> </uib-tab> <uib-tab> <uib-tab-heading>Policies</uib-tab-heading> <div class=p> <a href class="btn btn-info bold m-b-sm" ng-click="Modals.policies(true, {}, {ID: item.ID, name:item.name, team:item.team, reference: item.reference})">New Policy</a> <p class="text-muted italic" ng-show=!item.assets.policies.length>No Policies Found</p> <mini-policy item=i ng-repeat="i in item.assets.policies"></mini-policy> </div> </uib-tab> <uib-tab> <uib-tab-heading>Invoices</uib-tab-heading> <div class=p> <a href class="btn btn-info bold m-b-sm" ng-click="Modals.invoice(\'new\', 0, item.ID, item.name, 0)">New Invoice</a> <p class="text-muted italic" ng-show=!item.assets.invoices.length>No Invoices Found</p> <mini-invoice item=i ng-repeat="i in item.assets.invoices"></mini-invoice> </div> </uib-tab> <uib-tab> <uib-tab-heading>Payments</uib-tab-heading> <div class=p> <p class="text-muted italic" ng-show=!item.assets.payments.length>No Payments Found</p> <mini-transaction item=i ng-repeat="i in item.assets.payments"></mini-transaction> </div> </uib-tab> </uib-tabset> <div class="panel mobile-hidden"><div class="panel-heading bold b-b p-t-xs p-b-xs">Dates</div> <div class="panel-body form-horizontal p-l-none p-r-none text-xs p-t-xs"> <div class=row ng-if=item.date_created> <label class="col-xs-4 control-label">Created</label> <div class=col-xs-8> <p class=form-control-static>{{item.date_created | unix_date | date:\'mediumDate\'}}</p> </div> </div> <div class=row ng-if=item.date_edited> <label class="col-xs-4 control-label">Last Edited</label> <div class=col-xs-8> <p class=form-control-static>{{item.date_edited | unix_date | date:\'mediumDate\'}}</p> </div> </div> </div> </div> </div> <div class=col-sm-6>  <div class=form-horizontal> <div class="form-group m-b-sm" ng-if=item.company> <label class="col-xs-4 control-label">Company</label> <div class=col-xs-8> <p class=form-control-static>{{item.company}}</p> </div> </div> <div class="form-group m-b-sm" ng-if="item.group && item.group!=\'0\'"> <label class="col-xs-4 control-label">Group</label> <div class=col-xs-8> <p class=form-control-static>{{(assets_groups | filter : {ID: item.group}:true)[0].name }}</p> </div> </div> <div class="form-group m-b-sm" ng-if="item.reference && item.reference!=\'0\'"> <label class="col-xs-4 control-label">Reference List</label> <div class=col-xs-8> <p class=form-control-static>{{(assets_references | filter : {ID: item.reference}:true)[0].name }}</p> </div> </div> <div class="form-group m-b-sm" ng-if="user.can(\'admin\')"> <label class="col-xs-4 control-label">Broker</label> <div class=col-xs-8> <p class=form-control-static>{{(assets_teams | filter : {ID: item.user_id})[0].name }}</p> </div> </div> <div class="form-group m-b-sm" ng-if=item.email> <label class="col-xs-4 control-label">Email</label> <div class=col-xs-8> <p class=form-control-static><a href class=link ng-click="Modals.email(item.email, item.name)">{{item.email}}</a></p> </div> </div> <div class="form-group m-b-sm" ng-if=item.mobile> <label class="col-xs-4 control-label">Mobile</label> <div class=col-xs-8> <p class=form-control-static><a href class=link ng-click="Modals.sms(item.mobile, item.name)">{{item.mobile}}</a></p> </div> </div> <div class="form-group m-b-sm" ng-if=item.home> <label class="col-xs-4 control-label">Home</label> <div class=col-xs-8> <p class=form-control-static>{{item.home}}</p> </div> </div> <div class="form-group m-b-sm" ng-if=item.work> <label class="col-xs-4 control-label">Work</label> <div class=col-xs-8> <p class=form-control-static>{{item.work}}</p> </div> </div> <div class="form-group m-b-sm" ng-if=item.gender> <label class="col-xs-4 control-label">Gender</label> <div class=col-xs-8> <p class=form-control-static>{{item.gender}}</p> </div> </div> <div class="form-group m-b-sm" ng-if="item.dob && item.dob != \'0000-00-00\'"> <label class="col-xs-4 control-label">Date of Birth</label> <div class=col-xs-8> <p class=form-control-static> {{item.dob | dateFromMySQL | date:\'mediumDate\'}} <b class="label label-default m-l-sm"> {{item.dob | dateFromMySQL | ageFilter}} Years Old </b> </p> </div> </div> <div class="form-group m-b-sm" ng-show=has_address(item)> <label class="col-xs-4 control-label">Address</label> <div class=col-xs-8> <address-card item=item class="form-control-static m-b"></address-card> </div> </div> <div class="form-group m-b-sm" ng-show="item.lat && item.lng"> <div class=col-xs-12> <a href ng-if=!item.show_map ng-click="item.show_map=true" class="bold btn btn-info">Show GPS Map</a> <img-gmap lat=item.lat lng=item.lng ng-if=item.show_map></img-gmap> </div> </div> <div class="form-group m-b-sm" ng-if=item.notes> <label class="col-xs-4 control-label">Notes</label> <div class=col-xs-8> <p class=form-control-static>{{item.notes}}</p> </div> </div> </div>  </div> </div> '),e.put("app/export/index.html",'<div class=wrapper ng-controller="ExportCtrl as ctrl" ng-init="app.fullheight = false;"> <h2 class="italic bold m-t-none m-b">Export {{type}}</h2> <div class="wrapper text-center text-lg" ng-if=is_loading><i class="fa fa-refresh fa-spin"></i></div> <form name=Form ng-submit=process()> <div class="row m-t"> <div class="col-md-8 col-sm-12 form-horizontal"> <div class=form-group> <label class="col-sm-3 control-label bold">Export</label> <div class=col-sm-9> <div class=btn-group> <label class="btn btn-default" ng-model=type uib-btn-radio="\'clients\'">Clients</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'leads\'">Leads</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'policies\'">Policies</label> </div> </div> </div> <div class=form-group ng-show="type==\'leads\'"> <label class="col-sm-3 control-label bold">Status</label> <div class=col-sm-9> <select class=form-control ng-model=leads_group select-picker ng-init="leads_group=\'1\'">  <option ng-repeat="lg in assets_leads_groups" value={{lg.ID}}>{{lg.name}}</option> </select> </div> </div> <div class=form-group ng-show="type==\'clients\'"> <label class="col-sm-3 control-label bold">Group</label> <div class=col-sm-9> <select class=form-control ng-model=clients_group select-picker> <option value>-- ALL --</option> <option ng-repeat="cg in assets_groups" value={{cg.ID}}>{{cg.name}}</option> </select> </div> </div> <div class=form-group> <label class="col-sm-3 control-label bold">Reference List</label> <div class=col-sm-9> <select class=form-control ng-model=reference select-picker> <option value>-- ALL --</option> <option ng-repeat="reference in assets_references" value={{reference.ID}}> {{reference.name}} </option> </select> </div> </div> <div class=form-group> <label class="col-sm-3 control-label bold">Team Member Responsible</label> <div class=col-sm-9> <select class=form-control ng-model=team select-picker> <option value>-- ALL --</option> <option ng-repeat="team in assets_teams" value={{team.ID}}> {{team.name}} </option> </select> </div> </div> <div class=form-group ng-show="type==\'leads\'"> <label class="col-sm-3 control-label bold">Interested In Company</label> <div class=col-sm-9> <select select-picker class=form-control ng-model=interest_company> <option value>-- ALL --</option> <option ng-repeat="company in assets_companies" value={{company.ID}}>{{company.name}}</option> </select> </div> </div> <div class=form-group ng-show="type==\'leads\'"> <label class="col-sm-3 control-label bold">Interested In Product</label> <div class=col-sm-9> <select select-picker class=form-control ng-model=interest_product> <option value>-- ALL --</option> <option ng-repeat="product in assets_products" data-icon="{{product.icon}} m-r-sm" value={{product.ID}}>{{product.name}}</option> </select> </div> </div> <div class=form-group ng-show="type==\'leads\'"> <label class="col-sm-3 control-label bold">Media Type</label> <div class=col-sm-9> <select class=form-control ng-model=media_type select-picker> <option value>-- ALL --</option> <option ng-repeat="mt in assets_media_types" value={{mt.ID}}>{{mt.name}}</option> </select> </div> </div> <div class=form-group> <label class="col-sm-3 control-label bold"></label> <div class=col-sm-9> <button class="btn btn-info btn-lg bold" type=submit ng-class="{\'disabled\':is_loading}" ng-hide=download_url> <span ng-hide=is_loading>Export {{type}}</span> <span ng-show=is_loading>Exporting {{type}} <mini-loader></mini-loader></span> </button> <a ng-show=download_url class="btn btn-success btn-lg bold" href={{download_url}} target=_blank ng-click=clear_download()> Download File </a> </div> </div> </div> </div> </form> </div> '),
e.put("app/home/index.html",'<div ng-controller=HomeCtrl ng-init="app.fullheight=false;"> <div class="wrapper-sm bg-black lt b-b"> <div class="row text-center"> <div class="col-sm-3 col-xs-6" uib-tooltip-html=leads_text> <div>Leads <i class={{leads_arrow}}></i></div> <div class="h2 m-b-sm">{{leads_total}}</div> </div> <div class="col-sm-3 col-xs-6" uib-tooltip-html=clients_text> <div>Clients <i class={{clients_arrow}}></i></div> <div class="h2 m-b-sm">{{clients_total}}</div> </div> <div class="col-sm-3 col-xs-6" uib-tooltip-html=policies_text> <div>Policies <i class={{policies_arrow}}></i></div> <div class="h2 m-b-sm">{{policies_total}}</div> </div> <div class="col-sm-3 col-xs-6" uib-tooltip-html=claims_text> <div>Claims <i class={{claims_arrow}}></i></div> <div class="h2 m-b-sm">{{claims_total}}</div> </div> </div> </div> <div class="wrapper-- p-b-none bg-white"> <div class="row no-gutter"> <div class=col-sm-6> <div class="panel panel-default">  <div class="panel-body no-padder"> <div class="row no-gutter text-center"> <div class="col-sm-4 b-r"> <h5>Disk Space</h5> <easy-pie percent="\'40\'" text=40% size=100></easy-pie> <p class="text-sm text-muted"> 2.8 GB / 5 GB </p> </div> <div class="col-sm-4 b-r"> <h5>Emails</h5> <easy-pie percent="\'70\'" text=70% size=100></easy-pie> <p class="text-sm text-muted"> 70,000 / 100,000 </p> </div> <div class=col-sm-4> <h5>SMS</h5> <easy-pie percent="\'20\'" text=20% size=100></easy-pie> <p class="text-sm text-muted"> 200 / 1,000 </p> </div> </div> </div> </div> <div class="panel panel-default"> <div class=panel-heading>Policies / Bills Chart</div> <div class=panel-body> <canvas class="chart chart-line" chart-data=lines.data chart-labels=lines.labels chart-series=lines.series chart-colors=lines.colors chart-options=lines.options></canvas> </div> </div> <div class="panel panel-default"> <div class=panel-heading>Commissions Chart</div> <div class=panel-body> <canvas class="chart chart-bar" chart-data=bars.data chart-labels=bars.labels chart-series=bars.series chart-colors=bars.colors chart-options=bars.options></canvas> </div> </div> <div class="panel panel-default b-b-none"> <div class=panel-heading>Expenses</div> <div class=panel-body> <canvas class="chart chart-doughnut" chart-data=doughnut.data chart-labels=doughnut.labels chart-series=doughnut.series chart-colors=doughnut.colors chart-options=doughnut.options></canvas> </div> </div> </div>  <div class=col-sm-6> <div class="panel panel-default"> <div class=panel-heading>Invoices</div> <div class=panel-body> <chart-stack items=chart_stack></chart-stack> </div> </div> <div class="panel panel-default"> <div class=panel-heading> Tasks <ul class=nav> <li> <a href><i class="fa fa-refresh"></i></a> </li> <li uib-dropdown> <a class=nav-link uib-dropdown-toggle> <i class="fa fa-ellipsis-v"></i> </a> <ul class="dropdown-menu right"> <li><a href>Today</a></li> <li><a href>Tomorrow</a></li> <li><a href>This Week</a></li> <li><a href>Next Week</a></li> </ul></li> </ul> </div> <div class="panel-body bg-light"> <ul class=timeline> <li class=tl-header> <div class="btn btn-info bold">Today</div> </li> <li class=tl-item> <div class=tl-wrap> <span class="tl-date text-muted">Lead</span> <div class="tl-content panel block p-sm b-a text-sm"> <span class="arrow left pull-up"></span> <span class="pull-left thumb-sm avatar m-r"> <img holder="Mark Anthony" holder-size=40> </span> <div class=bold>Mark Anthony</div> <div>Call to schedule a meeting</div> </div> </div> </li> <li class=tl-item> <div class="tl-wrap b-info"> <span class="tl-date text-muted">Policy</span> <div class="tl-content panel block p-sm b-a text-sm"> <span class="arrow left pull-up"></span> <div class=bold>HP-33445-R8</div> <div>Policy expires today</div> </div> </div> </li> <li class=tl-item> <div class="tl-wrap b-success"> <span class="tl-date text-muted">Client</span> <div class="tl-content panel block p-sm b-a text-sm"> <span class="arrow left pull-up"></span> <span class="pull-left thumb-sm avatar m-r"> <img holder="Rima Khoury" holder-size=40> </span> <div class=bold>Rima Khoury</div> <div>Interested in a second call session to upgrade policy</div> </div> </div> </li> </ul> </div> </div> <div class="panel panel-default"> <div class=panel-heading> Activity <ul class=nav> <li> <a href><i class="fa fa-refresh"></i></a> </li> <li uib-dropdown> <a class=nav-link uib-dropdown-toggle> <i class="fa fa-ellipsis-v"></i> </a> <ul class="dropdown-menu right"> <li><a href>Today</a></li> <li><a href>Yesterday</a></li> <li><a href>This Week</a></li> <li><a href>Last Week</a></li> </ul></li> </ul> </div> <div class=panel-body> <div class="btn btn-info bold">Today</div> <div class="streamline b-l m-l-lg text-sm"> <div class=sl-item> <div class=m-l> <div class=text-muted>5 minutes ago</div> <p><b>Jessi</b> Created a Policy</p> </div> </div> <div class="sl-item b-success b-l"> <div class=m-l> <div class=text-muted>8 minutes ago</div> <p><b>Jessi</b> modified client #44567</p> </div> </div> <div class="sl-item b-info b-l"> <div class=m-l> <div class=text-muted>53 minutes ago</div> <p><b>Rodolph</b> added claim #33245</p> </div> </div> <div class="sl-item b-success b-l"> <div class=m-l> <div class=text-muted>2 hours ago</div> <p><b>Philip</b> modified client #44567</p> </div> </div> </div> </div> </div> <div class="panel panel-default b-b-none"> <div class=panel-heading> Birthdays <ul class=nav> <li><a href class=active>Leads</a></li> <li><a href>Clients</a></li> </ul> </div> <div class="panel-body p-xs"> <ul class="list-group pull-in-- no-borders m-b-none"> <li class=list-group-item> <span class="pull-left thumb-sm avatar m-r"> <img holder="Fad Bad" holder-size=40> </span> <div class=clear> <div class=bold>Fad Bad</div> <small class=text-muted>Turning <b>39</b> today</small> </div> </li> <li class=list-group-item> <span class="pull-left thumb-sm avatar m-r"> <img holder="Ahmad Zeitoun" holder-size=40> </span> <div class=clear> <div class=bold>Ahmad Zeitoun</div> <small class=text-muted>Turning <b>32</b> today</small> </div> </li> <li class=list-group-item> <span class="pull-left thumb-sm avatar m-r"> <img holder="Rony Araji" holder-size=40> </span> <div class=clear> <div class=bold>Rony Araji</div> <small class=text-muted>Turning <b>24</b> today</small> </div> </li> </ul> </div> </div> </div>  </div>  </div>  </div>'),e.put("app/import/index.html",'<div class=wrapper ng-controller="ImportCtrl as ctrl" ng-init="app.fullheight = false;"> <h2 class="italic bold m-t-none m-b">Import {{type}}</h2> <div class="wrapper text-center text-lg" ng-if=is_loading><i class="fa fa-refresh fa-spin"></i></div> <div class="row m-t" style="position: relative;" ng-show="step==1 && !is_loading"> <div class=col-md-5> <div class="panel panel-default"> <div class=panel-heading> Upload </div> <div class=panel-body> <div accept=.csv class=drop-box ng-model=files ngf-allow-dir=true ngf-change=upload($files) ngf-drag-over-class="\'dragover\'" ngf-drop ngf-max-size=50MB ngf-multiple=false ngf-pattern="\'.csv\'" ngf-select style="width:100%; min-height: 295px;"> <h3> Drop your list here </h3> <h4> upload you subscribers as comma-separated list (CSV) </h4> <uib-progressbar ng-show="progress > 0" type=info value=progress> </uib-progressbar> </div> </div> <div class=panel-footer> Max file size: 50MB. Split list into 50.000 items max </div> </div> </div> <div class="col-md-1 text-center" style="padding:150px 0 0 0;"> <span class="bg-light dker p rounded bold">OR</span> </div> <div class=col-md-6 style="position: initial;"> <div class="panel panel-default"> <div class=panel-heading> Paste </div> <div class=panel-body> <textarea class=form-control id=paste-import ng-blur="process_data();focused = false" ng-class="{\'focus\':focused}" ng-focus="focused = true" ng-init="focused = false" ng-model=data placeholder="paste your list here" rows=12>\n                    </textarea> </div> <div class=panel-footer> Copy and paste from your spreadsheet app </div> </div> </div> </div> <div ng-show="step==2 && !is_loading"> <form name=Form ng-submit=do_import()> <div compile=data_html> </div>  <div class="row m-t"> <div class="col-md-9 form-horizontal"> <div class=form-group> <label class="col-sm-3 control-label bold">Import As</label> <div class=col-sm-9> <div class=btn-group> <label class="btn btn-default" ng-model=type uib-btn-radio="\'clients\'">Clients</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'leads\'">Leads</label> </div> </div> </div> <div class=form-group ng-show="type==\'leads\'"> <label class="col-sm-3 control-label bold">Status</label> <div class=col-sm-9> <select class=form-control ng-model=leads_group select-picker ng-init="leads_group=\'1\'">  <option ng-repeat="lg in assets_leads_groups" value={{lg.ID}}>{{lg.name}}</option> </select> </div> </div> <div class=form-group ng-show="type==\'clients\'"> <label class="col-sm-3 control-label bold">Group</label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=clients_group select-picker> <option value>-- NONE --</option> <option ng-repeat="cg in assets_groups" value={{cg.ID}}>{{cg.name}}</option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.clients_group()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div> <div class=form-group> <label class="col-sm-3 control-label bold">Reference List</label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=reference select-picker> <option value>-- NONE --</option> <option ng-repeat="reference in assets_references" value={{reference.ID}}> {{reference.name}} </option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.reference()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div> <div class=form-group> <label class="col-sm-3 control-label bold">Team Member Responsible</label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=team select-picker> <option value>-- NONE --</option> <option ng-repeat="team in assets_teams" value={{team.ID}}> {{team.name}} </option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.team()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div> <div class=form-group ng-show="type==\'leads\'"> <label class="col-sm-3 control-label bold">Interested In Company</label> <div class=col-sm-9> <div class=input-group> <select select-picker class=form-control ng-model=interest_company> <option value>-- NONE --</option> <option ng-repeat="company in assets_companies" value={{company.ID}}>{{company.name}}</option> </select> <span class=input-group-btn> <a href ng-click=Modals.company() class="btn btn-default"> <i class="fa fa-plus m-r-sm"></i> Add New </a> </span> </div> </div> </div> <div class=form-group ng-show="type==\'leads\'"> <label class="col-sm-3 control-label bold">Interested In Product</label> <div class=col-sm-9> <div class=input-group> <select select-picker class=form-control ng-model=interest_product> <option value>-- NONE --</option> <option ng-repeat="product in assets_products" data-icon="{{product.icon}} m-r-sm" value={{product.ID}}>{{product.name}}</option> </select> <span class=input-group-btn> <a href ng-click=Modals.company() class="btn btn-default"> <i class="fa fa-plus m-r-sm"></i> Add New </a> </span> </div> </div> </div> <div class=form-group ng-show="type==\'leads\'"> <label class="col-sm-3 control-label bold">Media Type</label> <div class=col-sm-9> <select class=form-control ng-model=media_type select-picker> <option value>-- NONE --</option> <option ng-repeat="mt in assets_media_types" value={{mt.ID}}>{{mt.name}}</option> </select> </div> </div> </div> <div class="col-md-3 text-right"> <button class="btn btn-info btn-lg bold" type=submit> Import {{count}} {{type}} </button> </div> </div> </form> </div> <div ng-show="step==3 && !is_loading"> <p class=m-b ng-bind-html=import_stats></p> <uib-progressbar type=success value=percentage></uib-progressbar> <div ng-bind-html=import_text></div> </div> </div> '),e.put("app/leads/index.html",'<div ng-controller=LeadsCtrl ng-init="app.fullheight = true;"> <div class="bg-light dk filters mobile-hidden"> <div class="row m-n"> <div class=col-md-2> <div class=input-group> <select select-picker ng-model=sort class=form-control data-style="btn-sm btn-default"> <option value disabled>Sort By</option> <option ng-repeat="item in allowedSort" value={{item.value}} ng-selected="item.value == sort">{{item.name}}</option> </select> <span class=input-group-btn uib-tooltip=Ascending/Descending tooltip-placement=right> <a href class="btn btn-default btn-sm" ng-click="reverse = !reverse"> <i class=fa ng-class="{\'fa-sort-alpha-desc\':reverse, \'fa-sort-alpha-asc\':!reverse}"></i> </a> </span> </div> </div> <div class=col-md-7> <div class=input-group> <select select-picker ng-model=filter_reference class=form-control data-style="btn-sm btn-default" ng-class="{\'w-25p\': user.can(\'admin\'), \'w-30p\': !user.can(\'admin\')}" title="Reference List"> <option value data-hidden=true></option> <option ng-repeat="item in assets_references" value={{item.ID}} ng-selected="item.ID == filter_reference" data-subtext={{(items|filter:{reference:item.ID}:true).length}}>{{item.name}}</option> </select> <select select-picker ng-model=filter_team class=form-control data-style="btn-sm btn-default" ng-class="{\'w-25p\': user.can(\'admin\'), \'w-30p\': !user.can(\'admin\')}" ng-show="user.can(\'admin\')" title=Broker> <option value data-hidden=true></option> <option ng-repeat="i in assets_teams" value={{i.ID}} ng-selected="i.ID == filter_team" data-subtext={{(items|filter:{user_id:i.ID}:true).length}}>{{i.name}}</option> </select> <select select-picker ng-model=filter_company class=form-control data-style="btn-sm btn-default" ng-class="{\'w-25p\': user.can(\'admin\'), \'w-30p\': !user.can(\'admin\')}" title="Company / Insurer"> <option value data-hidden=true></option> <option ng-repeat="item in assets_companies" value={{item.ID}} ng-selected="item.ID == filter_company" data-subtext={{(items|filter:{interest_company:item.ID}:true).length}}>{{item.name}}</option> </select> <select select-picker ng-model=filter_product class=form-control data-style="btn-sm btn-default" ng-class="{\'w-25p\': user.can(\'admin\'), \'w-30p\': !user.can(\'admin\')}" title=Product> <option value data-hidden=true></option> <option ng-repeat="item in assets_products" value={{item.ID}} ng-selected="item.ID == filter_product" data-subtext={{(items|filter:{interest_product:item.ID}:true).length}}>{{item.name}}</option> </select> <span class=input-group-btn ng-if="filter_reference || filter_team || filter_company || filter_product"> <a href class="btn btn-danger btn-sm" ng-click=reset_filters() uib-tooltip="Reset Filters" tooltip-placement=bottom> <i class="fa fa-times"></i> </a> </span> <span class=input-group-btn> <a href class="btn btn-default btn-sm"> <i class="fa fa-filter"></i> </a> </span> </div> </div> <div class=col-md-3> <div class=pull-right> <div class=btn-group> <a ui-sref="app.import({ImportType: \'leads\'})" class="btn btn-sm btn-default"> <i class="fa fa-download m-r-sm"></i> Import </a> <a ui-sref="app.export({ExportType: \'leads\'})" class="btn btn-sm btn-default"> <i class="fa fa-upload m-r-sm"></i> Export </a> </div> </div> </div> </div> </div>  <div class="hbox hbox-filters hbox-auto-xs hbox-auto-sm bg-light mobile-panel">  <div class="col w b-r mobile-hidden"> <div class=vbox> <div class=row-row> <div class="cell scrollable hover"> <div class=cell-inner slim-scroll> <div class="list-group no-radius no-border no-bg m-b-none text-sm"> <a class="list-group-item b-b" ng-class="{\'focus\': (filter == \'\')}" ng-click="selectGroup({ID:\'\'})">ALL Leads <b class="badge bg-default pull-right">{{items.length}}</b></a> <a class="list-group-item p-xs hover-anchor b-a no-select" ng-class="{\'focus\': group.selected}" ng-click=selectGroup(group) ng-repeat="group in assets_leads_groups" ui-on-drop=onDrop(group.ID) drag-hover-class=drag-hover> <span class="block p-l-xs clearfix"> <span class="pull-left w-73p truncate">{{ group.name ? group.name : \'Untitled\' }}</span> <b class="badge bg-default pull-right hover-action-hide--">{{(items|filter:{group:group.ID}).length}}</b> </span> </a> </div> </div> </div> </div> </div> </div>   <div class="col w-md lter b-r mobile-list" ng-swipe-right=mobile_menu()> <div class=vbox> <div class="wrapper-xs b-b bg-yellow bar_height_fix"> <div class="input-group m-b-xxs"> <span class="input-group-addon input-sm no-border no-bg"> <mini-loader ng-show=is_loading></mini-loader> <i class="icon-magnifier text-md m-t-xxs" ng-hide=is_loading></i> </span> <input class="form-control input-sm no-border no-bg text-md" ng-model=query placeholder="Search Leads" type=text> <span class="input-group-addon input-sm no-border no-bg" ng-show=query> <a href ng-click="query=\'\'" uib-tooltip="Clear Search"> <i class="fa fa-times pull-right"></i> </a> </span> </div> </div> <div class=row-row> <div class="cell scrollable hover"> <div id=scroller class="cell-inner noselect" slim-scroll> <div class=m-t-n-xxs> <div class="list-group no-radius no-border no-bg m-b-none" infinite-scroll=loadMore()> <a id=scroll-{{item.ID}} class=list-group-item ng-class="{\'select\': isSelected(item) }" ng-click="selectItem(item, $event)" ng-repeat="item in items | filter:{group:filter} | filter:{reference:filter_reference} | filter:{user_id:filter_team} | filter:{interest_company:filter_company} | filter:{interest_product:filter_product} | filter:query | orderBy:sort:reverse | limitTo:totalDisplayed track by $index" ui-draggable={{isSelected(item)}}> <span class="block text-ellipsis text-md">  <div class="inline pull-left" ng-show="item.first_name || item.last_name"> {{ item.first_name }} <strong>{{ item.last_name }}</strong> <p class="text-sm text-muted m-n"> {{ item.tasks }} <ng-pluralize count=item.tasks when="{ one: \'Pending Task\', other: \'Pending Tasks\' }"></ng-pluralize> </p> </div> <span ng-hide="item.first_name || item.last_name"> No Name </span> </span> </a> </div> </div> <div class="text-center pos-abt w-full" ng-hide="(items | filter:{group:filter} | filter:{reference:filter_reference} | filter:{user_id:filter_team} | filter:{interest_company:filter_company} | filter:{interest_product:filter_product} | filter:query).length" style=top:50%;> No Leads </div> </div> </div> </div> <div class="wrapper b-t text-center mobile-footer"> <a class="btn btn-sm btn-success bold" id=create_client href ng-click=Modals.leads(true)> <i class="fa fa-plus fa-fw m-r-xs"></i> New Lead </a> </div> </div> </div>   <div class="col bg-white-only mobile-detail" ng-swipe-right=mobile_back()> <div class=vbox> <div class="wrapper-sm b-b lter bar_height_fix"> <div class="row no-gutter"> <div class=col-xs-8><div class=scene-group ng-show="item.selected && !hasMany()"> <a href ng-click=mobile_back() class=mobile-show> <i class="fa fa-arrow-left"></i> </a> <a href ng-click="set_scene(\'details\')" ng-class="{\'selected\': scene==\'details\'}">Details</a> <a href ng-click="set_scene(\'files\')" ng-class="{\'selected\': scene==\'files\'}"> Files <span class="badge up bg-danger" ng-show="item.files && item.files!=\'0\'">{{item.files}}</span> </a> <a href ng-click="set_scene(\'tasks\')" ng-class="{\'selected\': scene==\'tasks\'}"> Tasks <span class="badge up bg-danger" ng-show="item.tasks && item.tasks!=\'0\'">{{item.tasks}}</span> </a> </div></div> <div class="col-xs-4 text-right actions-wrap bold" ng-show="scene==\'details\' && !hasMany()"> <span uib-dropdown ng-hide=!item.selected> <a href uib-dropdown-toggle class="btn btn-sm btn-default p-l p-r"> Actions <span class="caret m-l-sm"></span> </a> <ul uib-dropdown-menu class="right sm"> <li><a href ng-click="Modals.leads(false, item)"> <i class="fa fa-pencil m-r-sm"></i>Edit </a></li> <li class=divider ng-if="item.converted!=\'1\'"></li> <li ng-if="item.converted!=\'1\'"><a href ng-click=Modals.convert_to_client(item)> <i class="icon-people m-r-sm"></i>Conver to Client </a></li> <li class=divider></li> <li><a href ng-click=deleteItem(item)> <i class="fa fa-trash-o m-r-sm"></i>Delete </a></li> </ul> </span> </div> </div> </div> <div class=row-row> <div class=cell> <div class=cell-inner slim-scroll> <div class="text-center pos-abt w-full text-muted" style=top:45% ng-hide=item.selected> <h3>No Item Selected.</h3> <p>Click any item in the list to preview it here.</p> </div> <div ng-if="scene != \'details\'"> <div class=wrapper> <div ng-include=get_scene()></div> </div> </div> <form name=Form> <div class=wrapper ng-if="scene==\'details\' && hasMany()"> <p> <a href ng-click=deleteMany() class="btn btn-danger btn-lg"> <span ng-if=$scope.deleting_many><mini-loader></mini-loader> Deleting</span> <span ng-if=!$scope.deleting_many>Delete</span> {{temps.length}} Records </a> </p> <p class=m-t-lg> <img ng-src="{{VARS.url+\'/assets/img/illustrations/drag.png\'}}" width=300> </p> </div> <div class=wrapper ng-if="scene==\'details\' && !hasMany()"> <div ng-if=item.selected ng-include="\'app/leads/view.html\'"></div> </div> </form> </div> </div> </div> </div> </div>  </div>  </div> '),e.put("app/leads/view.html",'<div class="hbox h-auto m-b-lg"> <div class="col text-center w-sm"> <div class="thumb-lg avatar inline loader" ng-hide=!item.first_name> <img ng-show=item.avatar ng-src={{item.avatar}}> <img holder="{{item.first_name+\' \'+item.last_name}}" holder-size=96 ng-hide=item.avatar>  </div> </div> <div class="col v-middle h1 font-thin"> <div>{{item.first_name}} {{item.last_name}}</div> </div> </div>  <div class="row form-horizontal"> <div class="col-md-8 col-xs-12"> <div class="form-group m-b-sm" ng-if=item.company> <label class="col-xs-3 control-label">Company</label> <div class=col-xs-9> <p class=form-control-static> {{item.company}} </p> </div> </div> <div class="form-group m-b-sm" ng-if=item.group> <label class="col-xs-3 control-label">Status</label> <div class=col-xs-9> <p class=form-control-static> {{(assets_leads_groups | filter: {ID: item.group})[0].name }} </p> </div> </div> <div class="form-group m-b-sm" ng-if="item.reference && item.reference != \'0\'"> <label class="col-xs-3 control-label">Reference List</label> <div class=col-xs-9> <p class=form-control-static> {{(assets_references | filter: {ID: item.reference}:true)[0].name }} </p> </div> </div> <div class="form-group m-b-sm" ng-if="user.can(\'admin\')"> <label class="col-xs-3 control-label">Broker</label> <div class=col-xs-9> <p class=form-control-static> {{(assets_teams | filter: {ID: item.user_id}:true)[0].name }} </p> </div> </div> <div class="form-group m-b-sm" ng-if="item.interest_company && item.interest_company != \'0\'"> <label class="col-xs-3 control-label">Interested In Company</label> <div class=col-xs-9> <p class=form-control-static> {{(assets_companies | filter: {ID: item.interest_company}:true)[0].name }} </p> </div> </div> <div class="form-group m-b-sm" ng-if="item.interest_product && item.interest_product != \'0\'"> <label class="col-xs-3 control-label">Interested In Product</label> <div class=col-xs-9> <p class=form-control-static> {{(assets_products | filter: {ID: item.interest_product}:true)[0].name }} </p> </div> </div> <div class="form-group m-b-sm" ng-if=item.email> <label class="col-xs-3 control-label">Email</label> <div class=col-xs-9> <p class=form-control-static><a href class=link ng-click="Modals.email(item.email, item.name)">{{item.email}}</a></p> </div> </div> <div class="form-group m-b-sm" ng-if=item.mobile> <label class="col-xs-3 control-label">Mobile</label> <div class=col-xs-9> <p class=form-control-static><a href class=link ng-click="Modals.sms(item.mobile, item.name)">{{item.mobile}}</a></p> </div> </div> <div class="form-group m-b-sm" ng-if=item.home> <label class="col-xs-3 control-label">Home</label> <div class=col-xs-9> <p class=form-control-static> {{item.home}} </p> </div> </div> <div class="form-group m-b-sm" ng-if=item.work> <label class="col-xs-3 control-label">Work</label> <div class=col-xs-9> <p class=form-control-static> {{item.work}} </p> </div> </div> <div class="form-group m-b-sm" ng-if=item.gender> <label class="col-xs-3 control-label">Gender</label> <div class=col-xs-9> <p class=form-control-static> {{item.gender}} </p> </div> </div> <div class="form-group m-b-sm" ng-if="item.dob && item.dob != \'0000-00-00\'"> <label class="col-xs-3 control-label">Date of Birth</label> <div class=col-xs-9> <p class=form-control-static> {{item.dob | dateFromMySQL | date:\'mediumDate\'}} <b class="label label-default m-l-sm"> {{item.dob | dateFromMySQL | ageFilter}} Years Old </b> </p> </div> </div> <div class="form-group m-b-sm" ng-if=has_address(item)> <label class="col-xs-3 control-label">Address</label> <div class=col-xs-9> <address-card item=item class="form-control-static m-b"></address-card> </div> </div> <div class="form-group m-b-sm" ng-show="item.lat && item.lng"> <label class="col-xs-3 control-label">GPS Map</label> <div class=col-xs-9> <a href ng-if=!item.show_map ng-click="item.show_map=true" class="bold btn btn-info">Show GPS Map</a> <img-gmap lat=item.lat lng=item.lng ng-if=item.show_map></img-gmap> </div> </div> <div class="form-group m-b-sm" ng-if="item.media_type && item.media_type != \'0\'"> <label class="col-xs-3 control-label">Media Type</label> <div class=col-xs-9> <p class=form-control-static> {{(assets_media_types | filter: {ID: item.media_type})[0].name }} </p> </div> </div> <div class="form-group m-b-sm" ng-if=item.notes> <label class="col-xs-3 control-label">Notes</label> <div class=col-xs-9> <p class=form-control-static> {{item.notes}} </p> </div> </div> </div> <div class="col-md-4 mobile-hidden"> <div class=panel><div class="panel-heading bold b-b">Dates</div> <div class="panel-body form-horizontal p-l-none p-r-none text-xs"> <div class=row ng-if=item.date_created> <label class="col-xs-4 control-label">Created</label> <div class=col-xs-8> <p class=form-control-static>{{item.date_created | unix_date | date:\'mediumDate\'}}</p> </div> </div> <div class=row ng-if=item.date_edited> <label class="col-xs-4 control-label">Last Edited</label> <div class=col-xs-8> <p class=form-control-static>{{item.date_edited | unix_date | date:\'mediumDate\'}}</p> </div> </div> </div> </div> </div> </div>  '),e.put("app/mechanique/index.html",' <div class="hbox hbox-auto-xs hbox-auto-sm" ng-controller=MechaniqueCtrl>  <div class=col> <div class=wrapper-md> <h1 class=title>Mechanique (Lebanon)</h1> </div> <div class=wrapper> <div class=row> <div class=col-md-8> <div class="panel panel-default"> <div class=panel-heading>Speed Tickets</div> <div class=panel-body> <form name=stForm novalidate ng-submit="get_speedtickets(stplatenumber, carCode)"> <div class=form-group> <label class=m-b-xs for=platenumber>Plate Number</label> <div class=input-group> <select select-picker ng-model=carCode class="form-control w-30p"> <option ng-repeat="code in speedticket.carCode" value={{code.id}} ng-selected="{{code.id == carCode}}">{{code.name}} - {{code.name_ar}}</option> </select> <input name=stplatenumber ng-model=stplatenumber type=number placeholder="Vehicle Number" class="form-control w-60p" required ng-class="{\'has-error\': stForm.stplatenumber.$invalid && stFormSubmitted}"> <span class=input-group-btn> <button type=submit class="btn btn-info">Search</button> </span> </div> </div> <div class=row> <div class="col-md-10 col-md-offset-2"> <div ng-bind-html=speedtickets_return></div> </div> </div> </form> </div> </div> </div> </div> <div class="row m-t"> <div class=col-md-8> <div class="panel panel-default"> <div class=panel-heading>Mechanique Taxes</div> <div class=panel-body> <form name=mtForm novalidate ng-submit="get_taxes(platenumber, codeid, carid, horseid, yearid)"> <div class=form-group> <label class=m-b-xs for=platenumber>Plate Number</label> <div class=input-group> <select select-picker ng-model=codeid class="form-control w-30p"> <option ng-repeat="i in mechanic.codeid" value={{i.id}} ng-selected="{{i.id == codeid}}">{{i.name}} - {{i.name_ar}}</option> </select> <input ng-model=platenumber name=platenumber type=number placeholder="Vehicle Number" class="form-control w-60p" required ng-class="{\'has-error\': mtForm.platenumber.$invalid && mtFormSubmitted}"> <span class=input-group-btn> <button type=submit class="btn btn-info">Search</button> </span> </div> </div> <div class="row m-b-xs"> <div class=col-md-4>Vehicle Type</div> <div class=col-md-4>Horse Power</div> <div class=col-md-4>Model Year</div> </div> <div class="row m-b"> <div class=col-md-4> <select select-picker ng-model=carid class=form-control> <option ng-repeat="i in mechanic.carid" value={{i.id}} ng-selected="{{i.id == carid}}">{{i.name}}</option> </select> </div> <div class=col-md-4> <input ng-model=horseid name=horseid type=number class=form-control min=1 max=1000 step=1 required ng-class="{\'has-error\': mtForm.horseid.$invalid && mtFormSubmitted}"> </div> <div class=col-md-4> <input ng-model=yearid name=yearid type=number class=form-control min=1970 max=2050 step=1 required ng-class="{\'has-error\': mtForm.yearid.$invalid && mtFormSubmitted}"> </div> </div> <div class=row> <div class=col-md-12> <div ng-bind-html=taxes_return></div> </div> </div> </form> </div> </div> </div> </div> </div></div> </div> '),e.put("app/notes/index.html",' <div class="hbox hbox-auto-xs bg-light notes bg-notes" ng-controller=NoteCtrl ng-init="app.fullheight = true;">  <div class="col w-lg b-r"> <div style="height:53px; line-height: 53px; padding: 0 15px;"> <a class="pull-right btn btn-default m-t-sm" href ng-click=createNote()> New </a> <div class=title> Notes </div> </div> <div class=padder--> <div class=list-group> <a class="list-group-item b-l-{{note.color}} b-l-5x hover-anchor" ng-class="{\'hover\': note.selected }" ng-click=selectNote(note) ng-repeat="note in notes | filter:query | orderBy:\'date\':true"> <span class="pull-right text-muted hover-action" ng-click=deleteNote(note)> <i class="fa fa-times"> </i> </span> <span class="block text-ellipsis"> {{ note.content ? note.content : \'Empty note\' }} </span> <small class=text-muted--> {{ (note.date)*1000 | fromNow }} </small> </a> </div> </div> </div>   <div class=col> <div class="wrapper b-b"> <div class=inline style="height: 18px;" ng-if=!note></div> <div class="m-l m-r inline dropdown" uib-dropdown ng-if=note> <a class="v-middle pos-rlt inline bg-{{note.color}}" style="width:18px;height:18px;top:-2px; border:2px solid #fff;" uib-dropdown-toggle></a> <div class="dropdown-menu animated fadeInUp w-sm wrapper-sm b-n"> <a class="pull-left bg-{{color}}" ng-click="note.color = color; onChange(note)" ng-repeat="color in colors" style="width:18px;height:18px; margin-right:5px;"></a> </div> </div> <span class="text-muted text-sm" ng-if=note.date> {{ (note.date)*1000 | date:\'MMMM dd, yyyy @ HH:mm\' }} </span> <div class="input-group w pull-right"> <span class="input-group-addon input-sm"> <i class="fa fa-search"></i> </span> <input class="form-control input-sm" ng-model=query placeholder=search type=text> </div> </div> <textarea auto-size class="form-control no-radius no-border no-bg wrapper-lg text-md" ng-blur=onChange(note) ng-model=note.content>\r\n        </textarea> </div>  </div>  '),e.put("app/policies/index.html",'<div ng-controller=PoliciesCtrl ng-init="app.fullheight = true;"> <div class="bg-light dk filters mobile-hidden"> <div class="row m-n"> <div class=col-md-2> <div class=input-group> <select select-picker ng-model=sort class=form-control data-style="btn-sm btn-default"> <option value disabled>Sort By</option> <option ng-repeat="item in allowedSort" value={{item.value}} ng-selected="item.value == sort">{{item.name}}</option> </select> <span class=input-group-btn> <a href class="btn btn-default btn-sm" ng-click="reverse = !reverse" uib-tooltip="ASC / DESC" tooltip-placement=bottom> <i class=fa ng-class="{\'fa-sort-alpha-desc\':reverse, \'fa-sort-alpha-asc\':!reverse}"></i> </a> </span> </div> </div> <div class=col-md-4> <div class=input-group> <select select-picker ng-model=filter_reference class=form-control data-style="btn-sm btn-default" ng-class="{\'w-50p\': user.can(\'admin\')}" title="Reference List"> <option value data-hidden=true></option> <option ng-repeat="item in assets_references" value={{item.ID}} ng-selected="item.ID == filter_reference" data-subtext={{(items|filter:{reference:item.ID}:true).length}}>{{item.name}}</option> </select> <select select-picker ng-model=filter_team class=form-control data-style="btn-sm btn-default" ng-class="{\'w-50p\': user.can(\'admin\')}" ng-show="user.can(\'admin\')" title=Broker> <option value data-hidden=true></option> <option ng-repeat="i in assets_teams" value={{i.ID}} ng-selected="i.ID == filter_team" data-subtext={{(items|filter:{user_id:i.ID}:true).length}}>{{i.name}}</option> </select> <span class=input-group-btn ng-if="filter_reference || filter_team"> <a href class="btn btn-danger btn-sm" ng-click=reset_filters()> <i class="fa fa-times"></i> </a> </span> <span class=input-group-btn> <a href class="btn btn-default btn-sm"> <i class="fa fa-filter"></i> </a> </span> </div> </div> </div> </div>  <div class="hbox hbox-filters hbox-auto-xs hbox-auto-sm bg-light mobile-panel">  <div class="col w b-r mobile-hidden"> <div class=vbox> <div class=row-row> <div class="cell scrollable hover"> <div class=cell-inner slim-scroll> <div class="list-group no-radius no-border no-bg m-b-none text-sm"> <a class="list-group-item b-b" ng-class="{\'focus\': (filter_company == \'\' && filter_product == \'\')}" ng-click="filter_company = filter_product = \'\'">ALL Policies <b class="badge bg-default pull-right">{{items.length}}</b></a> <div ng-show=assets_products.length class="list-divider m-t-sm text-muted"> PRODUCT LINES <a href ng-click=Modals.product() class="m-l-sm link"><i class=icon-plus></i></a> </div> <a class="list-group-item p-xs hover-anchor b-a no-select" ng-class="{\'focus\': item.ID == filter_product}" ng-click=selectProduct(item) ng-repeat="item in assets_products"> <span class="block p-l-xs clearfix"> <span class="pull-left w-73p truncate"> <i ng-class=item.icon class=m-r-xs></i> {{item.name}} </span> <b class="badge bg-default pull-right"> {{(items|filter:{product:item.ID}).length}} </b> </span> </a> <div ng-show=assets_companies.length class="list-divider m-t-sm text-muted"> INSURERS <a href ng-click=Modals.company() class="m-l-sm link"><i class=icon-plus></i></a> </div> <a class="list-group-item p-xs hover-anchor b-a no-select" ng-class="{\'focus\': item.ID == filter_company}" ng-click=selectCompany(item) ng-repeat="item in assets_companies"> <span class="block p-l-xs clearfix"> <span class="pull-left w-73p truncate"> {{item.name}} </span> <b class="badge bg-default pull-right"> {{(items|filter:{company:item.ID}).length}} </b> </span> </a> </div> </div> </div> </div> </div> </div>   <div class="col w-md lter b-r mobile-list" ng-swipe-right=mobile_menu()> <div class=vbox> <div class="wrapper-xs b-b bg-yellow bar_height_fix"> <div class="input-group m-b-xxs"> <span class="input-group-addon input-sm no-border no-bg"> <mini-loader ng-show=is_loading></mini-loader> <i class="icon-magnifier text-md m-t-xxs" ng-hide=is_loading></i> </span> <input class="form-control input-sm no-border no-bg text-md" ng-model=query placeholder="Search Policies" type=text> <span class="input-group-addon input-sm no-border no-bg" ng-show=query> <a href ng-click="query=\'\'" uib-tooltip="Clear Search"> <i class="fa fa-times pull-right"></i> </a> </span> </div> </div> <div class=row-row> <div class="cell scrollable hover"> <div id=scroller class="cell-inner noselect" slim-scroll> <div class=m-t-n-xxs> <div class="list-group list-group no-radius no-border no-bg m-b-none" infinite-scroll=loadMore()> <a id=scroll-{{item.ID}} class=list-group-item ng-class="{\'select\': isSelected(item) }" ng-click="selectItem(item, $event)" ng-repeat="item in items | filter:{product: filter_product} | filter:{company: filter_company} | filter:{reference:filter_reference} | filter:{user_id:filter_team} | filter:query | orderBy:sort:reverse | limitTo:totalDisplayed track by $index"> <span class="block text-ellipsis text-md"> <div ng-show=item.name> <strong>{{ item.name }}</strong> <p class="text-sm text-muted m-n"> {{item.client_name}} </p> </div> <span ng-hide=item.name> --- </span> </span> </a> </div> </div> <div class="text-center pos-abt w-full" ng-hide="(items | filter:{product: filter_product} | filter:{company: filter_company} | filter:{reference:filter_reference} | filter:{user_id:filter_team} | filter:query).length" style=top:50%;> No Policies </div> </div> </div> </div> <div class="wrapper b-t text-center mobile-footer"> <a class="btn btn-sm btn-success bold" id=create_client href ng-click=Modals.policies(true)> <i class="fa fa-plus fa-fw m-r-xs"></i> New Policy </a> </div> </div> </div>   <div class="col bg-white-only mobile-detail" ng-swipe-right=mobile_back()> <div class=vbox> <div class="wrapper-sm b-b lter bar_height_fix"> <div class="row no-gutter"> <div class=col-xs-8><div class=scene-group ng-show="item.selected && !item.editing && !hasMany()"> <a href ng-click=mobile_back() class=mobile-show> <i class="fa fa-arrow-left"></i> </a> <a href ng-click="set_scene(\'details\')" ng-class="{\'selected\': scene==\'details\'}">Details</a> <a href ng-click="set_scene(\'files\')" ng-class="{\'selected\': scene==\'files\'}"> Files <span class="badge up bg-danger" ng-show="item.files && item.files!=\'0\'">{{item.files}}</span> </a> <a href ng-click="set_scene(\'tasks\')" ng-class="{\'selected\': scene==\'tasks\'}"> Tasks <span class="badge up bg-danger" ng-show="item.tasks && item.tasks!=\'0\'">{{item.tasks}}</span> </a> </div></div> <div class="col-xs-4 text-right actions-wrap" ng-show="scene==\'details\' && !hasMany()"> <span uib-dropdown ng-hide=!item.selected> <a href uib-dropdown-toggle class="btn btn-sm btn-default p-l p-r"> Actions <span class="caret m-l-sm"></span> </a> <ul uib-dropdown-menu class="right sm"> <li><a href ng-click="Modals.policies(false, item)"> <i class="fa fa-pencil m-r-sm"></i>Edit </a></li> <li class=divider></li> <li><a href ng-click="Modals.policies(false, item)"> <i class="fa fa-refresh m-r-sm"></i>Renew </a></li> <li><a href ng-click="Modals.policies(false, item)"> <i class="fa fa-ban m-r-sm"></i>Cancel Policy </a></li> <li class=divider></li> <li><a href ng-click=deleteItem(item)> <i class="fa fa-trash-o m-r-sm"></i>Delete </a></li> </ul> </span> </div> </div> </div> <div class=row-row> <div class=cell> <div class=cell-inner slim-scroll> <div class="text-center pos-abt w-full text-muted" style=top:45% ng-hide=item.selected> <h3>No Item Selected.</h3> <p>Click any item in the list to preview it here.</p> </div> <div ng-if="scene != \'details\'"> <div class=wrapper> <div ng-include=get_scene()></div> </div> </div> <form name=Form> <div class=wrapper ng-if="scene==\'details\' && hasMany()"> <p> <a href ng-click=deleteMany() class="btn btn-danger btn-lg"> <span ng-if=$scope.deleting_many><mini-loader></mini-loader> Deleting</span> <span ng-if=!$scope.deleting_many>Delete</span> {{temps.length}} Records </a> </p>  </div> <div class=wrapper ng-if="scene==\'details\' && !hasMany()"> <div ng-if=item.selected ng-include="\'app/policies/view.html\'"></div> </div> </form> </div> </div> </div> </div> </div>  </div>  </div> '),
e.put("app/policies/view.html",'<div class=row> <div class="col-sm-6 form-horizontal"> <main-loader ng-show=item.assets_loading></main-loader> <uib-tabset active=active justified__=true ng-hide=item.assets_loading> <uib-tab> <uib-tab-heading>O/V</uib-tab-heading> <div class=p> <div class="form-group m-b-xs" ng-show=item.amount> <label class="col-xs-4 control-label">Gross Premium</label> <div class=col-xs-8><p class=form-control-static> {{item.amount | currency}} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Comm.</label> <div class=col-xs-8><p class=form-control-static> <span class="label label-default m-r-sm" ng-if="item.amount && item.commission"> {{item.commission_total | currency}} </span> <span class=text-muted> {{item.commission}} {{item.commission_type == \'f\' ? \'USD Fixed\' : \'%\'}} </span> </p></div> </div> <div class="form-group m-b-xs" ng-if="item.user_id && item.team_commission"> <label class="col-xs-4 control-label">Broker Comm.</label> <div class=col-xs-8><p class=form-control-static> <span class="label label-default m-r-sm" ng-if="item.amount && item.team_commission"> {{item.team_commission_total | currency}} </span> <span class=text-muted> {{item.team_commission}} {{item.team_commission_type == \'f\' ? \'USD Fixed\' : \'%\'}} </span> </p></div> </div> <div class="form-group m-b-xs" ng-if=item.company_total> <label class="col-xs-4 control-label">Net Premium</label> <div class=col-xs-8><p class=form-control-static> <span class="label label-default m-r-sm"> {{item.company_total | currency}} </span> </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Paid to Date</label> <div class="col-xs-8 control-text">{{item.assets.paid | currency}}</div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Balance</label> <div class="col-xs-8 control-text">{{item.assets.unpaid | currency}}</div> </div> </div> </uib-tab> <uib-tab> <uib-tab-heading>Invoices</uib-tab-heading> <div class=p> <div ng-show=!item.assets.invoices.length> <p class="text-muted italic">No Invoices Found</p> <a href class="btn btn-info bold" ng-click="Modals.invoice(\'new\', 0, item.client_id, item.client_name, item.ID)">Generate Invoice</a> </div> <mini-invoice item=i ng-repeat="i in item.assets.invoices"></mini-invoice> </div> </uib-tab> <uib-tab> <uib-tab-heading>Payments</uib-tab-heading> <div class=p> <p class="text-muted italic" ng-show=!item.assets.payments.length>No Payments Found</p> <mini-transaction item=i ng-repeat="i in item.assets.payments"></mini-transaction> </div> </uib-tab> <uib-tab> <uib-tab-heading>Claims</uib-tab-heading> <div class=p> <p class="text-muted italic" ng-show=!item.assets.claims.length>No Claims Found</p> <mini-claim item=i ng-repeat="i in item.assets.claims"></mini-claim> </div> </uib-tab> </uib-tabset> <div class="panel mobile-hidden"><div class="panel-heading bold b-b p-t-xs p-b-xs">Dates</div> <div class="panel-body form-horizontal p-l-none p-r-none text-xs p-t-xs"> <div class=row ng-if=item.date_created> <label class="col-md-4 control-label">Created</label> <div class=col-md-8> <p class=form-control-static>{{item.date_created | unix_date | date:\'mediumDate\'}}</p> </div> </div> <div class=row ng-if=item.date_edited> <label class="col-md-4 control-label">Last Edited</label> <div class=col-md-8> <p class=form-control-static>{{item.date_edited | unix_date | date:\'mediumDate\'}}</p> </div> </div> </div> </div> </div> <div class=col-sm-6>  <div class=form-horizontal> <h4 class="form-header b-b p-b">Policy Information</h4> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Client</label> <div class=col-xs-8><p class=form-control-static>  <a href ng-click=Modals.preview_client(item.client_id) class=link>{{item.client_name}}</a> </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Policy #</label> <div class=col-xs-8><p class=form-control-static> <b>{{item.name}}</b> </p></div> </div> <div class="form-group m-b-xs" ng-show="item.company && item.company!=\'0\'"> <label class="col-xs-4 control-label">Insurer</label> <div class=col-xs-8><p class=form-control-static> {{(assets_companies | filter : {ID: item.company}:true)[0].name }} </p></div> </div> <div class="form-group m-b-xs" ng-show="item.product && item.product!=\'0\'"> <label class="col-xs-4 control-label">Product</label> <div class=col-xs-8><p class=form-control-static> {{(assets_products | filter : {ID: item.product}:true)[0].name }} </p></div> </div>  <div class="form-group m-b-xs" ng-show="user.can(\'admin\')"> <label class="col-xs-4 control-label">Broker</label> <div class=col-xs-8><p class=form-control-static> {{(assets_teams | filter : {ID: item.user_id}:true)[0].name }} </p></div> </div> <h4 class="form-header b-b p-b p-t-sm">Policy Dates</h4> <div class="form-group m-b-xs" ng-show=item.date_issued> <label class="col-xs-4 control-label">Issued</label> <div class=col-xs-8><p class=form-control-static> {{item.date_issued | date:\'mediumDate\'}} </p></div> </div> <div class="form-group m-b-xs" ng-show=item.date_effective> <label class="col-xs-4 control-label">Effective</label> <div class=col-xs-8><p class=form-control-static> {{item.date_effective | date:\'mediumDate\'}} </p></div> </div> <div class="form-group m-b-xs" ng-show=item.date_expiry> <label class="col-xs-4 control-label">Expiry</label> <div class=col-xs-8><p class=form-control-static> {{item.date_expiry | date:\'mediumDate\'}} </p></div> </div> <div ng-show="item.is_vehicle==\'1\'"> <h4 class="form-header b-b p-b p-t-sm">Motor Information</h4> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Plate Number</label> <div class=col-xs-8><p class=form-control-static> <span class="label label-info">{{(assets_vehicle_codes | filter:{ID:item.vehicle_code})[0].name}} {{item.platenumber}}</span> </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Motor Type</label> <div class=col-xs-8><p class=form-control-static> {{(assets_vehicle_types | filter : {ID: item.vehicle_type})[0].name }} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Horse Power</label> <div class=col-xs-8><p class=form-control-static> {{item.horseid}} </p></div> </div> <div class="form-group m-b-xs"> <label class="col-xs-4 control-label">Model Year</label> <div class=col-xs-8><p class=form-control-static> {{item.yearid}} </p></div> </div> </div> <h4 class="form-header b-b p-b p-t-sm">Notes</h4> <div class=m-b-xs> {{item.notes}} </div> </div>  </div> </div> '),e.put("app/reporting/indepth.html",' <div class="hbox hbox-auto-xs hbox-auto-sm bg-light" ng-controller=reportingInDepthCtrl ng-init="app.fullheight=true;">  <div class="col w-40p b-r"> <div class=vbox> <div class=row-row> <div class="cell scrollable hover"> <div class="cell-inner wrapper"> <h2 class="m-t-none m-b-none">In-Depth Reporting</h2> <p class="text-muted m-b italic">Run powerful reports. Export, so you can get your info in the format you need. Get the stats, stat!</p> <div class=m-b-sm><div class=input-group> <span class=input-group-btn> <a href class="btn btn-default bold btn-label">Range:</a> </span> <select select-picker ng-model=tf class=form-control> <option ng-repeat="i in timeframes" value={{i.ID}} ng-selected="i.ID == tf"> {{i.name}} </option> </select> </div></div> <div class="row m-b-sm" ng-show="tf==\'cd\'"> <div class=col-md-6> <div class=input-group> <span class="input-group-addon bg-white bold btn-label">From:</span> <input type=text readonly class=form-control ng-model=start_date uib-datepicker-popup=mediumDate datepicker-options=start_date_options is-open=start_date_opened ng-focus="start_date_opened=true"> </div> </div> <div class=col-md-6> <div class=input-group> <span class="input-group-addon bg-white bold btn-label">To:</span> <input type=text readonly class=form-control ng-model=end_date uib-datepicker-popup=mediumDate datepicker-options=end_date_options is-open=end_date_opened ng-focus="end_date_opened=true"> </div> </div> </div> <div class=m-b-sm><div class=btn-group> <label class="btn btn-default bold btn-label">For:</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'policies\'">Policies</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'sales\'">Sales</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'billing\'">Billing</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'insurers\'">Insurers</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'clients\'">Clients</label> </div></div> <div class="p b bg-light lter"> <ul class=m-b-none ng-if="type==\'policies\'"> <li><a href class="link bold">Ending policies</a></li> <li><a href class="link bold">Cancelled policies</a></li> <li><a href class="link bold">Installments report</a></li> <li><a href class="link bold">Paid installments report</a></li> <li><a href class="link bold">Renewal report</a></li> <li><a href class="link bold">Active policies, overview</a></li> <li><a href class="link bold">Registered policies report</a></li> </ul> <ul class=m-b-none ng-if="type==\'sales\'"> <li><a href class="link bold">Sales summary report</a></li> <li><a href class="link bold">Sales report</a></li> <li><a href class="link bold">Commission report</a></li> </ul> <ul class=m-b-none ng-if="type==\'billing\'"> <li><a href class="link bold">Payments report</a></li> <li><a href class="link bold">Unpaid invoices</a></li> <li><a href class="link bold">Receivables</a></li> <li><a href class="link bold">Customers Debts Report</a></li> </ul> <ul class=m-b-none ng-if="type==\'insurers\'"> <li><a href class="link bold">Installments unpaid to insurer</a></li> <li><a href class="link bold">Insurer balance report</a></li> </ul> <ul class=m-b-none ng-if="type==\'clients\'"> <li><a href class="link bold">Clients</a></li> <li><a href class="link bold">Client Balance Report</a></li> <li><a href class="link bold">Client TOP</a></li> </ul> </div> </div> </div> </div> </div> </div>  <div class="col bg-white-only"> <div class=vbox> <div class=row-row> <div class=cell> <div class=cell-inner> <div class="text-center pos-abt w-full text-muted" style=top:45% ng-hide="loaded || working">  <h3>In the works</h3> <p>We\'ll update you once we get it working. ETA: 1 week from now</p> </div> <div class="text-center pos-abt w-full text-muted" style=top:45% ng-show=working> <h3>Building...</h3> <p><mini-loader></mini-loader> Please wait.</p> </div> <div class="wrapper text-center" ng-show="loaded && !working"> <div id=export_c> <div ng-bind-html="report_title | html"></div> <canvas id=canvas chart-horizontal-bar chart-data=chart.data chart-labels=chart.labels chart-series=chart.series chart-colors=chart.colors chart-options=chart.options></canvas> </div> <p class=m-t-md> <a href ng-click="export_pdf(\'#canvas\', export_title, doc_title, doc_subtitle)" class="btn btn-default bold"><i class="fa fa-level-up m-r"></i>Export</a> </p> </div> </div> </div> </div> </div> </div>  </div>  '),e.put("app/reporting/index.html",' <div class="hbox hbox-auto-xs hbox-auto-sm bg-light" ng-controller=reportingCtrl ng-init="app.fullheight=true;">  <div class="col w-xxl b-r"> <div class=vbox> <div class=row-row> <div class="cell scrollable hover"> <div class="cell-inner wrapper"> <h2 class="m-t-none m-b-none">Reporting</h2> <p class="text-muted m-b italic">Run powerful reports. Export, so you can get your info in the format you need. Get the stats, stat!</p> <div class=m-b-sm><div class=input-group> <span class=input-group-btn> <a href class="btn btn-default bold btn-label">Range:</a> </span> <select select-picker ng-model=tf class=form-control> <option ng-repeat="i in timeframes" value={{i.ID}} ng-selected="i.ID == tf"> {{i.name}} </option> </select> </div></div> <div class="row m-b-sm" ng-show="tf==\'cd\'"> <div class=col-md-6> <div class=input-group> <span class="input-group-addon bg-white bold btn-label">From:</span> <input type=text readonly class=form-control ng-model=start_date uib-datepicker-popup=mediumDate datepicker-options=start_date_options is-open=start_date_opened ng-focus="start_date_opened=true"> </div> </div> <div class=col-md-6> <div class=input-group> <span class="input-group-addon bg-white bold btn-label">To:</span> <input type=text readonly class=form-control ng-model=end_date uib-datepicker-popup=mediumDate datepicker-options=end_date_options is-open=end_date_opened ng-focus="end_date_opened=true"> </div> </div> </div> <div class=m-b-sm><div class=btn-group> <label class="btn btn-default bold btn-label">For:</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'clients\'">Clients</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'leads\'">Leads</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'policies\'">Policies</label> <label class="btn btn-default" ng-model=type uib-btn-radio="\'claims\'">Claims</label> </div></div> <div class=m-b-sm><div class=input-group> <span class=input-group-btn> <a href class="btn btn-default bold btn-label">By:</a> </span> <select select-picker ng-model=by class=form-control title=--Select--> <option value data-hidden=true>---</option> <option ng-if="type==\'clients\'" ng-repeat="i in by_clients" value={{i.ID}} ng-selected="i.ID == by"> {{i.name}}</option> <option ng-if="type==\'leads\'" ng-repeat="i in by_leads" value={{i.ID}} ng-selected="i.ID == by"> {{i.name}}</option> <option ng-if="type==\'policies\'" ng-repeat="i in by_policies" value={{i.ID}} ng-selected="i.ID == by"> {{i.name}}</option> <option ng-if="type==\'claims\'" ng-repeat="i in by_claims" value={{i.ID}} ng-selected="i.ID == by"> {{i.name}}</option> </select> </div></div> <div class=m-b-sm ng-if="by != \'\' && 1 == 2"><div class=input-group> <span class=input-group-btn> <a href class="btn btn-default bold btn-label">Show Only for:</a> </span> <select select-picker ng-model=selected class=form-control title=Select> <option value data-hidden=true></option> <option ng-if="by==\'client_group\'" ng-repeat="i in assets_groups" value={{i.ID}}> {{i.name}}</option> <option ng-if="by==\'lead_group\'" ng-repeat="i in assets_groups" value={{i.ID}}> {{i.name}}</option> <option ng-if="by==\'media_type\'" ng-repeat="i in assets_media_types" value={{i.ID}}> {{i.name}}</option> <option ng-if="by==\'company\'" ng-repeat="i in assets_companies" value={{i.ID}}> {{i.name}}</option> <option ng-if="by==\'product\'" ng-repeat="i in assets_products" value={{i.ID}}> {{i.name}}</option> <option ng-if="by==\'team\'" ng-repeat="i in assets_teams" value={{i.ID}}> {{i.name}}</option> <option ng-if="type==\'reference\'" ng-repeat="i in assets_references" value={{i.ID}}> {{i.name}}</option> </select> </div></div> <div> <a href ng-click=work() class="btn btn-success btn-lg bold" ng-class="{\'disabled\': (working==true || by==\'\')}"> <span ng-hide="working==true">Build Report</span> <span ng-show="working==true">Building <mini-loader class=m-l-sm></mini-loader></span> </a> </div> </div> </div> </div> </div> </div>  <div class="col bg-white-only"> <div class=vbox> <div class=row-row> <div class=cell> <div class=cell-inner> <div class="text-center pos-abt w-full text-muted" style=top:45% ng-hide="loaded || working"> <h3>Build your report</h3> <p>use the left panel to specify report credentials.</p> </div> <div class="text-center pos-abt w-full text-muted" style=top:45% ng-show=working> <h3>Building...</h3> <p><mini-loader></mini-loader> Please wait.</p> </div> <div class="wrapper text-center" ng-show="loaded && !working"> <div id=export_c> <div ng-bind-html="report_title | html"></div> <canvas id=canvas chart-horizontal-bar chart-data=chart.data chart-labels=chart.labels chart-series=chart.series chart-colors=chart.colors chart-options=chart.options></canvas> </div> <p class=m-t-md> <a href ng-click="export_pdf(\'#canvas\', export_title, doc_title, doc_subtitle)" class="btn btn-default bold"><i class="fa fa-level-up m-r"></i>Export</a> </p> </div> </div> </div> </div> </div> </div>  </div>  '),e.put("app/todo/index.html",'<div class="hbox hbox-auto-xs"> <div class=col> <div class="wrapper-md todos" ng-controller=TodoCtrl> <div> <ul class="nav nav-xs nav-pills m-t m-b" ng-show=todos.length> <li ui-sref-active=active> <a ui-sref="app.todo({fold:\'\'})">All</a> </li> <li ui-sref-active=active> <a ui-sref="app.todo({fold:\'active\'})">Active</a> </li> <li ui-sref-active=active> <a ui-sref="app.todo({fold:\'completed\'})">Completed</a> </li> </ul> <form id=todo-form ng-submit=addTodo()> <input autofocus class="form-control input-lg" ng-model=newTodo placeholder="What needs to be done?"> </form> <ul class="list-group m-n"> <li class=list-group-item ng-class="{\'completed text-l-t\': todo.completed == 1, editing: todo == editedTodo}" ng-repeat="todo in todos | filter:statusFilter track by $index"> <div class=hover-anchor ng-dblclick=editTodo(todo) ng-hide=todo.editedTodo> <a class="text-muted hover-action" ng-click=removeTodo(todo)> <i class="icon-close text-md m-t-xs pull-right"></i> </a> <label class="i-checks i-checks-sm"> <input ng-change=todoCompleted(todo) ng-model=todo.completed_bool type=checkbox><i></i> </label> <span ng-dblclick=editTodo(todo)> {{todo.title}} </span> </div> <form ng-show=todo.editedTodo ng-submit=doneEditing(todo)> <input class=form-control ng-blur=doneEditing(todo) ng-model=todo.title ng-trim=false ui-focus=todo.editedTodo> </form> </li> </ul> </div> <div class=todo-footer ng-show=todos.length> <div class=col-sm-6> <label class="i-checks i-checks-sm"> <input ng-click=markAll(allChecked) ng-model=allChecked type=checkbox> <i></i> Mark all as complete </label> </div> <div class="col-sm-6 text-right"> <button class="btn btn-danger m-r btn-sm" ng-click=clearCompletedTodos() ng-show="remainingCount < todos.length"> Clear completed ({{todos.length - remainingCount}}) </button> <strong class=m-l> {{remainingCount}} </strong> <ng-pluralize count=remainingCount when="{ one: \'item left\', other: \'items left\' }"> </ng-pluralize> </div> </div> <p class="text-muted p-md" ng-show=todos.length>Double click on each item to edit</p> </div> </div> </div> '),e.put("app/weather/index.html",'<div class="hbox hbox-auto-xs hbox-auto-sm" ng-controller=WeatherCtrl ng-init="app.fullheight = true;"> <div class="col w-lg bg-auto"> <div class="wrapper-md dker b-b"> <div class=input-group> <input class=form-control ng-model=userSearchText placeholder="Town State Country..." type=text ng-keypress="$event.which===13 ? getLocations() : \'\'" uib-typeahead="address for address in googleLocation($viewValue)" typeahead-loading=loadingLocations typeahead-no-results=noResults typeahead-show-hint=true typeahead-min-length=2 typeahead-wait-ms=500 typeahead-on-select=forceLoc($item)> <div class=input-group-btn> <button class="btn btn-default" ng-click=getLocations() type=button> Search <i ng-show=loadingLocations class="fa fa-refresh fa-spin"></i> </button> </div> </div> <div ng-show=noResults> <i class="glyphicon glyphicon-remove"></i> No Results Found </div> </div>  <div class=wrapper-md> <ul class="list-group list-group-sp" ng-show="search.query.count > 1"> <li class=list-group-item ng-repeat="loc in search.query.results.place" ng-class="{\'active\': woeid === loc.woeid}"> <a class="clear text-ellipsis" ng-click="getWeather(loc.woeid, loc.name, loc.country.content)"> {{loc.name}}, {{loc.admin1.content}}, {{loc.country.content}} </a> </li> </ul> <ul class="list-group list-group-sp"> <li class=list-group-item ng-repeat="item in items track by item.ID" ng-class="{\'active\': woeid === item.woeid}"> <a href class=block ng-click=getWeather(item.woeid,item.city,item.country)> {{item.city}} </a> </li> </ul> </div> </div> <div class="col bg-white-only"> <div class="wrapper-xl text-center text-xl" ng-if=!data.query.results> <i class="fa fa-refresh fa-spin"></i> </div> <div class="wrapper-lg clearfix bg-primary" ng-show=data.query.results> <h4 class="m-t-none m-b-lg"> <span class="text-xs text-muted m-l pull-right"> {{ data.query.results.channel.item.condition.date }} </span> {{place.city}}, {{place.country}} <span class=m-l> <a ng-click="add_loc(woeid, place.city, place.country)" ng-if="add === true"> <i class="fa fa-plus" uib-tooltip="Add to My Places"></i> </a> <a ng-click=rem_loc(sit) ng-if="rem === true"> <i class="fa fa-trash-o" uib-tooltip="Remove from My Places"></i> </a> </span> </h4> <div class=hbox> <div class="col v-middle w-sm"> <skycon color=#fff icon=data.query.results.channel.item.condition.icon id size=128></skycon> </div> <div class="col v-middle"> <div class=pull-left> <div class=h1> <span class="text-2x text-white"> {{ data.query.results.channel.item.condition.temp }}° </span> </div> <span class=text-muted> {{ data.query.results.channel.item.condition.text }} - Feels like {{ data.query.results.channel.item.condition.temp }}° </span> </div> <div class="text-muted m-t-sm pull-right text-right" ng-show=dateTime> Local Date:<br> {{dateTime | date:\'fullDate\'}}<br><br> Local Time: <b>{{dateTime | date:\'hh:mm a\'}}</b> </div> </div> </div> </div>  <div class="list-group no-border no-radius m-n"> <div class=list-group-item ng-repeat="forecast in data.query.results.channel.item.forecast" ng-show=data.query.results.channel.item.forecast.length> <div class=hbox> <div class="col v-middle w-xxs"> <span class=h4>{{forecast.day}}</span> </div> <div class="col v-middle w-xxs"> <skycon color=app.color.dark icon=forecast.icon size=32></skycon> </div> <div class="col v-middle"> {{forecast.text}}  </div> <div class="col v-middle"> {{forecast.high}}° - {{forecast.low}}° </div> <div class="col v-middle text-right hidden-xs"> <small class=text-muted> {{forecast.date}} </small> </div> </div> </div> </div> </div> </div> '),e.put("modals/accounting/expense.html",'<script>\n\n</script> <div ng-controller=ModalAccountingExpenseCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Expense / Create</h4> </div> <div class=modal-body ng-show=submitted> <div class="text-center p-lg"> <h3 class=m-b>Payment Added</h3> <p> <a href ng-click=__new() class="btn btn-default bold m-r">Add Another Expense</a> <a ng-click=$close() ui-sref=accounting.transactions class="btn btn-default bold m-r">Go to Transactions</a> <a href ng-click=$dismiss() class="btn btn-default bold">Close</a> </p> </div> </div> <div class=modal-body ng-show=!submitted> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class=form-group> <label class="col-sm-4 text-right required">Pay To</label> <div class=col-sm-8> <div class=btn-group> <label class="btn btn-default" ng-model=item.expense_type uib-btn-radio="\'broker\'">Broker</label> <label class="btn btn-default" ng-model=item.expense_type uib-btn-radio="\'company\'">Insurer</label> <label class="btn btn-default" ng-model=item.expense_type uib-btn-radio="\'other\'">Other</label> </div> </div> </div> <div class=form-group ng-if="item.expense_type==\'broker\'"> <label class="col-sm-4 text-right required">Broker</label> <div class=col-sm-8> <select select-picker ng-model=item.broker_id title=--Select-- required> <option value data-hidden=true></option> <option ng-repeat="i in assets_teams" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group ng-if="item.expense_type==\'company\'"> <label class="col-sm-4 text-right required">Company / Insurer</label> <div class=col-sm-8> <select select-picker ng-model=item.company_id title=--Select-- required> <option value data-hidden=true></option> <option ng-repeat="i in assets_companies" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group ng-if="item.expense_type==\'other\'"> <label class="col-sm-4 text-right">Vendor</label> <div class=col-sm-8> <select select-picker ng-model=item.vendor_id title=--Select-- required> <option value data-hidden=true></option> <option ng-repeat="i in assets_vendors" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group ng-if="item.expense_type==\'other\'"> <label class="col-sm-4 text-right">Category</label> <div class=col-sm-8> <select select-picker ng-model=item.expense_cat title=--Select-- required> <option value data-hidden=true></option> <option ng-repeat="i in assets_expense_cats" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group> <label class="col-sm-4 text-right required">Bank / Cash Acc</label> <div class=col-sm-8> <select select-picker ng-model=item.bank_id title="Select Account" required> <option value data-hidden=true></option> <option data-icon="fa fa-{{i.type==\'cash\' ? \'database\' : \'credit-card\'}}" ng-repeat="i in assets_banks" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group> <label class="col-sm-4 text-right required">Amount</label> <div class=col-sm-8> <input name=amount ng-model=item.amount type=text class="form-control autofocus" required ng-class="{\'has-error\': Form.amount.$invalid && FormSubmitted}"> </div> </div> <div class=form-group> <label class="col-sm-4 text-right required">Payment Date</label> <div class=col-sm-8> <div class=input-group> <input type=text readonly class=form-control ng-model=item.date uib-datepicker-popup=mediumDate is-open=date_opened ng-focus="date_opened=true"> <span class=input-group-addon ng-click="date_opened=true"><i class="fa fa-calendar-o"></i></span> </div> </div> </div> <div class=form-group> <label class="col-sm-4 text-right">Payment Type</label> <div class=col-sm-8> <select select-picker ng-model=item.payment_type title=--Select--> <option value data-hidden=true></option> <option ng-repeat="i in assets_payment_types" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group> <label class="col-sm-4 text-right">Transaction Reference</label> <div class=col-sm-8> <input name=ref ng-model=item.reference type=text class=form-control> </div> </div> <div class=form-group> <label class="col-sm-4 text-right">Notes</label> <div class=col-sm-8> <textarea name=notes ng-model=item.notes class=form-control></textarea> </div> </div> </form> </div> <div class=modal-footer ng-if=!submitted> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled=Form.$invalid>Save</button> </div> </div> '),e.put("modals/accounting/invoice-delete.html",'<div ng-controller=ModalAccountingInvDeleteCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Delete Invoice #{{item.invoice_number}}</h4> </div> <div class=modal-body> <div class="m-t-n-lg m-l-n m-r-n"> <img ng-src={{img}}> </div> <div> <p class=p-t>If you have sent invoice no. <b>{{item.invoice_number}}</b> to a customer or reported it to the tax authorities, it may be unlawful to remove it from your accounts.</p> <p>Also note that if you delete this invoice, you will create a gap in your invoice number series that you may need to fill in manually.</p> <p class="text-muted text-sm"> Transactions: {{item.transactions_count}}, Line Items: {{item.items_count}} </p> <hr> <div class=row> <div class=col-md-6> Cancel out the amount you have previously invoiced your customer by creating a new credit note. </div> <div class="col-md-6 text-right"> <a href ng-click=$dismiss() class="btn btn-default m-r">Cancel</a> <a href ng-click=do_credit() class="btn btn-success bold">New Credit Note</a> </div> </div> </div> </div> <div class=modal-footer> <div class=row><form name=Form ng-submit=submit()> <div class="col-md-9 text-left text-sm"> <label> <input type=checkbox name=accept-delete ng-model=accept class=m-r-sm> I understand, I still want to delete this invoice permanently </label> </div> <div class="col-md-3 text-right"> <button class="btn btn-danger" ng-disabled=!accept type=submit>Delete</button> </div> </form></div> </div> </div> '),e.put("modals/accounting/invoice-installments.html",'<div ng-controller=ModalInvoiceInstallmentsCtrl> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Invoice / Manage Installments / <b>{{invoice.invoice_number}}</b></h4> </div> <div class="modal-body m-t-n"> <div ng-if="invoice.has_installments==\'1\'"> <div class="bg-black lt p m-t-n m-l-n m-r-n m-b text-center"> <h3 class=m-t-none><b>{{invoice.invoice_number}}</b> installments</h3> <h4>Invoice Balance is: {{invoice.balance | currency}}</h4> </div> <main-loader ng-show=is_fetching></main-loader> <table class="table table-bordered table-striped" ng-hide=is_fetching> <thead><tr> <th>#</th> <th>Amount</th> <th>Date</th> <th>Paid?</th> </tr></thead> <tbody> <tr ng-repeat="i in ii"> <td>{{i.name}}</td> <td>{{i.amount | currency}}</td> <td>{{i.due_date | unix_date | date:\'mediumDate\'}}</td> <td> <span ng-if="i.pay_date==\'0\'">---</span> <span ng-if="i.pay_date!=\'0\'">{{i.pay_date | unix_date | date:\'mediumDate\'}}</span> </td> </tr> </tbody> </table> </div>  <div ng-if="invoice.has_installments==\'0\'"> <div class="bg-black lt p m-t-n m-l-n m-r-n m-b text-center"> <h3 class=m-t-none>Split <b>{{invoice.invoice_number}}</b> into multiple installments</h3> <h4>Invoice Balance is: {{invoice.balance | currency}}</h4> </div> <div ng-show=processed> <table class="table table-bordered table-striped"> <thead><tr> <th>#</th> <th>Amount</th> <th>Date</th> </tr></thead> <tbody> <tr ng-repeat="i in items"> <td>{{i.name}}</td> <td>{{i.amount | currency}}</td> <td>{{i.due_date | date:\'mediumDate\'}}</td> </tr> </tbody> </table> <div> <a href ng-click=modify() class="btn btn-default btn-lg bold m-r" ng-disabled=is_saving> Modify </a> <a href ng-click=submit() class="btn btn-success btn-lg bold pull-right" ng-disabled=is_saving> <mini-loader ng-show=is_saving class=m-r></mini-loader>Submit </a> </div> </div>  <div ng-show=!processed> <div class="form-group m-b"> <label class="col-sm-4 control-label"> Split into </label> <div class=col-sm-8> <select select-picker ng-model=item.number class="w-auto m-r-sm" title=---> <option ng-repeat="i in numbers" value={{i}}>{{i}}</option> </select> Installments </div> </div> <div class="form-group m-b"> <label class="col-sm-4 control-label"> every </label> <div class=col-sm-8> <select select-picker ng-model=item.dur_number class=w-auto title=---> <option ng-repeat="i in dur_numbers" value={{i}}>{{i}}</option> </select> <select select-picker ng-model=item.dur class="m-l-xs w-auto" title=---> <option ng-repeat="i in durs" value={{i}}>{{i | capitalize}}</option> </select> </div> </div> <div class=form-group> <label class="col-sm-4 control-label"> Starting </label> <div class=col-sm-8> <div class=input-group> <input type=text class=form-control ng-model=item.start uib-datepicker-popup=mediumDate is-open=start_o ng-focus="start_o=true"> <span class=input-group-addon ng-click="start_o=true"> <i class="fa fa-calendar-o"></i> </span> </div> </div> </div> <div class=form-group> <div class="col-sm-8 col-sm-offset-4"> <a href ng-click=process() class="btn btn-success btn-lg bold" ng-class="{\'disabled\': item.number==\'\' || item.dur_number==\'\' || item.dur==\'\' || item.start == \'\'}">Process</a> </div> </div> </div>  </div>  </div> </form> </div> '),e.put("modals/accounting/invoice-no-edit.html",'<div ng-controller=ModalAccountingNoEditCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>The invoice can\'t be edited</h4> </div> <div class=modal-body> <div class="m-t-n-lg m-l-n m-r-n"> <img ng-src={{img}}> </div> <div class=p-lg> The invoice can\'t be edited because you have entered payments on it. Remove any related payments to edit the invoice. </div> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$close()>Close</button> </div> </div> '),e.put("modals/accounting/invoice-print.html",'<div ng-controller=ModalAccountingInvPrintCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Print Document</h4> </div> <div class=modal-body> <div class="m-t-n-lg m-l-n m-r-n"> <img ng-src={{img}}> </div> <div class=p-lg> <p>Your document is ready for printing.</p> <p>Open the document as a <a href={{link}} class="link bold" target=_blank>PDF file</a> and select the print option.</p> </div> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$close()>Close</button> </div> </div> '),
e.put("modals/accounting/invoice-send.html",'<div ng-controller=ModalInvoiceSendCtrl> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Invoice / Send</h4> </div> <div class=modal-body> <main-loader ng-hide=loaded></main-loader> <div class=row ng-show=loaded> <div class="col-md-5 m-b"> <div class=doc-preview> <thumbnail file-type=pdf source={{invoice.invoice_url}} max-width=340 max-height=440></thumbnail> </div> </div> <div class=col-md-7> <div class=m-b-sm> <label>Email</label> <input name=email ng-model=item.email type=text placeholder=Email class="form-control auto-focus" ng-class="{\'has-error\': Form.email.$invalid && FormSubmitted}"> <p class="text-muted text-sm m-n italic">Separate by Comma (,)</p> </div> <div class=m-b-sm> <label>Subject</label> <input name=subject ng-model=item.subject type=text placeholder=Subject class=form-control required ng-class="{\'has-error\': Form.name.$invalid && FormSubmitted}"> </div> <div class=m-b-sm> <label>Message</label> <summernote ng-model=item.message height=150></summernote>  </div> <div class=m-b-sm> <label> <checkbox ng-model=item.attachpdf></checkbox> <span class="m-l-sm p-t-xs">Attach PDF in the email?</span> </label> </div> </div> </div> <div class=modal-footer ng-if=loaded> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Send</button> </div> </div></form> </div> '),e.put("modals/accounting/invoice.html",'<div ng-controller=ModalAccountingInvoiceCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Invoice / {{is_editing ? \'Edit\' : \'Create\'}}</h4> </div> <div class=modal-body ng-show=submitted> <div class="text-center p-lg"> <h3 class=m-b>Invoice {{is_editing ? \'Edited\' : \'Created\'}}</h3> <p> <a href ng-click=new_inv() class="btn btn-default bold m-r">Preview Invoice</a> <a href ng-click=__new() class="btn btn-default bold m-r">Add New Invoice</a> <a href ng-click=$dismiss() class="btn btn-default bold">Close</a> </p> </div> </div> <div class=modal-body ng-show=!submitted> <main-loader ng-show=is_loading></main-loader> <div class="row form-group form-horizontal" ng-hide="item.client_id || is_loading"> <label class="col-sm-4 control-label">Policy / Client</label> <div class=col-sm-8> <autocomplete reset={{reset_autocomplete}} ajaxaction=invoice_client_search titlefield=name descfield inputclass="input-lg auto-focus" id=policy_client_search minlength=1 pause=250 placeholder="Search for client / policy" selectedobject=client_selected> </autocomplete> </div> </div> <form name=Form ng-submit=submit() class=form-horizontal novalidate ng-if=item.client_id> <div class="row bg-light lt p-t m-b m-t-n-lg"> <div class=col-sm-6> <div class=form-group> <label class="col-sm-4 control-label">Client</label> <div class="col-sm-8 control-text">{{item.client_name}}</div> </div> <div class=form-group> <label class="col-sm-4 control-label">Invoice Number</label> <div class="col-sm-8 control-text">{{item.invoice_number}}</div> </div> </div> <div class=col-sm-6> <div class=form-group> <label class="col-sm-4 control-label">Invoice Date</label> <div class=col-sm-8> <div class=input-group> <input type=text readonly class=form-control ng-model=item.date uib-datepicker-popup=mediumDate is-open=date_opened ng-focus="date_opened=true"> <span class="input-group-addon bg-white" ng-click="date_opened=true"> <i class="fa fa-calendar-o"></i> </span> </div> </div> </div> <div class=form-group> <label class="col-sm-4 control-label">Due Date</label> <div class=col-sm-8> <div class=input-group> <input type=text readonly class=form-control ng-model=item.due_date uib-datepicker-popup=mediumDate is-open=due_date_opened ng-focus="due_date_opened=true"> <span class=input-group-btn> <button type=button class="btn btn-default dropdown-toggle m-l-n-xs" data-toggle=dropdown><span class=caret></span></button> <ul class="dropdown-menu right" role=menu style="max-height: 300px; overflow: scroll;"> <li><a href ng-click=cdue(0)>Due on Receipt</a></li> <li><a href ng-click="cdue(3, \'days\')">+3 Days</a></li> <li><a href ng-click="cdue(5, \'days\')">+5 Days</a></li> <li><a href ng-click="cdue(7, \'days\')">+7 Days</a></li> <li><a href ng-click="cdue(10, \'days\')">+10 Days</a></li> <li><a href ng-click="cdue(15, \'days\')">+15 Days</a></li> <li><a href ng-click="cdue(20, \'days\')">+20 Days</a></li> <li><a href ng-click="cdue(1, \'months\')">+1 Months</a></li> <li><a href ng-click="cdue(2, \'months\')">+2 Months</a></li> <li><a href ng-click="cdue(3, \'months\')">+3 Months</a></li> <li><a href ng-click="cdue(4, \'months\')">+4 Months</a></li> <li><a href ng-click="cdue(5, \'months\')">+5 Months</a></li> <li><a href ng-click="cdue(6, \'months\')">+6 Months</a></li> <li><a href ng-click="cdue(7, \'months\')">+7 Months</a></li> <li><a href ng-click="cdue(8, \'months\')">+8 Months</a></li> <li><a href ng-click="cdue(9, \'months\')">+9 Months</a></li> <li><a href ng-click="cdue(10, \'months\')">+10 Months</a></li> <li><a href ng-click="cdue(11, \'months\')">+11 Months</a></li> <li><a href ng-click="cdue(1, \'years\')">+1 Years</a></li> <li><a href ng-click="cdue(2, \'years\')">+2 Years</a></li> <li><a href ng-click="cdue(3, \'years\')">+3 Years</a></li> </ul> </span> <span class="input-group-addon bg-white" ng-click="due_date_opened=true"> <i class="fa fa-calendar-o"></i> </span> </div> </div> </div> </div> </div> <div class=row> <div class=col-sm-12> <table class="table invoice-items"> <thead> <tr> <th class=control></th> <th class=name>Policy</th>  <th class=price>Total Premium</th> <th class=discount>Discount</th> <th class=tax>Tax</th> <th class=total>Total</th> </tr> </thead> <tbody ng-sortable> <tr ng-repeat="policy in item.line_items" draggable=false> <td class=control> <i class="fa fa-bars pointer m-r-sm sortable-handle" ng-show="item.line_items.length>1"></i> <i class="fa fa-times pointer" ng-click=deleteItem(policy) uib-tooltip="Delete Line"></i> </td> <td class=name>  <span ng-if=!is_blank(policy)> {{policy.name || \'\'}} <span class="text-sm block"> {{policy.date_effective | unix_date | date:"mediumDate"}} <i class="fa fa-arrow-right m-l-sm m-r-sm"></i> {{policy.date_expiry | unix_date | date:"mediumDate"}} </span> </span> <input ng-if=is_blank(policy) type=text class=form-control ng-model=policy.name> </td>  <td class=price> <span ng-if=!is_blank(policy)>{{policy.amount || \'0.00\'}}</span> <input ng-if=is_blank(policy) only-numbers type=text class="form-control text-right" ng-model=policy.amount> </td> <td class=discount> <div class=input-group> <input type=text class=form-control ng-model=policy.discount ng-change=calc_line_total(policy) ng-disabled="!policy.amount || !policy.qty"> <span class="input-group-addon bg-white bold">%</span> </div> </td> <td class=tax> <select select-picker ng-model=policy.tax_id title=--NONE-- ng-change=calc_taxes() ng-disabled="!policy.amount || !policy.qty"> <option value>--NONE--</option> <option ng-repeat="i in taxrates" value={{i.ID}} data-subtext={{i.rate}}% ng-selected="i.ID == policy.tax_id"> {{i.name}} </option> </select> </td> <td class=total>{{calc_line_total(policy) | currency:currencySymbol}}</td> </tr> </tbody> </table> <div> <span class=dropdown ng-show=policies.length> <button type=button class="btn btn-info bold m-r dropdown-toggle" data-toggle=dropdown> <i class="fa fa-plus m-r-sm"></i>Add Policy </button> <ul class=dropdown-menu role=menu> <li ng-repeat="i in policies" ng-show=!i.used> <a href ng-click=add_policy_item(i)>{{i.name}}</a> </li> </ul> </span>  </div> <div class=row> <div class=col-md-6> <label class="m-t bold block">Invoice Terms</label> <textarea class=form-control ng-model=item.terms rows=3></textarea> </div> <div class=col-md-6> <table class="table invoice-total b-n"> <tbody> <tr><td>Sub Total:</td><td>{{calc_subtotal() | currency:currencySymbol}}</td></tr> <tr ng-if="calc_discount() > 0"><td>Discount:</td><td>{{calc_discount() | currency:currencySymbol}}</td></tr> <tr ng-show="item.taxes.length>0" ng-repeat="tax in item.taxes"> <td>Tax ({{tax.name}}):</td><td>{{tax.amount | currency:currencySymbol}}</td> </tr> <tr><td>Total:</td><td>{{calc_total() | currency:currencySymbol}}</td></tr> </tbody> </table> </div> </div> </div> </div> </form> </div> <div class=modal-footer ng-if="!submitted && !is_loading"> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button ng-if=item.client_id type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || !item.line_items.length || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Save</button> </div> </div> '),e.put("modals/accounting/payment.html",'<div ng-controller=ModalAccountingPaymentCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Payments / Create</h4> </div> <div class=modal-body ng-show=submitted> <div class="text-center p-lg"> <h3 class=m-b>Payment Added</h3> <p> <a href ng-click=__new() class="btn btn-default bold m-r">Add Another Payment</a> <a ng-click=$close() ui-sref=accounting.transactions class="btn btn-default bold m-r">Go to Transactions</a> <a href ng-click=$dismiss() class="btn btn-default bold">Close</a> </p> </div> </div> <div class=modal-body ng-show=!submitted> <div class="form-group row form-horizontal"> <label class="col-sm-4 text-right required">Invoice</label> <div class=col-sm-8> <div ng-hide=item.invoice_id> <autocomplete reset={{reset_autocomplete}} ajaxaction=invoices_search titlefield=invoice_number descfield=client_name id=invoices_search inputclass=auto-focus minlength=1 pause=250 placeholder="Search for Invoice" selectedobject=invoice_selected> </autocomplete> </div> <div ng-show=item.invoice_id> <b>{{item.invoice_number}}</b> <span class="text-muted m-l-sm">{{item.client_name}}</span> </div> </div> </div> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class=form-group> <label class="col-sm-4 text-right required">Bank / Cash Acc</label> <div class=col-sm-8> <select select-picker ng-model=item.bank_id title="Select Account" required> <option value data-hidden=true></option> <option data-icon="fa fa-{{i.type==\'cash\' ? \'database\' : \'credit-card\'}}" ng-repeat="i in assets_banks" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group ng-if=item.invoice_id> <div class="col-sm-8 col-sm-offset-4"> Amount due is: {{item.balance | currency}} </div> </div> <div class=form-group ng-if="item.has_installments==\'1\'"> <label class="col-sm-4 text-right">Cover Installment</label> <div class=col-sm-8> <mini-loader ng-show=loading_installments></mini-loader> <select select-picker ng-model=item.installment class=form-control title="Select Installment"> <option ng-repeat="i in item.installments" value={{i.ID}} ng-disabled="i.pay_date!=\'0\'" data-subtext="{{i.due_date | unix_date | date:\'mediumDate\'}}">{{i.name}} - ({{i.amount | currency}})</option> </select> </div> </div> <div class=form-group> <label class="col-sm-4 text-right required">Amount</label> <div class=col-sm-8> <input name=amount ng-model=item.amount type=text class="form-control autofocus" required ng-class="{\'has-error\': Form.amount.$invalid && FormSubmitted}"> </div> </div> <div class=form-group> <label class="col-sm-4 text-right required">Payment Date</label> <div class=col-sm-8> <div class=input-group> <input type=text readonly class=form-control ng-model=item.date uib-datepicker-popup=mediumDate is-open=date_opened ng-focus="date_opened=true"> <span class=input-group-addon ng-click="date_opened=true"><i class="fa fa-calendar-o"></i></span> </div> </div> </div> <div class=form-group> <label class="col-sm-4 text-right">Payment Type</label> <div class=col-sm-8> <select select-picker ng-model=item.payment_type title=--Select--> <option value data-hidden=true></option> <option ng-repeat="i in assets_payment_types" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group> <label class="col-sm-4 text-right">Transaction Reference</label> <div class=col-sm-8> <input name=ref ng-model=item.reference type=text class=form-control> </div> </div> </form> </div> <div class=modal-footer ng-if=!submitted> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || !item.invoice_id || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Save</button> </div> </div> '),e.put("modals/accounting/transaction-info.html",'<div ng-controller=ModalTransactionInfoCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Transaction Info #{{item.ID}}</h4> </div> <div class=modal-body> <div class="row form-horizontal form-sm"> <div class=col-md-7> <div class=form-group> <label class="col-md-4 control-label">Type</label> <div class="col-md-8 control-text">{{item.type}}</div> </div> <div class=form-group> <label class="col-md-4 control-label">Date</label> <div class="col-md-8 control-text">{{item.date | unix_date | date:\'mediumDate\'}}</div> </div> <div class=form-group> <label class="col-md-4 control-label">Description</label> <div class="col-md-8 control-text">{{item.description}}</div> </div> <div class=form-group> <label class="col-md-4 control-label">By</label> <div class="col-md-8 control-text">{{(assets_teams | filter : {ID: item.user_id})[0].name }}</div> </div> <div class=form-group ng-show="item.payment_type && item.payment_type != \'0\'"> <label class="col-md-4 control-label">Payment By</label> <div class="col-md-8 control-text">{{(assets_payment_types | filter : {ID: item.payment_type})[0].name }}</div> </div> <div class=form-group ng-show=item.reference> <label class="col-md-4 control-label">Reference</label> <div class="col-md-8 control-text">{{item.reference}}</div> </div> <div class=form-group ng-show=item.notes> <label class="col-md-4 control-label">Notes</label> <div class="col-md-8 control-text">{{item.notes}}</div> </div> </div> <div class=col-md-5> <div class=form-group> <label class="col-md-4 control-label">Account</label> <div class="col-md-8 control-text">{{(assets_banks | filter : {ID: item.bank_id})[0].name }}</div> </div> <div class=form-group> <label class="col-md-4 control-label">Amount</label> <div class="col-md-8 control-text">{{item.amount | currency}}</div> </div> <div class=form-group> <label class="col-md-4 control-label">Credit</label> <div class="col-md-8 control-text">{{item.cr | currency}}</div> </div> <div class=form-group> <label class="col-md-4 control-label">Debit</label> <div class="col-md-8 control-text">{{item.dr | currency}}</div> </div> <div class=form-group> <label class="col-md-4 control-label">Balance</label> <div class="col-md-8 control-text">{{item.balance | currency}}</div> </div> <div class=form-group> <label class="col-md-4 control-label">Created</label> <div class="col-md-8 control-text">{{item.date_created | unix_date | date:\'mediumDate\'}}</div> </div> </div> </div> </div>  </div> '),e.put("modals/accounting/transfer.html",'<div ng-controller=ModalAccountingTransferCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Transfer / Create</h4> </div> <div class=modal-body ng-show=submitted> <div class="text-center p-lg"> <h3 class=m-b>Payment Added</h3> <p> <a href ng-click=__new() class="btn btn-default bold m-r">Add Another Transfer</a> <a href ng-click=$dismiss() class="btn btn-default bold">Close</a> </p> </div> </div> <div class=modal-body ng-show=!submitted> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class=form-group> <label class="col-sm-4 text-right required">From Account</label> <div class=col-sm-8> <select select-picker ng-model=item.from_bank title="Select Account" required> <option value data-hidden=true></option> <option data-icon="fa fa-{{i.type==\'cash\' ? \'database\' : \'credit-card\'}}" ng-repeat="i in assets_banks" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group> <label class="col-sm-4 text-right required">To Account</label> <div class=col-sm-8> <select select-picker ng-model=item.to_bank title="Select Account" required> <option value data-hidden=true></option> <option data-icon="fa fa-{{i.type==\'cash\' ? \'database\' : \'credit-card\'}}" ng-repeat="i in assets_banks" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class=form-group> <label class="col-sm-4 text-right required">Amount</label> <div class=col-sm-8> <input name=amount ng-model=item.amount type=text class="form-control auto-focus" required ng-class="{\'has-error\': Form.amount.$invalid && FormSubmitted}"> </div> </div> <div class=form-group> <label class="col-sm-4 text-right">Transfer Date</label> <div class=col-sm-8> <div class=input-group> <input type=text readonly class=form-control ng-model=item.date uib-datepicker-popup=mediumDate is-open=date_opened ng-focus="date_opened=true"> <span class=input-group-addon ng-click="date_opened=true"><i class="fa fa-calendar-o"></i></span> </div> </div> </div> <div class=form-group> <label class="col-sm-4 text-right">Reference</label> <div class=col-sm-8> <input name=ref ng-model=item.reference type=text class=form-control> </div> </div> <div class=form-group> <label class="col-sm-4 text-right">Notes</label> <div class=col-sm-8> <textarea auto-size ng-model=item.notes class=form-control></textarea> </div> </div> </form> </div> <div class=modal-footer ng-if=!submitted> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || !item.from_bank || !item.to_bank || item.from_bank == item.to_bank || is_saving"><mini-loader class=m-r ng-if=is_saving></mini-loader>Process</button> </div> </div> '),e.put("modals/app/claims.html",'<div ng-controller=ModalsClaimsCtrl> <div class=modal-header> <a class=close ng-click=close()>×</a> <h4 class=modal-title> Claims / <span ng-if=is_new>Create</span> <span ng-if=!is_new>Edit / {{item.ref_id}}</span> </h4> </div> <form name=Form> <div class=modal-body>  <div class=form-horizontal> <div class=form-group> <label class="col-sm-3 control-label">Policy</label> <div class=col-sm-9> <autocomplete ajaxaction=policies_search titlefield=name descfield=client_name id=policy_client_search imagefield__=avatar inputclass=auto-focus minlength=1 ng-show=!item.policy_id pause=250 placeholder="Search for policy" selectedobject=item.policy_selected> </autocomplete> <div class="m-t text-sm" ng-show="item.policy_id_revert && !item.policy_id"> <a class=link href ng-click="item.policy_id=item.policy_id_revert">Cancel</a> </div> <div class="control-label text-left" ng-show=item.policy_id> {{item.policy_name}} - {{item.client_name}} <span class="m-l text-sm"> <a class=link href ng-click="item.policy_id=\'\'">Change</a> </span> </div> </div> </div> </div> <div class=form-horizontal ng-show=item.policy_id> <div class="form-group m-b-sm b-b"> <div class="col-sm-9 col-sm-offset-3"> <h4 class=form-header>Claim Information</h4> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Status</label> <div class=col-sm-9> <select class=form-control ng-model=item.status select-picker> <option ng-repeat="item in assets_claim_types" ng-selected="{{item.ID == item.status}}" value={{item.ID}}> [{{item.status}}] - {{item.name}} </option> </select> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label required">Insurer Reference #</label> <div class=col-sm-9> <input class=form-control ng-model=item.ref_id type=text required> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label required">Loss Date & Time</label> <div class=col-sm-9> <datetimepicker ng-model=item.date_loss hour-step=1 minute-step=1 show-meridian=true date-format=mediumDate readonly-date=true readonly-time=false show-spinners=true date-opened=date_lossOpened datepicker-append-to-body=false></datetimepicker> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label required">Dates</label> <div class=col-sm-9> <div class="row m-b-xs"> <div class=col-md-4>Declaration Date</div> <div class=col-md-4>Submitted to Insurer</div> <div class=col-md-4>Settlement Date</div> </div> <div class="row m-b-xs"> <div class=col-md-4> <div class=input-group> <input type=text class=form-control ng-model=item.date_submit_broker uib-datepicker-popup=mediumDate is-open=item.date_submit_broker_opened ng-focus="item.date_submit_broker_opened=true"> <span class=input-group-addon ng-click="item.date_submit_broker_opened=true"> <i class="fa fa-calendar-o"></i> </span> </div> </div> <div class=col-md-4> <div class=input-group> <input type=text class=form-control ng-model=item.date_submit_insurer uib-datepicker-popup=mediumDate is-open=item.date_submit_insurer_opened ng-focus="item.date_submit_insurer_opened=true"> <span class=input-group-addon ng-click="item.date_submit_insurer_opened=true"> <i class="fa fa-calendar-o"></i> </span> </div> </div> <div class=col-md-4> <div class=input-group> <input type=text class=form-control ng-model=item.date_settlement uib-datepicker-popup=mediumDate is-open=item.date_settlement_opened ng-focus="item.date_settlement_opened=true"> <span class=input-group-addon ng-click="item.date_settlement_opened=true"> <i class="fa fa-calendar-o"></i> </span> </div> </div> </div> </div> </div> <div class="form-group m-b-sm b-b"> <div class="col-sm-9 col-sm-offset-3"> <h4 class=form-header>Loss Information</h4> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Location of Loss or Incident</label> <div class=col-sm-9> <textarea auto-size class=form-control ng-model=item.loss_location rows=5>\n            </textarea> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Loss Amount</label> <div class=col-sm-9> <div class=input-group> <span class="input-group-addon bold">USD</span> <input class=form-control ng-model=item.loss_amount type=text> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Deductable/Excess Amount</label> <div class=col-sm-9> <div class=input-group> <span class="input-group-addon bold">USD</span> <input class=form-control ng-model=item.deductable_amount type=text> </div> </div> </div> <div class="form-group m-b-sm b-b"> <div class="col-sm-9 col-sm-offset-3"> <h4 class=form-header>Product Information</h4> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Nature of Loss</label> <div class=col-sm-9> <input class=form-control ng-model=item.loss_description type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Incident Circumstances</label> <div class=col-sm-9> <input class=form-control ng-model=item.incident_circumstances type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Claim Info</label> <div class=col-sm-9> <input class=form-control ng-model=item.claim_info type=text> </div> </div> <div class="form-group m-b-sm b-b"> <div class="col-sm-9 col-sm-offset-3"> <h4 class=form-header>Insurer Contacts</h4> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Insurer Contact Name</label> <div class=col-sm-9> <input class=form-control ng-model=item.insurer_name type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Insurer Contact Email</label> <div class=col-sm-9> <input class=form-control ng-model=item.insurer_email type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Insurer Contact Phone</label> <div class=col-sm-9> <input class=form-control ng-model=item.insurer_phone type=text> </div> </div> <div class="form-group m-b-sm b-b"> <div class="col-sm-9 col-sm-offset-3"> <h4 class=form-header>Notes</h4> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Notes</label> <div class=col-sm-9> <textarea auto-size class=form-control ng-model=item.notes rows=5>\n            </textarea> </div> </div> </div>  </div>  <div class=modal-footer> <button class="btn btn-default" type=button ng-click=close()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Save</button> </div> </form>  </div> '),e.put("modals/app/claims_settlement.html",'<div ng-controller=ModalsClaimsSettlementCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title> Claims Settlements / {{item.ref_id}} </h4> </div> <div class=modal-body> </div>  <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Save</button> </div>  </div> '),e.put("modals/app/clients.html",'<div ng-controller=ModalsClientsCtrl> <div class=modal-header> <a class=close ng-click=close()>×</a> <h4 class=modal-title> Clients / <span ng-if=is_new>Create</span> <span ng-if=!is_new>Edit / {{item.name}}</span> </h4> </div> <form name=Form> <div class=modal-body> <div class="hbox h-auto m-b-lg"> <div class="col text-center w-sm"> <div class="thumb-lg avatar inline"> <img ng-show=item.avatar ng-src={{item.avatar}}> <img holder="{{item.first_name+\' \'+item.last_name}}" holder-size=96 ng-hide=item.avatar> <a href ng-click="item.avatar=\'\'" ng-show=item.avatar style="position: absolute; top:5px; right: 5px; background: #fff; border-radius: 50%; width:20px; height: 20px; line-height: 20px;"> <b class="fa fa-times" tooltip-placement=bottom uib-tooltip="Remove Image"></b> </a> </div> <div accept=image/* class="drop-box m-t" name=avatar_preview ng-model=avatar_preview ngf-allow-dir=true ngf-change="avatar_upload($files, $invalidFiles)" ngf-drag-over-class="\'dragover\'" ngf-drop ngf-max-size=5MB ngf-multiple=false ngf-pattern="\'image/*\'" ngf-select style="width:80%; margin-top:10px; padding: 5px;"> <h5>Drop/Click here</h5> <uib-progressbar class=progress-xxs ng-show="avatar_progress>0" type=info value=avatar_progress></uib-progressbar> <p ng-repeat="f in errFiles" class="alert alert-warning">{{f.name}} was not uploaded. reason: {{f.$error}} is {{f.$errorParam}}</p> </div> </div> <div class="col v-middle h1 font-thin"> <div> <input class="form-control auto-focus w-auto input-lg m-b-n-xxs font-bold" ng-model=item.first_name placeholder=First required type=text> <input class="form-control w-auto input-lg font-bold m-b" ng-model=item.last_name placeholder=Last type=text> <div class=btn-group> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'individual\'"> Individual </label> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'company\'"> Company </label> </div> </div> </div> </div>  <div class=form-horizontal> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Company</label> <div class=col-sm-9> <input class=form-control ng-model=item.company type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Group</label> <div class=col-sm-9> <select class=form-control ng-model=item.group select-picker> <option value> -- NONE -- </option> <option ng-repeat="group in assets_groups" ng-selected="{{group.ID == item.group}}" value={{group.ID}}> {{group.name}} </option> </select> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label" help="Assign client to a Reference List">Reference List</label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=item.reference select-picker> <option value>-- NONE --</option> <option ng-repeat="reference in assets_references" ng-selected="{{reference.ID == item.reference}}" value={{reference.ID}}> {{reference.name}} </option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.reference()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div> <div class="form-group m-b-sm" ng-if="user.can(\'admin\')"> <label class="col-sm-3 control-label" help="Team Member responsible for this client"> Broker </label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=item.user_id select-picker> <option value>-- NONE --</option> <option ng-repeat="team in assets_teams" ng-selected="{{team.ID == item.user_id}}" value={{team.ID}}> {{team.name}} </option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.user()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Email</label> <div class=col-sm-9> <input class=form-control ng-model=item.email type=email> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Mobile</label> <div class=col-sm-9> <input class=form-control ng-model=item.mobile type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Home</label> <div class=col-sm-9> <input class=form-control ng-model=item.home type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Work</label> <div class=col-sm-9> <input class=form-control ng-model=item.work type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Gender</label> <div class=col-sm-9> <div class=btn-group> <label class="btn btn-default" ng-model=item.gender uib-btn-radio="\'male\'" uncheckable> Male </label> <label class="btn btn-default" ng-model=item.gender uib-btn-radio="\'female\'" uncheckable> Female </label> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Date of Birth</label> <div class=col-sm-9> <div date-select ng-model=item.dob></div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Address</label> <div class=col-sm-9> <address-form item=item></address-form> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Notes</label> <div class=col-sm-9> <textarea auto-size class=form-control ng-model=item.notes rows=5></textarea> </div> </div> </div>  </div>  <div class=modal-footer> <button class="btn btn-default" type=button ng-click=close()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Save</button> </div> </form>  </div> '),e.put("modals/app/clients_SOA.html",'<div ng-controller=ModalsClientsSOACtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Clients / SOA / {{item.name}}</h4> </div> <div class=modal-body> <div class=text-center ng-show=generated> <h3 class=m-t-none>SOA for {{item.name}} generated successfully</h3> <p> <a class="btn btn-success"> Download SOA </a> <a class="btn btn-default m-l" ng-click=$dismiss()>Close Window</a> </p> </div> <form name=Form ng-submit=submit() class="form-horizontal m-b" novalidate ng-hide=converted> <h3 class=m-t-none> Generate Statement of Account (SOA) for <br> <b>"{{item.name}}"</b>? </h3> </form> </div> <div class=modal-footer ng-hide=generated> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Generate</button> </div> </div> '),e.put("modals/app/clients_loss_ratio.html",'<div ng-controller=ModalsClientsLossRatioCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title> Clients / Loss Ratio / {{item.name}} </h4> </div> <form name=Form> <div class="modal-body m-t-n"> <h2 class=m-t-none>Underwriting Ratios Calculator</h2> </div>  <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Save</button> </div> </form>  </div> '),
e.put("modals/app/convert-to-client.html",'<div ng-controller=ModalConvertToClientCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Convert to Client</h4> </div> <div class=modal-body> <div class=text-center ng-show=converted> <h3 class=m-t-none>{{item.name}} converted successfully</h3> <p> <a ui-sref="app.clients({search: item.name})" ng-click=$dismiss() class="btn btn-default"> Go to {{item.name}} </a> <a class="btn btn-default m-l" ng-click=$dismiss()>Close Window</a> </p> </div> <form name=Form ng-submit=submit() class="form-horizontal m-b" novalidate ng-hide=converted> <h3 class=m-t-none>Convert "{{item.name}}" to client?</h3> <h4>Assign this group after converting:</h4> <select select-picker ng-model=group> <option value>-- NONE --</option> <option ng-repeat="i in assets_groups" value={{i.ID}}>{{i.name}}</option> </select> </form> </div> <div class=modal-footer ng-hide=converted> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Convert</button> </div> </div> '),e.put("modals/app/gmap.html",'<div ng-controller=ModalGMapCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>GeoLocation</h4> </div> <div class="modal-body m-t-n">  <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class=row> <div class=col-sm-12> <div class=input-group> <span class=input-group-addon> <i class="fa fa-search"></i> </span> <input class=form-control ng-model=item.position_search type=text> <span class=input-group-btn> <button id=locateme class="btn btn-default bold" ng-click=getCurrentPos() type=button><i class="fa fa-map-marker m-r-sm"></i> Locate Me</button> </span> </div> <ng-map center={{item.position}} id=mainmap zoom=14 on-click=click()></ng-map> </div> <div class=col-sm-12><div class="row no-gutter"> <div class=col-sm-6> <div class=input-group> <span class="input-group-addon bold"> Latitude </span> <input class=form-control ng-model=item.lat type=text> </div> </div> <div class=col-sm-6> <div class=input-group> <span class="input-group-addon bold"> Longitude </span> <input class=form-control ng-model=item.lng type=text> </div> </div> </div></div> </div> </form> </div> <div class=modal-footer> <div class=row> <div class=col-md-6> <div ng-show="item.lat && item.lng" class="text-left text-sm p-t-sm"> <reverse-geocode lat=item.lat lng=item.lng></reverse-geocode> </div> </div> <div class=col-md-6> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="!item.lat || !item.lng">Save</button> </div> </div> </div> </div> '),e.put("modals/app/leads.html",'<div ng-controller=ModalsLeadsCtrl> <div class=modal-header> <a class=close ng-click=close()>×</a> <h4 class=modal-title> Leads / <span ng-if=is_new>Create</span> <span ng-if=!is_new>Edit / {{item.name}}</span> </h4> </div> <form name=Form> <div class=modal-body> <div class="hbox h-auto m-b-lg"> <div class="col text-center w-sm"> <div class="thumb-lg avatar inline"> <img ng-show=item.avatar ng-src={{item.avatar}}> <img holder="{{item.first_name+\' \'+item.last_name}}" holder-size=96 ng-hide=item.avatar> <a href ng-click="item.avatar=\'\'" ng-show="item.avatar && item.editing" style="position: absolute; top:5px; right: 5px; background: #fff; border-radius: 50%; width:20px; height: 20px; line-height: 20px;"> <b class="fa fa-times" tooltip-placement=bottom uib-tooltip="Remove Image"></b> </a> </div> <div accept=image/* class="drop-box m-t" name=avatar_preview ng-model=avatar_preview ngf-allow-dir=true ngf-change="avatar_upload($files, $invalidFiles)" ngf-drag-over-class="\'dragover\'" ngf-drop ngf-max-size=5MB ngf-multiple=false ngf-pattern="\'image/*\'" ngf-select style="width:80%; margin-top:10px; padding: 5px;"> <h5>Drop/Click here</h5> <uib-progressbar class=progress-xxs ng-show="avatar_progress>0" type=info value=avatar_progress></uib-progressbar> <p ng-repeat="f in errFiles" class="alert alert-warning">{{f.name}} was not uploaded. reason: {{f.$error}} is {{f.$errorParam}}</p> </div> </div> <div class="col v-middle h1 font-thin"> <div> <input class="form-control auto-focus w-auto input-lg m-b-n-xxs font-bold" ng-model=item.first_name placeholder=First required type=text> <input class="form-control w-auto input-lg font-bold m-b" ng-model=item.last_name placeholder=Last type=text> <div class=btn-group> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'individual\'"> Individual </label> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'group\'"> Group </label> </div> </div> </div> </div>  <div class=form-horizontal> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Company</label> <div class=col-sm-9> <input class=form-control ng-model=item.company type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Status</label> <div class=col-sm-9> <div> <select class=form-control ng-model=item.group select-picker> <option value>-- NONE --</option> <option ng-repeat="group in assets_leads_groups" ng-selected="{{group.ID == item.group}}" value={{group.ID}}> {{group.name}} </option> </select> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label" help="Assign lead to a Reference List"> Reference List </label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=item.reference select-picker> <option value>-- NONE --</option> <option ng-repeat="reference in assets_references" ng-selected="{{reference.ID == item.reference}}" value={{reference.ID}}> {{reference.name}} </option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.reference()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div> <div class="form-group m-b-sm" ng-if="user.can(\'admin\')"> <label class="col-sm-3 control-label" help="Team Member responsible for this lead"> Broker </label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=item.user_id select-picker> <option value>-- NONE --</option> <option ng-repeat="i in assets_teams" ng-selected="{{i.ID == item.user_id}}" value={{i.ID}}>{{i.name}}</option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.user()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Interested In Company</label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=item.interest_company select-picker> <option value>-- NONE --</option> <option ng-repeat="company in assets_companies" ng-selected="{{company.ID == item.company}}" value={{company.ID}}> {{company.name}} </option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.company()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Interested In Product</label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=item.interest_product select-picker> <option value>-- NONE --</option> <option data-icon="{{product.icon}} m-r-sm" ng-repeat="product in assets_products" ng-selected="{{product.ID == item.product}}" value={{product.ID}}> {{product.name}} </option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.product()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Email</label> <div class=col-sm-9> <input class=form-control ng-model=item.email type=email> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Mobile</label> <div class=col-sm-9> <input class=form-control ng-model=item.mobile type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Home</label> <div class=col-sm-9> <input class=form-control ng-model=item.home type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Work</label> <div class=col-sm-9> <input class=form-control ng-model=item.work type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Gender</label> <div class=col-sm-9> <div class=btn-group> <label class="btn btn-default" ng-model=item.gender uib-btn-radio="\'male\'" uncheckable> Male </label> <label class="btn btn-default" ng-model=item.gender uib-btn-radio="\'female\'" uncheckable> Female </label> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Date of Birth</label> <div class=col-sm-9> <div date-select ng-model=item.dob></div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Address</label> <div class=col-sm-9> <address-form item=item></address-form> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Media Type</label> <div class=col-sm-9> <div> <select class=form-control ng-model=item.media_type select-picker> <option value>-- NONE --</option> <option ng-repeat="media_type in assets_media_types" ng-selected="{{media_type.ID == item.media_type}}" value={{media_type.ID}}> {{media_type.name}} </option> </select> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Notes</label> <div class=col-sm-9> <textarea auto-size class=form-control ng-model=item.notes rows=5></textarea> </div> </div> </div>  </div>  <div class=modal-footer> <button class="btn btn-default" type=button ng-click=close()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Save</button> </div> </form>  </div> '),e.put("modals/app/notifications.html",'<div class=modal-header> <a class=close style="position: absolute; top:0; right:0;" ng-click=$dismiss()>×</a> <div class=row> <div class=col-sm-4> <h4 class=modal-title>Today\'s Alerts</h4> </div> <div class="col-sm-4 b-l"> <h4 class=modal-title>Tomorrow\'s Alerts</h4> </div> <div class="col-sm-4 b-l"> <h4 class=modal-title>Today\'s Birthdays</h4> </div> </div> </div> <div class=modal-body> <div class=row> <div class=col-sm-4></div> <div class=col-sm-4></div> <div class=col-sm-4></div> </div> </div> '),e.put("modals/app/policies.html",'<div ng-controller=ModalsPoliciesCtrl> <div class=modal-header> <a class=close ng-click=close()>×</a> <h4 class=modal-title> Policies / <span ng-if=is_new>Create</span> <span ng-if=!is_new>Edit / {{item.name}}</span> </h4> </div> <form name=Form> <div class=modal-body>  <div class=form-horizontal> <div class=form-group> <label class="col-sm-3 control-label">Client</label> <div class=col-sm-9> <div class=input-group ng-show=!item.client_id> <autocomplete ajaxaction=clients_search descfield=desc id=policy_client_search imagefield=avatar inputclass=auto-focus minlength=1 pause=250 placeholder="Search for client" selectedobject=item.client_selected titlefield=name></autocomplete> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.client()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> <div class="m-t text-sm" ng-show="item.client_id_revert && !item.client_id"> <a class=link href ng-click="item.client_id=item.client_id_revert">Cancel</a> </div> <div class="control-label text-left" ng-show=item.client_id> {{item.client_name}} - ID: {{item.client_id}} <span class="m-l text-sm"> <a class=link href ng-click="item.client_id=\'\'">Change</a> </span> </div> </div> </div> </div> <div class=form-horizontal ng-show=item.client_id> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label required">Policy #</label> <div class=col-sm-9> <input class=form-control ng-model=item.name required type=text> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Insurer</label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=item.company select-picker> <option value>-- NONE --</option> <option ng-repeat="company in assets_companies" ng-selected="{{company.ID == item.company}}" value={{company.ID}}> {{company.name}} </option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.company()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Product</label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=item.product select-picker> <option value>-- NONE --</option> <option data-icon="{{product.icon}} m-r-sm" ng-repeat="product in assets_products" ng-selected="{{product.ID == item.product}}" value={{product.ID}}> {{product.name}} </option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.product()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div>  <div class="form-group m-b-sm" ng-if="user.can(\'admin\')"> <label class="col-sm-3 control-label">Broker</label> <div class=col-sm-9> <div class=input-group> <select class=form-control ng-model=item.user_id select-picker> <option value>-- NONE --</option> <option ng-repeat="i in assets_teams" ng-selected="{{i.ID == item.user_id}}" value={{i.ID}}>{{i.name}}</option> </select> <span class=input-group-btn> <a class="btn btn-default" href ng-click=Modals.user()> <i class="fa fa-plus m-r-sm"></i>Add New </a> </span> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label required">Gross Premium</label> <div class=col-sm-9> <div class=input-group>  <span class="input-group-addon bold">USD</span> <input class=form-control ng-model=item.amount required type=number> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label required">Commission</label> <div class=col-sm-9> <div class=input-group> <span class="input-group-addon bold"> <span uib-dropdown> <span uib-dropdown-toggle class=pointer> {{item.commission_type==\'f\' ? \'USD\' : \'%\'}} <span class=caret></span> </span> <ul class=dropdown-menu uib-dropdown-menu> <li><a href class=bold ng-click="item.commission_type=\'p\'">Percentage</a></li> <li><a href class=bold ng-click="item.commission_type=\'f\'">Fixed</a></li> </ul> </span> </span> <input class=form-control ng-model=item.commission required type=number> <span class="input-group-addon bold bg-light" ng-if="item.amount && item.commission"> USD {{item.commission_total}} </span> </div> </div> </div> <div class="form-group m-b-sm" ng-if=item.user_id> <label class="col-sm-3 control-label required">Broker Commission</label> <div class=col-sm-9> <div class=input-group> <span class="input-group-addon bold"> <span uib-dropdown> <span uib-dropdown-toggle class=pointer> {{item.team_commission_type==\'f\' ? \'USD\' : \'%\'}} <span class=caret></span> </span> <ul class=dropdown-menu uib-dropdown-menu> <li><a href class=bold ng-click="item.team_commission_type=\'p\'">Percentage</a></li> <li><a href class=bold ng-click="item.team_commission_type=\'f\'">Fixed</a></li> </ul> </span> </span> <input class=form-control ng-model=item.team_commission required type=number> <span class="input-group-addon bold bg-light" ng-if="item.amount && item.team_commission"> USD {{item.team_commission_total}} </span> </div> </div> </div> <div class="form-group m-b-sm" ng-if="item.amount && item.commission_total"> <label class="col-sm-3 control-label">Net Premium</label> <div class="col-sm-9 bold p-t-xs"> USD {{item.company_total}} </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label required">Dates</label> <div class=col-sm-9> <div class="row m-b-xs"> <div class=col-md-4>Issued</div> <div class=col-md-4>Effective</div> <div class=col-md-4>Expiry</div> </div> <div class="row m-b-xs"> <div class=col-md-4> <div class=input-group> <input type=text class=form-control ng-model=item.date_issued uib-datepicker-popup=mediumDate is-open=item.dt_issued_opened ng-focus="item.dt_issued_opened=true"> <span class=input-group-addon ng-click="item.dt_issued_opened=true"> <i class="fa fa-calendar-o"></i> </span> </div> </div> <div class=col-md-4> <div class=input-group> <input type=text class=form-control ng-model=item.date_effective uib-datepicker-popup=mediumDate is-open=item.dt_effective_opened ng-focus="item.dt_effective_opened=true"> <span class=input-group-addon ng-click="item.dt_effective_opened=true"> <i class="fa fa-calendar-o"></i> </span> </div> </div> <div class=col-md-4> <div class=input-group> <input type=text class=form-control ng-model=item.date_expiry uib-datepicker-popup=mediumDate is-open=item.dt_expiry_opened ng-focus="item.dt_expiry_opened=true"> <span class=input-group-addon ng-click="item.dt_expiry_opened=true"> <i class="fa fa-calendar-o"></i> </span> </div> </div> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label" help="This will help the system link the policy vehicle with Lebanese speed tickets and Mechanique dates/fees"> Motor Related? </label> <div class=col-sm-9> <div class=btn-group> <label class="btn btn-default" ng-model=item.is_vehicle uib-btn-radio="\'1\'"> Yes </label> <label class="btn btn-default" ng-model=item.is_vehicle uib-btn-radio="\'0\'"> No </label> </div> </div> </div> <div class="form-group m-b-xs" ng-show="item.is_vehicle==\'1\'"> <label class="col-sm-3 control-label"> </label> <div class=col-sm-9> <div class="bg-light p m-b"> <div class="row m-b"> <div class=col-md-12> <label class=m-b-xs for=platenumber>Plate Number</label> <div class="input-group w-full"> <select class="form-control w-25p" ng-model=item.vehicle_code select-picker> <option ng-repeat="i in assets_vehicle_codes" ng-selected="{{i.ID == item.vehicle_code}}" value={{i.ID}}> {{i.name}} - {{i.name_ar}} </option> </select> <input class="form-control w-75p m-l-n-xxs" name=platenumber ng-model=item.platenumber placeholder="Vehicle Number" type=number> </div> </div> </div> <div class="row m-b-xs"> <div class=col-md-4>Vehicle Type</div> <div class=col-md-4>Horse Power</div> <div class=col-md-4>Model Year</div> </div> <div class=row> <div class=col-md-4> <select class=form-control ng-model=item.vehicle_type select-picker> <option ng-repeat="i in assets_vehicle_types" ng-selected="{{i.ID == item.vehicle_type}}" value={{i.ID}}> {{i.name}} </option> </select> </div> <div class=col-md-4> <input class=form-control name=horseid ng-model=item.horseid type=text> </div> <div class=col-md-4> <input class=form-control name=yearid ng-model=item.yearid type=text> </div> </div> </div> </div> </div> <div class="form-group m-b-sm"> <label class="col-sm-3 control-label">Notes</label> <div class=col-sm-9> <textarea auto-size class=form-control ng-model=item.notes rows=5>\n            </textarea> </div> </div> </div>  </div>  <div class=modal-footer> <button class="btn btn-default" type=button ng-click=close()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Save</button> </div> </form>  </div> '),e.put("modals/app/upgrade.html",'<div ng-controller=ModalUpgradeCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Choose Plan</h4> </div> <div class="modal-body m-t-n"> <div class="row no-gutter"> <div class="col-md-4 col-sm-6"> <div class="panel b-a"> <div class="panel-heading wrapper-xs bg-primary no-border"></div> <div class="wrapper text-center b-light"> <h4 class="text-u-c m-b-none m-t-none">Starter</h4> <h2 class="m-t-none m-b-none"> <sup class=pos-rlt style=top:-22px>$</sup> <span class="text-2x text-lt">800</span> <span class=text-xs>/ year</span> </h2> </div> <ul class="list-group text-center"> <li class=list-group-item>5 Users</li> <li class=list-group-item>5 GB</li> <li class=list-group-item>1000 SMS</li> <li class=list-group-item>100,000 Emails</li> </ul>  </div> </div> <div class="col-md-4 col-sm-6"> <div class="panel b-a"> <div class="panel-heading wrapper-xs bg-info no-border"></div> <div class="wrapper text-center b-light"> <h4 class="text-u-c m-b-none m-t-none">Professional</h4> <h2 class="m-t-none m-b-none"> <sup class=pos-rlt style=top:-22px>$</sup> <span class="text-2x text-lt">1200</span> <span class=text-xs>/ year</span> </h2> </div> <ul class="list-group text-center"> <li class=list-group-item>15 Users</li> <li class=list-group-item>10 GB</li> <li class=list-group-item>2000 SMS</li> <li class=list-group-item>200,000 Emails</li> </ul>  </div> </div> <div class="col-md-4 col-sm-6"> <div class="panel b-a b-r-i"> <div class="panel-heading wrapper-xs bg-warning dker no-border"></div> <div class="wrapper text-center b-light"> <h4 class="text-u-c m-b-none m-t-none">Golden</h4> <h2 class="m-t-none m-b-none"> <sup class=pos-rlt style=top:-22px>$</sup> <span class="text-2x text-lt">2000</span> <span class=text-xs>/ year</span> </h2> </div> <ul class="list-group text-center"> <li class=list-group-item>30 Users</li> <li class=list-group-item>20 GB</li> <li class=list-group-item>3000 SMS</li> <li class=list-group-item>300,000 Emails</li> </ul>  </div> </div> </div> <h2 class="font-thin m-b-lg text-center">Additionals</h2> <div class="row no-gutter"> <div class="col-md-3 col-sm-6"> <div class="panel b-a"> <div class="panel-heading wrapper-xs bg-info lter no-border text-center text-white bold">Users</div> <div class="wrapper-sm text-center b-light"> <h3 class=m-n>$50</h3> <span class="text-sm text-muted">/ user / yr</span> </div> </div> </div> <div class="col-md-3 col-sm-6"> <div class="panel b-a"> <div class="panel-heading wrapper-xs bg-dark lter no-border text-center text-white bold">Disk Space</div> <div class="text-center b-light"> <div class="row no-gutter"> <div class="col-sm-4 b-r wrapper-sm"> <h3 class=m-n>$20</h3> <span class="text-sm text-muted">1GB / yr</span> </div> <div class="col-sm-4 b-r wrapper-sm"> <h3 class=m-n>$60</h3> <span class="text-sm text-muted">5GB / yr</span> </div> <div class="col-sm-4 wrapper-sm"> <h3 class=m-n>$100</h3> <span class="text-sm text-muted">10GB / yr</span> </div> </div> </div> </div> </div> <div class="col-md-3 col-sm-6"> <div class="panel b-a"> <div class="panel-heading wrapper-xs bg-danger lter no-border text-center text-white bold">Emails</div> <div class="wrapper-sm text-center b-light"> <h3 class=m-n>$50</h3> <span class="text-sm text-muted">/ 100,000 emails</span> </div> </div> </div> <div class="col-md-3 col-sm-6"> <div class="panel b-a b-r-i"> <div class="panel-heading wrapper-xs bg-success lter no-border text-center text-white bold">SMS</div> <div class="wrapper-sm text-center b-light"> <h3 class=m-n>$30</h3> <span class="text-sm text-muted">/ 1,000 SMSes</span> </div> </div> </div> </div> </div> </div> '),e.put("modals/preview/claim.html",'<div ng-controller=ModalsPreviewClaimCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title> Claims / Preview / {{item.ref_id}} </h4> </div> <div class=modal-body> <main-loader ng-show=!loaded></main-loader> <div ng-if=loaded> <div class="bg-light m-b m-t-n-lg m-l-n m-r-n"> <div class="scene-group scene-modal"> <a href ng-click="set_scene(\'details\')" ng-class="{\'selected\': scene==\'details\'}">Details</a> <a href ng-click="set_scene(\'files\')" ng-class="{\'selected\': scene==\'files\'}"> Files <span class="badge up bg-danger" ng-show="item.files && item.files!=\'0\'">{{item.files}}</span> </a> <a href ng-click="set_scene(\'tasks\')" ng-class="{\'selected\': scene==\'tasks\'}"> Tasks <span class="badge up bg-danger" ng-show="item.tasks && item.tasks!=\'0\'">{{item.tasks}}</span> </a> </div> </div> <div ng-include=get_scene()></div> </div>  </div> </div> '),e.put("modals/preview/client.html",'<div ng-controller=ModalsPreviewClientCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title> Clients / Preview / {{item.name}} </h4> </div> <div class=modal-body> <main-loader ng-show=!loaded></main-loader> <div ng-if=loaded> <div class="bg-light m-b m-t-n-lg m-l-n m-r-n"> <div class="scene-group scene-modal"> <a href ng-click="set_scene(\'details\')" ng-class="{\'selected\': scene==\'details\'}">Details</a> <a href ng-click="set_scene(\'files\')" ng-class="{\'selected\': scene==\'files\'}"> Files <span class="badge up bg-danger" ng-show="item.files && item.files!=\'0\'">{{item.files}}</span> </a> <a href ng-click="set_scene(\'tasks\')" ng-class="{\'selected\': scene==\'tasks\'}"> Tasks <span class="badge up bg-danger" ng-show="item.tasks && item.tasks!=\'0\'">{{item.tasks}}</span> </a> </div> </div> <div ng-include=get_scene()></div> </div>  </div> </div> '),e.put("modals/preview/invoice.html",'<div ng-controller=ModalsPreviewInvoiceCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title> Invoices / Preview / {{item.invoice_number}} </h4> </div> <div class=modal-body> <main-loader ng-show=!loaded></main-loader> <div ng-if=loaded> <div class="bg-light m-b m-t-n-lg m-l-n m-r-n"> <div class="scene-group scene-modal"> <a href ng-click=Modals.invoice_installments(item)>Manage Installments</a> <a href ng-click=Modals.invoice_send(item)>Send</a> <a href ng-click=Modals.payment(item)>Enter Payment</a> <a href ng-click=Modals.invoice_print(item)>Print</a> <a href={{client_url(item)}} target=_blank>View as Client</a> </div> </div> <div ng-bind-html="html | html"></div> </div>  </div> </div> '),e.put("modals/preview/lead.html",'<div ng-controller=ModalsPreviewLeadCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title> Leads / Preview / {{item.name}} </h4> </div> <div class=modal-body> <main-loader ng-show=!loaded></main-loader> <div ng-if=loaded> <div class="bg-light m-b m-t-n-lg m-l-n m-r-n"> <div class="scene-group scene-modal"> <a href ng-click="set_scene(\'details\')" ng-class="{\'selected\': scene==\'details\'}">Details</a> <a href ng-click="set_scene(\'files\')" ng-class="{\'selected\': scene==\'files\'}"> Files <span class="badge up bg-danger" ng-show="item.files && item.files!=\'0\'">{{item.files}}</span> </a> <a href ng-click="set_scene(\'tasks\')" ng-class="{\'selected\': scene==\'tasks\'}"> Tasks <span class="badge up bg-danger" ng-show="item.tasks && item.tasks!=\'0\'">{{item.tasks}}</span> </a> </div> </div> <div ng-include=get_scene()></div> </div>  </div> </div> '),e.put("modals/preview/policy.html",'<div ng-controller=ModalsPreviewPolicyCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title> Policies / Preview / {{item.name}} </h4> </div> <div class=modal-body> <main-loader ng-show=!loaded></main-loader> <div ng-if=loaded> <div class="bg-light m-b m-t-n-lg m-l-n m-r-n"> <div class="scene-group scene-modal"> <a href ng-click="set_scene(\'details\')" ng-class="{\'selected\': scene==\'details\'}">Details</a> <a href ng-click="set_scene(\'files\')" ng-class="{\'selected\': scene==\'files\'}"> Files <span class="badge up bg-danger" ng-show="item.files && item.files!=\'0\'">{{item.files}}</span> </a> <a href ng-click="set_scene(\'tasks\')" ng-class="{\'selected\': scene==\'tasks\'}"> Tasks <span class="badge up bg-danger" ng-show="item.tasks && item.tasks!=\'0\'">{{item.tasks}}</span> </a> </div> </div> <div ng-include=get_scene()></div> </div>  </div> </div> '),e.put("modals/settings/bank.html",'<div ng-controller=ModalSettingsBankCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Bank / Cash Accounts / <span ng-bind=header_text></span></h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class="row m-b"> <div class=col-sm-12> <div class=form-group> <label class="col-sm-5 control-label required">Type</label> <div class=col-sm-7><div class=btn-group> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'bank\'"> <i class="fa fa-credit-card m-r"></i>Bank Account </label> <label class="btn btn-default" ng-model=item.type uib-btn-radio="\'cash\'"> <i class="fa fa-database m-r"></i>Cash </label> </div></div> </div> <div class=form-group> <label class="col-sm-5 control-label required">Name</label> <div class=col-sm-7> <input name=name ng-model=item.name type=text class="form-control auto-focus" required ng-class="{\'has-error\': Form.name.$invalid && FormSubmitted}"> </div> </div> <div class=form-group ng-if=!is_editing> <label class="col-sm-5 control-label">Initial Balance</label> <div class=col-sm-7> <div class=input-group> <span class=input-group-addon>USD</span> <input ng-model=item.balance type=text class=form-control> </div> </div> </div> <div class=form-group> <label class="col-sm-5 control-label">Description</label> <div class=col-sm-7> <textarea ng-model=item.description class=form-control></textarea> </div> </div> <div ng-show="item.type==\'bank\'"> <div class=form-group> <label class="col-sm-5 control-label">Account Number</label> <div class=col-sm-7> <input ng-model=item.account_number type=text class=form-control> </div> </div> <div class=form-group> <label class="col-sm-5 control-label">Contact Person</label> <div class=col-sm-7> <input ng-model=item.contact_person type=text class=form-control> </div> </div> <div class=form-group> <label class="col-sm-5 control-label">Contact Form</label> <div class=col-sm-7> <input ng-model=item.contact_phone type=text class=form-control> </div> </div> </div> </div> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled=Form.$invalid> <span ng-bind=save_btn></span> <mini-loader class=m-l ng-if=is_saving></mini-loader> </button> </div> </div> '),e.put("modals/settings/invoice_pattern.html",'<div> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Invoice Pattern Help</h4> </div> <div class=modal-body> <p>Create custom invoice numbers by specifying a pattern</p> <p>Available variables:</p> <ul> <li>{counter} <span class="text-muted italic">- 0001</span></li> <li>{year} <span class="text-muted italic">- 2017</span></li> <li>{year-short} <span class="text-muted italic">- 17</span></li> <li>{month} <span class="text-muted italic">- 03</span></li> <li>{month-name} <span class="text-muted italic">- March</span></li> <li>{month-name-short} <span class="text-muted italic">- Mar</span></li> <li>{day} <span class="text-muted italic">- 06</span></li> <li>{day-name} <span class="text-muted italic">- Monday</span></li> <li>{day-name-short} <span class="text-muted italic">- Mon</span></li> </ul> <p>For example, <b>{year}-{counter}</b> would be converted to <b>2017-0001</b></p> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Close</button> </div> </div> '),e.put("modals/settings/user.html",'<script>\n\n</script> <div ng-controller=ModalSettingsUserCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Users Management / <span ng-bind=header_text></span></h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <main-loader ng-if=!loaded></main-loader> <div ng-if="loaded && !can_add"> <div class="wrapper text-center"> <h2 class=m-t-none>Your plan does not allow for additional users</h2> <p>Consult <a href ng-click=Modals.upgrade() class="link bold">this page</a> to plan your upgrade</p> </div> </div> <div ng-if="loaded && can_add"> <div class="row m-b"> <div class=col-sm-6> <label class=required>First Name</label> <input name=first_name ng-model=item.first_name type=text class="form-control auto-focus" required ng-class="{\'has-error\': Form.first_name.$invalid && FormSubmitted}"> </div> <div class=col-sm-6> <label class=required>Last Name</label> <input name=last_name ng-model=item.last_name type=text class=form-control required ng-class="{\'has-error\': Form.last_name.$invalid && FormSubmitted}"> </div> </div> <div class="row m-b"> <div class=col-sm-6> <label class=required>Email Address</label> <input name=user_email ng-model=item.user_email type=email class=form-control required ng-class="{\'has-error\': Form.user_email.$invalid && FormSubmitted}"> </div> <div class=col-sm-6> <label class=required>Phone Number</label> <input name=user_phone ng-model=item.user_phone type=text class=form-control required ng-class="{\'has-error\': Form.user_phone.$invalid && FormSubmitted}" minlength=8> </div> </div> <div class="row m-b" ng-if=!is_editing> <div class=col-sm-6> <label class=required help="4 Characters minimum">Password</label> <input name=user_pass ng-model=item.user_pass type=text class=form-control required ng-class="{\'has-error\': Form.user_pass.$invalid && FormSubmitted}" minlength=4> </div> <div class=col-sm-6> <label class=required>Confirm Password</label> <input name=user_pass2 ng-model=item.user_pass2 type=text class=form-control required ng-class="{\'has-error\': Form.user_pass2.$invalid && FormSubmitted}" data-password-verify=item.user_pass> <div ng-show=Form.user_pass2.$error.passwordVerify> Passwords don\'t match! </div> </div> </div> <div class=row> <label class=col-sm-12>Permissions</label> <div class=col-sm-12> <div class=btn-group> <label class="btn btn-default" ng-model=item.permtype uib-btn-radio="\'admin\'">Administrator</label> <label class="btn btn-default" ng-model=item.permtype uib-btn-radio="\'broker\'">Broker</label> <label class="btn btn-default" ng-model=item.permtype uib-btn-radio="\'accountant\'">Accountant</label> </div> <div class="m-t m-b text-muted italic"> <span ng-show="item.permtype == \'admin\'">Allow user to manage users, change settings and modify all records</span> <span ng-show="item.permtype == \'broker\'">Allow user to manage his own records, hide accounting, and only show his own reports</span> <span ng-show="item.permtype == \'accountant\'">Allow user to manage accounting, and only view other sections</span> </div> <div ng-show="item.permtype !== \'admin\'" class="bg-light wrapper"> <div class=m-b> <p class="bold m-n" style="line-height: 32px;"> <switch name=can_view_briefcase ng-model=item.can_view_briefcase class="pull-left m-r"></switch> Enable Briefcase </p> </div> <div class=m-b> <p class="bold m-n" style="line-height: 32px;"> <switch name=can_upload_briefcase ng-model=item.can_upload_briefcase class="pull-left m-r" disabled=!item.can_view_briefcase></switch> Allow Briefcase Upload </p> </div> </div> </div> </div> </div>  </form> </div> <div class=modal-footer ng-if="loaded && can_add"> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"> <mini-loader class=m-l ng-if=is_saving></mini-loader> <span ng-bind=save_btn></span> </button> </div> </div> '),
e.put("modals/settings/user_delete.html",'<div ng-controller=ModalSettingsUserDeleteCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Users Management / Delete "{{item.first_name}} {{item.last_name}}"</h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <p>You have specified this user for deletion:</p> <p>ID #{{item.ID}}: {{item.first_name}} {{item.last_name}}</p> <p>What should be done with content owned by this user?</p> <p> <div class=btn-group> <label class="btn btn-default" ng-model=item.del_type uib-btn-radio="\'delete\'">Delete All Content</label> <label class="btn btn-default" ng-model=item.del_type uib-btn-radio="\'attribute\'">Attribute all content to another user</label> </div> </p> <p ng-if="item.del_type == \'attribute\'"> <select select-picker title="-- Select --" ng-model=new_user required> <option ng-repeat="i in assets_teams" value={{i.ID}} ng-if="i.ID!=item.ID"> {{i.name}} </option> </select> </p> <p class="alert alert-warning" ng-if="item.del_type==\'delete\'"> Note: Policies and clients that have invoices attached will not get deleted </p> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || !item.del_type || is_saving"> <mini-loader class=m-l ng-if=is_saving></mini-loader> Confirm Deletion </button> </div> </div> '),e.put("modals/settings/user_pass.html",'<div ng-controller=ModalSettingsUserPassCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Users Management / Change "{{item.first_name}} {{item.last_name}}" Password</h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class="row m-b"> <div class=col-sm-6> <label class=required help="4 Characters minimum">Password</label> <input name=user_pass ng-model=item.user_pass type=text class="form-control autofocus" required ng-class="{\'has-error\': Form.user_pass.$invalid && FormSubmitted}" minlength=4> </div> <div class=col-sm-6> <label class=required>Confirm Password</label> <input name=user_pass2 ng-model=item.user_pass2 type=text class=form-control required ng-class="{\'has-error\': Form.user_pass2.$invalid && FormSubmitted}" data-password-verify=item.user_pass> <div ng-show=Form.user_pass2.$error.passwordVerify> Passwords don\'t match! </div> </div> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"> <mini-loader class=m-l ng-if=is_saving></mini-loader> Save </button> </div> </div> '),e.put("modals/settings/vendor.html",'<div ng-controller=ModalSettingsVendorCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Vendors / <span ng-bind=header_text></span></h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class="row m-b"> <div class=col-sm-6> <div class=m-b-sm> <label class=required>Name</label> <input name=first_name ng-model=item.name type=text class="form-control auto-focus" required ng-class="{\'has-error\': Form.name.$invalid && FormSubmitted}"> </div> <div class=m-b-sm> <label>Email Address</label> <input name=email ng-model=item.email type=email class=form-control ng-class="{\'has-error\': Form.email.$invalid && FormSubmitted}"> </div> <div class> <label>Phone Number</label> <input name=phone ng-model=item.phone type=text class=form-control minlength=8> </div> </div> <div class=col-md-6> <div> <label>Address</label> <address-form item=item hide-geo=true></address-form> </div> </div> </div> <div class=m-b> <label>Notes</label> <textarea name=notes ng-model=item.notes class=form-control></textarea> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled=Form.$invalid> <span ng-bind=save_btn></span> <mini-loader class=m-l ng-if=is_saving></mini-loader> </button> </div> </div> '),e.put("settings/mail/controls.html",'<uib-accordion> <div class="bold b-b m-n" heading=Template uib-accordion-group> <div class=m-b> <label class=block>Layout</label> <div class=btn-group> <label class="btn btn-default" ng-model=item.layout_width uib-btn-radio="\'680px\'"> Boxed </label> <label class="btn btn-default" ng-model=item.layout_width uib-btn-radio="\'100%\'"> Full Width </label> </div> </div> <div class="row m-b"> <div class=col-md-6> <label class=block>Background Color</label> <colorpicker color=item.bgcolor ng-model=item.bgcolor></colorpicker> </div> <div class=col-md-6> <label class=block>Border Radius</label> <input-spinner max=50 min=0 ng-model=item.borderradius></input-spinner> </div> </div> </div> <div class="bold b-b m-n" heading="Email Header" uib-accordion-group> <div class="row m-b"> <div class=col-md-6> <label class=block>Show Header</label> <div class=btn-group> <label class="btn btn-default" ng-model=item.header uib-btn-radio="\'1\'"> Yes </label> <label class="btn btn-default" ng-model=item.header uib-btn-radio="\'0\'"> No </label> </div> </div> <div class=col-md-6> <label class=block>Display</label> <div class=btn-group> <label class="btn btn-default" ng-model=item.header_display uib-btn-radio="\'logo\'"> Logo </label> <label class="btn btn-default" ng-model=item.header_display uib-btn-radio="\'text\'"> Text </label> </div> </div> </div> <div class="row m-b"> <div class=col-md-6> <label class=block>Background Color</label> <colorpicker color=item.header_bgcolor ng-model=item.header_bgcolor></colorpicker> </div> <div class=col-md-6> <label class=block>Text Color</label> <colorpicker color=item.header_color ng-model=item.header_color></colorpicker> </div> </div> <div class="row m-b"> <div class=col-md-6> <label class=block>Text Align</label> <div class=btn-group> <label class="btn btn-default" ng-model=item.header_textalign uib-btn-radio="\'left\'"> <i class="fa fa-align-left"> </i> </label> <label class="btn btn-default" ng-model=item.header_textalign uib-btn-radio="\'center\'"> <i class="fa fa-align-center"> </i> </label> <label class="btn btn-default" ng-model=item.header_textalign uib-btn-radio="\'right\'"> <i class="fa fa-align-right"> </i> </label> </div> </div> <div class=col-md-6> <label class=block>Text Size</label> <input-spinner max=50 min=10 ng-model=item.header_textsize></input-spinner> </div> </div> <div class=m-b ng-if="item.header_display == \'text\'"> <label class=block>Header Content</label> <textarea auto-size class=form-control ng-model=item.header_content></textarea> </div> <div class=m-b ng-if="item.header_display == \'logo\'"> <div class=text-center ng-if=item.logo> <div> <img ngf-src=item.logo style="max-height: 50px;"> </div> <button class="btn btn-danger m-t-sm" ng-click="item.logo=null"> Remove </button> </div> <div accept=image/* class="drop-box m-t" name=logo ng-model=item.logo ngf-allow-dir=true ngf-change=logo_upload($files) ngf-drag-over-class="\'dragover\'" ngf-drop ngf-max-size=5MB ngf-multiple=false ngf-pattern="\'image/*\'" ngf-select style="width:80%; margin-top:10px; padding: 5px;"> <h5> Click or Drop image here </h5> <uib-progressbar class=progress-xxs ng-show="logo_progress>0" type=info value=logo_progress> </uib-progressbar> </div> </div> </div> <div class="bold b-b m-n" heading="Email Body" uib-accordion-group> <div class="row m-b"> <div class=col-md-6> <label class=block>Background Color</label> <colorpicker color=item.body_bgcolor ng-model=item.body_bgcolor></colorpicker> </div> <div class=col-md-6> <label class=block>Text Color</label> <colorpicker color=item.body_color ng-model=item.body_color></colorpicker> </div> </div> <div class="row m-b"> <div class=col-md-6> <label class=block>Text Align</label> <div class=btn-group> <label class="btn btn-default" ng-model=item.body_textalign uib-btn-radio="\'left\'"> <i class="fa fa-align-left"></i> </label> <label class="btn btn-default" ng-model=item.body_textalign uib-btn-radio="\'center\'"> <i class="fa fa-align-center"></i> </label> <label class="btn btn-default" ng-model=item.body_textalign uib-btn-radio="\'right\'"> <i class="fa fa-align-right"></i> </label> </div> </div> <div class=col-md-6> <label class=block>Text Size</label> <input-spinner max=50 min=10 ng-model=item.body_textsize></input-spinner> </div> </div> </div> <div class="bold b-b m-n" heading="Email Footer" uib-accordion-group> <div class=m-b> <label class=block>Show Footer</label> <div class=btn-group> <label class="btn btn-default" ng-model=item.footer uib-btn-radio="\'1\'"> Yes </label> <label class="btn btn-default" ng-model=item.footer uib-btn-radio="\'0\'"> No </label> </div> </div> <div class="row m-b"> <div class=col-md-6> <label class=block>Background Color</label> <colorpicker color=item.footer_bgcolor ng-model=item.footer_bgcolor></colorpicker> </div> <div class=col-md-6> <label class=block>Text Color</label> <colorpicker color=item.footer_color ng-model=item.footer_color></colorpicker> </div> </div> <div class="row m-b"> <div class=col-md-6> <label class=block>Text Align</label> <div class=btn-group> <label class="btn btn-default" ng-model=item.footer_textalign uib-btn-radio="\'left\'"> <i class="fa fa-align-left"> </i> </label> <label class="btn btn-default" ng-model=item.footer_textalign uib-btn-radio="\'center\'"> <i class="fa fa-align-center"> </i> </label> <label class="btn btn-default" ng-model=item.footer_textalign uib-btn-radio="\'right\'"> <i class="fa fa-align-right"> </i> </label> </div> </div> <div class=col-md-6> <label class=block>Text Size</label> <input-spinner max=50 min=10 ng-model=item.footer_textsize></input-spinner> </div> </div> <div class=m-b> <label class=block>Footer Content</label> <textarea auto-size class=form-control ng-model=item.footer_content></textarea> </div> </div> <div class="bold b-b m-n" heading="Bottom Footer" uib-accordion-group> <div class="row m-b"> <div class=col-md-6> <label class=block>Show Bottom Footer</label> <div class=btn-group> <label class="btn btn-default" ng-model=item.bottomfooter uib-btn-radio="\'1\'"> Yes </label> <label class="btn btn-default" ng-model=item.bottomfooter uib-btn-radio="\'0\'"> No </label> </div> </div> <div class=col-md-6> <label class=block>Text Color</label> <colorpicker color=item.bottomfooter_color ng-model=item.bottomfooter_color></colorpicker> </div> </div> <div class="row m-b"> <div class=col-md-6> <label class=block>Text Align</label> <div class=btn-group> <label class="btn btn-default" ng-model=item.bottomfooter_textalign uib-btn-radio="\'left\'"> <i class="fa fa-align-left"> </i> </label> <label class="btn btn-default" ng-model=item.bottomfooter_textalign uib-btn-radio="\'center\'"> <i class="fa fa-align-center"> </i> </label> <label class="btn btn-default" ng-model=item.bottomfooter_textalign uib-btn-radio="\'right\'"> <i class="fa fa-align-right"> </i> </label> </div> </div> <div class=col-md-6> <label class=block>Text Size</label> <input-spinner max=50 min=10 ng-model=item.bottomfooter_textsize></input-spinner> </div> </div> <div class=m-b> <label class=block>Bottom Footer Content</label> <textarea auto-size class=form-control ng-model=item.bottomfooter_content></textarea> </div> </div> </uib-accordion> '),e.put("settings/mail/index.html",' <div class="hbox hbox-auto-xs hbox-auto-sm bg-light" ng-controller="MailDesignerCtrl as vm" ng-init="app.fullheight=true;">  <div class="col w-xxl b-r"> <form name=smtForm novalidate confirm-on-exit> <div class="wrapper-sm bg-light clearfix"> <a ui-sref=settings.index class="m-r-sm m-t-xs text-sm pull-left link"><i class="fa fa-arrow-left"></i></a> <div class="pull-right text-right"> <a href class="btn btn-default btn-sm bold m-r" ng-click=revert_changes(); ng-hide=!smtForm.$dirty> <i class="fa fa-undo m-r-sm"></i>Revert Changes </a> <a href class="btn btn-info btn-sm bold" ng-click=save_form(); ng-disabled="is_saving || !smtForm.$dirty"> <span ng-show=is_saving><i class="fa fa-refresh fa-spin m-r-sm"></i>Saving...</span> <span ng-hide=is_saving><i class="fa fa-floppy-o m-r-sm"></i>Save</span> </a> </div> </div> <div ng-include="\'settings/mail/controls.html\'"></div> </form> </div>   <div class="col bg-white-only"> <div ng-hide=show_preview class="wrapper text-center"> <i class="fa fa-refresh fa-spin"></i> </div> <div ng-if=show_preview ng-include="\'settings/mail/template.html\'"></div> </div> </div> '),e.put("settings/mail/template.html",'<div style="position: absolute; top:0; left: 0; right:0; bottom: 0; background-color: {{item.bgcolor}};"><div style="margin:0; padding: 50px 0 20px 0;"> <table border=0 cellpadding=0 cellspacing=0 height=100% width=100%> <tbody><tr><td align=center valign=top> <table border=0 cellpadding=0 cellspacing=0 width={{item.layout_width}} id=template_container style="border-radius:{{item.borderradius}}px !important;"><tbody><tr><td align=center valign=top> <table border=0 cellpadding=0 cellspacing=0 width=100% id=template_header ng-if="item.header==\'1\'" style="background-color: {{item.header_bgcolor}}; color: {{item.header_color}}; -webkit-border-top-left-radius:{{item.borderradius | number}}px !important; -webkit-border-top-right-radius:{{item.borderradius | number}}px !important; border-top-left-radius:{{item.borderradius | number}}px !important; border-top-right-radius:{{item.borderradius | number}}px !important; border-bottom: 0; font-family:Arial; font-weight:bold; line-height:100%; vertical-align:middle;"><tbody><tr><td> <h1 style="color: {{item.header_color}}; margin:0; padding: 28px 24px; display:block; font-family:Arial; font-size: {{item.header_textsize | number}}px; font-weight:bold; text-align: {{item.header_textalign}}; line-height: 150%;" id=logo> <div ng-if="item.header_display==\'text\'" ng-bind-html=item.header_content></div> <img ng-if="item.header_display==\'logo\'" ng-src={{item.logo}} ngf-src=item.logo style=max-height:100px;> </h1> </td></tr></tbody></table> </td></tr><tr><td align=center valign=top> <table border=0 cellpadding=0 cellspacing=0 width=100% id=template_body><tbody><tr><td valign=top style="background-color: {{item.body_bgcolor}};" id=mailtpl_body_bg> <table border=0 cellpadding=20 cellspacing=0 width=100%><tbody><tr><td valign=top><div style="color: {{item.body_color}}; font-family:Arial; font-size: {{item.body_textsize | number}}px; line-height:150%; text-align:{{item.body_textalign}}; padding:30px;" id=mailtpl_body><p>Here you will see the email content</p><p>The email template is responsive and fully customizable.</p><h3>Placeholders</h3><p>You can use any of these placeholders in your emails content or templates and they will be automatically replaced</p></div> </td></tr></tbody></table></td></tr></tbody></table></td></tr><tr><td align=center valign=top> <table border=0 cellpadding=10 cellspacing=0 width=100% id=template_footer ng-if="item.footer==\'1\'" style="background: {{item.footer_bgcolor}}; -webkit-border-bottom-left-radius:{{item.borderradius | number}}px !important; -webkit-border-bottom-right-radius:{{item.borderradius | number}}px !important; border-bottom-left-radius:{{item.borderradius | number}}px !important; border-bottom-right-radius:{{item.borderradius | number}}px !important;"><tbody><tr><td valign=top> <table border=0 cellpadding=10 cellspacing=0 width=100%><tbody><tr><td colspan=2 valign=middle id=credit style="border:0; color: {{item.footer_color}}; font-family: Arial; font-size: {{item.footer_textsize | number}}px; line-height:125%; text-align:{{item.footer_textalign}}; padding:10px;"> <div ng-bind-html=item.footer_content></div> </td></tr></tbody></table> </td></tr></tbody></table></td></tr><tr><td align=center valign=top> <table border=0 cellpadding=10 cellspacing=0 width=100% id=template_after_footer style><tbody><tr><td valign=top style=padding:0;> <table border=0 cellpadding=10 cellspacing=0 width=100%><tbody><tr><td colspan=2 valign=middle id=after_footer ng-if="item.bottomfooter==\'1\'" style="border:0; color: {{item.bottomfooter_color}}; font-family: Arial; font-size: {{item.bottomfooter_textsize | number}}px; line-height:125%; text-align:{{item.bottomfooter_textalign}}; padding:10px;"> <div ng-bind-html=item.bottomfooter_content></div> </td></tr></tbody></table> </td></tr></tbody></table> </td></tr></tbody></table> </td></tr></tbody></table> </div></div> '),e.put("modals/app/email/briefcase.html",'<div ng-controller=ModalEmailBriefcaseCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Email / Send Files</h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class=form-group> <label class="col-sm-3 text-right">Email</label> <div class=col-sm-9> <input name=email ng-model=email type=email placeholder=Email class="form-control auto-focus" ng-class="{\'has-error\': Form.email.$invalid && FormSubmitted}"> <p class="text-muted text-sm m-n italic">Separate by Comma (,)</p> </div> </div> <div class=form-group> <label class="col-sm-3 text-right">Subject</label> <div class=col-sm-9> <input name=subject ng-model=subject type=text placeholder=Subject class=form-control required ng-class="{\'has-error\': Form.name.$invalid && FormSubmitted}"> </div> </div> <div class="form-group m-n"> <summernote ng-model=message height=150></summernote> </div> <div class="wrapper b-t clearfix" ng-show=files.length> <filebox ng-repeat="f in files" url={{f.url}} size={{f.size}} file={{f.name}}></filebox> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-show=is_saving></mini-loader>Send</button> </div> </div> '),e.put("modals/app/email/file.html",'<div ng-controller=ModalEmailFilesCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Email / Send Files to <span ng-bind-html=name></span></h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class=form-group> <label class="col-sm-3 text-right">Email</label> <div class=col-sm-9> <input name=email ng-model=email type=email placeholder=Email class=form-control ng-class="{\'has-error\': Form.email.$invalid && FormSubmitted}"> </div> </div> <div class=form-group> <label class="col-sm-3 text-right">Subject</label> <div class=col-sm-9> <input name=subject ng-model=subject type=text placeholder=Subject class="form-control auto-focus" required ng-class="{\'has-error\': Form.name.$invalid && FormSubmitted}"> </div> </div> <div class="form-group m-n"> <summernote ng-model=message height=100></summernote> </div> <div class="wrapper b-t clearfix" ng-show=files.length> <filebox ng-repeat="f in files" url={{f.url}} size={{f.size}} file={{f.file_name}}></filebox> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-if=is_saving></mini-loader>Send</button> </div> </div> '),e.put("modals/app/email/new.html",'<div ng-controller=ModalEmailNewCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Email / Send</h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class=form-group> <label class="col-sm-3 text-right">Email</label> <div class=col-sm-9> <input name=email ng-model=email type=email placeholder=Email class=form-control required ng-class="{\'has-error\': Form.email.$invalid && FormSubmitted}"> </div> </div> <div class=form-group> <label class="col-sm-3 text-right">Subject</label> <div class=col-sm-9> <input name=subject ng-model=subject type=text placeholder=Subject class="form-control auto-focus" required ng-class="{\'has-error\': Form.name.$invalid && FormSubmitted}"> </div> </div> <div class="form-group m-n"> <summernote ng-model=message height=300></summernote> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-if=is_saving></mini-loader>Send</button> </div> </div> '),e.put("modals/app/new/client.html",'<div ng-controller=ModalClientsCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Clients / Create</h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() novalidate> <div class="row m-b"> <div class=col-sm-6> <label class=required>First Name</label> <input name=first_name ng-model=item.first_name type=text class="form-control auto-focus" required ng-class="{\'has-error\': Form.first_name.$invalid && FormSubmitted}"> </div> <div class=col-sm-6> <label class=required>Last Name</label> <input name=last_name ng-model=item.last_name type=text class=form-control required ng-class="{\'has-error\': Form.last_name.$invalid && FormSubmitted}"> </div> </div> <div class="row m-b"> <div class=col-sm-12> <label>Company</label> <input name=company ng-model=item.company type=text class=form-control> </div> </div> <div class="row m-b"> <div class=col-sm-6> <label>Email Address</label> <input name=email ng-model=item.email type=email class=form-control> </div> <div class=col-sm-6> <label>Mobile Number</label> <input name=mobile ng-model=item.mobile type=text class=form-control ng-minlength=8> </div> </div> <div class="row m-b"> <div class=col-sm-4> <label>Group</label> <select class=form-control ng-model=item.group select-picker> <option value>-- NONE --</option> <option ng-repeat="i in assets_groups" value={{i.ID}}>{{i.name}}</option> </select> </div> <div class=col-sm-4> <label>Reference List</label> <select class=form-control ng-model=item.reference select-picker> <option value>-- NONE --</option> <option ng-repeat="i in assets_references" value={{i.ID}}>{{i.name}}</option> </select> </div> <div class=col-sm-4> <label>Group</label> <select class=form-control ng-model=item.team select-picker> <option value>-- NONE --</option> <option ng-repeat="i in assets_teams" value={{i.ID}}>{{i.name}}</option> </select> </div> </div> <div class="row m-b"> <div class=col-sm-6> <label class=block>Gender</label> <div class=btn-group> <label class="btn btn-default" ng-model=item.gender uib-btn-radio="\'male\'" uncheckable> Male </label> <label class="btn btn-default" ng-model=item.gender uib-btn-radio="\'female\'" uncheckable> Female </label> </div> </div> <div class=col-sm-6> <label>Date of Birth</label> <div date-select ng-model=item.dob></div> </div> </div> <div class="row m-b"> <div class=col-sm-6> <label class=block>Address</label> <address-form item=item hide-geo=true></address-form> </div> <div class=col-sm-6> <label class=block>Notes</label> <textarea auto-size class=form-control ng-model=item.notes rows=5></textarea> </div> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled=Form.$invalid>Submit</button> </div> </div> '),e.put("modals/app/new/clients-group.html",'<div ng-controller=ModalClientsGroupCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Client Groups / Create</h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() novalidate class=m-t-n> <div class="form-group m-n"> <input name=name ng-model=name type=text placeholder="Group Name" class="form-control auto-focus" required ng-class="{\'has-error\': Form.name.$invalid && FormSubmitted}"> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled=Form.$invalid>Submit</button> </div> </div> '),e.put("modals/app/new/company.html",'<div ng-controller=ModalCompanyCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Insurers / Add</h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() novalidate> <div class="form-group m-n"> <input name=name ng-model=name type=text placeholder="Company Name" class="form-control auto-focus" required ng-class="{\'has-error\': Form.name.$invalid && FormSubmitted}"> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled=Form.$invalid>Submit</button> </div> </div> '),e.put("modals/app/new/product.html",'<div ng-controller=ModalProductCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>Product Lines / Add</h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() novalidate> <div class="form-group m-n"> <div class=input-group> <span class=input-group-btn> <ui-iconpicker groups=font-awesome ng-model=icon></ui-iconpicker> </span> <input name=name ng-model=name type=text placeholder="Product Name" detect-input-lang class="form-control auto-focus" required ng-class="{\'has-error\': Form.name.$invalid && FormSubmitted}"> </div> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled=Form.$invalid>Submit</button> </div> </div> '),e.put("modals/app/new/reference.html",'<div ng-controller=ModalReferenceCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>New Reference List</h4> </div> <div class=modal-body> <form name=Form ng-submit=submit() novalidate> <div class="form-group m-n"> <input name=name ng-model=name type=text placeholder="Reference List Name" class="form-control auto-focus" required ng-class="{\'has-error\': Form.name.$invalid && FormSubmitted}"> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled=Form.$invalid>Submit</button> </div> </div> '),e.put("modals/app/sms/new.html",'<div ng-controller=ModalSmsNewCtrl> <div class=modal-header> <a class=close ng-click=$dismiss()>×</a> <h4 class=modal-title>SMS / Send</h4> </div> <div class=modal-body> <div class="row m-b"> <div class=text-center ng-hide=balance_loaded> <mini-loader></mini-loader> </div> <div class="col-sm-9 col-sm-offset-3" ng-show=balance_loaded> {{balance}} SMS credits left </div> </div> <form name=Form ng-submit=submit() class=form-horizontal novalidate> <div class=form-group> <label class="col-sm-3 text-right">Mobile</label> <div class=col-sm-9> <input name=mobile ng-model=mobile type=text class=form-control required ng-class="{\'has-error\': Form.mobile.$invalid && FormSubmitted}"> </div> </div> <div class=form-group> <label class="col-sm-3 text-right">Message</label> <div class=col-sm-9> <textarea auto-size name=message ng-model=message class="form-control auto-focus" style="min-height: 80px;" required ng-class="{\'has-error\': Form.message.$invalid && FormSubmitted}" maxlength=160 ng-trim=false></textarea> <p class="text-muted text-sm bold">{{160 - message.length}} left</p> </div> </div> </form> </div> <div class=modal-footer> <button class="btn btn-default" type=button ng-click=$dismiss()>Cancel</button> <button type=submit class="btn btn-success" ng-click=submit() ng-disabled="Form.$invalid || is_saving"><mini-loader class=m-r ng-if=is_saving></mini-loader>Send</button> </div> </div> ')}]);